{"version":3,"sources":["webpack:///0.b0001fe08d408503029c.js","webpack:///./public/app/features/all.js","webpack:///./public/app/features/templating/variable.ts","webpack:///./public/app/features/alerting/alert_def.ts","webpack:///./public/app/core/components/query_part/query_part.ts","webpack:///./public/app/core/time_series2.ts","webpack:///./public/app/core/table_model.ts","webpack:///./public/app/plugins/datasource/elasticsearch/query_def.ts","webpack:///./public/app/features/dashboard/impression_store.ts","webpack:///./public/app/features/panel/panel_ctrl.ts","webpack:///./public/app/core/utils/ticks.ts","webpack:///./public/vendor/flot/jquery.flot.js","webpack:///./public/app/features/plugins/plugin_loader.ts","webpack:///./public/app/plugins/datasource/graphite/gfunc.ts","webpack:///./public/app/plugins/panel/heatmap/heatmap_data_converter.ts","webpack:///./node_modules/rxjs/observable/EmptyObservable.js","webpack:///./node_modules/rxjs/symbol/iterator.js","webpack:///./public/app/features/dashboard/row/row_model.ts","webpack:///./public/app/core/utils/file_export.ts","webpack:///./public/app/features/panellinks/link_srv.ts","webpack:///./public/app/features/annotations/event.ts","webpack:///./public/app/features/panel/query_ctrl.ts","webpack:///./public/app/core/utils/flatten.ts","webpack:///./public/app/core/utils/version.ts","webpack:///./public/app/plugins/datasource/cloudwatch/query_parameter_ctrl.js","webpack:///./public/app/plugins/datasource/influxdb/influx_query.ts","webpack:///./public/app/plugins/datasource/influxdb/query_part.ts","webpack:///./public/app/plugins/datasource/influxdb/query_builder.ts","webpack:///./public/vendor/flot/jquery.flot.selection.js","webpack:///./public/vendor/flot/jquery.flot.time.js","webpack:///./public/vendor/flot/jquery.flot.stack.js","webpack:///./public/vendor/flot/jquery.flot.stackpercent.js","webpack:///./public/vendor/flot/jquery.flot.fillbelow.js","webpack:///./public/vendor/flot/jquery.flot.crosshair.js","webpack:///./public/vendor/flot/jquery.flot.dashes.js","webpack:///./public/app/plugins/panel/graph/data_processor.ts","webpack:///./public/app/plugins/panel/heatmap/color_scale.ts","webpack:///./public/app/plugins/panel/table/transformers.ts","webpack:///./node_modules/rxjs/util/isArrayLike.js","webpack:///./node_modules/rxjs/util/isPromise.js","webpack:///./node_modules/rxjs/observable/ArrayObservable.js","webpack:///./node_modules/rxjs/observable/ScalarObservable.js","webpack:///./public/app/features/dashboard/all.js","webpack:///./public/app/features/dashboard/time_srv.ts","webpack:///./public/app/features/dashboard/dashboard_ctrl.ts","webpack:///./public/app/features/dashboard/history/history.ts","webpack:///./public/app/features/dashboard/history/history_srv.ts","webpack:///./public/app/features/dashboard/dashboardLoaderSrv.js","webpack:///./public/app/features/dashboard/dashnav/dashnav.ts","webpack:///./public/app/features/dashboard/submenu/submenu.ts","webpack:///./public/app/features/dashboard/save_as_modal.ts","webpack:///./public/app/features/dashboard/save_modal.ts","webpack:///./public/app/features/dashboard/shareModalCtrl.js","webpack:///./public/app/features/dashboard/shareSnapshotCtrl.js","webpack:///./public/app/features/dashboard/dashboard_srv.ts","webpack:///./public/app/features/dashboard/model.ts","webpack:///./public/app/core/utils/sort_by_keys.ts","webpack:///./public/app/features/dashboard/viewStateSrv.js","webpack:///./public/app/features/dashboard/alerting_srv.ts","webpack:///./public/app/features/dashboard/unsavedChangesSrv.js","webpack:///./public/app/features/dashboard/unsaved_changes_modal.ts","webpack:///./public/app/features/dashboard/timepicker/timepicker.ts","webpack:///./public/app/features/dashboard/timepicker/input_date.ts","webpack:///./public/app/features/dashboard/upload.ts","webpack:///./public/app/features/dashboard/import/dash_import.ts","webpack:///./public/app/features/dashboard/export/export_modal.ts","webpack:///./public/app/features/dashboard/export/exporter.ts","webpack:///./public/app/features/dashboard/dynamic_dashboard_srv.ts","webpack:///./public/app/features/dashboard/export_data/export_data_modal.ts","webpack:///./public/app/features/dashboard/ad_hoc_filters.ts","webpack:///./public/app/features/dashboard/row/row_ctrl.ts","webpack:///./public/app/features/dashboard/row/options.ts","webpack:///./public/app/features/dashboard/row/add_panel.ts","webpack:///./public/app/features/dashboard/repeat_option/repeat_option.ts","webpack:///./public/app/features/panellinks/module.js","webpack:///./public/app/features/annotations/annotations_srv.ts","webpack:///./public/app/features/annotations/editor_ctrl.ts","webpack:///./public/app/features/annotations/events_processing.ts","webpack:///./public/app/features/annotations/event_editor.ts","webpack:///./public/app/features/annotations/event_manager.ts","webpack:///./public/app/features/annotations/annotation_tooltip.ts","webpack:///./public/app/features/templating/all.ts","webpack:///./public/app/features/templating/editor_ctrl.ts","webpack:///./public/app/features/templating/template_srv.ts","webpack:///./public/app/features/templating/variable_srv.ts","webpack:///./public/app/features/templating/interval_variable.ts","webpack:///./public/app/features/templating/query_variable.ts","webpack:///./public/app/features/templating/datasource_variable.ts","webpack:///./public/app/features/templating/custom_variable.ts","webpack:///./public/app/features/templating/constant_variable.ts","webpack:///./public/app/features/templating/adhoc_variable.ts","webpack:///./public/app/features/plugins/all.ts","webpack:///./public/app/features/plugins/plugin_edit_ctrl.ts","webpack:///./public/app/features/plugins/plugin_page_ctrl.ts","webpack:///./public/app/features/plugins/plugin_list_ctrl.ts","webpack:///./public/app/features/plugins/import_list/import_list.ts","webpack:///./public/app/features/plugins/ds_edit_ctrl.ts","webpack:///./public/app/features/plugins/ds_list_ctrl.ts","webpack:///./public/app/features/plugins/datasource_srv.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/systemjs/dist/system.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/isarray/index.js","webpack:///./public/app/features/panel/metrics_panel_ctrl.ts","webpack:///./public/app/features/panel/metrics_tab.ts","webpack:///./public/app/features/alerting/alert_tab_ctrl.ts","webpack:///./public/app/features/alerting/threshold_mapper.ts","webpack:///./public/app/features/plugins/built_in_plugins.ts","webpack:///./public/app/plugins/datasource/graphite/module.ts","webpack:///./public/app/plugins/datasource/graphite/datasource.ts","webpack:///./public/app/plugins/datasource/graphite/query_ctrl.ts","webpack:///./public/app/plugins/datasource/graphite/add_graphite_func.js","webpack:///./public/app/plugins/datasource/graphite/func_editor.js","webpack:///./public/app/plugins/datasource/graphite/graphite_query.ts","webpack:///./public/app/plugins/datasource/graphite/parser.ts","webpack:///./public/app/plugins/datasource/graphite/lexer.ts","webpack:///./public/app/plugins/datasource/graphite/config_ctrl.ts","webpack:///./public/app/plugins/datasource/cloudwatch/module.ts","webpack:///./public/app/plugins/datasource/cloudwatch/datasource.js","webpack:///./public/app/plugins/datasource/cloudwatch/config_ctrl.ts","webpack:///./public/app/plugins/datasource/cloudwatch/query_ctrl.ts","webpack:///./public/app/plugins/datasource/elasticsearch/module.ts","webpack:///./public/app/plugins/datasource/elasticsearch/datasource.ts","webpack:///./public/app/plugins/datasource/elasticsearch/query_builder.ts","webpack:///./public/app/plugins/datasource/elasticsearch/index_pattern.ts","webpack:///./public/app/plugins/datasource/elasticsearch/elastic_response.ts","webpack:///./public/app/plugins/datasource/elasticsearch/query_ctrl.ts","webpack:///./public/app/plugins/datasource/elasticsearch/bucket_agg.js","webpack:///./public/app/plugins/datasource/elasticsearch/metric_agg.js","webpack:///./public/app/plugins/datasource/elasticsearch/config_ctrl.ts","webpack:///./public/app/plugins/datasource/opentsdb/module.ts","webpack:///./public/app/plugins/datasource/opentsdb/datasource.js","webpack:///./public/app/plugins/datasource/opentsdb/query_ctrl.ts","webpack:///./public/app/plugins/datasource/opentsdb/config_ctrl.ts","webpack:///./public/app/plugins/datasource/grafana/module.ts","webpack:///./public/app/plugins/datasource/grafana/datasource.ts","webpack:///./public/app/plugins/datasource/influxdb/datasource.ts","webpack:///./public/app/plugins/datasource/influxdb/module.ts","webpack:///./public/app/plugins/datasource/influxdb/influx_series.js","webpack:///./public/app/plugins/datasource/influxdb/response_parser.ts","webpack:///./public/app/plugins/datasource/influxdb/query_ctrl.ts","webpack:///./public/app/plugins/datasource/mixed/datasource.ts","webpack:///./public/app/plugins/datasource/mixed/module.ts","webpack:///./public/app/plugins/datasource/mysql/module.ts","webpack:///./public/app/plugins/datasource/mysql/datasource.ts","webpack:///./public/app/plugins/datasource/mysql/response_parser.ts","webpack:///./public/app/plugins/datasource/mysql/query_ctrl.ts","webpack:///./public/app/plugins/datasource/postgres/module.ts","webpack:///./public/app/plugins/datasource/postgres/datasource.ts","webpack:///./public/app/plugins/datasource/postgres/response_parser.ts","webpack:///./public/app/plugins/datasource/postgres/query_ctrl.ts","webpack:///./public/app/plugins/datasource/prometheus/module.ts","webpack:///./public/app/plugins/datasource/prometheus/datasource.ts","webpack:///./public/app/plugins/datasource/prometheus/metric_find_query.js","webpack:///./public/app/plugins/datasource/prometheus/query_ctrl.ts","webpack:///./public/app/plugins/datasource/prometheus/completer.ts","webpack:///./public/app/plugins/datasource/prometheus/mode-prometheus.js","webpack:///./public/app/plugins/datasource/prometheus/snippets/prometheus.js","webpack:///./public/app/plugins/panel/text/module.ts","webpack:///./public/app/plugins/panel/graph/module.ts","webpack:///./public/app/plugins/panel/graph/graph.ts","webpack:///./public/app/plugins/panel/graph/jquery.flot.events.js","webpack:///./public/app/plugins/panel/graph/graph_tooltip.js","webpack:///./public/app/plugins/panel/graph/threshold_manager.ts","webpack:///./public/app/plugins/panel/graph/legend.js","webpack:///./public/app/plugins/panel/graph/histogram.ts","webpack:///./public/app/plugins/panel/graph/series_overrides_ctrl.js","webpack:///./public/app/plugins/panel/graph/thresholds_form.ts","webpack:///./public/app/plugins/panel/graph/template.ts","webpack:///./public/app/plugins/panel/graph/axes_editor.ts","webpack:///./public/app/plugins/panel/dashlist/module.ts","webpack:///./public/app/plugins/panel/pluginlist/module.ts","webpack:///./public/app/plugins/panel/alertlist/module.ts","webpack:///./public/app/plugins/panel/heatmap/module.ts","webpack:///./public/app/plugins/panel/heatmap/color_legend.ts","webpack:///./public/app/plugins/panel/heatmap/heatmap_ctrl.ts","webpack:///./public/app/plugins/panel/heatmap/display_editor.ts","webpack:///./public/app/plugins/panel/heatmap/axes_editor.ts","webpack:///./public/app/plugins/panel/heatmap/rendering.ts","webpack:///./public/app/plugins/panel/heatmap/heatmap_tooltip.ts","webpack:///./public/app/plugins/panel/table/module.ts","webpack:///./public/app/plugins/panel/table/editor.ts","webpack:///./public/app/plugins/panel/table/column_options.ts","webpack:///./public/app/plugins/panel/table/renderer.ts","webpack:///./public/app/plugins/panel/singlestat/module.ts","webpack:///./public/vendor/flot/jquery.flot.gauge.js","webpack:///./public/app/plugins/panel/gettingstarted/module.ts","webpack:///./public/app/plugins/app/testdata/module.ts","webpack:///./public/app/plugins/app/testdata/datasource/module.ts","webpack:///./public/app/plugins/app/testdata/datasource/datasource.ts","webpack:///./public/app/plugins/app/testdata/datasource/query_ctrl.ts","webpack:///./node_modules/rxjs/Subject.js","webpack:///./node_modules/rxjs/SubjectSubscription.js","webpack:///./node_modules/rxjs/util/ObjectUnsubscribedError.js","webpack:///./node_modules/rxjs/add/observable/empty.js","webpack:///./node_modules/rxjs/add/observable/from.js","webpack:///./node_modules/rxjs/observable/from.js","webpack:///./node_modules/rxjs/observable/FromObservable.js","webpack:///./node_modules/rxjs/observable/PromiseObservable.js","webpack:///./node_modules/rxjs/observable/IteratorObservable.js","webpack:///./node_modules/rxjs/observable/ArrayLikeObservable.js","webpack:///./node_modules/rxjs/util/isScheduler.js","webpack:///./node_modules/rxjs/operators/observeOn.js","webpack:///./node_modules/rxjs/Notification.js","webpack:///./node_modules/rxjs/operators/map.js","webpack:///./node_modules/rxjs/add/operator/map.js","webpack:///./node_modules/rxjs/operator/map.js","webpack:///./node_modules/rxjs/operator/combineAll.js","webpack:///./node_modules/rxjs/operators/combineAll.js","webpack:///./node_modules/rxjs/operators/combineLatest.js","webpack:///./node_modules/rxjs/OuterSubscriber.js","webpack:///./node_modules/rxjs/util/subscribeToResult.js","webpack:///./node_modules/rxjs/InnerSubscriber.js","webpack:///./public/vendor/flot/jquery.flot.pie.js","webpack:///./public/app/features/plugins/plugin_component.ts","webpack:///./public/app/plugins/panel/unknown/module.ts","webpack:///./public/app/features/dashlinks/module.js","webpack:///./public/app/features/playlist/playlist_search.ts","webpack:///./public/app/features/playlist/all.js","webpack:///./public/app/features/playlist/playlists_ctrl.ts","webpack:///./public/app/features/playlist/playlist_srv.ts","webpack:///./public/app/features/playlist/playlist_edit_ctrl.ts","webpack:///./public/app/features/playlist/playlist_routes.js","webpack:///./public/app/features/snapshot/snapshot_ctrl.ts","webpack:///./public/app/features/panel/all.js","webpack:///./public/app/features/panel/panel_menu.js","webpack:///./public/app/features/panel/panel_directive.ts","webpack:///./public/app/features/panel/solo_panel_ctrl.js","webpack:///./public/app/features/panel/panel_editor_tab.ts","webpack:///./public/app/features/panel/query_editor_row.ts","webpack:///./public/app/features/panel/query_troubleshooter.ts","webpack:///./public/app/features/styleguide/styleguide.ts"],"names":["webpackJsonp","1304","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","apply","1305","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_app_features_panel_panel_ctrl__","__WEBPACK_IMPORTED_MODULE_1_app_features_panel_metrics_panel_ctrl__","__WEBPACK_IMPORTED_MODULE_2_app_features_panel_query_ctrl__","__WEBPACK_IMPORTED_MODULE_3_app_features_alerting_alert_tab_ctrl__","__WEBPACK_IMPORTED_MODULE_4_app_features_plugins_plugin_loader__","d","1306","containsVariable","args","_i","arguments","length","variableName","str","i","__WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__","regexEscape","RegExp","exec","variableTypes","__WEBPACK_IMPORTED_MODULE_1_app_core_utils_model_utils__","1307","createReducerPart","model","def","__WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__","type","defaultParams","getStateDisplayModel","state","text","iconClass","stateClass","message","joinEvalMatches","matches","separator","__WEBPACK_IMPORTED_MODULE_0_lodash___default","a","reduce","res","ev","metric","push","Metric","Value","join","getAlertAnnotationInfo","ah","isArray","data","evalMatches","error","noData","no_data","__WEBPACK_IMPORTED_MODULE_0_lodash__","n","alertQueryDef","params","name","dynamicLookup","options","conditionTypes","alertStateSortScore","alerting","pending","ok","paused","evalFunctions","evalOperators","reducerTypes","noDataModes","executionErrorModes","1308","functionRenderer","part","innerExpr","parameters","map","index","paramType","quote","unshift","suffixRenderer","QueryPartDef","QueryPart","this","renderer","category","addStrategy","clone","updateText","prototype","render","hasMultipleParamsInString","strValue","indexOf","optional","updateParam","_this","each","split","partVal","idx","trim","splice","1309","matchSeriesOverride","aliasOrRegex","seriesAlias","regex","stringToJsRegex","match","translateFillOption","fill","__WEBPACK_IMPORTED_MODULE_1_lodash__","__WEBPACK_IMPORTED_MODULE_1_lodash___default","TimeSeries","opts","datapoints","label","alias","id","aliasEscaped","escape","color","valueFormater","valueFormats","none","stats","legend","unit","hasMsResolution","isMsResolutionNeeded","applySeriesOverrides","overrides","lines","dashes","dashLength","points","bars","yaxis","zindex","nullPointMode","stack","override","show","lineWidth","linewidth","spaceLength","pointradius","radius","steppedLine","steps","fillBelowTo","transform","getFlotPairs","fillStyle","result","total","max","Number","MAX_VALUE","min","logmin","avg","current","first","delta","diff","range","timeStep","allIsNull","allIsZero","currentTime","currentValue","previousTime","ignoreNulls","nullAsZero","nonNulls","previousValue","previousDeltaUp","isNumber","count","updateLegendValues","formater","decimals","scaledDecimals","formatValue","isFinite","timestamp","toString","hideFromLegend","hideEmpty","hideZero","1310","TableModel","columns","columnMap","rows","sort","col","b","desc","reverse","addColumn","1311","getMetricAggTypes","esVersion","filter","metricAggTypes","f","minVersion","getPipelineOptions","isPipelineAgg","pipelineOptions","metricType","po","getPipelineAggOptions","targets","metrics","describeMetric","getMovingAvgSettings","filtered","filteredResult","movingAvgModelSettings","setting","getOrderByOptions","target","metricRefs","orderByOptions","concat","describeOrder","order","find","orderOptions","field","describeOrderBy","orderBy","bucketAggTypes","sizeOptions","extendedStats","intervalOptions","movingAvgModelOptions","requiresField","supportsInlineScript","supportsMissing","moving_avg","default","derivative","simple","linear","ewma","holt","holt_winters","isCheckbox","1312","ImpressionsStore","impressions","__WEBPACK_IMPORTED_MODULE_0_app_core_store__","__WEBPACK_IMPORTED_MODULE_2_app_core_config__","addDashboardImpression","dashboardId","impressionsKey","impressionKey","exists","JSON","parse","get","imp","pop","set","stringify","getDashboardOpened","el","config","bootData","user","orgId","1313","PanelCtrl","__WEBPACK_IMPORTED_MODULE_0_app_core_config__","__WEBPACK_IMPORTED_MODULE_2_jquery__","__WEBPACK_IMPORTED_MODULE_2_jquery___default","__WEBPACK_IMPORTED_MODULE_3_app_core_profiler__","__WEBPACK_IMPORTED_MODULE_4_remarkable__","__WEBPACK_IMPORTED_MODULE_4_remarkable___default","__WEBPACK_IMPORTED_MODULE_5_app_core_core__","$scope","$injector","$timeout","editorTabIndex","events","timing","plugin","panels","panel","pluginId","pluginName","$on","refresh","emit","removeAllListeners","isNew","init","calculatePanelHeight","publishAppEvent","scope","renderingCompleted","evtName","evt","$root","appEvent","changeView","fullscreen","edit","panelId","viewPanel","editPanel","exitFullscreen","initEditMode","editorTabs","addEditorTab","editModeInitiated","urlTab","tab","toLowerCase","forEach","title","changeTab","newIndex","route","updateParams","directiveFn","editorTab","isString","templateUrl","getMenu","menu","click","role","getExtendedMenu","actions","otherPanelInFullscreenMode","dashboard","meta","docHeight","window","height","editHeight","Math","floor","fullscreenHeight","containerHeight","editMode","row","parseInt","replace","PANEL_BORDER","payload","renderStart","Date","getTime","duplicate","duplicatePanel","$broadcast","updateColumnSpan","span","panelSpanChanged","removePanel","editPanelJson","object","updateHandler","replacePanel","bind","newPanel","oldPanel","sharePanel","shareScope","$new","src","getInfoMode","description","links","getInfoContent","markdown","mode","linkSrv","templateSrv","interpolatedMarkdown","scopedVars","html","_a","link","info","getPanelLinkAnchorInfo","href","openInspector","modalScope","panelInfoHtml","inspector","extend","1314","tickStep","start","stop","e10","sqrt","e5","e2","step0","abs","step1","pow","log","LN10","getScaledDecimals","tick_size","getFlotTickSize","noTicks","tickDecimals","size","dec","maxDec","magn","norm","1315","$","make","r","g","o","add","c","charAt","normalize","scale","clamp","extract","elem","css","parent","nodeName","m","parseFloat","lookupColors","aqua","azure","beige","black","blue","brown","cyan","darkblue","darkcyan","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkviolet","fuchsia","gold","green","indigo","khaki","lightblue","lightcyan","lightgreen","lightgrey","lightpink","lightyellow","lime","magenta","maroon","navy","olive","orange","pink","purple","violet","red","silver","white","yellow","jQuery","Canvas","cls","container","element","children","document","createElement","className","direction","position","left","top","appendTo","getContext","G_vmlCanvasManager","Error","initElement","context","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","resize","width","textContainer","_textCache","_textSizeCache","flotTextSizeCache","Plot","placeholder","data_","options_","plugins","executeHooks","hook","plot","setData","series","parseData","fillInSeriesOptions","processData","s","axisNumber","obj","coord","allAxes","grep","xaxes","yaxes","canvasToAxisCoords","pos","axis","used","c2p","x1","x","y1","y","axisToCanvasCoords","key","p2c","getOrCreateAxis","axes","number","xaxis","neededColors","maxIndex","sc","colors","colorPool","colorPoolSize","variation","colori","v","zero","updateAxis","datamin","fakeInfinity","datamax","j","k","ps","val","p","format","topSentry","POSITIVE_INFINITY","bottomSentry","NEGATIVE_INFINITY","_","hooks","processRawData","required","autoscale","defaultValue","horizontal","pointsize","insertSteps","nullify","isNaN","Infinity","processDatapoints","xmin","ymin","xmax","ymax","align","barWidth","shutdown","redrawTimeout","clearTimeout","eventHolder","unbind","onMouseMove","onMouseLeave","onClick","setTransformationHelpers","identity","t","it","inverseTransform","plotWidth","plotHeight","measureTickLabels","ticks","labelWidth","labelHeight","maxWidth","surface","legacyStyles","layer","font","getTextInfo","allocateAxisBoxFirstPhase","lw","lh","isXAxis","tickLength","axisMargin","grid","padding","labelMargin","eventSectionPadding","eventSectionHeight","innermost","outermost","found","reserveSpace","plotOffset","bottom","box","right","allocateAxisBoxSecondPhase","adjustLayoutForThingsStickingOut","minMargin","minBorderMargin","margins","ceil","setupGrid","showGrid","margin","processOffset","borderWidth","axisOpts","setRange","allocatedAxes","setupTickGeneration","setTicks","snapRangeToTicks","drawAxisLabels","insertLegend","widen","autoscaleMargin","minTickSize","tickSize","tickGenerator","prev","floorInBase","NaN","tickFormatter","factor","formatted","round","decimal","precision","substr","isFunction","alignTicksWithAxis","otherAxis","niceTicks","extraDec","ts","test","toFixed","oticks","draw","clear","drawBackground","ctx","backgroundColor","aboveData","drawGrid","drawSeries","triggerRedrawOverlay","extractRange","ranges","from","to","tmp","save","translate","getColorOrGradient","fillRect","restore","bw","bc","markings","getAxes","xrange","yrange","xequal","yequal","markingsLineWidth","subPixel","beginPath","strokeStyle","markingsColor","moveTo","lineTo","stroke","xoff","yoff","tickColor","borderColor","strokeRect","tick","halign","valign","removeText","addText","drawSeriesLines","drawSeriesBars","drawSeriesPoints","plotLine","xoffset","yoffset","axisx","axisy","prevx","prevy","x2","y2","lineJoin","sw","shadowSize","angle","PI","sin","cos","getFillStyle","areaOpen","ypos","segmentStart","segmentEnd","x1old","x2old","plotPoints","offset","shadow","symbol","arc","closePath","w","drawBar","barLeft","barRight","fillStyleCallback","drawLeft","drawRight","drawTop","drawBottom","filloptions","seriesColor","fillColor","remove","fragments","entries","rowStarted","lf","labelFormatter","sorted","ascending","entry","noColumns","labelBoxBorderColor","table","backgroundOpacity","div","prependTo","findNearbyItem","mouseX","mouseY","seriesFilter","maxDistance","mouseActiveRadius","smallestDistance","item","mx","my","maxx","maxy","dx","dy","dist","datapoint","slice","dataIndex","seriesIndex","e","hoverable","triggerClickHoverEvent","isSelecting","eventname","event","canvasX","pageX","canvasY","pageY","ctrlKey","metaKey","autoHighlight","highlights","h","auto","point","unhighlight","highlight","trigger","interaction","redrawOverlayInterval","drawOverlay","setTimeout","octx","overlay","hi","drawBarHighlight","drawPointHighlight","indexOfHighlight","highlightColor","pointRadius","spec","defaultColor","gradient","createLinearGradient","l","co","brightness","opacity","addColorStop","clickable","processOptions","bindEvents","getPlaceholder","getCanvas","getPlotOffset","getData","getXAxes","getYAxes","getOptions","pointOffset","destroy","removeData","empty","classes","axisOptions","axisCount","fontSize","fontSizeDefault","fontDefaults","style","variant","weight","family","lineHeight","x2axis","y2axis","coloredAreas","coloredAreasColor","existing","mousemove","base","hasOwnProperty","fn","detach","parentNode","removeChild","clearRect","cache","layerKey","call","getTextLayer","layerCache","hide","styleKey","styleCache","positions","active","rendered","append","font-size","insertAfter","addClass","textStyle","max-width","outerWidth","outerHeight","text-align","version","1316","__WEBPACK_IMPORTED_MODULE_0__annotations_srv__","__WEBPACK_IMPORTED_MODULE_1__event_editor__","__WEBPACK_IMPORTED_MODULE_2__event_manager__","__WEBPACK_IMPORTED_MODULE_3__event__","__WEBPACK_IMPORTED_MODULE_4__annotation_tooltip__","1317","exposeToPlugin","component","__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default","registerDynamic","require","importPluginModule","path","builtIn","__WEBPACK_IMPORTED_MODULE_16__built_in_plugins__","Promise","resolve","import","loadPluginCss","__WEBPACK_IMPORTED_MODULE_7_app_core_config__","lightTheme","light","dark","__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js__","__WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__","__WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__","__WEBPACK_IMPORTED_MODULE_4_moment__","__WEBPACK_IMPORTED_MODULE_4_moment___default","__WEBPACK_IMPORTED_MODULE_5_angular__","__WEBPACK_IMPORTED_MODULE_5_angular___default","__WEBPACK_IMPORTED_MODULE_6_jquery__","__WEBPACK_IMPORTED_MODULE_6_jquery___default","__WEBPACK_IMPORTED_MODULE_8_app_core_time_series2__","__WEBPACK_IMPORTED_MODULE_9_app_core_table_model__","__WEBPACK_IMPORTED_MODULE_10_app_core_core__","__WEBPACK_IMPORTED_MODULE_11_app_core_utils_datemath__","__WEBPACK_IMPORTED_MODULE_12_app_core_utils_file_export__","__WEBPACK_IMPORTED_MODULE_13_app_core_utils_flatten__","__WEBPACK_IMPORTED_MODULE_14_app_core_utils_ticks__","__WEBPACK_IMPORTED_MODULE_15_app_features_dashboard_impression_store__","__WEBPACK_IMPORTED_MODULE_17_d3__","__WEBPACK_IMPORTED_MODULE_18_rxjs_Observable__","__WEBPACK_IMPORTED_MODULE_19_rxjs_Subject__","__WEBPACK_IMPORTED_MODULE_20_rxjs_add_observable_empty__","__WEBPACK_IMPORTED_MODULE_21_rxjs_add_observable_from__","__WEBPACK_IMPORTED_MODULE_22_rxjs_add_operator_map__","__WEBPACK_IMPORTED_MODULE_23_rxjs_add_operator_combineAll__","__WEBPACK_IMPORTED_MODULE_24_app_features_annotations_all__","__WEBPACK_IMPORTED_MODULE_25__plugins_panel_graph_data_processor__","__WEBPACK_IMPORTED_MODULE_26_vendor_flot_jquery_flot__","__WEBPACK_IMPORTED_MODULE_27_vendor_flot_jquery_flot_selection__","__WEBPACK_IMPORTED_MODULE_28_vendor_flot_jquery_flot_time__","__WEBPACK_IMPORTED_MODULE_29_vendor_flot_jquery_flot_stack__","__WEBPACK_IMPORTED_MODULE_30_vendor_flot_jquery_flot_pie__","__WEBPACK_IMPORTED_MODULE_31_vendor_flot_jquery_flot_stackpercent__","__WEBPACK_IMPORTED_MODULE_32_vendor_flot_jquery_flot_fillbelow__","__WEBPACK_IMPORTED_MODULE_33_vendor_flot_jquery_flot_crosshair__","__WEBPACK_IMPORTED_MODULE_34_vendor_flot_jquery_flot_dashes__","baseURL","defaultExtension","packages","*","esModule","authorization","systemLocate","locate","cacheBust","now","load","System","then","address","Subject","Observable","__esModule","coreModule","appEvents","contextSrv","flotDeps","flotDeps_1","fakeDep","1318","addFuncDef","funcDef","shortName","FuncInstance","withDefaultParams","isNumeric","isVersionRelatedFunction","func","graphiteVersion","__WEBPACK_IMPORTED_MODULE_1_app_core_utils_version__","categories","Combine","Transform","Calculate","Filter","Special","optionalSeriesRefArgs","fake","funcList","catName","sortBy","metricExp","_hasMultipleParamsInString","createFuncInstance","getFuncDef","getCategories","filteredCategories","functions","filteredFuncs","1319","elasticHistogramToHeatmap","seriesList","heatmap","seriesList_1","bound","_b","VALUE_INDEX","time","TIME_INDEX","bucket","buckets","values","convertToCards","cards","xBucket","yBucket","card","yBounds","bounds","cardStats","mergeZeroBuckets","minValue","yBuckets","emptyBucket","nullBucket","minBucket","newBucket","convertToHeatMap","yBucketSize","xBucketSize","logBase","seriesList_2","seriesName","bucketBound","getBucketBound","pushToXBuckets","convertToLogScaleValueBuckets","convertToValueBuckets","bucketNum","point_ext","pushToYBuckets","getValueBucketBound","getLogScaleBucketBound","getBucketBounds","bucketSize","getLogScaleBucketBounds","yBucketSplitFactor","powTop","value_log","logp","additional_bucket_size","additional_log","calculateBucketSize","distance","getDistance","1320","__extends","__","constructor","create","Observable_1","EmptyObservable","_super","scheduler","dispatch","arg","subscriber","complete","_subscribe","schedule","1321","symbolIteratorPonyfill","root","Symbol","iterator","Set_1","Set","Map_1","Map","keys","getOwnPropertyNames","root_1","$$iterator","1323","DashboardRow","__WEBPACK_IMPORTED_MODULE_1_app_core_core__","defaults","showTitle","titleSize","repeat","repeatRowId","repeatIteration","collapse","updateRowSpan","getSaveModel","alwaysSendEvent","oldSpan","addPanel","rowSpan","panelCount","ask","text2","confirmText","alert","icon","yesText","onConfirm","movePanel","fromIndex","toIndex","copyPropertiesFromRowSource","source","toggleCollapse","1324","exportSeriesListToCsv","dateTimeFormat","excel","DEFAULT_DATETIME_FORMAT","dp","__WEBPACK_IMPORTED_MODULE_1_moment___default","saveSaveBlob","exportSeriesListToCsvColumns","substring","dataArr","sIndex","cIndex","exportTableDataToCsv","column","fname","blob","Blob","__WEBPACK_IMPORTED_MODULE_2_file_saver__","__WEBPACK_IMPORTED_MODULE_1_moment__","1325","LinkSrv","__WEBPACK_IMPORTED_MODULE_0_angular__","__WEBPACK_IMPORTED_MODULE_0_angular___default","__WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__","timeSrv","$inject","getLinkUrl","url","keepTime","timeRangeForUrl","includeVars","fillVariableValuesForUrl","addParamsToUrl","paramsArray","instance","encodeURIComponent","appendToQueryString","stringToAppend","isUndefined","getAnchorInfo","targetBlank","dashUri","slug","slugifyForUrl","service","1326","AnnotationEvent","1327","QueryCtrl","panelCtrl","isLastQuery","1328","flatten","step","isarray","safe","Array","isobject","newKey","delimiter","maxDepth","currentDepth","output","1329","isVersionGtOrEq","SemVersion","isGtOrEq","versionPattern","major","minor","patch","compared","isValid","1330","angular","directive","controller","restrict","datasource","onChange","uiSegmentSrv","datasourceSrv","$q","namespace","metricName","statistics","dimensions","period","region","regionSegment","getSegmentForValue","namespaceSegment","metricSegment","dimSegments","memo","newOperator","newKeyValue","statSegments","stat","ensurePlusButton","removeDimSegment","newSegment","removeStatSegment","isEmpty","getDefaultRegion","getStatSegments","when","copy","standardStatistics","statSegmentChanged","segment","seg","segments","lastSegment","newPlusButton","getDimSegments","$index","query","getDimensionKeys","dimensionKey","getDimensionValues","transformToSegments","results","dimSegmentChanged","newFake","cssClass","syncDimSegmentsWithModel","dims","keySegment","valueSegment","getRegions","metricFindQuery","getNamespaces","getMetrics","regionChanged","namespaceChanged","metricChanged","addTemplateVars","expandable","variables","variable","1331","__WEBPACK_IMPORTED_MODULE_1__query_part__","InfluxQuery","policy","dsType","resultFormat","orderByTime","tags","groupBy","select","updateProjection","selectModels","parts","groupByParts","updatePersistedParts","selectParts","hasGroupByTime","hasFill","addGroupBy","stringParts","typePart","partModel","partCount","removeGroupByPart","Aggregations","Selectors","removeSelect","removeSelectPart","modelsIndex","partIndex","addSelectPart","renderTagCondition","tag","interpolate","operator","condition","getMeasurementAndPolicy","measurement","interpolateQueryStr","defaultFormatFn","multi","includeAll","rawQuery","selectText","conditions","groupBySection","limit","slimit","renderAdhocFilters","filters","1332","createPart","register","aliasRenderer","fieldRenderer","replaceAggregationAddStrategy","addTransformationStrategy","Aliasing","addMathStrategy","addAliasStrategy","addFieldStrategy","Transformations","Predictors","Fields","groupByTimeFunctions","renderMode","1333","InfluxQueryBuilder","database","buildExploreQuery","withKey","withMeasurementFilter","whereConditions","1334","selection","updateSelection","getSelection","onMouseDown","which","body","focus","onselectstart","savedhandlers","ondrag","setSelectionPos","mouseUpHandler","onMouseUp","one","selectionIsSane","triggerSelectedEvent","c1","c2","second","anyUsed","p1","p2","clearSelection","preventEvent","setSelection","minSize","mousedown","shape","1335","formatDate","fmt","monthNames","dayNames","strftime","leftPad","pad","hours","getHours","isAM","hours12","getDay","getMonth","getDate","getMinutes","getSeconds","getFullYear","makeUtcWrapper","addProxyMethod","sourceObj","sourceMethod","targetObj","targetMethod","utc","date","props","dateGenerator","timezone","timezoneJS","setTimezone","setTime","axisName","specQuarters","specMonths","timeUnitSize","year","setSeconds","setMinutes","setHours","setMonth","setFullYear","setMilliseconds","minute","hour","day","setDate","month","quarter","carry","end","timeformat","useQuarters","suffix","hourCode","twelveHourClock","baseSpec","1336","findMatchingSeries","allseries","stackData","other","px","py","intery","qx","qy","otherps","otherpoints","newpoints","withlines","withbottom","withsteps","keyOffset","accumulateOffset","fromgap","1337","processed","stackSums","getStackSums","stackpercent","num","percents","key_idx","value_idx","sum","_data","data_len","sums","newPoints","stackBases","1338","findBelowSeries","segmentIntersection","top_left_x","top_left_y","top_right_x","top_right_y","bottom_left_x","bottom_left_y","bottom_right_x","bottom_right_y","top_delta_x","top_delta_y","bottom_delta_x","bottom_delta_y","plotDifferenceArea","openPolygon","closePolygon","findNextStart","start_i","end_i","console","assert","intersect","equal","intersectionPoint","topTraversal","right_i","bottomTraversal","otherseries","1339","onMouseOut","crosshair","locked","setCrosshair","clearCrosshair","lockCrosshair","unlockCrosshair","mouseout","adj","drawX","drawY","1340","plotDashes","dashOnLength","dashOffLength","dashRemainder","dashOn","dashOffset","ax1","ay1","ax2","ay2","segmentLength","deltaX","deltaY","remainder","xsign","ysign","1341","DataProcessor","__WEBPACK_IMPORTED_MODULE_1_app_core_time_series2__","__WEBPACK_IMPORTED_MODULE_2_app_core_utils_colors__","getSeriesList","dataList","firstItem","autoDetectMode","getAutoDetectXAxisMode","setPanelDefaultsForNewXAxisMode","timeSeriesHandler","customHandler","tooltip","shared","seriesData","colorIndex","aliasColors","isOutsideRange","dataItem","validateXAxisSeriesValue","validOptions","getXAxisValueOptions","getDataFieldNames","onlyNumbers","getPropertiesRecursive","isObject","fieldParts","fields","pluckDeep","property","propertyParts","1342","getColorScale","colorScheme","maxValue","colorInterpolator","__WEBPACK_IMPORTED_MODULE_1_d3_scale_chromatic__","colorScaleInverted","invert","__WEBPACK_IMPORTED_MODULE_0_d3__","domain","getOpacityScale","legendOpacityScale","colorScale","exponent","1343","transformDataToTable","__WEBPACK_IMPORTED_MODULE_3__core_table_model__","transformer","transformers","__WEBPACK_IMPORTED_MODULE_1__core_utils_flatten__","__WEBPACK_IMPORTED_MODULE_2__core_time_series2__","getColumns","timeKey","cells","annotations","names","maxDocs","doc","flattened","propName","z","tableCol","filterable","1344","isArrayLike","1345","isPromise","subscribe","1346","ScalarObservable_1","EmptyObservable_1","isScheduler_1","ArrayObservable","array","_isScalar","of","isScheduler","len","ScalarObservable","next","closed","1347","done","1363","1364","__WEBPACK_IMPORTED_MODULE_0_moment__","__WEBPACK_IMPORTED_MODULE_0_moment___default","__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__","__WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__","TimeSrv","$rootScope","$location","timer","zoomOut","routeUpdated","addEventListener","autoRefreshBlocked","visibilityState","refreshDashboard","cancelAll","initTimeFromUrl","parseTime","timeAtLoad","cloneDeep","setAutoRefresh","parseUrlParam","epoch","search","urlRange","timeHasChangedSinceLoad","interval","cancelNextRefresh","intervalMs","interval_to_ms","refreshTimer","startNextRefreshTimer","afterMs","isGrafanaVisible","cancel","fromRouteUpdate","isMoment","oldRefresh","urlParams","timeRange","raw","valueOf","getTimezone","timespan","center","1365","DashboardCtrl","__WEBPACK_IMPORTED_MODULE_1_angular__","__WEBPACK_IMPORTED_MODULE_1_angular___default","keybindingSrv","variableSrv","alertingSrv","dashboardSrv","unsavedChangesSrv","dynamicDashboardSrv","dashboardViewStateSrv","playlistSrv","alertSrv","editor","resizeEventTimeout","setupDashboard","setupDashboardInternal","err","onInitFailed","setCurrent","alerts","catch","finally","process","dashboardMeta","dashboardViewState","setupDashboardBindings","updateSubmenuVisibility","setWindowTitleAndTheme","msg","fatal","loadedFallbackDashboard","templateVariableUpdated","window_title_prefix","broadcastRefresh","addRowDefault","addEmptyRow","showJsonEditor","editScope","registerWindowResizeEvent","timezoneChanged","onAppEvent","1366","dashboardHistoryDirective","HistoryListCtrl","bindToController","controllerAs","__WEBPACK_IMPORTED_MODULE_2_angular__","__WEBPACK_IMPORTED_MODULE_2_angular___default","__WEBPACK_IMPORTED_MODULE_3_moment__","__WEBPACK_IMPORTED_MODULE_3_moment___default","$route","historySrv","appending","loading","canCompare","onDashboardSaved","resetFromSource","switchMode","reset","dismiss","addToLog","getLog","revisionSelectionChanged","selected","revisions","checked","formatBasicDate","getDiff","newInfo","baseInfo","isNewLatest","new","diffType","calculateDiff","response","getHistoryList","revisions_1","rev","createdDateString","created","ageString","isLastPage","basic","json","restoreConfirm","restoreDashboard","reload","1367","__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__","HistorySrv","backendSrv","post","1368","moment","kbn","dateMath","impressionStore","$http","$routeParams","self","_dashboardLoadFailed","snapshot","canStar","isSnapshot","canDelete","canSave","canEdit","dashboardNotFound","loadDashboard","promise","_loadScriptedDashboard","getDashboard","file","method","_executeScript","fromScript","services","script_func","Function","script_result","deferred","defer","1369","dashNavDirective","DashNavCtrl","transclude","__WEBPACK_IMPORTED_MODULE_3_app_core_core__","navModelSrv","navModel","getDashboardNav","on","saveDashboard","deleteDashboard","titleTooltip","calendar","expires","fromNow","toggleSideMenu","openEditView","editview","showHelpModal","templateHtml","starDashboard","isStarred","newState","shareDashboard","tabIndex","hideTooltip","currentTarget","makeEditable","editable","overwrite","location","deleteDashboardConfirmed","delete","saveDashboardAs","showSaveAsModal","viewJson","getSaveModelClone","showSearch","navItemClicked","navItem","clickHandler","preventDefault","1370","submenuDirective","SubmenuCtrl","templating","list","annotationStateChanged","variableUpdated","1371","saveDashboardAsDirective","template","SaveDashboardAsModalCtrl","__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__","getCurrent","hideControls","thresholds","autoUpdate","keyDown","keyCode","1372","saveDashboardModalDirective","SaveDashboardModalCtrl","saveForm","$valid","saveModel","1373","forCurrent","includeTemplateVars","theme","modeSharePanel","tabs","modalTitle","buildUrl","baseUrl","absUrl","queryStart","shareUrl","soloUrl","appSubUrl","iframeHtml","imageUrl","getShareUrl","1374","timeoutSeconds","expireOptions","accessOptions","externalUrl","sharingButtonText","externalEnabled","apiUrl","createSnapshot","external","originalUrl","saveSnapshot","dash","scrubDashboard","cmdData","postUrl","deleteUrl","snapshotUrl","saveExternalSnapshotRef","deleteKey","getSnapshotUrl","forEachPanel","chain","annotation","enable","iconColor","snapshotData","singlePanel","getPanelById","deleteSnapshot","1375","DashboardSrv","__WEBPACK_IMPORTED_MODULE_1__model__","handleSaveDashboardError","status","isHandled","altActionText","onAltAction","postSave","dashboardUrl","showSaveModal","newScope","modalClass","1376","DashboardModel","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_2_lodash___default","__WEBPACK_IMPORTED_MODULE_3_jquery__","__WEBPACK_IMPORTED_MODULE_3_jquery___default","__WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__","__WEBPACK_IMPORTED_MODULE_6__row_row_model__","__WEBPACK_IMPORTED_MODULE_7_app_core_utils_sort_by_keys__","revision","graphTooltip","timepicker","ensureListExist","schemaVersion","gnetId","addBuiltInAnnotationQuery","updateSchema","initMeta","canShare","getNextPanelId","callback","removeRow","force","setPanelFocus","focusPanelId","submenuEnabled","getPanelInfoById","repeatPanelId","cycleGraphTooltip","sharedTooltipModeEnabled","sharedCrosshairModeOnly","getRelativeTime","getNextQueryLetter","refId","every","isTimezoneUtc","old","oldVersion","panelUpgrades","isBoolean","leftMin","leftMax","y_format","y_formats","y2_format","maxId","aliasYAxis","seriesOverrides","pulldowns","allFormat","nav","mathExpr","asExpr","shift","styles","templateVariable","hideVariable","hideLabel","leftLogBase","leftYAxisLabel","rightMin","rightMax","rightLogBase","rightYAxisLabel","t1","t2","threshold1","thresholdLine","line","lineColor","threshold1Color","colorMode","threshold2","threshold2Color","op","sharedCrosshair","1377","sortByKeys","input","isPlainObject","sortedObject","1378","factory","DashboardViewState","panelScopes","urlState","getQueryStringState","needsSync","update","registerPanel","expandRowForPanel","panelInfo","isEqual","serializeToUrl","fromRouteUpdated","toggle","editStateChanged","soloMode","syncState","panelScope","getPanelScope","fullscreenPanel","leaveFullscreen","ctrl","enterFullscreen","oldTimeRange","scrollTop","without","1379","AlertingSrv","1380","$window","Tracker","originalCopyDelay","originalPath","original","onbeforeunload","ignoreChanges","hasChanges","open_modal","isEditor","fromFile","cleanDashboardFromIgnoredChanges","sortDesc","currentTimepicker","originalTimepicker","toJson","discardChanges","gotoNext","saveChanges","baseLen","nextUrl","tracker","1381","unsavedChangesModalDirective","UnsavedChangesModalCtrl","discard","1382","settingsDirective","TimePickerCtrl","timePickerDirective","__WEBPACK_IMPORTED_MODULE_2_moment__","__WEBPACK_IMPORTED_MODULE_2_moment___default","__WEBPACK_IMPORTED_MODULE_3_app_core_utils_rangeutil__","__WEBPACK_IMPORTED_MODULE_4__input_date__","move","onRefresh","firstDayOfWeek","localeData","timeRaw","isUtc","local","rangeString","absolute","fromJs","toDate","toJs","zoom","openDropdown","editTimeRaw","timeOptions","refresh_intervals","applyCustom","absoluteFromChanged","getAbsoluteMomentForTimezone","absoluteToChanged","jsDate","setRelativeFilter","nowDelay","tooltipFormat","time_options","1383","inputDateDirective","$elem","attrs","ngModel","fromUser","__WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__","$setValidity","parsed","toUser","$parsers","$formatters","1384","uploadDashboardDirective","onUpload","file_selected","files","reader","FileReader","onload","$apply","readAsText","wnd","File","FileList","getElementById","1385","dashImportDirective","DashImportCtrl","__WEBPACK_IMPORTED_MODULE_1_app_core_config__","nameExists","gnetUrl","checkGnetDashboard","inputs","__inputs","inputModel","setDatasourceOptions","inputsValid","titleChanged","sources","datasources","inputValueChanged","res_1","hit","importedUri","loadJsonText","parseError","jsonText","gnetError","gnetInfo","back","1386","dashExportDirective","DashExportCtrl","__WEBPACK_IMPORTED_MODULE_1_file_saver__","__WEBPACK_IMPORTED_MODULE_3__exporter__","exporter","makeExportable","saveJson","1387","DashboardExporter","__WEBPACK_IMPORTED_MODULE_2__dynamic_dashboard_srv__","dynSrv","cleanUpOnly","requires","promises","variableLookup","templateizeDatasourceUsage","ds","refName","toUpperCase","_c","_d","_e","_f","_g","panelDef","_h","_j","_k","_l","buildInfo","all","newObj","1388","DynamicDashboardSrv","__WEBPACK_IMPORTED_MODULE_3__row_row_model__","iteration","repeatRow","repeatPanel","getRowClone","sourceRow","repeatIndex","sourceRowIndex","sourceRowId","modelCopy","rowIndex","option","getPanelClone","sourcePanel","tmpId","minSpan","1389","exportDataModal","ExportDataModalCtrl","__WEBPACK_IMPORTED_MODULE_1_app_core_utils_file_export__","__WEBPACK_IMPORTED_MODULE_2_app_core_app_events__","asRows","export","1390","adHocFiltersComponent","AdHocFiltersCtrl","removeTagFilterSegment","buildSegmentModel","newCondition","newOperators","getTagKeys","getTagValues","segmentChanged","updateVariableModel","filterIndex","hasFakes","setFilters","1391","dashRowDirective","DashRowCtrl","$watchGroup","toggleClass","minHeight","panelWidthDirective","updateWidth","$watch","panelDropZoneDirective","showPanel","textEl","hidePanel","updateState","indrag","dropZoneSpan","__WEBPACK_IMPORTED_MODULE_2_app_core_core__","dropView","onDrop","dropTarget","dragObject","new_panel_title","setHeight","moveRow","rowsList","closeDropView","onMenuAddPanel","onMenuRowOptions","onMenuDeleteRow","1392","rowOptionsDirective","RowOptionsCtrl","rowCtrl","__WEBPACK_IMPORTED_MODULE_0_app_core_core__","fontSizes","1393","addPanelDirective","AddPanelCtrl","activeIndex","allPanels","hideFromList","panelHits","moveSelection","selectedPanel","panelSearchChanged","items","startsWith","contains","searchLower","panelSearch","nameLower","panelPluginInfo","1394","dashRepeatOptionDirective","display","1395","addLink","searchDashboards","queryStr","hits","dashboards","dashboardChanged","uri","deleteLink","1396","AnnotationsSrv","__WEBPACK_IMPORTED_MODULE_3_app_core_core_module__","__WEBPACK_IMPORTED_MODULE_4__events_processing__","clearCache","globalAnnotationsPromise","alertStatesPromise","getAnnotations","getGlobalAnnotations","getAlertStates","flattenDeep","alertState","this_1","state_1","translateQueryResult","annotationQuery","rangeRaw","saveAnnotationEvent","updateAnnotationEvent","put","deleteAnnotationEvent","isRegion","regionId","results_1","1397","AnnotationsEditorCtrl","annotationDefaults","showIn","showOptions","getAnnotationSources","onColorChange","datasourceChanged","currentAnnotation","currentDatasource","currentIsNew","setupNew","removeAnnotation","newColor","annotationEnabledChange","annotationHiddenChanged","1398","makeRegions","partition","regionEvents","singleEvents","regions","region_events","compact","region_obj","head","timeEnd","isStartOfRegion","dedupAnnotations","dedup","eventsById","eventGroup","isPanelAlert","eventType","1399","tryEpochToMoment","eventEditor","EventEditorCtrl","close","annotationsSrv","timeFormated","form","1400","addRegionMarking","flotOptions","addAlphaToRGB","colorString","alpha","__WEBPACK_IMPORTED_MODULE_2_tinycolor2___default","setAlpha","toRgbString","EventManager","__WEBPACK_IMPORTED_MODULE_2_tinycolor2__","editorClosed","editorOpen","editorOpened","updateTime","editEvent","addFlotEvents","types","$__alerting","markerSize","$__ok","$__no_data","$__editing","editModel","levels","manager","1401","annotationTooltipDirective","$sanitize","popoverSrv","$compile","sanitizeString","onEdit","titleStateClass","alertId","stateModel","__WEBPACK_IMPORTED_MODULE_3__alerting_alert_def__","header","login","avatarUrl","__WEBPACK_IMPORTED_MODULE_1_jquery___default","contents","__WEBPACK_IMPORTED_MODULE_1_jquery__","1402","__WEBPACK_IMPORTED_MODULE_2__template_srv__","__WEBPACK_IMPORTED_MODULE_3__variable_srv__","__WEBPACK_IMPORTED_MODULE_4__interval_variable__","__WEBPACK_IMPORTED_MODULE_5__query_variable__","__WEBPACK_IMPORTED_MODULE_6__datasource_variable__","__WEBPACK_IMPORTED_MODULE_7__custom_variable__","__WEBPACK_IMPORTED_MODULE_8__constant_variable__","__WEBPACK_IMPORTED_MODULE_9__adhoc_variable__","1403","__WEBPACK_IMPORTED_MODULE_2__variable__","VariableEditorCtrl","namePattern","refreshOptions","sortOptions","hideOptions","addVariable","sameName","validate","infoText","runQuery","updateOptions","createVariableFromModel","updateTemplateData","getMetricSources","mixed","datasourceTypes","uniqBy","typeChanged","oldIndex","removeVariable","1404","luceneEscape","TemplateSrv","grafanaVariables","builtIns","isNone","variableInitialized","getAdhocFilters","datasourceName","luceneFormat","distributeVariable","setGrafanaVariable","getVariableName","expression","lastIndex","variableExists","highlightVariablesAsHtml","g1","g2","getAllValue","allValue","systemValue","isAllValue","replaceWithText","getValueForUrl","1405","VariableSrv","__WEBPACK_IMPORTED_MODULE_3__variable__","onDashboardRefresh","updateUrlParamsWithCurrentVariables","initLock","queryParams","processVariable","previousOptions","$emit","dependencies","otherVariable","dependsOn","urlValue","setValueFromUrl","ctor","instantiate","emitChangeEvents","selectOptionsForCurrentValue","validateVariableSelectionState","setValue","currentOption","setOptionFromUrl","setOptionAsCurrent","setAdhocFilter","1406","IntervalVariable","__WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__","auto_min","auto_count","updateAutoValue","calculateInterval","1407","getNoneOption","QueryVariable","useTags","tagsQuery","tagValuesQuery","resp","cnData","updateOptionsFromMetricFindQuery","updateTags","getValuesForTag","tagKey","metricNamesToVariableValues","addAllOption","cn","metricNames","sortVariableValues","sortOrder","sortType","reverseSort","opt","supportsMulti","1408","DatasourceVariable","__WEBPACK_IMPORTED_MODULE_1__variable__","skipVariables","1409","CustomVariable","1410","ConstantVariable","__WEBPACK_IMPORTED_MODULE_0__variable__","1411","AdhocVariable","unescapeDelimiter","escapeDelimiter","1412","__WEBPACK_IMPORTED_MODULE_6__datasource_srv__","1413","__WEBPACK_IMPORTED_MODULE_2_remarkable__","__WEBPACK_IMPORTED_MODULE_2_remarkable___default","PluginEditCtrl","$sce","getPluginsNav","preUpdateHook","postUpdateHook","pluginIcon","getPluginIcon","plug","includes","hasDashboards","initReadme","md","readmeHtml","trustAsHtml","updateCmd","enabled","pinned","jsonData","secureJsonData","importDashboards","setPreUpdateHook","setPostUpdateHook","updateAvailable","disable","1414","pluginInfoCache","AppPageCtrl","initPage","loadPluginInfo","app","appModel","page","section","defaultNavUrl","addToNav","iconUrl","logos","small","1415","PluginListCtrl","pluginType","embedded","1416","dashboardImportList","DashImportListCtrl","importAll","importNext","reject","installCmd","imported","1417","access","secureJsonFields","datasourceCreated","DataSourceEditCtrl","getDatasourceNav","loadDatasourceTypes","getDatasourceById","initNewDatasourceModel","gettingstarted","gettingStarted","isDefault","testDatasource","userChangedType","pluginInfo","datasourceMeta","updateFrontendSettings","settings","defaultDatasource","testing","withNoBackendCache","statusText","editForm","readOnly","confirmDelete","suggestUrl","pre","getSuggestUrls","1418","__WEBPACK_IMPORTED_MODULE_0__core_core_module__","DataSourcesCtrl","removeDataSourceConfirmed","removeDataSource","1419","pluginLoader","loadDatasource","dsConfig","pluginDef","Datasource","instanceSettings","getAll","addDataSourceVariables","metricSources","1420","Buffer","global","__filename","ut","ot","at","ft","fileName","lineNumber","originalErr","RangeError","u","lastIndexOf","registry","TypeError","mt","vt","enumerable","linkRecord","yt","lastRegister","records","trace","registration","importerSetters","loadError","evalError","instantiatePromise","execute","executingRequire","moduleObj","setters","depsInstantiatePromise","dependencyInstantiations","bt","__useDefault","loads","deps","dynamicDeps","depMap","st","loader","O","E","S","configurable","wt","P","M","xt","toStringTag","R","warnings","warn","C","Uint8Array","WebAssembly","compile","Module","imports","Instance","L","kt","_nodeRequire","decodeURI","paths","_nodeModulePaths","A","I","F","K","Pt","Mt","rel","as","appendChild","Image","D","importScripts","U","Rt","removeEventListener","_t","charset","async","crossOrigin","integrity","q","T","N","nt","J","Ft","headers","Accept","Authorization","credentials","fetch","arrayBuffer","responseText","XMLHttpRequest","responseType","onreadystatechange","readyState","open","setRequestHeader","withCredentials","send","B","Lt","readFile","W","G","pluginKey","pluginArgument","pluginModule","packageKey","packageConfig","H","pluginFirst","Z","St","he","me","ne","ee","argument","oe","ve","re","jt","X","Q","Y","V","has","ue","de","packageConfigKeys","Ee","ae","Et","ce","te","configured","pe","configPath","le","extension","scriptLoad","globals","nonce","sourceMap","encapsulateGlobal","cjsRequireDetection","cjsDeferDepsExecute","ge","ie","main","se","prop","negate","fe","regEx","wildcard","packageConfigPaths","Dt","Oe","Ut","qt","ye","Tt","Er","be","we","xe","Or","ke","wasm","tt","production","build","defaultJSExtensions","bundles","normalizeSync","depCache","transpiler","Se","zt","Wt","btoa","unescape","je","Nt","documentElement","onerror","addToError","Pe","setAttribute","Me","Gt","Bt","SystemJS","Re","Ht","Jt","$t","runInThisContext","filename","eval","Ce","Zt","Le","Ae","dirname","Ie","It","tr","rr","Fe","nr","Ke","De","define","Yt","Ue","ar","sr","ur","or","ir","qe","Te","Vt","cr","Qt","lr","ze","Ne","Je","Be","fr","amdDefine","pr","$e","We","pluginLoad","metadata","Kt","TextDecoder","decode","Ge","Ve","traceOpts","Xe","He","gr","Ye","Ze","Ot","newModule","__cjsWrapper","yr","hr","mr","vr","Qe","br","wr","et","_loader","loadedBundles","scriptSrc","dr","er","Xt","browser","node","dev","rt","versions","platform","getElementsByTagName","baseURI","lt","ct","cwd","dt","gt","pt","resolveInstantiate","ht","freeze","relList","supports","Ct","At","chrome","navigator","userAgent","decanonicalize","toUrl","requireResolve","getPathVars","prepareGlobal","amd","amdRequire","protocol","hostname","port","xr","kr","currentScript","resolveSync","getConfig","Sr","Proxy","jr","isModule","_r","1421","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","__proto__","encodingOrOffset","allocUnsafe","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","alloc","encoding","string","isEncoding","byteLength","actual","write","fromArrayLike","byteOffset","isBuffer","buffer","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","arr","read","buf","indexSize","readUInt16BE","arrLength","valLength","String","foundIndex","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","units","leadSurrogate","charCodeAt","byteArray","lo","toByteArray","dst","INSPECT_MAX_BYTES","foo","subarray","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","1422","placeHoldersCount","b64","placeHolders","Arr","revLookup","tripletToBase64","lookup","encodeChunk","uint8","extraBytes","len2","1423","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","LN2","1424","1425","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","noop","nextTick","env","argv","addListener","once","off","removeListener","prependListener","prependOnceListener","listeners","binding","chdir","umask","1426","1427","MetricsPanelCtrl","__WEBPACK_IMPORTED_MODULE_4_app_features_panel_panel_ctrl__","__WEBPACK_IMPORTED_MODULE_5_app_core_utils_rangeutil__","__WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__","__WEBPACK_IMPORTED_MODULE_7__metrics_tab__","extendStatics","setPrototypeOf","onMetricsPanelRefresh","onInitMetricsPanelEditMode","onPanelTearDown","dataSubscription","unsubscribe","updateTimeRange","dataStream","setTimeQueryStart","issueQueries","handleQueryResult","cancelled","setTimeQueryEnd","queryEnd","applyPanelTimeOverrides","maxDataPoints","resolution","intervalOverride","timeInfo","timeFrom","timeFromInterpolated","timeFromInfo","invalid","timeFromDate","timeShift","timeShiftInterpolated","hideTimeOverride","assign","__interval","__interval_ms","metricsQuery","cacheTimeout","handleDataStream","stream","setDatasource","addQuery","nextRefId","removeQuery","moveQuery","1428","metricsTabDirective","MetricsTabCtrl","__WEBPACK_IMPORTED_MODULE_0_remarkable__","__WEBPACK_IMPORTED_MODULE_0_remarkable___default","panelDsValue","datasourceInstance","addQueryDropdown","updateDatasourceOptions","hasQueryHelp","queryOptions","includeBuiltin","addMixedQuery","toggleHelp","optionsOpen","queryTroubleshooterOpen","helpOpen","helpHtml","toggleOptions","toggleQueryTroubleshooter","1429","alertTab","AlertTabCtrl","__WEBPACK_IMPORTED_MODULE_1__threshold_mapper__","__WEBPACK_IMPORTED_MODULE_2_app_core_components_query_part_query_part__","__WEBPACK_IMPORTED_MODULE_3__alert_def__","__WEBPACK_IMPORTED_MODULE_4_app_core_config__","__WEBPACK_IMPORTED_MODULE_5_app_core_app_events__","subTabIndex","$onInit","addNotificationSegment","thresholdChangedEventHandler","graphThresholdChanged","editingThresholds","notifications","alertNotifications","alertHistory","initModel","validateModel","getAlertHistory","getNotificationIcon","getNotifications","changeTabIndex","newTabIndex","notificationAdded","removeNotification","buildDefaultCondition","noDataState","executionErrorState","frequency","handler","defaultName","conditionModels","buildConditionModel","alertToGraphThresholds","addedNotification","notification","bgColor","evaluator","handleIndex","threshold","evaluatorParamsChanged","reducer","firstTarget","foundTarget","targetContainsTemplate","cm","queryPart","reducerPart","handleQueryPartEvent","conditionModel","handleReducerPartEvent","action","addCondition","removeCondition","evaluatorTypeChanged","clearHistory","testResult","1430","ThresholdMapper","value1","value2","1431","__WEBPACK_IMPORTED_MODULE_0_app_plugins_datasource_graphite_module__","__WEBPACK_IMPORTED_MODULE_1_app_plugins_datasource_cloudwatch_module__","__WEBPACK_IMPORTED_MODULE_2_app_plugins_datasource_elasticsearch_module__","__WEBPACK_IMPORTED_MODULE_3_app_plugins_datasource_opentsdb_module__","__WEBPACK_IMPORTED_MODULE_4_app_plugins_datasource_grafana_module__","__WEBPACK_IMPORTED_MODULE_5_app_plugins_datasource_influxdb_module__","__WEBPACK_IMPORTED_MODULE_6_app_plugins_datasource_mixed_module__","__WEBPACK_IMPORTED_MODULE_7_app_plugins_datasource_mysql_module__","__WEBPACK_IMPORTED_MODULE_8_app_plugins_datasource_postgres_module__","__WEBPACK_IMPORTED_MODULE_9_app_plugins_datasource_prometheus_module__","__WEBPACK_IMPORTED_MODULE_10_app_plugins_panel_text_module__","__WEBPACK_IMPORTED_MODULE_11_app_plugins_panel_graph_module__","__WEBPACK_IMPORTED_MODULE_12_app_plugins_panel_dashlist_module__","__WEBPACK_IMPORTED_MODULE_13_app_plugins_panel_pluginlist_module__","__WEBPACK_IMPORTED_MODULE_14_app_plugins_panel_alertlist_module__","__WEBPACK_IMPORTED_MODULE_15_app_plugins_panel_heatmap_module__","__WEBPACK_IMPORTED_MODULE_16_app_plugins_panel_table_module__","__WEBPACK_IMPORTED_MODULE_17_app_plugins_panel_singlestat_module__","__WEBPACK_IMPORTED_MODULE_18_app_plugins_panel_gettingstarted_module__","__WEBPACK_IMPORTED_MODULE_19_app_plugins_app_testdata_module__","__WEBPACK_IMPORTED_MODULE_20_app_plugins_app_testdata_datasource_module__","builtInPlugins","app/plugins/datasource/graphite/module","app/plugins/datasource/cloudwatch/module","app/plugins/datasource/elasticsearch/module","app/plugins/datasource/opentsdb/module","app/plugins/datasource/grafana/module","app/plugins/datasource/influxdb/module","app/plugins/datasource/mixed/module","app/plugins/datasource/mysql/module","app/plugins/datasource/postgres/module","app/plugins/datasource/prometheus/module","app/plugins/app/testdata/module","app/plugins/app/testdata/datasource/module","app/plugins/panel/text/module","app/plugins/panel/graph/module","app/plugins/panel/dashlist/module","app/plugins/panel/pluginlist/module","app/plugins/panel/alertlist/module","app/plugins/panel/heatmap/module","app/plugins/panel/table/module","app/plugins/panel/singlestat/module","app/plugins/panel/gettingstarted/module","1432","AnnotationsQueryCtrl","__WEBPACK_IMPORTED_MODULE_0__datasource__","__WEBPACK_IMPORTED_MODULE_1__query_ctrl__","__WEBPACK_IMPORTED_MODULE_2__config_ctrl__","1433","GraphiteDatasource","basicAuth","supportsTags","render_method","getQueryOptionsInfo","graphOptions","translateTime","until","buildGraphiteParams","httpOptions","Content-Type","requestId","doGraphiteRequest","convertDataPointsToMs","parseTags","tagString","graphiteQuery","what","roundUp","subtract","unix","optionalOptions","interpolatedQuery","getTags","getTagsAutoComplete","tagPrefix","expr","getTagValuesAutoComplete","valuePrefix","getVersion","__WEBPACK_IMPORTED_MODULE_2_app_core_utils_version__","datasourceRequest","_seriesRefLetters","fixIntervalFormat","nestedSeriesRegexReplacer","targetValue","graphite_options","clean_options","intervalFormatFixRegex","hasTargets","1434","mapToDropdownOptions","removeTagPrefix","TAG_PREFIX","GraphiteQueryCtrl","__WEBPACK_IMPORTED_MODULE_0__add_graphite_func__","__WEBPACK_IMPORTED_MODULE_1__func_editor__","__WEBPACK_IMPORTED_MODULE_3__gfunc__","__WEBPACK_IMPORTED_MODULE_4__graphite_query__","__WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__","__WEBPACK_IMPORTED_MODULE_6_app_core_app_events__","GRAPHITE_TAG_OPERATORS","queryModel","buildSegments","removeTagValue","parseTarget","toggleEditorMode","textEditor","checkOtherSegmentsIndex","checkOtherSegments","seriesByTagUsed","fixTagSegments","addSelectMetricSegment","newSelectMetric","getSegmentPathUpTo","setSegmentFocus","segmentIndex","getAltSegments","altSegments","removeTaggedEntry","addAltTagSegments","getTagsAsSegments","tagSegments","segmentValueChanged","updateSegmentValue","addSeriesByTagFunc","targetChanged","spliceSegments","emptySegments","targetTextChanged","updateModelTarget","oldTarget","addFunction","newFunc","added","smartlyHandleNewAliasByNode","removeFunction","tagParam","getAllTags","altTags","tagExpressions","renderTagExpressions","getTagOperators","getAllTagValues","tagChanged","tagIndex","updateTag","addNewTag","newTagKey","newTag","addTag","removeTag","addTagSegments","showDelimiter","1435","gfunc","getAllFunctionNames","createFunctionDropDownMenu","submenu","allFunctions","functionMenu","$input","$button","attr","typeahead","minLength","updater","funcName","keyup","blur","removeClass","1436","clickFuncParam","paramIndex","$link","scheduledRelinkIfNeeded","paramCountAtLink","scheduledRelink","relink","inputBlur","newValue","inputKeyPress","inputKeyDown","addTypeahead","$element","toggleFuncControls","targetDiv","closest","hasClass","$funcControls","addElementsAndCompile","$funcLink","param","paramValue","$paramLink","partial","keypress","ifJustAddedFocusFistParam","registerFuncControlsToggle","registerFuncControlsActions","$target","1437","wrapFunction","renderTagString","__WEBPACK_IMPORTED_MODULE_1__gfunc__","__WEBPACK_IMPORTED_MODULE_2__parser__","GraphiteQuery","parser","astNode","getAst","parseTargetRecursive","checkForSeriesByTag","seriesByTagFunc","hidden","splitSeriesByTagParams","innerFunc","addFunctionParameter","shiftBack","isShiftParamsBack","moveAliasFuncLast","aliasFunc","metricPath","updateRenderedTarget","targetsByRefId","keyBy","nestedSeriesRefRegex","targetWithNestedQueries","updated","targetFull","tagPattern","getSeriesByTagFuncIndex","findIndex","getSeriesByTagFunc","seriesByTagFuncIndex","newTagParam","excludeIndex","tagExpr","1438","Parser","lexer","__WEBPACK_IMPORTED_MODULE_0__lexer__","tokens","tokenize","functionCall","metricExpression","curlyBraceSegment","curlySegment","consumeToken","errorMark","curly","functionParameters","boolExpression","numericLiteral","seriesRefExpression","stringLiteral","token","isUnclosed","currentToken","char","matchToken","token1","token2","1439","Lexer","unicodeLetterTable","identifierStartTable","identifierPartTable","peek","skip","scanStringLiteral","scanPunctuator","scanNumericLiteral","scanIdentifier","scanTemplateSequence","isUnicodeLetter","isHexDigit","readUnicodeEscapeSequence","ch1","ch2","ch3","ch4","getIdentifierStart","chr","getIdentifierPart","isDecimalDigit","isOctalDigit","isIdentifierStart","ch","bad","isMalformed","isPunctuator","1440","GraphiteConfigCtrl","graphiteVersions","autoDetectGraphiteVersion","1441","CloudWatchAnnotationsQueryCtrl","__WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl__","__WEBPACK_IMPORTED_MODULE_1__datasource__","__WEBPACK_IMPORTED_MODULE_1__datasource___default","__WEBPACK_IMPORTED_MODULE_2__query_ctrl__","__WEBPACK_IMPORTED_MODULE_3__config_ctrl__","1442","templatingVariable","CloudWatchDatasource","transformSuggestDataFromTable","suggestData","tables","supportMetrics","proxyUrl","defaultRegion","expandTemplateVariable","queries","convertDimensionFormat","scopeVars","getPeriod","datasourceId","request","performTimeSeriesQuery","convertToCloudWatchTime","periodUnit","interval_to_seconds","queryRes","doMetricQueryRequest","subtype","filterDimensions","getEbsVolumeIds","instanceId","getEc2InstanceAttribute","attributeName","metricNameQuery","dimensionKeysQuery","dimensionValuesQuery","ebsVolumeIdsQuery","ec2InstanceAttributeQuery","targetAttributeName","filterJson","defaultPeriod","prefixMatching","actionPrefix","alarmNamePrefix","awsRequest","getExpandedVariables","allSelected","scopedVar","findKey","multiVariable","convertedDimensions","1443","CloudWatchQueryCtrl","__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__","aliasSyntax","1444","CloudWatchConfigCtrl","accessKeyExist","secretKeyExist","authTypes","indexPatternTypes","example","timeField","authType","accessKey","secretKey","resetAccessKey","resetSecretKey","1445","ElasticQueryOptionsCtrl","ElasticAnnotationsQueryCtrl","1446","ElasticDatasource","__WEBPACK_IMPORTED_MODULE_3__query_builder__","__WEBPACK_IMPORTED_MODULE_4__index_pattern__","__WEBPACK_IMPORTED_MODULE_5__elastic_response__","indexPattern","timeInterval","queryBuilder","index_list","getIndexList","$$config","getIndexForToday","reason","queryString","tagsField","textField","queryInterpolated","bool","query_string","search_type","ignore_unavailable","responses","getFieldFromSource","fieldName","fieldNames","fieldValue","_source","titleField","getFields","dateFields","getQueryHeader","searchType","timeTo","sentTargets","adhocFilters","queryObj","esQuery","getTimeSeries","shouldAddField","typeMap","getFieldsRecursively","subObj","properties","fieldNameParts","float","double","integer","long","scaled_float","nested","indexName","mappings","typeName","getTerms","queryDef","getTermsQuery","aggregations","key_as_string","fromJson","1447","ElasticQueryBuilder","__WEBPACK_IMPORTED_MODULE_0__query_def__","getRangeFilter","gte","lte","buildTermsAgg","aggDef","queryNode","metricRef","terms","aggs","min_doc_count","missing","getDateHistogramAgg","esAgg","extended_bounds","getHistogramAgg","getFiltersAgg","filterObj","analyze_wildcard","documentQuery","unmapped_type","script_fields","fielddata_fields","docvalue_fields","addAdhocFilters","queryCondition","must","match_phrase","must_not","regexp","bucketAggs","nestedAggs","aggField","metricAgg","pipelineAgg","buckets_path","1","_term","1448","IndexPattern","intervalMap","Hourly","startOf","amount","Daily","Weekly","Monthly","Yearly","pattern","intervalInfo","endEpoch","indexList","1449","ElasticResponse","__WEBPACK_IMPORTED_MODULE_1__query_def__","__WEBPACK_IMPORTED_MODULE_2_app_core_table_model__","processMetrics","newSeries","doc_count","firstBucket","percentiles","percentileName","statName","std_deviation_bounds_upper","std_deviation_bounds","upper","std_deviation_bounds_lower","lower","normalized_value","processAggregationDocs","propKey","addMetricValue","propValues","getMetricName","processBuckets","depth","aggId","nameIndex","metricDef","getSeriesName","metricTypeCount","group","appliedAgg","nameSeries","uniq","processHits","_id","_type","_index","trimDatapoints","histogram","trimEdges","getErrorFromElasticResponse","root_cause","tmpSeriesList","1450","ElasticQueryCtrl","__WEBPACK_IMPORTED_MODULE_0__bucket_agg__","__WEBPACK_IMPORTED_MODULE_1__metric_agg__","__WEBPACK_IMPORTED_MODULE_3_lodash__","__WEBPACK_IMPORTED_MODULE_3_lodash___default","__WEBPACK_IMPORTED_MODULE_4__query_def__","queryUpdated","jsonStr","handleQueryError","newJson","rawQueryOld","getCollapsedText","metricAggs","bucketAgg","1451","getBucketAggTypes","getOrderOptions","getSizeOptions","agg","onChangeInternal","onTypeChanged","isFirst","bucketAggCount","settingsLinkText","defaultTo","addFiltersQuery","removeFiltersQuery","getFieldsInternal","$fieldType","getIntervalOptions","addBucketAgg","lastBucket","addIndex","removeBucketAgg","1452","pipelineAggOptions","modelSettingsValues","updatePipelineAggOptions","isSingle","precision_threshold","movingAvgModelTypes","modelSettings","updateMovingAvgModelSettings","inlineScript","script","inline","modelSettingsKeys","onChangeClearInternal","minimize","onTypeChange","addMetricAgg","removeMetricAgg","toggleShowMetric","1453","ElasticConfigCtrl","esVersions","indexPatternTypeChanged","1454","__WEBPACK_IMPORTED_MODULE_0__datasource___default","1455","OpenTsDatasource","transformMetricData","groupByTags","tsdbResolution","metricLabel","createMetricLabel","dps","tagData","toPairs","convertTargetToQuery","tsdbVersion","aggregator","shouldComputeRate","rate","rateOptions","counter","isCounter","counterMax","counterResetValue","resetValue","dropResets","ResetValue","disableDownsampling","downsampleInterval","downsample","downsampleAggregator","downsampleFillPolicy","filter_key","tag_key","explicitTags","mapMetricsToTargets","interpolatedTagValue","arrTagV","metricData","tagV","tagK","convertToTSDBTime","tagKeys","cnMap","env.air.beichen","env.power.beichen","env.video.beichen","env.air","env.water","env.gas","public","private","env.device","etc","evn","swm","swm.flowmeter","swm.pressuremeter","swm.watermeter","site","city","DT","PRESSURE","FLOW","TOTAL_FLOW_L","TOTAL_FLOW_S","TEMPERATURE","HUMIDITY","epa","company","town","odour","police","straw","SPEED","DIRECTION","CURRENT","POWER","SOC","VOLTAGE","air","water","gas","qs","tagk","metricToTargetMapping","_saveTagKeys","eventList","annotationObject","isGlobal","globalAnnotations","startTime","msResolution","reqBody","showQuery","_addCredentialOptions","suggestTagKeys","aggregateTags","_performSuggestQuery","_get","_performMetricKeyValueLookup","keysArray","keysQuery","tagvs","_performMetricKeyLookup","tagks","tagv","relativeUrl","interpolated","responseTransform","tag_values_query","hostMap","metrics_regex","tag_names_regex","tag_values_regex","tag_names_suggest_regex","tag_values_suggest_regex","metrics_query","tag_names_query","tag_names_suggest_query","tag_values_suggest_query","aggregatorsPromise","getAggregators","filterTypesPromise","getFilterTypes","1456","OpenTsQueryCtrl","errors","validateTarget","aggregators","fillPolicies","filterTypes","suggestMetrics","getTextValues","suggestTagValues","targetBlur","metricFindResult","addTagMode","currentTagKey","currentTagValue","editTag","closeAddTagMode","addFilter","addFilterMode","currentFilterType","currentFilterGroupBy","currentFilter","currentFilterKey","currentFilterValue","removeFilter","editFilter","fil","closeAddFilterMode","errs","shouldDownsample","describe_interval","1457","OpenTsConfigCtrl","tsdbVersions","tsdbResolutions","1458","GrafanaQueryCtrl","GrafanaAnnotationsQueryCtrl","1459","GrafanaDatasource","1460","InfluxConfigCtrl","InfluxAnnotationsQueryCtrl","1461","__WEBPACK_IMPORTED_MODULE_2__influx_series__","__WEBPACK_IMPORTED_MODULE_2__influx_series___default","__WEBPACK_IMPORTED_MODULE_3__influx_query__","__WEBPACK_IMPORTED_MODULE_4__response_parser__","__WEBPACK_IMPORTED_MODULE_5__query_builder__","InfluxDatasource","urls","username","password","supportAnnotations","responseParser","timeFilter","getTimeFilter","queryTargets","allQueries","acc","_seriesQuery","influxSeries","getTable","timeSeries","curry","_influxRequest","serializeParams","currentUrl","db","paramSerializer","getInfluxTime","fromIsAbsolute","1462","InfluxSeries","columnName","_getSeriesName","segIndex","titleCol","timeCol","tagsCol","textCol","titleColumn","tagsColumn","textColumn","reordered","1463","addUnique","ResponseParser","influxResults","influxdb11format","serie","1464","InfluxQueryCtrl","__WEBPACK_IMPORTED_MODULE_2__query_builder__","__WEBPACK_IMPORTED_MODULE_4__query_part__","groupBySegment","resultFormats","policySegment","measurementSegment","newSelectMeasurement","buildSelectMenu","removeOrderByTime","selectMenu","cat","getGroupByOptions","tags_1","groupByAction","plusButton","subitem","handleSelectPartEvent","fieldsQuery","handleGroupByPartEvent","measurementChanged","getPolicySegments","policiesQuery","policyChanged","getMeasurements","measurementFilter","getTagsOrValues","getFieldSegments","tagSegmentUpdated","rebuildTargetTagConditions","tagOperator","segment2","getTagValueOperator","tagValue","1465","1466","MixedDatasource","sets","dsName","1467","MysqlConfigCtrl","MysqlAnnotationsQueryCtrl","defaultQuery","1468","MysqlDatasource","__WEBPACK_IMPORTED_MODULE_1__response_parser__","interpolateVariable","rawSql","processQueryResult","transformAnnotationResponse","parseMetricFindQueryResult","1469","rowCount","textColIndex","findColIndex","valueColIndex","transformToKeyValueList","transformToSimpleList","containsKey","colName","timeColumnIndex","textColumnIndex","tagsColumnIndex","1470","MysqlQueryCtrl","formats","onDataReceived","onDataError","lastQueryMeta","lastQueryError","anySeriesFromQuery","1471","PostgresConfigCtrl","PostgresAnnotationsQueryCtrl","sslmode","1472","PostgresDatasource","1473","1474","PostgresQueryCtrl","1475","PrometheusConfigCtrl","PrometheusAnnotationsQueryCtrl","1476","prometheusSpecialRegexEscape","PrometheusDatasource","__WEBPACK_IMPORTED_MODULE_2_app_core_utils_datemath__","__WEBPACK_IMPORTED_MODULE_3__metric_find_query__","__WEBPACK_IMPORTED_MODULE_3__metric_find_query___default","__WEBPACK_IMPORTED_MODULE_4_app_core_table_model__","editorSrc","directUrl","_request","interpolateQueryExpr","getPrometheusTime","activeTargets","createQuery","allQueryPromise","instant","performInstantQuery","responseList","transformMetricDataToTable","resultType","transformInstantMetricData","minInterval","intervalFactor","adjustedInterval","adjustInterval","performSuggestQuery","metricsNameCache","expire","titleFormat","textFormat","renderTemplate","stepMs","baseTimestamp","dp_value","endTimestamp","metricLabels","sortedLabels","labelIndex","labelData","legendFormat","getOriginalMetricName","aliasPattern","aliasData","aliasRegex","__name__","1477","PrometheusMetricFindQuery","label_values_regex","metric_names_regex","query_result_regex","label_values_query","labelValuesQuery","metric_names_query","query_result_query","queryResultQuery","metricNameAndLabelsQuery","_labels","metricFilterPattern","matchedMetricName","1478","PrometheusQueryCtrl","__WEBPACK_IMPORTED_MODULE_3__completer__","__WEBPACK_IMPORTED_MODULE_4__mode_prometheus__","__WEBPACK_IMPORTED_MODULE_5__snippets_prometheus__","getDefaultFormat","resolutions","updateLink","getCompleter","refreshMetricData","rangeDiff","endTime","g0.expr","g0.range_input","g0.end_input","g0.step_input","g0.stacked","g0.tab","linkToPrometheus","1479","PromCompleter","identifierRegexps","labelQueryCache","labelNameCache","labelValueCache","getCompletions","session","prefix","getTokenAt","findMetricName","getLabelNameAndValueForMetric","labelNames","transformToCompletions","labelNameToken","findToken","labelName","labelValues","vectors","caption","words","score","nameLabelNameToken","getTokens","nameLabelValueToken","metricNameToken","guard","1480","ace","oop","TextHighlightRules","PrometheusHighlightRules","keywordMapper","createKeywordMapper","support.function","keyword","constant.language","$rules","start-label-matcher","normalizeRules","inherits","wrapText","space_index","line_start","next_line_end","convertMarkDownTags","convertToHTML","docText","lang","escapeHTML","prometheusKeyWords","keyWordsCompletions","word","prometheusFunctions","functionsCompletions","docHTML","PrometheusCompletions","getWrapped","opening","closing","rowDiff","CstyleBehaviour","Behaviour","PrometheusBehaviour","TokenIterator","inherit","getSelectionRange","getTextRange","getWrapBehavioursEnabled","isSaneInsertion","cursor","getCursorPosition","getLine","rightChar","matching","$findOpeningBracket","isAutoInsertedClosing","isMultiLine","TextMode","Mode","HighlightRules","$behaviour","$completer","completer","$id","1481","snippets","content","tabTrigger","1482","TextPanelCtrl","panelDefaults","onInitEditMode","onRender","throttle","renderMarkdown","updateContent","renderText","remarkable","Remarkable","$applyAsync","1483","GraphCtrl","__WEBPACK_IMPORTED_MODULE_1__legend__","__WEBPACK_IMPORTED_MODULE_2__series_overrides_ctrl__","__WEBPACK_IMPORTED_MODULE_4__template__","__WEBPACK_IMPORTED_MODULE_5_lodash__","__WEBPACK_IMPORTED_MODULE_5_lodash___default","__WEBPACK_IMPORTED_MODULE_6_app_core_config__","__WEBPACK_IMPORTED_MODULE_7_app_plugins_sdk__","__WEBPACK_IMPORTED_MODULE_8__data_processor__","__WEBPACK_IMPORTED_MODULE_9__axes_editor__","hiddenSeries","percentage","value_type","processor","onDataSnapshotLoad","onInitPanelActions","alertingEnabled","annotationsPromise","dataWarning","tip","changeSeriesColor","toggleSeries","shiftKey","toggleSeriesExclusiveMode","toggleAxis","addSeriesOverride","removeSeriesOverride","toggleLegend","legendValuesOptionChanged","exportCsv","1484","graphDirective","getLegendHeight","panelHeight","rightSide","alignAsTable","legendSeries","__WEBPACK_IMPORTED_MODULE_10_lodash___default","setElementHeight","shouldAbortRender","panelWidth","drawHook","__WEBPACK_IMPORTED_MODULE_12_app_core_utils_kbn__","rootScope","$$phase","$digest","__WEBPACK_IMPORTED_MODULE_9_jquery___default","thresholdManager","processOffsetHook","gridMargin","panelOptions","getMinTimeStepOfSeries","render_panel","callPlot","incrementRenderCounter","sortedSeries","renderError","prepare","labelMarginX","addXSeriesAxis","__WEBPACK_IMPORTED_MODULE_18__histogram__","histMin","histMax","__WEBPACK_IMPORTED_MODULE_13_app_core_utils_ticks__","addXHistogramAxis","addXTableAxis","addTimeAxis","addFlotOptions","eventManager","configureAxisOptions","sortSeries","shouldDelayDraw","legendSideLastValue","haveSortBy","haveSortOrder","time_format","defaultTicks","tickStep_1","ticks_num","configureAxisMode","pointIndex","parseNumber","secondY","applyLogScale","toNumber","minSetToZero","MIN_VALUE","generateTicksForLogScaleYAxis","maxNumTicks","numTicks","secPerTick","__WEBPACK_IMPORTED_MODULE_17_app_features_annotations_all__","__WEBPACK_IMPORTED_MODULE_16__threshold_manager__","__WEBPACK_IMPORTED_MODULE_15__graph_tooltip___default","renderData","__WEBPACK_IMPORTED_MODULE_14_app_core_core__","__WEBPACK_IMPORTED_MODULE_11_moment___default","__WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot__","__WEBPACK_IMPORTED_MODULE_1_vendor_flot_jquery_flot_selection__","__WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot_time__","__WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_stack__","__WEBPACK_IMPORTED_MODULE_4_vendor_flot_jquery_flot_stackpercent__","__WEBPACK_IMPORTED_MODULE_5_vendor_flot_jquery_flot_fillbelow__","__WEBPACK_IMPORTED_MODULE_6_vendor_flot_jquery_flot_crosshair__","__WEBPACK_IMPORTED_MODULE_7_vendor_flot_jquery_flot_dashes__","__WEBPACK_IMPORTED_MODULE_8__jquery_flot_events__","__WEBPACK_IMPORTED_MODULE_9_jquery__","__WEBPACK_IMPORTED_MODULE_10_lodash__","__WEBPACK_IMPORTED_MODULE_11_moment__","__WEBPACK_IMPORTED_MODULE_15__graph_tooltip__","1485","Drop","createAnnotationToolip","injector","innerHTML","invoke","tmpScope","$destroy","drop","openOn","hoverCloseDelay","tetherOptions","constraints","pin","attachment","createEditPopover","markerElementToAttachTo","eventMarkers","EventMarkers","getEvents","_events","hideEvents","visual","getObject","showEvents","drawEvents","setEvents","eventsEnabled","setupEvents","setTypes","updateEvents","DrawableEvent","drawFunc","clearFunc","moveFunc","_object","_drawFunc","_clearFunc","_moveFunc","_position","_width","_height","VisualEvent","drawableEvent","_options","_drawableEvent","_hidden","getParent","isHidden","unhide","_types","_plot","_buildDiv","vre","_buildRegDiv","ao","bo","_insidePlot","_clearEvents","markerShow","lineStyle","markerTooltip","yaxis2","eventTypeId","topOffset","border-left-width","border-left-style","border-left-color","line-height","border-left","border-right","border-top","border-bottom","mouseenter","mouseleave","hover","regionWidth","background-color","xc","defaultOptions","1486","core","GraphTooltip","getSeriesFn","$tooltip","findHoverIndexFromDataPoints","posX","last","initial","findHoverIndexFromData","middle","renderAndShow","absoluteTime","innerHtml","xMode","place_tt","getMultiSeriesPlotHoverInfo","hoverIndex","hoverDistance","pointTime","minDistance","minTime","last_value","panelRelY","hoverInfo","seriesHtml","plotData","xAxes","allSeriesMode","innerHeight","seriesHoverInfo","highlightClass","1487","ThresholdManager","getHandleHtml","valueStr","initDragging","dragging","lastY","clientY","posTop","handleElem","stopped","isMoving","graphValue","parents","cleanUp","needsCleanup","renderHandle","defaultHandleTopPos","handleTopPos","valueCanvasPos","shouldDrawHandles","hasSecondYAxis","thresholdMargin","gtLimit","ltLimit","1488","getSeriesValues","convertValuesToHistogram","histogam_series","1489","getSeriesIndexForElement","openColorSelector","colorSelected","seriesInfo","scrollPosition","$container","sortLegend","getTableHeaderHtml","firstRender","sideWidth","tableHeaderElem","seriesShown","seriesElements","maxHeight","tbodyElem","1490","jquery","overrideMenu","currentOverrides","addOverrideOption","propertyName","setOverride","subItem","updateCurrentOverrides","fakeSeries","autoClose","onClose","removeOverride","getSeriesNames","1491","ThresholdFormCtrl","disabled","unbindDestroy","addThreshold","removeThreshold","onFillColorChange","onLineColorChange","1492","1493","axesEditorComponent","AxesEditorCtrl","unitFormats","getUnitFormats","logScales","log (base 2)","log (base 10)","log (base 32)","log (base 1024)","xAxisModes","Time","Series","Histogram","xAxisStatOptions","setUnitFormat","xAxisModeChanged","xAxisValueChanged","1494","DashListCtrl","__WEBPACK_IMPORTED_MODULE_2_app_features_dashboard_impression_store__","recent","starred","headings","groups","modes","getRecentDashboards","getStarred","getSearch","stopPropagation","dashIds","take","dashboardIds","orderId","1495","__WEBPACK_IMPORTED_MODULE_1__features_panel_panel_ctrl__","pluginList","viewModel","gotoPlugin","$event","hasUpdate","1496","AlertListPanel","__WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__","__WEBPACK_IMPORTED_MODULE_3_app_plugins_sdk__","sortOrderOptions","stateFilter","currentAlerts","onlyAlertsOnDashboard","sortResult","updateStateFilter","getCurrentAlertState","getStateChanges","al","noAlertsMessage","newStateDateAgo","newStateDate","locale","1497","__WEBPACK_IMPORTED_MODULE_1__heatmap_ctrl__","1498","drawColorLegend","rangeFrom","rangeTo","legendElem","__WEBPACK_IMPORTED_MODULE_3_d3__","clearLegend","legendWidth","legendHeight","rangeStep","widthFactor","valuesRange","__WEBPACK_IMPORTED_MODULE_6__color_scale__","__WEBPACK_IMPORTED_MODULE_4_app_core_core__","selectAll","enter","drawLegendValues","drawOpacityLegend","opacityScale","cardColor","childNodes","legendValueScale","buildLegendTicks","xAxis","tickValues","colorRect","posY","getSvgElemHeight","getSvgElemX","drawSimpleColorLegend","valuesNumber","drawSimpleOpacityLegend","legendOpacityScale_1","svgElem","baseVal","tickStepSize","__WEBPACK_IMPORTED_MODULE_5_app_core_utils_ticks__","ticksNum","isValueCloseTo","valueTo","colorSchemes","colorOptions","1499","HeatmapCtrl","__WEBPACK_IMPORTED_MODULE_0_app_plugins_sdk__","__WEBPACK_IMPORTED_MODULE_3_app_core_time_series2__","__WEBPACK_IMPORTED_MODULE_4__axes_editor__","__WEBPACK_IMPORTED_MODULE_5__display_editor__","__WEBPACK_IMPORTED_MODULE_6__rendering__","__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__","cardPadding","cardRound","dataFormat","yAxis","splitFactor","xBucketNumber","yBucketNumber","showHistogram","highlightCards","colorModes","opacityScales","selectionActivated","defaultsDeep","onCardColorChange","heatmapStats","bucketsData","parseHistogramSeries","xBucketBoundSet","yBucketBoundSet","xBucketSizeByNumber","interval_regex","parseSeries","minLog","seriesHandler","flotpairs","1500","axesEditor","dataFormats","Time series","Time series buckets","1501","heatmapDisplayEditor","HeatmapDisplayEditorCtrl","1502","$heatmap","getYAxisWidth","axis_text","nodes","getBBox","getXAxisHeight","axis_line_position","addXAxis","xScale","chartWidth","timeFormat","DEFAULT_X_TICK_SIZE_PX","grafanaTimeFormatter","grafanaTimeFormat","tickFormat","tickPadding","X_AXIS_TICK_PADDING","chartHeight","yAxisWidth","addYAxis","DEFAULT_Y_TICK_SIZE_PX","tick_interval","__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__","wideYAxisRange","y_min","y_max","decimalsAuto","getPrecision","flot_tick_size","yScale","tickValueFormatter","tickSizeInner","tickSizeOuter","Y_AXIS_TICK_PADDING","tickInterval","y_widing","dataRangeWidingFactor","addLogYAxis","log_base","adjustLogRange","adjustLogMin","adjustLogMax","tick_values","logScaleTickValues","domainMin","domainMax","under_one_ticks","tick_value","__WEBPACK_IMPORTED_MODULE_4_app_core_utils_kbn__","fixYAxisTickSize","addAxes","chartTop","chartBottom","xAxisHeight","addHeatmapCanvas","heatmap_elem","CARD_PADDING","CARD_ROUND","addHeatmap","__WEBPACK_IMPORTED_MODULE_8__heatmap_data_converter__","cardsData","maxValueAuto","__WEBPACK_IMPORTED_MODULE_9__color_scale__","setCardSize","getCardX","getCardWidth","getCardY","getCardHeight","getCardColor","getCardOpacity","mouseOverBucket","highlightCard","resetCardHighLight","darker","strokeColor","brighter","current_card","originalFillColor","xGridSize","yGridSize","cardWidth","cardHeight","cutted_width","MIN_CARD_SIZE","offsetX","selectionRange","MIN_SELECTION_WIDTH","limitSelection","drawSelection","emitGraphHoverEvet","drawCrosshair","offsetY","posX1","posX2","selectionX","selectionWidth","drawSharedCrosshair","__WEBPACK_IMPORTED_MODULE_7__heatmap_tooltip__","DATA_RANGE_WIDING_FACTOR","dot_index","1503","HeatmapTooltip","__WEBPACK_IMPORTED_MODULE_4__heatmap_data_converter__","heatmapPanel","onMouseOver","getBucketIndexes","xBucketIndex","yBucketIndex","boundBottom","boundTop","valueFormatter","xData","yData","bucketIndex","tooltipDecimals","tooltipHtml","addHistogram","getXBucketIndex","getYBucketIndex","getSharedTooltipPos","histogramData","histXScale","barNumberFactor","histogramDomain","histYScale","tooltipWidth","clientWidth","tooltipHeight","clientHeight","innerWidth","pageYOffset","1504","TablePanelCtrl","__WEBPACK_IMPORTED_MODULE_3__transformers__","__WEBPACK_IMPORTED_MODULE_4__editor__","__WEBPACK_IMPORTED_MODULE_5__column_options__","__WEBPACK_IMPORTED_MODULE_6__renderer__","pageSize","showHeader","dateFormat","scroll","pageIndex","dataRaw","toggleColumnSort","colIndex","tableData","render_values","getTableHeight","pageCount","appendTableRows","setTable","switchPage","renderPanel","appendPaginationControls","footerElem","startPage","endPage","paginationList","activeClass","pageLinkElem","panelElem","rootElem","max-height","addFilterClicked","filterData","selector","1505","tablePanelEditor","TablePanelEditorCtrl","__WEBPACK_IMPORTED_MODULE_1__transformers__","addColumnSegment","updateTransformHints","canSetColumns","columnsHelpMessage","getColumnOptions","transformChanged","removeColumn","1506","columnOptionsTab","ColumnOptionsCtrl","activeStyleIndex","columnTypes","dateFormats","getColumnNames","addColumnStyle","newStyleRule","stylesCount","indexToInsert","removeColumnStyle","invertColorOrder","ref","styleIndex","1507","TableRenderer","sanitize","initColumns","formatters","colorState","createColumnFormatter","getColorForValue","defaultCellFormatter","valueFormatter_1","renderRowVariables","cell_variable","formatColumnValue","renderCell","columnIndex","addWidthHack","cellClasses","cellClass","cell","columnHtml","preserveFormat","cellLink","linkUrl","cellLinkTooltip","linkTooltip","cellTarget","linkTargetBlank","startPos","endPos","cellHtml","rowStyle","new_row","1508","colorMap","SingleStatCtrl","__WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot__","__WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_gauge__","__WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__","__WEBPACK_IMPORTED_MODULE_7_app_core_time_series2__","__WEBPACK_IMPORTED_MODULE_8_app_plugins_sdk__","dataType","valueNameOptions","postfix","nullText","valueMaps","mappingTypes","rangeMaps","mappingType","valueName","prefixFontSize","valueFontSize","postfixFontSize","colorBackground","colorValue","sparkline","full","gauge","thresholdMarkers","thresholdLabels","tableColumn","onSparklineColorChange","onSparklineFillChange","tableHandler","setTableValues","setValues","columnNames","tableColumnOptions","setTableColumnToSensibleDefault","valueFormatted","valueRounded","decimalInfo","getDecimalsForValue","formatFunc","roundValue","setValueMapping","setColoring","background","panelColorIndex","lastPoint","lastValue","removeValueMap","addValueMap","removeRangeMap","rangeMap","addRangeMap","applyColoringThresholds","valueString","getSpan","getBigValueHtml","getValueText","addGauge","dimension","invalidGaugeRange","plotCanvas","plotCss","fontScale","gaugeWidthReduceRatio","gaugeWidth","thresholdMarkersWidth","thresholdLabelFontSize","gauges","border","frame","layout","thresholdWidth","formatter","plotSeries","addSparkline","dynamicHeightMargin","strVale","$panelContainer","linkInfo","drilldownTooltip","1509","getLogger","debugOptions","Logger","toRad","drawArc","cx","cy","rd1","rd2","lc","fc","debug","gaugeOptions","Gauge","calculateLayout","gaugeOptionsi","calculateAutoValues","cellWidth","cellLayout","calculateCellLayout","drawCellBackground","drawLable","drawGauge","drawThreshold","drawThresholdValues","drawValue","getColor","calculateAngle","startAngle","endAngle","drawArcWithShadow","clip","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","drawThresholdValue","drawText","thresholdLabelMargin","textOptions","logger","canvasWidth","canvasHeight","hMargin","vMargin","cellHeight","square","cellMargin","labelFontSize","valueMargin","maxRadiusH","dAngle","heightRatioV","outerRadiusV","maxRadiusV","outerRadius","gaugeOuterHeight","blank","vAlign","a2","a1","1510","GettingStartedPanelCtrl","stepIndex","note","check","cta","nextStep","checksDone","currentStep","passed","showSuccessAlert","helpFlags1","1511","ConfigCtrl","appEditCtrl","initDatasource","dsInstance","1512","TestDataAnnotationsQueryCtrl","1513","TestDataDatasource","scenarioId","stringInput","1514","TestDataQueryCtrl","scenarioList","newPointTime","selectedPoint","getPoints","pointSelected","deletePoint","addPoint","newPointValue","scenario","scenarioChanged","1515","Subscriber_1","Subscription_1","ObjectUnsubscribedError_1","SubjectSubscription_1","rxSubscriber_1","SubjectSubscriber","destination","Subscriber","observers","isStopped","hasError","thrownError","rxSubscriber","lift","subject","AnonymousSubject","ObjectUnsubscribedError","_trySubscribe","Subscription","EMPTY","SubjectSubscription","asObservable","observable","1516","1517","subscriberIndex","1518","empty_1","1519","1520","from_1","1521","FromObservable_1","FromObservable","1522","isArray_1","isArrayLike_1","isPromise_1","PromiseObservable_1","IteratorObservable_1","ArrayObservable_1","ArrayLikeObservable_1","iterator_1","observeOn_1","observable_1","ish","PromiseObservable","IteratorObservable","ArrayLikeObservable","ObserveOnSubscriber","1523","dispatchNext","dispatchError","1524","getIterator","StringIterator","ArrayIterator","toLength","numberIsFinite","sign","maxSafeInteger","valueAsNumber","return","1525","1526","arrayLike","1527","observeOn","delay","ObserveOnOperator","Notification_1","observe","scheduleMessage","ObserveOnMessage","_next","Notification","createNext","_error","createError","_complete","createComplete","1528","kind","hasValue","observer","do","accept","nextOrObserver","toObservable","throw","undefinedValueNotification","completeNotification","1529","map_1","1530","project","thisArg","1531","MapOperator","MapSubscriber","1532","combineAll_1","combineAll","1533","1534","combineLatest_1","CombineLatestOperator","1535","combineLatest","observables","OuterSubscriber_1","subscribeToResult_1","CombineLatestSubscriber","toRespond","subscribeToResult","notifyComplete","unused","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","oldVal","_tryProject","OuterSubscriber","1536","notifyError","1537","outerSubscriber","InnerSubscriber_1","InnerSubscriber","syncErrorThrowable","obs","isObject_1","1538","1539","canvas","combine","combined","numCombined","pie","newdata","percent","newCtx","maxRadius","tilt","centerTop","centerLeft","slices","attempts","REDRAW_SHRINK","shadowLeft","shadowTop","globalAlpha","drawSlice","currentAngle","drawDonutHole","plf","halfAngle","labelTop","labelLeft","insertBefore","REDRAW_ATTEMPTS","prepend","setSeries","innerRadius","globalCompositeOperation","isPointInPoly","poly","findNearbySlice","isPointInPath","1540","pluginDirectiveLoader","$templateCache","getTemplate","cached","relativeTemplateUrlToAbs","getPluginComponentDirective","Component","bindings","loadPanelComponentInfo","componentInfo","panelCtrlPromise","__WEBPACK_IMPORTED_MODULE_5_app_plugins_panel_unknown_module__","__WEBPACK_IMPORTED_MODULE_4__plugin_loader__","panelModule","registered","templatePromise","getModule","dsModule","panel-ctrl","QueryOptionsCtrl","notFound","dsMeta","model_1","appModule","app-model","app-edit-ctrl","appModel_1","appendAndCompile","child","registerPluginComponent","directiveName","$normalize","1541","UnknownPanelCtrl","1542","iconMap","external link","question","bolt","cloud","anchor","asDropdown","$last","buildLinks","linkDef","updateDashLinks","generatedLinks","currentDashId","fillDropdown","searchHits","moveLink","1543","1544","PlaylistsCtrl","__WEBPACK_IMPORTED_MODULE_1__core_core_module__","getPlaylistsNav","playlists","removePlaylistConfirmed","playlist","removePlaylist","1545","playlistSearchDirective","PlaylistSearchCtrl","searchStarted","tagsMode","prom","dashboardResult","tagResult","showStarred","queryHasNoFilters","filterByTag","1546","PlaylistSrv","cancelPromise","getUrlWithKioskMode","inKioskMode","classList","startUrl","playlistId","isPlaying","kiosk","1547","PlaylistEditCtrl","filteredDashboards","filteredTags","searchQuery","playlistItems","dashboardresult","tagresult","filterFoundPlaylistItems","playlistItem","listPlaylistItem","term","addPlaylistItem","addTagPlaylistItem","removePlaylistItem","listedPlaylistItem","savePlaylist","savePromise","isPlaylistEmpty","backToList","movePlaylistItem","currentPosition","newPosition","movePlaylistItemUp","movePlaylistItemDown","1548","$routeProvider","1549","1550","SnapshotsCtrl","snapshots","removeSnapshotConfirmed","removeSnapshot","1551","1552","Tether","createMenuTemplate","$menu","is","$$panelDragging","menuScope","teather","showMenu","menuTemplate","extendedMenu","targetAttachment","1553","__WEBPACK_IMPORTED_MODULE_2_tether_drop__","__WEBPACK_IMPORTED_MODULE_2_tether_drop___default","$document","mouseEnter","panelContainer","mouseLeave","updatePanelCornerInfo","cornerMode","cornerInfoElem","infoDrop","hoverOpenDelay","lastAlertState","hasAlertRule","transparentLastState","lastHasAlertRule","lastHeight","transparent","lastFullscreen","$watchCollection","dragStartHandler","resizing","handleOffset","originalHeight","originalWidth","lastPanel","moveHandler","dragEndHandler","1554","dashboardLoaderSrv","sidemenu","initPanelScope","initDashboard","1555","panelEditorTab","dynamicDirectiveSrv","1556","queryEditorRowDirective","QueryRowCtrl","queryCtrl","canCollapse","hasTextEditMode","collapsed","toggleHideQuery","__collapsedQueryCache","collapsedText","duplicateQuery","1557","queryTroubleshooter","QueryTroubleshooterCtrl","isOpen","renderJsonExplorer","jsonElem","jsonExplorer","animateOpen","__WEBPACK_IMPORTED_MODULE_1_app_core_app_events__","onRequestErrorEventListener","onRequestError","onRequestResponseEventListener","onRequestResponse","removeEventsListeners","stateChanged","toggleMocking","isMocking","isLoading","getClipboardText","handleMocking","mockedData","mockedResponse","transformRequest","transformResponse","jsonpCallbackParam","retry","toggleExpand","allNodesExpanded","openAtDepth","1558","StyleGuideCtrl","buttonNames","buttonSizes","buttonVariants","icons","pages","getAdminNav","loadColors","loadIcons","switchTheme","cmd"],"mappings":"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AO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAAO,KAAO,KAAO,KAAO,KAAK,KAAO,KACtD,KAAK,KAAO,KAAE,KAA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","file":"0.b0001fe08d408503029c.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 1304:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(1395),\n  __webpack_require__(1542),\n  __webpack_require__(1316),\n  __webpack_require__(1402),\n  __webpack_require__(1412),\n  __webpack_require__(1363),\n  __webpack_require__(1543),\n  __webpack_require__(1549),\n  __webpack_require__(1551),\n  __webpack_require__(1558),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1305:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_features_panel_panel_ctrl__ = __webpack_require__(1313);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_features_panel_metrics_panel_ctrl__ = __webpack_require__(1427);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_features_panel_query_ctrl__ = __webpack_require__(1327);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_features_alerting_alert_tab_ctrl__ = __webpack_require__(1429);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_features_plugins_plugin_loader__ = __webpack_require__(1317);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_0_app_features_panel_panel_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MetricsPanelCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1_app_features_panel_metrics_panel_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_2_app_features_panel_query_ctrl__[\"QueryCtrl\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"alertTab\", function() { return __WEBPACK_IMPORTED_MODULE_3_app_features_alerting_alert_tab_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"loadPluginCss\", function() { return __WEBPACK_IMPORTED_MODULE_4_app_features_plugins_plugin_loader__[\"loadPluginCss\"]; });\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1306:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"variableTypes\", function() { return variableTypes; });\n/* harmony export (immutable) */ __webpack_exports__[\"containsVariable\"] = containsVariable;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_model_utils__ = __webpack_require__(477);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"assignModelProperties\", function() { return __WEBPACK_IMPORTED_MODULE_1_app_core_utils_model_utils__[\"a\"]; });\n\r\n\r\nvar variableTypes = {};\r\n\r\nfunction containsVariable() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var variableName = args[args.length - 1];\r\n    var str = args[0] || '';\r\n    for (var i = 1; i < args.length - 1; i++) {\r\n        str += ' ' + args[i] || '';\r\n    }\r\n    variableName = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].regexEscape(variableName);\r\n    var findVarRegex = new RegExp('\\\\$(' + variableName + ')(?:\\\\W|$)|\\\\[\\\\[(' + variableName + ')\\\\]\\\\]', 'g');\r\n    var match = findVarRegex.exec(str);\r\n    return match !== null;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1307:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__ = __webpack_require__(1308);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar alertQueryDef = new __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"b\" /* QueryPartDef */]({\r\n    type: 'query',\r\n    params: [\r\n        { name: \"queryRefId\", type: 'string', dynamicLookup: true },\r\n        { name: \"from\", type: \"string\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h', '24h', '48h'] },\r\n        { name: \"to\", type: \"string\", options: ['now'] },\r\n    ],\r\n    defaultParams: ['#A', '15m', 'now', 'avg']\r\n});\r\nvar conditionTypes = [\r\n    { text: 'Query', value: 'query' },\r\n];\r\nvar alertStateSortScore = {\r\n    alerting: 1,\r\n    no_data: 2,\r\n    pending: 3,\r\n    ok: 4,\r\n    paused: 5,\r\n};\r\nvar evalFunctions = [\r\n    { text: 'IS ABOVE', value: 'gt' },\r\n    { text: 'IS BELOW', value: 'lt' },\r\n    { text: 'IS OUTSIDE RANGE', value: 'outside_range' },\r\n    { text: 'IS WITHIN RANGE', value: 'within_range' },\r\n    { text: 'HAS NO VALUE', value: 'no_value' }\r\n];\r\nvar evalOperators = [\r\n    { text: 'OR', value: 'or' },\r\n    { text: 'AND', value: 'and' },\r\n];\r\nvar reducerTypes = [\r\n    { text: 'avg()', value: 'avg' },\r\n    { text: 'min()', value: 'min' },\r\n    { text: 'max()', value: 'max' },\r\n    { text: 'sum()', value: 'sum' },\r\n    { text: 'count()', value: 'count' },\r\n    { text: 'last()', value: 'last' },\r\n    { text: 'median()', value: 'median' },\r\n    { text: 'diff()', value: 'diff' },\r\n    { text: 'percent_diff()', value: 'percent_diff' },\r\n    { text: 'count_non_null()', value: 'count_non_null' },\r\n];\r\nvar noDataModes = [\r\n    { text: 'Alerting', value: 'alerting' },\r\n    { text: 'No Data', value: 'no_data' },\r\n    { text: 'Keep Last State', value: 'keep_state' },\r\n    { text: 'Ok', value: 'ok' },\r\n];\r\nvar executionErrorModes = [\r\n    { text: 'Alerting', value: 'alerting' },\r\n    { text: 'Keep Last State', value: 'keep_state' },\r\n];\r\nfunction createReducerPart(model) {\r\n    var def = new __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"b\" /* QueryPartDef */]({ type: model.type, defaultParams: [] });\r\n    return new __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"a\" /* QueryPart */](model, def);\r\n}\r\nfunction getStateDisplayModel(state) {\r\n    switch (state) {\r\n        case 'ok': {\r\n            return {\r\n                text: 'OK',\r\n                iconClass: 'icon-gf icon-gf-ok1',\r\n                stateClass: 'alert-state-ok'\r\n            };\r\n        }\r\n        case 'alerting': {\r\n            return {\r\n                text: 'ALERTING',\r\n                iconClass: 'icon-gf fa-question1',\r\n                stateClass: 'alert-state-critical'\r\n            };\r\n        }\r\n        case 'no_data': {\r\n            return {\r\n                text: 'NO DATA',\r\n                iconClass: \"fa icon-gf-critical1\",\r\n                stateClass: 'alert-state-warning'\r\n            };\r\n        }\r\n        case 'paused': {\r\n            return {\r\n                text: 'PAUSED',\r\n                iconClass: \"fa fa-pause\",\r\n                stateClass: 'alert-state-paused'\r\n            };\r\n        }\r\n        case 'pending': {\r\n            return {\r\n                text: 'PENDING',\r\n                iconClass: \"fa fa-exclamation\",\r\n                stateClass: 'alert-state-warning'\r\n            };\r\n        }\r\n    }\r\n    throw { message: 'Unknown alert state' };\r\n}\r\nfunction joinEvalMatches(matches, separator) {\r\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(matches, function (res, ev) {\r\n        if (ev.metric !== undefined && ev.value !== undefined) {\r\n            res.push(ev.metric + '=' + ev.value);\r\n        }\r\n        // For backwards compatibility . Should be be able to remove this after ~2017-06-01\r\n        if (ev.Metric !== undefined && ev.Value !== undefined) {\r\n            res.push(ev.Metric + '=' + ev.Value);\r\n        }\r\n        return res;\r\n    }, []).join(separator);\r\n}\r\nfunction getAlertAnnotationInfo(ah) {\r\n    // backward compatability, can be removed in grafana 5.x\r\n    // old way stored evalMatches in data property directly,\r\n    // new way stores it in evalMatches property on new data object\r\n    if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(ah.data)) {\r\n        return joinEvalMatches(ah.data, ', ');\r\n    }\r\n    else if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(ah.data.evalMatches)) {\r\n        return joinEvalMatches(ah.data.evalMatches, ', ');\r\n    }\r\n    if (ah.data.error) {\r\n        return \"Error: \" + ah.data.error;\r\n    }\r\n    if (ah.data.noData || ah.data.no_data) {\r\n        return \"No Data\";\r\n    }\r\n    return \"\";\r\n}\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    alertQueryDef: alertQueryDef,\r\n    getStateDisplayModel: getStateDisplayModel,\r\n    conditionTypes: conditionTypes,\r\n    evalFunctions: evalFunctions,\r\n    evalOperators: evalOperators,\r\n    noDataModes: noDataModes,\r\n    executionErrorModes: executionErrorModes,\r\n    reducerTypes: reducerTypes,\r\n    createReducerPart: createReducerPart,\r\n    getAlertAnnotationInfo: getAlertAnnotationInfo,\r\n    alertStateSortScore: alertStateSortScore,\r\n});\r\n\n\n/***/ }),\n\n/***/ 1308:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return QueryPartDef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return QueryPart; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = functionRenderer;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = suffixRenderer;\n/* unused harmony export identityRenderer */\n/* unused harmony export quotedIdentityRenderer */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar QueryPartDef = /** @class */ (function () {\r\n    function QueryPartDef(options) {\r\n        this.type = options.type;\r\n        this.params = options.params;\r\n        this.defaultParams = options.defaultParams;\r\n        this.renderer = options.renderer;\r\n        this.category = options.category;\r\n        this.addStrategy = options.addStrategy;\r\n    }\r\n    return QueryPartDef;\r\n}());\r\n\r\nvar QueryPart = /** @class */ (function () {\r\n    function QueryPart(part, def) {\r\n        this.part = part;\r\n        this.def = def;\r\n        if (!this.def) {\r\n            throw { message: 'Could not find query part ' + part.type };\r\n        }\r\n        part.params = part.params || __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(this.def.defaultParams);\r\n        this.params = part.params;\r\n        this.updateText();\r\n    }\r\n    QueryPart.prototype.render = function (innerExpr) {\r\n        return this.def.renderer(this, innerExpr);\r\n    };\r\n    QueryPart.prototype.hasMultipleParamsInString = function (strValue, index) {\r\n        if (strValue.indexOf(',') === -1) {\r\n            return false;\r\n        }\r\n        return this.def.params[index + 1] && this.def.params[index + 1].optional;\r\n    };\r\n    QueryPart.prototype.updateParam = function (strValue, index) {\r\n        var _this = this;\r\n        // handle optional parameters\r\n        // if string contains ',' and next param is optional, split and update both\r\n        if (this.hasMultipleParamsInString(strValue, index)) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(strValue.split(','), function (partVal, idx) {\r\n                _this.updateParam(partVal.trim(), idx);\r\n            });\r\n            return;\r\n        }\r\n        if (strValue === '' && this.def.params[index].optional) {\r\n            this.params.splice(index, 1);\r\n        }\r\n        else {\r\n            this.params[index] = strValue;\r\n        }\r\n        this.part.params = this.params;\r\n        this.updateText();\r\n    };\r\n    QueryPart.prototype.updateText = function () {\r\n        if (this.params.length === 0) {\r\n            this.text = this.def.type + '()';\r\n            return;\r\n        }\r\n        var text = this.def.type + '(';\r\n        text += this.params.join(', ');\r\n        text += ')';\r\n        this.text = text;\r\n    };\r\n    return QueryPart;\r\n}());\r\n\r\nfunction functionRenderer(part, innerExpr) {\r\n    var str = part.def.type + '(';\r\n    var parameters = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(part.params, function (value, index) {\r\n        var paramType = part.def.params[index];\r\n        if (paramType.type === 'time') {\r\n            if (value === 'auto') {\r\n                value = '$__interval';\r\n            }\r\n        }\r\n        if (paramType.quote === 'single') {\r\n            return \"'\" + value + \"'\";\r\n        }\r\n        else if (paramType.quote === 'double') {\r\n            return '\"' + value + '\"';\r\n        }\r\n        return value;\r\n    });\r\n    if (innerExpr) {\r\n        parameters.unshift(innerExpr);\r\n    }\r\n    return str + parameters.join(', ') + ')';\r\n}\r\nfunction suffixRenderer(part, innerExpr) {\r\n    return innerExpr + ' ' + part.params[0];\r\n}\r\nfunction identityRenderer(part, innerExpr) {\r\n    return part.params[0];\r\n}\r\nfunction quotedIdentityRenderer(part, innerExpr) {\r\n    return '\"' + part.params[0] + '\"';\r\n}\r\n\n\n/***/ }),\n\n/***/ 1309:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n\r\n\r\nfunction matchSeriesOverride(aliasOrRegex, seriesAlias) {\r\n    if (!aliasOrRegex) {\r\n        return false;\r\n    }\r\n    if (aliasOrRegex[0] === '/') {\r\n        var regex = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].stringToJsRegex(aliasOrRegex);\r\n        return seriesAlias.match(regex) != null;\r\n    }\r\n    return aliasOrRegex === seriesAlias;\r\n}\r\nfunction translateFillOption(fill) {\r\n    return fill === 0 ? 0.001 : fill / 10;\r\n}\r\nvar TimeSeries = /** @class */ (function () {\r\n    function TimeSeries(opts) {\r\n        this.datapoints = opts.datapoints;\r\n        this.label = opts.alias;\r\n        this.id = opts.alias;\r\n        this.alias = opts.alias;\r\n        this.aliasEscaped = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.escape(opts.alias);\r\n        this.color = opts.color;\r\n        this.valueFormater = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].valueFormats.none;\r\n        this.stats = {};\r\n        this.legend = true;\r\n        this.unit = opts.unit;\r\n        this.hasMsResolution = this.isMsResolutionNeeded();\r\n    }\r\n    TimeSeries.prototype.applySeriesOverrides = function (overrides) {\r\n        this.lines = {};\r\n        this.dashes = {\r\n            dashLength: []\r\n        };\r\n        this.points = {};\r\n        this.bars = {};\r\n        this.yaxis = 1;\r\n        this.zindex = 0;\r\n        this.nullPointMode = null;\r\n        delete this.stack;\r\n        for (var i = 0; i < overrides.length; i++) {\r\n            var override = overrides[i];\r\n            if (!matchSeriesOverride(override.alias, this.alias)) {\r\n                continue;\r\n            }\r\n            if (override.lines !== void 0) {\r\n                this.lines.show = override.lines;\r\n            }\r\n            if (override.dashes !== void 0) {\r\n                this.dashes.show = override.dashes;\r\n                this.lines.lineWidth = 0;\r\n            }\r\n            if (override.points !== void 0) {\r\n                this.points.show = override.points;\r\n            }\r\n            if (override.bars !== void 0) {\r\n                this.bars.show = override.bars;\r\n            }\r\n            if (override.fill !== void 0) {\r\n                this.lines.fill = translateFillOption(override.fill);\r\n            }\r\n            if (override.stack !== void 0) {\r\n                this.stack = override.stack;\r\n            }\r\n            if (override.linewidth !== void 0) {\r\n                this.lines.lineWidth = this.dashes.show ? 0 : override.linewidth;\r\n                this.dashes.lineWidth = override.linewidth;\r\n            }\r\n            if (override.dashLength !== void 0) {\r\n                this.dashes.dashLength[0] = override.dashLength;\r\n            }\r\n            if (override.spaceLength !== void 0) {\r\n                this.dashes.dashLength[1] = override.spaceLength;\r\n            }\r\n            if (override.nullPointMode !== void 0) {\r\n                this.nullPointMode = override.nullPointMode;\r\n            }\r\n            if (override.pointradius !== void 0) {\r\n                this.points.radius = override.pointradius;\r\n            }\r\n            if (override.steppedLine !== void 0) {\r\n                this.lines.steps = override.steppedLine;\r\n            }\r\n            if (override.zindex !== void 0) {\r\n                this.zindex = override.zindex;\r\n            }\r\n            if (override.fillBelowTo !== void 0) {\r\n                this.fillBelowTo = override.fillBelowTo;\r\n            }\r\n            if (override.color !== void 0) {\r\n                this.color = override.color;\r\n            }\r\n            if (override.transform !== void 0) {\r\n                this.transform = override.transform;\r\n            }\r\n            if (override.legend !== void 0) {\r\n                this.legend = override.legend;\r\n            }\r\n            if (override.yaxis !== void 0) {\r\n                this.yaxis = override.yaxis;\r\n            }\r\n        }\r\n    };\r\n    TimeSeries.prototype.getFlotPairs = function (fillStyle) {\r\n        var result = [];\r\n        this.stats.total = 0;\r\n        this.stats.max = -Number.MAX_VALUE;\r\n        this.stats.min = Number.MAX_VALUE;\r\n        this.stats.logmin = Number.MAX_VALUE;\r\n        this.stats.avg = null;\r\n        this.stats.current = null;\r\n        this.stats.first = null;\r\n        this.stats.delta = 0;\r\n        this.stats.diff = null;\r\n        this.stats.range = null;\r\n        this.stats.timeStep = Number.MAX_VALUE;\r\n        this.allIsNull = true;\r\n        this.allIsZero = true;\r\n        var ignoreNulls = fillStyle === 'connected';\r\n        var nullAsZero = fillStyle === 'null as zero';\r\n        var currentTime;\r\n        var currentValue;\r\n        var nonNulls = 0;\r\n        var previousTime;\r\n        var previousValue = 0;\r\n        var previousDeltaUp = true;\r\n        for (var i = 0; i < this.datapoints.length; i++) {\r\n            currentValue = this.datapoints[i][0];\r\n            currentTime = this.datapoints[i][1];\r\n            // Due to missing values we could have different timeStep all along the series\r\n            // so we have to find the minimum one (could occur with aggregators such as ZimSum)\r\n            if (previousTime !== undefined) {\r\n                var timeStep = currentTime - previousTime;\r\n                if (timeStep < this.stats.timeStep) {\r\n                    this.stats.timeStep = timeStep;\r\n                }\r\n            }\r\n            previousTime = currentTime;\r\n            if (currentValue === null) {\r\n                if (ignoreNulls) {\r\n                    continue;\r\n                }\r\n                if (nullAsZero) {\r\n                    currentValue = 0;\r\n                }\r\n            }\r\n            if (currentValue !== null) {\r\n                if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isNumber(currentValue)) {\r\n                    this.stats.total += currentValue;\r\n                    this.allIsNull = false;\r\n                    nonNulls++;\r\n                }\r\n                if (currentValue > this.stats.max) {\r\n                    this.stats.max = currentValue;\r\n                }\r\n                if (currentValue < this.stats.min) {\r\n                    this.stats.min = currentValue;\r\n                }\r\n                if (this.stats.first === null) {\r\n                    this.stats.first = currentValue;\r\n                }\r\n                else {\r\n                    if (previousValue > currentValue) {\r\n                        previousDeltaUp = false;\r\n                        if (i === this.datapoints.length - 1) {\r\n                            this.stats.delta += currentValue;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (previousDeltaUp) {\r\n                            this.stats.delta += currentValue - previousValue; // normal increment\r\n                        }\r\n                        else {\r\n                            this.stats.delta += currentValue; // account for counter reset\r\n                        }\r\n                        previousDeltaUp = true;\r\n                    }\r\n                }\r\n                previousValue = currentValue;\r\n                if (currentValue < this.stats.logmin && currentValue > 0) {\r\n                    this.stats.logmin = currentValue;\r\n                }\r\n                if (currentValue !== 0) {\r\n                    this.allIsZero = false;\r\n                }\r\n            }\r\n            result.push([currentTime, currentValue]);\r\n        }\r\n        if (this.stats.max === -Number.MAX_VALUE) {\r\n            this.stats.max = null;\r\n        }\r\n        if (this.stats.min === Number.MAX_VALUE) {\r\n            this.stats.min = null;\r\n        }\r\n        if (result.length && !this.allIsNull) {\r\n            this.stats.avg = (this.stats.total / nonNulls);\r\n            this.stats.current = result[result.length - 1][1];\r\n            if (this.stats.current === null && result.length > 1) {\r\n                this.stats.current = result[result.length - 2][1];\r\n            }\r\n        }\r\n        if (this.stats.max !== null && this.stats.min !== null) {\r\n            this.stats.range = this.stats.max - this.stats.min;\r\n        }\r\n        if (this.stats.current !== null && this.stats.first !== null) {\r\n            this.stats.diff = this.stats.current - this.stats.first;\r\n        }\r\n        this.stats.count = result.length;\r\n        return result;\r\n    };\r\n    TimeSeries.prototype.updateLegendValues = function (formater, decimals, scaledDecimals) {\r\n        this.valueFormater = formater;\r\n        this.decimals = decimals;\r\n        this.scaledDecimals = scaledDecimals;\r\n    };\r\n    TimeSeries.prototype.formatValue = function (value) {\r\n        if (!__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isFinite(value)) {\r\n            value = null; // Prevent NaN formatting\r\n        }\r\n        return this.valueFormater(value, this.decimals, this.scaledDecimals);\r\n    };\r\n    TimeSeries.prototype.isMsResolutionNeeded = function () {\r\n        for (var i = 0; i < this.datapoints.length; i++) {\r\n            if (this.datapoints[i][1] !== null) {\r\n                var timestamp = this.datapoints[i][1].toString();\r\n                if (timestamp.length === 13 && (timestamp % 1000) !== 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    TimeSeries.prototype.hideFromLegend = function (options) {\r\n        if (options.hideEmpty && this.allIsNull) {\r\n            return true;\r\n        }\r\n        // ignore series excluded via override\r\n        if (!this.legend) {\r\n            return true;\r\n        }\r\n        // ignore zero series\r\n        if (options.hideZero && this.allIsZero) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return TimeSeries;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (TimeSeries);\r\n\n\n/***/ }),\n\n/***/ 1310:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar TableModel = /** @class */ (function () {\r\n    function TableModel() {\r\n        this.columns = [];\r\n        this.columnMap = {};\r\n        this.rows = [];\r\n        this.type = 'table';\r\n    }\r\n    TableModel.prototype.sort = function (options) {\r\n        if (options.col === null || this.columns.length <= options.col) {\r\n            return;\r\n        }\r\n        this.rows.sort(function (a, b) {\r\n            a = a[options.col];\r\n            b = b[options.col];\r\n            if (a < b) {\r\n                return -1;\r\n            }\r\n            if (a > b) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n        this.columns[options.col].sort = true;\r\n        if (options.desc) {\r\n            this.rows.reverse();\r\n            this.columns[options.col].desc = true;\r\n        }\r\n        else {\r\n            this.columns[options.col].desc = false;\r\n        }\r\n    };\r\n    TableModel.prototype.addColumn = function (col) {\r\n        if (!this.columnMap[col.text]) {\r\n            this.columns.push(col);\r\n            this.columnMap[col.text] = col;\r\n        }\r\n    };\r\n    return TableModel;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (TableModel);\r\n\n\n/***/ }),\n\n/***/ 1311:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"metricAggTypes\", function() { return metricAggTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bucketAggTypes\", function() { return bucketAggTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"orderByOptions\", function() { return orderByOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"orderOptions\", function() { return orderOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sizeOptions\", function() { return sizeOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"extendedStats\", function() { return extendedStats; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intervalOptions\", function() { return intervalOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"movingAvgModelOptions\", function() { return movingAvgModelOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pipelineOptions\", function() { return pipelineOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"movingAvgModelSettings\", function() { return movingAvgModelSettings; });\n/* harmony export (immutable) */ __webpack_exports__[\"getMetricAggTypes\"] = getMetricAggTypes;\n/* harmony export (immutable) */ __webpack_exports__[\"getPipelineOptions\"] = getPipelineOptions;\n/* harmony export (immutable) */ __webpack_exports__[\"isPipelineAgg\"] = isPipelineAgg;\n/* harmony export (immutable) */ __webpack_exports__[\"getPipelineAggOptions\"] = getPipelineAggOptions;\n/* harmony export (immutable) */ __webpack_exports__[\"getMovingAvgSettings\"] = getMovingAvgSettings;\n/* harmony export (immutable) */ __webpack_exports__[\"getOrderByOptions\"] = getOrderByOptions;\n/* harmony export (immutable) */ __webpack_exports__[\"describeOrder\"] = describeOrder;\n/* harmony export (immutable) */ __webpack_exports__[\"describeMetric\"] = describeMetric;\n/* harmony export (immutable) */ __webpack_exports__[\"describeOrderBy\"] = describeOrderBy;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar metricAggTypes = [\r\n    { text: \"Count\", value: 'count', requiresField: false },\r\n    { text: \"Average\", value: 'avg', requiresField: true, supportsInlineScript: true, supportsMissing: true },\r\n    { text: \"Sum\", value: 'sum', requiresField: true, supportsInlineScript: true, supportsMissing: true },\r\n    { text: \"Max\", value: 'max', requiresField: true, supportsInlineScript: true, supportsMissing: true },\r\n    { text: \"Min\", value: 'min', requiresField: true, supportsInlineScript: true, supportsMissing: true },\r\n    { text: \"Extended Stats\", value: 'extended_stats', requiresField: true, supportsMissing: true, supportsInlineScript: true },\r\n    { text: \"Percentiles\", value: 'percentiles', requiresField: true, supportsMissing: true, supportsInlineScript: true },\r\n    { text: \"Unique Count\", value: \"cardinality\", requiresField: true, supportsMissing: true },\r\n    { text: \"Moving Average\", value: 'moving_avg', requiresField: false, isPipelineAgg: true, minVersion: 2 },\r\n    { text: \"Derivative\", value: 'derivative', requiresField: false, isPipelineAgg: true, minVersion: 2 },\r\n    { text: \"Raw Document\", value: \"raw_document\", requiresField: false }\r\n];\r\nvar bucketAggTypes = [\r\n    { text: \"Terms\", value: 'terms', requiresField: true },\r\n    { text: \"Filters\", value: 'filters' },\r\n    { text: \"Geo Hash Grid\", value: 'geohash_grid', requiresField: true },\r\n    { text: \"Date Histogram\", value: 'date_histogram', requiresField: true },\r\n    { text: \"Histogram\", value: 'histogram', requiresField: true },\r\n];\r\nvar orderByOptions = [\r\n    { text: \"Doc Count\", value: '_count' },\r\n    { text: \"Term value\", value: '_term' },\r\n];\r\nvar orderOptions = [\r\n    { text: \"Top\", value: 'desc' },\r\n    { text: \"Bottom\", value: 'asc' },\r\n];\r\nvar sizeOptions = [\r\n    { text: \"No limit\", value: '0' },\r\n    { text: \"1\", value: '1' },\r\n    { text: \"2\", value: '2' },\r\n    { text: \"3\", value: '3' },\r\n    { text: \"5\", value: '5' },\r\n    { text: \"10\", value: '10' },\r\n    { text: \"15\", value: '15' },\r\n    { text: \"20\", value: '20' },\r\n];\r\nvar extendedStats = [\r\n    { text: 'Avg', value: 'avg' },\r\n    { text: 'Min', value: 'min' },\r\n    { text: 'Max', value: 'max' },\r\n    { text: 'Sum', value: 'sum' },\r\n    { text: 'Count', value: 'count' },\r\n    { text: 'Std Dev', value: 'std_deviation' },\r\n    { text: 'Std Dev Upper', value: 'std_deviation_bounds_upper' },\r\n    { text: 'Std Dev Lower', value: 'std_deviation_bounds_lower' },\r\n];\r\nvar intervalOptions = [\r\n    { text: 'auto', value: 'auto' },\r\n    { text: '10s', value: '10s' },\r\n    { text: '1m', value: '1m' },\r\n    { text: '5m', value: '5m' },\r\n    { text: '10m', value: '10m' },\r\n    { text: '20m', value: '20m' },\r\n    { text: '1h', value: '1h' },\r\n    { text: '1d', value: '1d' },\r\n];\r\nvar movingAvgModelOptions = [\r\n    { text: 'Simple', value: 'simple' },\r\n    { text: 'Linear', value: 'linear' },\r\n    { text: 'Exponentially Weighted', value: 'ewma' },\r\n    { text: 'Holt Linear', value: 'holt' },\r\n    { text: 'Holt Winters', value: 'holt_winters' },\r\n];\r\nvar pipelineOptions = {\r\n    'moving_avg': [\r\n        { text: 'window', default: 5 },\r\n        { text: 'model', default: 'simple' },\r\n        { text: 'predict', default: undefined },\r\n        { text: 'minimize', default: false },\r\n    ],\r\n    'derivative': [\r\n        { text: 'unit', default: undefined },\r\n    ]\r\n};\r\nvar movingAvgModelSettings = {\r\n    'simple': [],\r\n    'linear': [],\r\n    'ewma': [\r\n        { text: \"Alpha\", value: \"alpha\", default: undefined }\r\n    ],\r\n    'holt': [\r\n        { text: \"Alpha\", value: \"alpha\", default: undefined },\r\n        { text: \"Beta\", value: \"beta\", default: undefined },\r\n    ],\r\n    'holt_winters': [\r\n        { text: \"Alpha\", value: \"alpha\", default: undefined },\r\n        { text: \"Beta\", value: \"beta\", default: undefined },\r\n        { text: \"Gamma\", value: \"gamma\", default: undefined },\r\n        { text: \"Period\", value: \"period\", default: undefined },\r\n        { text: \"Pad\", value: \"pad\", default: undefined, isCheckbox: true },\r\n    ],\r\n};\r\nfunction getMetricAggTypes(esVersion) {\r\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(metricAggTypes, function (f) {\r\n        if (f.minVersion) {\r\n            return f.minVersion <= esVersion;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n}\r\nfunction getPipelineOptions(metric) {\r\n    if (!isPipelineAgg(metric.type)) {\r\n        return [];\r\n    }\r\n    return pipelineOptions[metric.type];\r\n}\r\nfunction isPipelineAgg(metricType) {\r\n    if (metricType) {\r\n        var po = pipelineOptions[metricType];\r\n        return po !== null && po !== undefined;\r\n    }\r\n    return false;\r\n}\r\nfunction getPipelineAggOptions(targets) {\r\n    var result = [];\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(targets.metrics, function (metric) {\r\n        if (!isPipelineAgg(metric.type)) {\r\n            result.push({ text: describeMetric(metric), value: metric.id });\r\n        }\r\n    });\r\n    return result;\r\n}\r\nfunction getMovingAvgSettings(model, filtered) {\r\n    var filteredResult = [];\r\n    if (filtered) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(movingAvgModelSettings[model], function (setting) {\r\n            if (!(setting.isCheckbox)) {\r\n                filteredResult.push(setting);\r\n            }\r\n        });\r\n        return filteredResult;\r\n    }\r\n    return movingAvgModelSettings[model];\r\n}\r\nfunction getOrderByOptions(target) {\r\n    var metricRefs = [];\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(target.metrics, function (metric) {\r\n        if (metric.type !== 'count') {\r\n            metricRefs.push({ text: describeMetric(metric), value: metric.id });\r\n        }\r\n    });\r\n    return orderByOptions.concat(metricRefs);\r\n}\r\nfunction describeOrder(order) {\r\n    var def = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(orderOptions, { value: order });\r\n    return def.text;\r\n}\r\nfunction describeMetric(metric) {\r\n    var def = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(metricAggTypes, { value: metric.type });\r\n    return def.text + ' ' + metric.field;\r\n}\r\nfunction describeOrderBy(orderBy, target) {\r\n    var def = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(orderByOptions, { value: orderBy });\r\n    if (def) {\r\n        return def.text;\r\n    }\r\n    var metric = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(target.metrics, { id: orderBy });\r\n    if (metric) {\r\n        return describeMetric(metric);\r\n    }\r\n    else {\r\n        return \"metric not found\";\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ 1312:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImpressionsStore\", function() { return ImpressionsStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"impressions\", function() { return impressions; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_store__ = __webpack_require__(206);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_config__ = __webpack_require__(27);\n\r\n\r\n\r\nvar ImpressionsStore = /** @class */ (function () {\r\n    function ImpressionsStore() {\r\n    }\r\n    ImpressionsStore.prototype.addDashboardImpression = function (dashboardId) {\r\n        var impressionsKey = this.impressionKey(__WEBPACK_IMPORTED_MODULE_2_app_core_config__[\"default\"]);\r\n        var impressions = [];\r\n        if (__WEBPACK_IMPORTED_MODULE_0_app_core_store__[\"a\" /* default */].exists(impressionsKey)) {\r\n            impressions = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_app_core_store__[\"a\" /* default */].get(impressionsKey));\r\n            if (!__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(impressions)) {\r\n                impressions = [];\r\n            }\r\n        }\r\n        impressions = impressions.filter(function (imp) {\r\n            return dashboardId !== imp;\r\n        });\r\n        impressions.unshift(dashboardId);\r\n        if (impressions.length > 50) {\r\n            impressions.pop();\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_0_app_core_store__[\"a\" /* default */].set(impressionsKey, JSON.stringify(impressions));\r\n    };\r\n    ImpressionsStore.prototype.getDashboardOpened = function () {\r\n        var impressions = __WEBPACK_IMPORTED_MODULE_0_app_core_store__[\"a\" /* default */].get(this.impressionKey(__WEBPACK_IMPORTED_MODULE_2_app_core_config__[\"default\"])) || \"[]\";\r\n        impressions = JSON.parse(impressions);\r\n        impressions = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.filter(impressions, function (el) {\r\n            return __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isNumber(el);\r\n        });\r\n        return impressions;\r\n    };\r\n    ImpressionsStore.prototype.impressionKey = function (config) {\r\n        return \"dashboard_impressions-\" + config.bootData.user.orgId;\r\n    };\r\n    return ImpressionsStore;\r\n}());\r\n\r\nvar impressions = new ImpressionsStore();\r\n\r\n\n\n/***/ }),\n\n/***/ 1313:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_profiler__ = __webpack_require__(475);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_remarkable__ = __webpack_require__(469);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_remarkable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_remarkable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_core__ = __webpack_require__(465);\n\r\n\r\n\r\n\r\n\r\nvar TITLE_HEIGHT = 25;\r\nvar EMPTY_TITLE_HEIGHT = 9;\r\nvar PANEL_PADDING = 5;\r\nvar PANEL_BORDER = 2;\r\n\r\nvar PanelCtrl = /** @class */ (function () {\r\n    function PanelCtrl($scope, $injector) {\r\n        var _this = this;\r\n        this.$injector = $injector;\r\n        this.$scope = $scope;\r\n        this.$timeout = $injector.get('$timeout');\r\n        this.editorTabIndex = 0;\r\n        this.events = new __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"Emitter\"]();\r\n        this.timing = {};\r\n        var plugin = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].panels[this.panel.type];\r\n        if (plugin) {\r\n            this.pluginId = plugin.id;\r\n            this.pluginName = plugin.name;\r\n        }\r\n        $scope.$on(\"refresh\", function () { return _this.refresh(); });\r\n        $scope.$on(\"render\", function () { return _this.render(); });\r\n        $scope.$on(\"$destroy\", function () {\r\n            _this.events.emit('panel-teardown');\r\n            _this.events.removeAllListeners();\r\n        });\r\n        // we should do something interesting\r\n        // with newly added panels\r\n        if (this.panel.isNew) {\r\n            delete this.panel.isNew;\r\n        }\r\n    }\r\n    PanelCtrl.prototype.init = function () {\r\n        this.calculatePanelHeight();\r\n        this.publishAppEvent('panel-initialized', { scope: this.$scope });\r\n        this.events.emit('panel-initialized');\r\n    };\r\n    PanelCtrl.prototype.renderingCompleted = function () {\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_profiler__[\"a\" /* profiler */].renderingCompleted(this.panel.id, this.timing);\r\n    };\r\n    PanelCtrl.prototype.refresh = function () {\r\n        this.events.emit('refresh', null);\r\n    };\r\n    PanelCtrl.prototype.publishAppEvent = function (evtName, evt) {\r\n        this.$scope.$root.appEvent(evtName, evt);\r\n    };\r\n    PanelCtrl.prototype.changeView = function (fullscreen, edit) {\r\n        this.publishAppEvent('panel-change-view', {\r\n            fullscreen: fullscreen, edit: edit, panelId: this.panel.id\r\n        });\r\n    };\r\n    PanelCtrl.prototype.viewPanel = function () {\r\n        this.changeView(true, false);\r\n    };\r\n    PanelCtrl.prototype.editPanel = function () {\r\n        this.changeView(true, true);\r\n    };\r\n    PanelCtrl.prototype.exitFullscreen = function () {\r\n        this.changeView(false, false);\r\n    };\r\n    PanelCtrl.prototype.initEditMode = function () {\r\n        var _this = this;\r\n        this.editorTabs = [];\r\n        this.addEditorTab('General', 'public/app/partials/panelgeneral.html');\r\n        this.editModeInitiated = true;\r\n        this.events.emit('init-edit-mode', null);\r\n        var urlTab = (this.$injector.get('$routeParams').tab || '').toLowerCase();\r\n        if (urlTab) {\r\n            this.editorTabs.forEach(function (tab, i) {\r\n                if (tab.title.toLowerCase() === urlTab) {\r\n                    _this.editorTabIndex = i;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    PanelCtrl.prototype.changeTab = function (newIndex) {\r\n        this.editorTabIndex = newIndex;\r\n        var route = this.$injector.get('$route');\r\n        route.current.params.tab = this.editorTabs[newIndex].title.toLowerCase();\r\n        route.updateParams();\r\n    };\r\n    PanelCtrl.prototype.addEditorTab = function (title, directiveFn, index) {\r\n        var editorTab = { title: title, directiveFn: directiveFn };\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(directiveFn)) {\r\n            editorTab.directiveFn = function () {\r\n                return { templateUrl: directiveFn };\r\n            };\r\n        }\r\n        if (index) {\r\n            this.editorTabs.splice(index, 0, editorTab);\r\n        }\r\n        else {\r\n            this.editorTabs.push(editorTab);\r\n        }\r\n    };\r\n    PanelCtrl.prototype.getMenu = function () {\r\n        var menu = [];\r\n        menu.push({ text: 'View', click: 'ctrl.viewPanel(); dismiss();' });\r\n        menu.push({ text: 'Edit', click: 'ctrl.editPanel(); dismiss();', role: 'Editor' });\r\n        if (!this.fullscreen) {\r\n            menu.push({ text: 'Duplicate', click: 'ctrl.duplicate()', role: 'Editor' });\r\n        }\r\n        menu.push({ text: 'Share', click: 'ctrl.sharePanel(); dismiss();' });\r\n        return menu;\r\n    };\r\n    PanelCtrl.prototype.getExtendedMenu = function () {\r\n        var actions = [{ text: 'Panel JSON', click: 'ctrl.editPanelJson(); dismiss();' }];\r\n        this.events.emit('init-panel-actions', actions);\r\n        return actions;\r\n    };\r\n    PanelCtrl.prototype.otherPanelInFullscreenMode = function () {\r\n        return this.dashboard.meta.fullscreen && !this.fullscreen;\r\n    };\r\n    PanelCtrl.prototype.calculatePanelHeight = function () {\r\n        if (this.fullscreen) {\r\n            var docHeight = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(window).height();\r\n            var editHeight = Math.floor(docHeight * 0.4);\r\n            var fullscreenHeight = Math.floor(docHeight * 0.8);\r\n            this.containerHeight = this.editMode ? editHeight : fullscreenHeight;\r\n        }\r\n        else {\r\n            this.containerHeight = this.panel.height || this.row.height;\r\n            if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(this.containerHeight)) {\r\n                this.containerHeight = parseInt(this.containerHeight.replace('px', ''), 10);\r\n            }\r\n        }\r\n        this.height = this.containerHeight - (PANEL_BORDER + PANEL_PADDING + (this.panel.title ? TITLE_HEIGHT : EMPTY_TITLE_HEIGHT));\r\n    };\r\n    PanelCtrl.prototype.render = function (payload) {\r\n        // ignore if other panel is in fullscreen mode\r\n        if (this.otherPanelInFullscreenMode()) {\r\n            return;\r\n        }\r\n        this.calculatePanelHeight();\r\n        this.timing.renderStart = new Date().getTime();\r\n        this.events.emit('render', payload);\r\n    };\r\n    PanelCtrl.prototype.duplicate = function () {\r\n        var _this = this;\r\n        this.dashboard.duplicatePanel(this.panel, this.row);\r\n        this.$timeout(function () {\r\n            _this.$scope.$root.$broadcast('render');\r\n        });\r\n    };\r\n    PanelCtrl.prototype.updateColumnSpan = function (span) {\r\n        var _this = this;\r\n        this.panel.span = Math.min(Math.max(Math.floor(this.panel.span + span), 1), 12);\r\n        this.row.panelSpanChanged();\r\n        this.$timeout(function () {\r\n            _this.render();\r\n        });\r\n    };\r\n    PanelCtrl.prototype.removePanel = function () {\r\n        this.row.removePanel(this.panel);\r\n    };\r\n    PanelCtrl.prototype.editPanelJson = function () {\r\n        this.publishAppEvent('show-json-editor', {\r\n            object: this.panel,\r\n            updateHandler: this.replacePanel.bind(this)\r\n        });\r\n    };\r\n    PanelCtrl.prototype.replacePanel = function (newPanel, oldPanel) {\r\n        var _this = this;\r\n        var index = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.indexOf(this.row.panels, oldPanel);\r\n        this.row.panels.splice(index, 1);\r\n        // adding it back needs to be done in next digest\r\n        this.$timeout(function () {\r\n            newPanel.id = oldPanel.id;\r\n            newPanel.span = oldPanel.span;\r\n            _this.row.panels.splice(index, 0, newPanel);\r\n        });\r\n    };\r\n    PanelCtrl.prototype.sharePanel = function () {\r\n        var shareScope = this.$scope.$new();\r\n        shareScope.panel = this.panel;\r\n        shareScope.dashboard = this.dashboard;\r\n        this.publishAppEvent('show-modal', {\r\n            src: 'public/app/features/dashboard/partials/shareModal.html',\r\n            scope: shareScope\r\n        });\r\n    };\r\n    PanelCtrl.prototype.getInfoMode = function () {\r\n        if (this.error) {\r\n            return 'error';\r\n        }\r\n        if (!!this.panel.description) {\r\n            return 'info';\r\n        }\r\n        if (this.panel.links && this.panel.links.length) {\r\n            return 'links';\r\n        }\r\n        return '';\r\n    };\r\n    PanelCtrl.prototype.getInfoContent = function (options) {\r\n        var markdown = this.panel.description;\r\n        if (options.mode === 'tooltip') {\r\n            markdown = this.error || this.panel.description;\r\n        }\r\n        var linkSrv = this.$injector.get('linkSrv');\r\n        var templateSrv = this.$injector.get('templateSrv');\r\n        var interpolatedMarkdown = templateSrv.replace(markdown, this.panel.scopedVars);\r\n        var html = '<div class=\"markdown-html\">';\r\n        html += new __WEBPACK_IMPORTED_MODULE_4_remarkable___default.a().render(interpolatedMarkdown);\r\n        if (this.panel.links && this.panel.links.length > 0) {\r\n            html += '<ul>';\r\n            for (var _i = 0, _a = this.panel.links; _i < _a.length; _i++) {\r\n                var link = _a[_i];\r\n                var info = linkSrv.getPanelLinkAnchorInfo(link, this.panel.scopedVars);\r\n                html += '<li><a class=\"panel-menu-link\" href=\"' + info.href + '\" target=\"' + info.target + '\">' + info.title + '</a></li>';\r\n            }\r\n            html += '</ul>';\r\n        }\r\n        return html + '</div>';\r\n    };\r\n    PanelCtrl.prototype.openInspector = function () {\r\n        var modalScope = this.$scope.$new();\r\n        modalScope.panel = this.panel;\r\n        modalScope.dashboard = this.dashboard;\r\n        modalScope.panelInfoHtml = this.getInfoContent({ mode: 'inspector' });\r\n        modalScope.inspector = __WEBPACK_IMPORTED_MODULE_2_jquery___default.a.extend(true, {}, this.inspector);\r\n        this.publishAppEvent('show-modal', {\r\n            src: 'public/app/features/dashboard/partials/inspector.html',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    return PanelCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1314:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"tickStep\"] = tickStep;\n/* harmony export (immutable) */ __webpack_exports__[\"getScaledDecimals\"] = getScaledDecimals;\n/* harmony export (immutable) */ __webpack_exports__[\"getFlotTickSize\"] = getFlotTickSize;\n/**\r\n * Calculate tick step.\r\n * Implementation from d3-array (ticks.js)\r\n * https://github.com/d3/d3-array/blob/master/src/ticks.js\r\n * @param start Start value\r\n * @param stop End value\r\n * @param count Ticks count\r\n */\r\nfunction tickStep(start, stop, count) {\r\n    var e10 = Math.sqrt(50), e5 = Math.sqrt(10), e2 = Math.sqrt(2);\r\n    var step0 = Math.abs(stop - start) / Math.max(0, count), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;\r\n    if (error >= e10) {\r\n        step1 *= 10;\r\n    }\r\n    else if (error >= e5) {\r\n        step1 *= 5;\r\n    }\r\n    else if (error >= e2) {\r\n        step1 *= 2;\r\n    }\r\n    return stop < start ? -step1 : step1;\r\n}\r\nfunction getScaledDecimals(decimals, tick_size) {\r\n    return decimals - Math.floor(Math.log(tick_size) / Math.LN10);\r\n}\r\n/**\r\n * Calculate tick size based on min and max values, number of ticks and precision.\r\n * @param min           Axis minimum\r\n * @param max           Axis maximum\r\n * @param noTicks       Number of ticks\r\n * @param tickDecimals  Tick decimal precision\r\n */\r\nfunction getFlotTickSize(min, max, noTicks, tickDecimals) {\r\n    var delta = (max - min) / noTicks, dec = -Math.floor(Math.log(delta) / Math.LN10), maxDec = tickDecimals;\r\n    var magn = Math.pow(10, -dec), norm = delta / magn, // norm is between 1.0 and 10.0\r\n    size;\r\n    if (norm < 1.5) {\r\n        size = 1;\r\n    }\r\n    else if (norm < 3) {\r\n        size = 2;\r\n        // special case for 2.5, requires an extra decimal\r\n        if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\r\n            size = 2.5;\r\n            ++dec;\r\n        }\r\n    }\r\n    else if (norm < 7.5) {\r\n        size = 5;\r\n    }\r\n    else {\r\n        size = 10;\r\n    }\r\n    size *= magn;\r\n    return size;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1315:\n/***/ (function(module, exports) {\n\n/* Javascript plotting library for jQuery, version 0.8.3.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\n*/\n\n// first an inline dependency, jquery.colorhelpers.js, we inline it here\n// for convenience\n\n/* Plugin for jQuery for working with colors.\n *\n * Version 1.1.\n *\n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */\n(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=a!=null?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){if(o.a>=1){return\"rgb(\"+[o.r,o.g,o.b].join(\",\")+\")\"}else{return\"rgba(\"+[o.r,o.g,o.b,o.a].join(\",\")+\")\"}};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(c!=\"\"&&c!=\"transparent\")break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),\"body\"));if(c==\"rgba(0, 0, 0, 0)\")c=\"transparent\";return $.color.parse(c)};$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55);if(res=/rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55,parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();if(name==\"transparent\")return m(255,255,255,0);else{res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])}};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);\n\n// the actual Flot code\n(function($) {\n\n\t// Cache the prototype hasOwnProperty for faster access\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    // A shim to provide 'detach' to jQuery versions prior to 1.4.  Using a DOM\n    // operation produces the same effect as detach, i.e. removing the element\n    // without touching its jQuery data.\n\n    // Do not merge this into Flot 0.9, since it requires jQuery 1.4.4+.\n\n    if (!$.fn.detach) {\n        $.fn.detach = function() {\n            return this.each(function() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild( this );\n                }\n            });\n        };\n    }\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The Canvas object is a wrapper around an HTML5 <canvas> tag.\n\t//\n\t// @constructor\n\t// @param {string} cls List of classes to apply to the canvas.\n\t// @param {element} container Element onto which to append the canvas.\n\t//\n\t// Requiring a container is a little iffy, but unfortunately canvas\n\t// operations don't work unless the canvas is attached to the DOM.\n\n\tfunction Canvas(cls, container) {\n\n\t\tvar element = container.children(\".\" + cls)[0];\n\n\t\tif (element == null) {\n\n\t\t\telement = document.createElement(\"canvas\");\n\t\t\telement.className = cls;\n\n\t\t\t$(element).css({ direction: \"ltr\", position: \"absolute\", left: 0, top: 0 })\n\t\t\t\t.appendTo(container);\n\n\t\t\t// If HTML5 Canvas isn't available, fall back to [Ex|Flash]canvas\n\n\t\t\tif (!element.getContext) {\n\t\t\t\tif (window.G_vmlCanvasManager) {\n\t\t\t\t\telement = window.G_vmlCanvasManager.initElement(element);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element = element;\n\n\t\tvar context = this.context = element.getContext(\"2d\");\n\n\t\t// Determine the screen's ratio of physical to device-independent\n\t\t// pixels.  This is the ratio between the canvas width that the browser\n\t\t// advertises and the number of pixels actually present in that space.\n\n\t\t// The iPhone 4, for example, has a device-independent width of 320px,\n\t\t// but its screen is actually 640px wide.  It therefore has a pixel\n\t\t// ratio of 2, while most normal devices have a ratio of 1.\n\n\t\tvar devicePixelRatio = window.devicePixelRatio || 1,\n\t\t\tbackingStoreRatio =\n\t\t\t\tcontext.webkitBackingStorePixelRatio ||\n\t\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\t\tcontext.backingStorePixelRatio || 1;\n\n\t\tthis.pixelRatio = devicePixelRatio / backingStoreRatio;\n\n\t\t// Size the canvas to match the internal dimensions of its container\n\n\t\tthis.resize(container.width(), container.height());\n\n\t\t// Collection of HTML div layers for text overlaid onto the canvas\n\n\t\tthis.textContainer = null;\n\t\tthis.text = {};\n\n\t\t// Cache of text fragments and metrics, so we can avoid expensively\n\t\t// re-calculating them when the plot is re-rendered in a loop.\n\n\t\tthis._textCache = {};\n\t\tthis._textSizeCache = window.flotTextSizeCache = window.flotTextSizeCache || {};\n\t}\n\n\t// Resizes the canvas to the given dimensions.\n\t//\n\t// @param {number} width New width of the canvas, in pixels.\n\t// @param {number} width New height of the canvas, in pixels.\n\n\tCanvas.prototype.resize = function(width, height) {\n\n\t\tif (width <= 0 || height <= 0) {\n\t\t\tthrow new Error(\"Invalid dimensions for plot, width = \" + width + \", height = \" + height);\n\t\t}\n\n\t\tvar element = this.element,\n\t\t\tcontext = this.context,\n\t\t\tpixelRatio = this.pixelRatio;\n\n\t\t// Resize the canvas, increasing its density based on the display's\n\t\t// pixel ratio; basically giving it more pixels without increasing the\n\t\t// size of its element, to take advantage of the fact that retina\n\t\t// displays have that many more pixels in the same advertised space.\n\n\t\t// Resizing should reset the state (excanvas seems to be buggy though)\n\n\t\tif (this.width != width) {\n\t\t\telement.width = width * pixelRatio;\n\t\t\telement.style.width = width + \"px\";\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tif (this.height != height) {\n\t\t\telement.height = height * pixelRatio;\n\t\t\telement.style.height = height + \"px\";\n\t\t\tthis.height = height;\n\t\t}\n\n\t\t// Save the context, so we can reset in case we get replotted.  The\n\t\t// restore ensure that we're really back at the initial state, and\n\t\t// should be safe even if we haven't saved the initial state yet.\n\n\t\tcontext.restore();\n\t\tcontext.save();\n\n\t\t// Scale the coordinate space to match the display density; so even though we\n\t\t// may have twice as many pixels, we still want lines and other drawing to\n\t\t// appear at the same size; the extra pixels will just make them crisper.\n\n\t\tcontext.scale(pixelRatio, pixelRatio);\n\t};\n\n\t// Clears the entire canvas area, not including any overlaid HTML text\n\n\tCanvas.prototype.clear = function() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t};\n\n\t// Finishes rendering the canvas, including managing the text overlay.\n\n\tCanvas.prototype.render = function() {\n\n\t\tvar cache = this._textCache;\n\n\t\t// For each text layer, add elements marked as active that haven't\n\t\t// already been rendered, and remove those that are no longer active.\n\n\t\tfor (var layerKey in cache) {\n\t\t\tif (hasOwnProperty.call(cache, layerKey)) {\n\n\t\t\t\tvar layer = this.getTextLayer(layerKey),\n\t\t\t\t\tlayerCache = cache[layerKey];\n\n\t\t\t\tlayer.hide();\n\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tif (position.active) {\n\t\t\t\t\t\t\t\t\t\tif (!position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tlayer.append(position.element);\n\t\t\t\t\t\t\t\t\t\t\tposition.rendered = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tpositions.splice(i--, 1);\n\t\t\t\t\t\t\t\t\t\tif (position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tposition.element.detach();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (positions.length == 0) {\n\t\t\t\t\t\t\t\t\tdelete styleCache[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlayer.show();\n\t\t\t}\n\t\t}\n\t};\n\n\t// Creates (if necessary) and returns the text overlay container.\n\t//\n\t// @param {string} classes String of space-separated CSS classes used to\n\t//     uniquely identify the text layer.\n\t// @return {object} The jQuery-wrapped text-layer div.\n\n\tCanvas.prototype.getTextLayer = function(classes) {\n\n\t\tvar layer = this.text[classes];\n\n\t\t// Create the text layer if it doesn't exist\n\n\t\tif (layer == null) {\n\n\t\t\t// Create the text layer container, if it doesn't exist\n\n\t\t\tif (this.textContainer == null) {\n\t\t\t\tthis.textContainer = $(\"<div class='flot-text flot-temp-elem'></div>\")\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t'font-size': \"smaller\",\n\t\t\t\t\t\tcolor: \"#545454\"\n\t\t\t\t\t})\n\t\t\t\t\t.insertAfter(this.element);\n\t\t\t}\n\n\t\t\tlayer = this.text[classes] = $(\"<div></div>\")\n\t\t\t\t.addClass(classes)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tright: 0\n\t\t\t\t})\n\t\t\t\t.appendTo(this.textContainer);\n\t\t}\n\n\t\treturn layer;\n\t};\n\n\t// Creates (if necessary) and returns a text info object.\n\t//\n\t// The object looks like this:\n\t//\n\t// {\n\t//     width: Width of the text's wrapper div.\n\t//     height: Height of the text's wrapper div.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     positions: Array of positions at which this text is drawn.\n\t// }\n\t//\n\t// The positions array contains objects that look like this:\n\t//\n\t// {\n\t//     active: Flag indicating whether the text should be visible.\n\t//     rendered: Flag indicating whether the text is currently visible.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     x: X coordinate at which to draw the text.\n\t//     y: Y coordinate at which to draw the text.\n\t// }\n\t//\n\t// Each position after the first receives a clone of the original element.\n\t//\n\t// The idea is that that the width, height, and general 'identity' of the\n\t// text is constant no matter where it is placed; the placements are a\n\t// secondary property.\n\t//\n\t// Canvas maintains a cache of recently-used text info objects; getTextInfo\n\t// either returns the cached element or creates a new entry.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {string} text Text string to retrieve info for.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @return {object} a text info object.\n\n\tCanvas.prototype.getTextInfo = function(layer, text, font, angle, width) {\n\n\t\tvar textStyle, layerCache, styleCache, info;\n\n\t\t// Cast the value to a string, in case we were given a number or such\n\n\t\ttext = \"\" + text;\n\n\t\t// If the font is a font-spec object, generate a CSS font definition\n\n\t\tif (typeof font === \"object\") {\n\t\t\ttextStyle = font.style + \" \" + font.variant + \" \" + font.weight + \" \" + font.size + \"px/\" + font.lineHeight + \"px \" + font.family;\n\t\t} else {\n\t\t\ttextStyle = font;\n\t\t}\n\n\t\t// Retrieve (or create) the cache for the text's layer and styles\n\n\t\tlayerCache = this._textCache[layer];\n\n\t\tif (layerCache == null) {\n\t\t\tlayerCache = this._textCache[layer] = {};\n\t\t}\n\n\t\tstyleCache = layerCache[textStyle];\n\n\t\tif (styleCache == null) {\n\t\t\tstyleCache = layerCache[textStyle] = {};\n\t\t}\n\n\t\tinfo = styleCache[text];\n\n\t\t// If we can't find a matching element in our cache, create a new one\n\n\t\tif (info == null) {\n\n\t\t\tvar element = $(\"<div></div>\").html(text)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t'max-width': width,\n\t\t\t\t\ttop: -9999\n\t\t\t\t})\n\t\t\t\t.appendTo(this.getTextLayer(layer));\n\n\t\t\tif (typeof font === \"object\") {\n\t\t\t\telement.css({\n\t\t\t\t\tfont: textStyle,\n\t\t\t\t\tcolor: font.color\n\t\t\t\t});\n\t\t\t} else if (typeof font === \"string\") {\n\t\t\t\telement.addClass(font);\n\t\t\t}\n\n      info = styleCache[text] = { element: element, positions: [] };\n\n      var size = this._textSizeCache[text];\n\t\t\tif (size) {\n        info.width = size.width;\n        info.height = size.height;\n\t\t\t} else {\n        info.width = element.outerWidth(true);\n        info.height = element.outerHeight(true);\n        this._textSizeCache[text] = { width: info.width, height: info.height };\n\t\t\t}\n\t\t\telement.detach();\n\t\t}\n\n\t\treturn info;\n\t};\n\n\t// Adds a text string to the canvas text overlay.\n\t//\n\t// The text isn't drawn immediately; it is marked as rendering, which will\n\t// result in its addition to the canvas on the next render pass.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number} x X coordinate at which to draw the text.\n\t// @param {number} y Y coordinate at which to draw the text.\n\t// @param {string} text Text string to draw.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @param {string=} halign Horizontal alignment of the text; either \"left\",\n\t//     \"center\" or \"right\".\n\t// @param {string=} valign Vertical alignment of the text; either \"top\",\n\t//     \"middle\" or \"bottom\".\n\n\tCanvas.prototype.addText = function(layer, x, y, text, font, angle, width, halign, valign) {\n\n\t\tvar info = this.getTextInfo(layer, text, font, angle, width),\n\t\t\tpositions = info.positions;\n\n\t\t// Tweak the div's position to match the text's alignment\n\n\t\tif (halign == \"center\") {\n\t\t\tx -= info.width / 2;\n\t\t} else if (halign == \"right\") {\n\t\t\tx -= info.width;\n\t\t}\n\n\t\tif (valign == \"middle\") {\n\t\t\ty -= info.height / 2;\n\t\t} else if (valign == \"bottom\") {\n\t\t\ty -= info.height;\n\t\t}\n\n\t\t// Determine whether this text already exists at this position.\n\t\t// If so, mark it for inclusion in the next render pass.\n\n\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\tposition.active = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If the text doesn't exist at this position, create a new entry\n\n\t\t// For the very first position we'll re-use the original element,\n\t\t// while for subsequent ones we'll clone it.\n\n\t\tposition = {\n\t\t\tactive: true,\n\t\t\trendered: false,\n\t\t\telement: positions.length ? info.element.clone() : info.element,\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\n\t\tpositions.push(position);\n\n\t\t// Move the element to its final position within the container\n\n\t\tposition.element.css({\n\t\t\ttop: Math.round(y),\n\t\t\tleft: Math.round(x),\n\t\t\t'text-align': halign\t// In case the text wraps\n\t\t});\n\t};\n\n\t// Removes one or more text strings from the canvas text overlay.\n\t//\n\t// If no parameters are given, all text within the layer is removed.\n\t//\n\t// Note that the text is not immediately removed; it is simply marked as\n\t// inactive, which will result in its removal on the next render pass.\n\t// This avoids the performance penalty for 'clear and redraw' behavior,\n\t// where we potentially get rid of all text on a layer, but will likely\n\t// add back most or all of it later, as when redrawing axes, for example.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number=} x X coordinate of the text.\n\t// @param {number=} y Y coordinate of the text.\n\t// @param {string=} text Text string to remove.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which the text is rotated, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\n\tCanvas.prototype.removeText = function(layer, x, y, text, font, angle) {\n\t\tif (text == null) {\n\t\t\tvar layerCache = this._textCache[layer];\n\t\t\tif (layerCache != null) {\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tposition.active = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar positions = this.getTextInfo(layer, text, font, angle).positions;\n\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\t\tposition.active = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The top-level container for the entire plot.\n\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n\n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                legend: {\n                    show: true,\n                    noColumns: 1, // number of colums in legend table\n                    labelFormatter: null, // fn: string -> string\n                    labelBoxBorderColor: \"#ccc\", // border color for the little label boxes\n                    container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n                    position: \"ne\", // position of default legend container within plot\n                    margin: 5, // distance from grid edge to default legend container within plot\n                    backgroundColor: null, // null means auto-detect\n                    backgroundOpacity: 0.85, // set to 0 to avoid background\n                    sorted: null    // default to no legend sorting\n                },\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    font: null, // null (derived from CSS in placeholder) or object like { size: 11, lineHeight: 13, style: \"italic\", weight: \"bold\", family: \"sans-serif\", variant: \"small-caps\" }\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoscaleMargin: null, // margin in % to add if auto-setting min/max\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of ticks, or \"full\" for whole line\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null // number or [number, \"unit\"]\n                },\n                yaxis: {\n                    autoscaleMargin: 0.02,\n                    position: \"left\" // or \"right\"\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: \"circle\" // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled\n                        lineWidth: 2, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                        // Omit 'zero', so we can later default its value to\n                        // match that of the 'fill' option.\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        barWidth: 1, // in units of the x axis\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // \"left\", \"right\", or \"center\"\n                        horizontal: false,\n                        zero: true\n                    },\n                    shadowSize: 3,\n                    highlightColor: null\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    margin: 0, // distance from the canvas edge to the grid\n                    labelMargin: 5, // in pixels\n                    eventSectionHeight: 0, // space for event section\n                    axisMargin: 8, // in pixels\n                    borderWidth: 2, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 10 // how far the mouse can be away to activate an item\n                },\n                interaction: {\n                    redrawOverlayInterval: 1000/60 // time between updates, -1 means in same flow\n                },\n                hooks: {}\n            },\n        surface = null,     // the canvas for the plot itself\n        overlay = null,     // canvas for interactive stuff on top of plot\n        eventHolder = null, // jQuery object that events should be bound to\n        ctx = null, octx = null,\n        xaxes = [], yaxes = [],\n        plotOffset = { left: 0, right: 0, top: 0, bottom: 0},\n        plotWidth = 0, plotHeight = 0,\n        hooks = {\n            processOptions: [],\n            processRawData: [],\n            processDatapoints: [],\n            processOffset: [],\n            drawBackground: [],\n            drawSeries: [],\n            draw: [],\n            bindEvents: [],\n            drawOverlay: [],\n            shutdown: []\n        },\n        plot = this;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() { return placeholder; };\n        plot.getCanvas = function() { return surface.element; };\n        plot.getPlotOffset = function() { return plotOffset; };\n        plot.width = function () { return plotWidth; };\n        plot.height = function () { return plotHeight; };\n        plot.offset = function () {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function () { return series; };\n        plot.getAxes = function () {\n            var res = {}, i;\n            $.each(xaxes.concat(yaxes), function (_, axis) {\n                if (axis)\n                    res[axis.direction + (axis.n != 1 ? axis.n : \"\") + \"axis\"] = axis;\n            });\n            return res;\n        };\n        plot.getXAxes = function () { return xaxes; };\n        plot.getYAxes = function () { return yaxes; };\n        plot.c2p = canvasToAxisCoords;\n        plot.p2c = axisToCanvasCoords;\n        plot.getOptions = function () { return options; };\n        plot.highlight = highlight;\n        plot.unhighlight = unhighlight;\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left, 10),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top, 10)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.destroy = function () {\n            shutdown();\n            placeholder.removeData(\"plot\").empty();\n\n            series = [];\n            options = null;\n            surface = null;\n            overlay = null;\n            eventHolder = null;\n            ctx = null;\n            octx = null;\n            xaxes = [];\n            yaxes = [];\n            hooks = null;\n            highlights = [];\n            plot = null;\n        };\n        plot.resize = function () {\n        \tvar width = placeholder.width(),\n        \t\theight = placeholder.height();\n            surface.resize(width, height);\n            overlay.resize(width, height);\n        };\n\n        // public attributes\n        plot.hooks = hooks;\n\n        // initialize\n        initPlugins(plot);\n        parseOptions(options_);\n        setupCanvases();\n        setData(data_);\n        setupGrid();\n        draw();\n        bindEvents();\n\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i)\n                hook[i].apply(this, args);\n        }\n\n        function initPlugins() {\n\n            // References to key classes, allowing plugins to modify them\n\n            var classes = {\n                Canvas: Canvas\n            };\n\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot, classes);\n                if (p.options)\n                    $.extend(true, options, p.options);\n            }\n        }\n\n        function parseOptions(opts) {\n\n            $.extend(true, options, opts);\n\n            // $.extend merges arrays, rather than replacing them.  When less\n            // colors are provided than the size of the default palette, we\n            // end up with those colors plus the remaining defaults, which is\n            // not expected behavior; avoid it by replacing them here.\n\n            if (opts && opts.colors) {\n            \toptions.colors = opts.colors;\n            }\n\n            if (options.xaxis.color == null)\n                options.xaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            if (options.yaxis.color == null)\n                options.yaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            if (options.xaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.xaxis.tickColor = options.grid.tickColor || options.xaxis.color;\n            if (options.yaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.yaxis.tickColor = options.grid.tickColor || options.yaxis.color;\n\n            if (options.grid.borderColor == null)\n                options.grid.borderColor = options.grid.color;\n            if (options.grid.tickColor == null)\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            // Fill in defaults for axis options, including any unspecified\n            // font-spec fields, if a font-spec was provided.\n\n            // If no x/y axis options were provided, create one of each anyway,\n            // since the rest of the code assumes that they exist.\n\n            var i, axisOptions, axisCount,\n                fontSize = placeholder.css(\"font-size\"),\n                fontSizeDefault = fontSize ? +fontSize.replace(\"px\", \"\") : 13,\n                fontDefaults = {\n                    style: placeholder.css(\"font-style\"),\n                    size: Math.round(0.8 * fontSizeDefault),\n                    variant: placeholder.css(\"font-variant\"),\n                    weight: placeholder.css(\"font-weight\"),\n                    family: placeholder.css(\"font-family\")\n                };\n\n            axisCount = options.xaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.xaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.xaxis, axisOptions);\n                options.xaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            axisCount = options.yaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.yaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.yaxis, axisOptions);\n                options.yaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            // backwards compatibility, to be removed in future\n            if (options.xaxis.noTicks && options.xaxis.ticks == null)\n                options.xaxis.ticks = options.xaxis.noTicks;\n            if (options.yaxis.noTicks && options.yaxis.ticks == null)\n                options.yaxis.ticks = options.yaxis.noTicks;\n            if (options.x2axis) {\n                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);\n                options.xaxes[1].position = \"top\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.x2axis.min == null) {\n                    options.xaxes[1].min = null;\n                }\n                if (options.x2axis.max == null) {\n                    options.xaxes[1].max = null;\n                }\n            }\n            if (options.y2axis) {\n                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);\n                options.yaxes[1].position = \"right\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.y2axis.min == null) {\n                    options.yaxes[1].min = null;\n                }\n                if (options.y2axis.max == null) {\n                    options.yaxes[1].max = null;\n                }\n            }\n            if (options.grid.coloredAreas)\n                options.grid.markings = options.grid.coloredAreas;\n            if (options.grid.coloredAreasColor)\n                options.grid.markingsColor = options.grid.coloredAreasColor;\n            if (options.lines)\n                $.extend(true, options.series.lines, options.lines);\n            if (options.points)\n                $.extend(true, options.series.points, options.points);\n            if (options.bars)\n                $.extend(true, options.series.bars, options.bars);\n            if (options.shadowSize != null)\n                options.series.shadowSize = options.shadowSize;\n            if (options.highlightColor != null)\n                options.series.highlightColor = options.highlightColor;\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i)\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            for (i = 0; i < options.yaxes.length; ++i)\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n\n            // add hooks from options\n            for (var n in hooks)\n                if (options.hooks[n] && options.hooks[n].length)\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData();\n        }\n\n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                }\n                else\n                    s.data = d[i];\n                res.push(s);\n            }\n\n            return res;\n        }\n\n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a == \"object\") // if we got a real axis, extract number\n                a = a.n;\n            if (typeof a != \"number\")\n                a = 1; // default to first axis\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return $.grep(xaxes.concat(yaxes), function (a) { return a; });\n        }\n\n        function canvasToAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes\n            var res = {}, i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used)\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used)\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n            }\n\n            if (res.x1 !== undefined)\n                res.x = res.x1;\n            if (res.y1 !== undefined)\n                res.y = res.y1;\n\n            return res;\n        }\n\n        function axisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {}, i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"x\";\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"y\";\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            return res;\n        }\n\n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1])\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes == xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)\n                };\n\n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n\n            var neededColors = series.length, maxIndex = -1, i;\n\n            // Subtract the number of series that already have fixed colors or\n            // color indexes from the number that we still need to generate.\n\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    neededColors--;\n                    if (typeof sc == \"number\" && sc > maxIndex) {\n                        maxIndex = sc;\n                    }\n                }\n            }\n\n            // If any of the series have fixed color indexes, then we need to\n            // generate at least as many colors as the highest index.\n\n            if (neededColors <= maxIndex) {\n                neededColors = maxIndex + 1;\n            }\n\n            // Generate all the colors, using first the option colors and then\n            // variations on those colors once they're exhausted.\n\n            var c, colors = [], colorPool = options.colors,\n                colorPoolSize = colorPool.length, variation = 0;\n\n            for (i = 0; i < neededColors; i++) {\n\n                c = $.color.parse(colorPool[i % colorPoolSize] || \"#666\");\n\n                // Each time we exhaust the colors in the pool we adjust\n                // a scaling factor used to produce more variations on\n                // those colors. The factor alternates negative/positive\n                // to produce lighter/darker colors.\n\n                // Reset the variation after every few cycles, or else\n                // it will end up producing only white or black colors.\n\n                if (i % colorPoolSize == 0 && i) {\n                    if (variation >= 0) {\n                        if (variation < 0.5) {\n                            variation = -variation - 0.2;\n                        } else variation = 0;\n                    } else variation = -variation;\n                }\n\n                colors[i] = c.scale('rgb', 1 + variation);\n            }\n\n            // Finalize the series options, filling in their colors\n\n            var colori = 0, s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                }\n                else if (typeof s.color == \"number\")\n                    s.color = colors[s.color].toString();\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s)\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    if (show)\n                        s.lines.show = true;\n                }\n\n                // If nothing was provided for lines.zero, default it to match\n                // lines.fill, since areas by default should extend to zero.\n\n                if (s.lines.zero == null) {\n                    s.lines.zero = !!s.lines.fill;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n\n        function processData() {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                fakeInfinity = Number.MAX_VALUE,\n                i, j, k, m, length,\n                s, points, ps, x, y, axis, val, f, p,\n                data, format;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min != -fakeInfinity)\n                    axis.datamin = min;\n                if (max > axis.datamax && max != fakeInfinity)\n                    axis.datamax = max;\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                // init axis\n                axis.datamin = topSentry;\n                axis.datamax = bottomSentry;\n                axis.used = false;\n            });\n\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = { points: [] };\n\n                executeHooks(hooks.processRawData, [ s, s.data, s.datapoints ]);\n            }\n\n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                data = s.data;\n                format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({ x: true, number: true, required: true });\n                    format.push({ y: true, number: true, required: true });\n\n                    if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                        var autoscale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                        format.push({ y: true, number: true, required: false, defaultValue: 0, autoscale: autoscale });\n                        if (s.bars.horizontal) {\n                            delete format[format.length - 1].y;\n                            format[format.length - 1].x = true;\n                        }\n                    }\n\n                    s.datapoints.format = format;\n                }\n\n                if (s.datapoints.pointsize != null)\n                    continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n\n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                var insertSteps = s.lines.show && s.lines.steps;\n                s.xaxis.used = s.yaxis.used = true;\n\n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val))\n                                        val = null;\n                                    else if (val == Infinity)\n                                        val = fakeInfinity;\n                                    else if (val == -Infinity)\n                                        val = -fakeInfinity;\n                                }\n\n                                if (val == null) {\n                                    if (f.required)\n                                        nullify = true;\n\n                                    if (f.defaultValue != null)\n                                        val = f.defaultValue;\n                                }\n                            }\n\n                            points[k + m] = val;\n                        }\n                    }\n\n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.autoscale !== false) {\n                                    if (f.x) {\n                                        updateAxis(s.xaxis, val, val);\n                                    }\n                                    if (f.y) {\n                                        updateAxis(s.yaxis, val, val);\n                                    }\n                                }\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n\n                    if (insertSteps && k > 0 && (!nullify || points[k - ps] != null)) {\n                        // copy the point to make room for a middle point\n                        for (m = 0; m < ps; ++m)\n                            points[k + ps + m] = points[k + m];\n\n                        // middle point has same y\n                        points[k + 1] = points[k - ps + 1] || 0;\n\n                        // if series has null values, let's give the last !null value a nice step\n                        if(nullify)\n                        \tpoints[k] = p[0];\n\n                        // we've added a point, better reflect that\n                        k += ps;\n                    }\n                }\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points;\n                ps = s.datapoints.pointsize;\n\n                // grafana\n                if (s.transform === 'negative-Y') {\n                  for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                      val = points[j + 1];\n                      points[j + 1] = -val;\n                  }\n                }\n\n                executeHooks(hooks.processDatapoints, [ s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points;\n                ps = s.datapoints.pointsize;\n                format = s.datapoints.format;\n\n                var xmin = topSentry, ymin = topSentry,\n                    xmax = bottomSentry, ymax = bottomSentry;\n\n                for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                    for (m = 0; m < ps; ++m) {\n                        val = points[j + m];\n                        f = format[m];\n                        if (!f || f.autoscale === false || val == fakeInfinity || val == -fakeInfinity)\n                            continue;\n\n                        if (f.x) {\n                            if (val < xmin)\n                                xmin = val;\n                            if (val > xmax)\n                                xmax = val;\n                        }\n                        if (f.y) {\n                            if (val < ymin)\n                                ymin = val;\n                            if (val > ymax)\n                                ymax = val;\n                        }\n                    }\n                }\n\n                if (s.bars.show) {\n                    // make sure we got room for the bar on the dancing floor\n                    var delta;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            delta = 0;\n                            break;\n                        case \"right\":\n                            delta = -s.bars.barWidth;\n                            break;\n                        default:\n                            delta = -s.bars.barWidth / 2;\n                    }\n\n                    if (s.bars.horizontal) {\n                        ymin += delta;\n                        ymax += delta + s.bars.barWidth;\n                    }\n                    else {\n                        xmin += delta;\n                        xmax += delta + s.bars.barWidth;\n                    }\n                }\n\n                updateAxis(s.xaxis, xmin, xmax);\n                updateAxis(s.yaxis, ymin, ymax);\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                if (axis.datamin == topSentry)\n                    axis.datamin = null;\n                if (axis.datamax == bottomSentry)\n                    axis.datamax = null;\n            });\n        }\n\n        function setupCanvases() {\n            // Make sure the placeholder is clear of everything except canvases\n            // from a previous plot in this container that we'll try to re-use.\n\n            placeholder.find(\".flot-temp-elem\").remove();\n\n            if (placeholder.css(\"position\") == 'static')\n                placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n\n            surface = new Canvas(\"flot-base\", placeholder);\n            overlay = new Canvas(\"flot-overlay\", placeholder); // overlay canvas for interactive features\n\n            ctx = surface.context;\n            octx = overlay.context;\n\n            // define which element we're listening for events on\n            eventHolder = $(overlay.element).unbind();\n\n            // If we're re-using a plot object, shut down the old one\n\n            var existing = placeholder.data(\"plot\");\n\n            if (existing) {\n                existing.shutdown();\n                overlay.clear();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            // bind events\n            if (options.grid.hoverable) {\n                eventHolder.mousemove(onMouseMove);\n\n                // Use bind, rather than .mouseleave, because we officially\n                // still support jQuery 1.2.6, which doesn't define a shortcut\n                // for mouseenter or mouseleave.  This was a bug/oversight that\n                // was fixed somewhere around 1.3.x.  We can return to using\n                // .mouseleave when we drop support for 1.2.6.\n\n                eventHolder.bind(\"mouseleave\", onMouseLeave);\n            }\n\n            if (options.grid.clickable)\n                eventHolder.click(onClick);\n\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function shutdown() {\n            if (redrawTimeout)\n                clearTimeout(redrawTimeout);\n\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n\n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n\n            function identity(x) { return x; }\n\n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n\n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction == \"x\") {\n                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                m = Math.min(t(axis.max), t(axis.min));\n            }\n            else {\n                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t == identity) // slight optimization\n                axis.p2c = function (p) { return (p - m) * s; };\n            else\n                axis.p2c = function (p) { return (t(p) - m) * s; };\n            // canvas coordinate to data point\n            if (!it)\n                axis.c2p = function (c) { return m + c / s; };\n            else\n                axis.c2p = function (c) { return it(m + c / s); };\n        }\n\n        function measureTickLabels(axis) {\n\n            var opts = axis.options,\n                ticks = axis.ticks || [],\n                labelWidth = opts.labelWidth || 0,\n                labelHeight = opts.labelHeight || 0,\n                maxWidth = labelWidth || (axis.direction == \"x\" ? Math.floor(surface.width / (ticks.length || 1)) : null),\n                legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                font = opts.font || \"flot-tick-label tickLabel\";\n\n            for (var i = 0; i < ticks.length; ++i) {\n\n                var t = ticks[i];\n\n                if (!t.label)\n                    continue;\n\n                var info = surface.getTextInfo(layer, t.label, font, null, maxWidth);\n\n                /// Grafana fix, add +1 to label width\n                labelWidth = Math.max(labelWidth, info.width + 1);\n                labelHeight = Math.max(labelHeight, info.height);\n            }\n\n            axis.labelWidth = opts.labelWidth || labelWidth;\n            axis.labelHeight = opts.labelHeight || labelHeight;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset; this first phase only looks at one\n            // dimension per axis, the other dimension depends on the\n            // other axes so will have to wait\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                isXAxis = axis.direction === \"x\",\n                tickLength = axis.options.tickLength,\n                axisMargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                eventSectionPadding = options.grid.eventSectionHeight,\n                innermost = true,\n                outermost = true,\n                first = true,\n                found = false;\n\n            // Determine the axis's position in its direction and on its side\n\n            $.each(isXAxis ? xaxes : yaxes, function(i, a) {\n                if (a && (a.show || a.reserveSpace)) {\n                    if (a === axis) {\n                        found = true;\n                    } else if (a.options.position === pos) {\n                        if (found) {\n                            outermost = false;\n                        } else {\n                            innermost = false;\n                        }\n                    }\n                    if (!found) {\n                        first = false;\n                    }\n                }\n            });\n\n            // The outermost axis on each side has no margin\n\n            if (outermost) {\n                axisMargin = 0;\n            }\n\n            // The ticks for the first axis in each direction stretch across\n\n            if (tickLength == null) {\n                tickLength = first ? \"full\" : 5;\n            }\n\n            if (!isNaN(+tickLength))\n                padding += +tickLength;\n\n            if (isXAxis) {\n                // Add space for event section\n                lh += padding;\n                lh += eventSectionPadding;\n\n                if (pos == \"bottom\") {\n                    plotOffset.bottom += lh + axisMargin;\n                    axis.box = { top: surface.height - plotOffset.bottom, height: lh };\n                }\n                else {\n                    axis.box = { top: plotOffset.top + axisMargin, height: lh };\n                    plotOffset.top += lh + axisMargin;\n                }\n            }\n            else {\n                lw += padding;\n\n                if (pos == \"left\") {\n                    axis.box = { left: plotOffset.left + axisMargin, width: lw };\n                    plotOffset.left += lw + axisMargin;\n                }\n                else {\n                    plotOffset.right += lw + axisMargin;\n                    axis.box = { left: surface.width - plotOffset.right, width: lw };\n                }\n            }\n\n             // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.box.padding = padding;\n            axis.box.eventSectionPadding = eventSectionPadding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // now that all axis boxes have been placed in one\n            // dimension, we can set the remaining dimension coordinates\n            if (axis.direction == \"x\") {\n                axis.box.left = plotOffset.left - axis.labelWidth / 2;\n                axis.box.width = surface.width - plotOffset.left - plotOffset.right + axis.labelWidth;\n            }\n            else {\n                axis.box.top = plotOffset.top - axis.labelHeight / 2;\n                axis.box.height = surface.height - plotOffset.bottom - plotOffset.top + axis.labelHeight;\n            }\n        }\n\n        function adjustLayoutForThingsStickingOut() {\n            // possibly adjust plot offset to ensure everything stays\n            // inside the canvas and isn't clipped off\n\n            var minMargin = options.grid.minBorderMargin,\n                axis, i;\n\n            // check stuff from the plot (FIXME: this should just read\n            // a value from the series, otherwise it's impossible to\n            // customize)\n            if (minMargin == null) {\n                minMargin = 0;\n                for (i = 0; i < series.length; ++i)\n                    minMargin = Math.max(minMargin, 2 * (series[i].points.radius + series[i].points.lineWidth/2));\n            }\n\n            var margins = {\n                left: minMargin,\n                right: minMargin,\n                top: minMargin,\n                bottom: minMargin\n            };\n\n            // check axis labels, note we don't check the actual\n            // labels but instead use the overall width/height to not\n            // jump as much around with replots\n            $.each(allAxes(), function (_, axis) {\n                if (axis.reserveSpace && axis.ticks && axis.ticks.length) {\n                    if (axis.direction === \"x\") {\n                        margins.left = Math.max(margins.left, axis.labelWidth / 2);\n                        margins.right = Math.max(margins.right, axis.labelWidth / 2);\n                    } else {\n                        margins.bottom = Math.max(margins.bottom, axis.labelHeight / 2);\n                        margins.top = Math.max(margins.top, axis.labelHeight / 2);\n                    }\n                }\n            });\n\n            plotOffset.left = Math.ceil(Math.max(margins.left, plotOffset.left));\n            plotOffset.right = Math.ceil(Math.max(margins.right, plotOffset.right));\n            plotOffset.top = Math.ceil(Math.max(margins.top, plotOffset.top));\n            plotOffset.bottom = Math.ceil(Math.max(margins.bottom, plotOffset.bottom));\n        }\n\n        function setupGrid() {\n            var i, axes = allAxes(), showGrid = options.grid.show;\n\n            // Initialize the plot's offset from the edge of the canvas\n\n            for (var a in plotOffset) {\n                var margin = options.grid.margin || 0;\n                plotOffset[a] = typeof margin == \"number\" ? margin : margin[a] || 0;\n            }\n\n            executeHooks(hooks.processOffset, [plotOffset]);\n\n            // If the grid is visible, add its border width to the offset\n\n            for (var a in plotOffset) {\n                if(typeof(options.grid.borderWidth) == \"object\") {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth[a] : 0;\n                }\n                else {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth : 0;\n                }\n            }\n\n            $.each(axes, function (_, axis) {\n                var axisOpts = axis.options;\n                axis.show = axisOpts.show == null ? axis.used : axisOpts.show;\n                axis.reserveSpace = axisOpts.reserveSpace == null ? axis.show : axisOpts.reserveSpace;\n                setRange(axis);\n            });\n\n            if (showGrid) {\n\n                var allocatedAxes = $.grep(axes, function (axis) {\n                    return axis.show || axis.reserveSpace;\n                });\n\n                $.each(allocatedAxes, function (_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks);\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions calculated, we can compute the\n                // axis bounding boxes, start from the outside\n                // (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i)\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n\n                // make sure we've got enough space for things that\n                // might stick out\n                adjustLayoutForThingsStickingOut();\n\n                $.each(allocatedAxes, function (_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n            }\n\n            plotWidth = surface.width - plotOffset.left - plotOffset.right;\n            plotHeight = surface.height - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plot dimensions, we can compute the scaling\n            $.each(axes, function (_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (showGrid) {\n                drawAxisLabels();\n            }\n\n            insertLegend();\n        }\n\n        function setRange(axis) {\n            var opts = axis.options,\n                min = +(opts.min != null ? opts.min : axis.datamin),\n                max = +(opts.max != null ? opts.max : axis.datamax),\n                delta = max - min;\n\n            if (delta == 0.0) {\n                // Grafana fix: wide Y min and max using increased wideFactor\n                // when all series values are the same\n                var wideFactor = 0.25;\n                var widen = Math.abs(max == 0 ? 1 : max * wideFactor);\n\n                if (opts.min == null) {\n                  min -= widen;\n                }\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (opts.max == null || opts.min != null) {\n                  max += widen;\n                }\n            }\n            else {\n                // consider autoscaling\n                var margin = opts.autoscaleMargin;\n                if (margin != null) {\n                    if (opts.min == null) {\n                        min -= delta * margin;\n                        // make sure we don't go below zero if all values\n                        // are positive\n                        if (min < 0 && axis.datamin != null && axis.datamin >= 0)\n                            min = 0;\n                    }\n                    if (opts.max == null) {\n                        max += delta * margin;\n                        if (max > 0 && axis.datamax != null && axis.datamax <= 0)\n                            max = 0;\n                    }\n                }\n            }\n            axis.min = min;\n            axis.max = max;\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n\n            // estimate number of ticks\n            var noTicks;\n            if (typeof opts.ticks == \"number\" && opts.ticks > 0)\n                noTicks = opts.ticks;\n            else\n                // heuristic based on the model a*sqrt(x) fitted to\n                // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(axis.direction == \"x\" ? surface.width : surface.height);\n\n            var delta = (axis.max - axis.min) / noTicks,\n                dec = -Math.floor(Math.log(delta) / Math.LN10),\n                maxDec = opts.tickDecimals;\n\n            if (maxDec != null && dec > maxDec) {\n                dec = maxDec;\n            }\n\n            var magn = Math.pow(10, -dec),\n                norm = delta / magn, // norm is between 1.0 and 10.0\n                size;\n\n            if (norm < 1.5) {\n                size = 1;\n            } else if (norm < 3) {\n                size = 2;\n                // special case for 2.5, requires an extra decimal\n                if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n                    size = 2.5;\n                    ++dec;\n                }\n            } else if (norm < 7.5) {\n                size = 5;\n            } else {\n                size = 10;\n            }\n\n            size *= magn;\n\n            if (opts.minTickSize != null && size < opts.minTickSize) {\n                size = opts.minTickSize;\n            }\n\n            axis.delta = delta;\n            axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n            axis.tickSize = opts.tickSize || size;\n            // grafana addition\n            axis.scaledDecimals = axis.tickDecimals - Math.floor(Math.log(axis.tickSize) / Math.LN10);\n\n            // Time mode was moved to a plug-in in 0.8, and since so many people use it\n            // we'll add an especially friendly reminder to make sure they included it.\n\n            if (opts.mode == \"time\" && !axis.tickGenerator) {\n                throw new Error(\"Time mode requires the flot.time plugin.\");\n            }\n\n            // Flot supports base-10 axes; any other mode else is handled by a plug-in,\n            // like flot.time.js.\n\n            if (!axis.tickGenerator) {\n\n                axis.tickGenerator = function (axis) {\n\n                    var ticks = [],\n                        start = floorInBase(axis.min, axis.tickSize),\n                        i = 0,\n                        v = Number.NaN,\n                        prev;\n\n                    do {\n                        prev = v;\n                        v = start + i * axis.tickSize;\n                        ticks.push(v);\n                        ++i;\n                    } while (v < axis.max && v != prev);\n                    return ticks;\n                };\n\n\t\t\t\taxis.tickFormatter = function (value, axis) {\n\n\t\t\t\t\tvar factor = axis.tickDecimals ? Math.pow(10, axis.tickDecimals) : 1;\n\t\t\t\t\tvar formatted = \"\" + Math.round(value * factor) / factor;\n\n\t\t\t\t\t// If tickDecimals was specified, ensure that we have exactly that\n\t\t\t\t\t// much precision; otherwise default to the value's own precision.\n\n\t\t\t\t\tif (axis.tickDecimals != null) {\n\t\t\t\t\t\tvar decimal = formatted.indexOf(\".\");\n\t\t\t\t\t\tvar precision = decimal == -1 ? 0 : formatted.length - decimal - 1;\n\t\t\t\t\t\tif (precision < axis.tickDecimals) {\n\t\t\t\t\t\t\treturn (precision ? formatted : formatted + \".\") + (\"\" + factor).substr(1, axis.tickDecimals - precision);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n                    return formatted;\n                };\n            }\n\n            if ($.isFunction(opts.tickFormatter))\n                axis.tickFormatter = function (v, axis) { return \"\" + opts.tickFormatter(v, axis); };\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction == \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis != axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = axis.tickGenerator(axis);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null)\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        if (opts.max == null && niceTicks.length > 1)\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                    }\n\n                    axis.tickGenerator = function (axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [], v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n\n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (!axis.mode && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(axis.delta) / Math.LN10) + 1),\n                            ts = axis.tickGenerator(axis);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec))))\n                            axis.tickDecimals = extraDec;\n                    }\n                }\n            }\n        }\n\n        function setTicks(axis) {\n            var oticks = axis.options.ticks, ticks = [];\n            if (oticks == null || (typeof oticks == \"number\" && oticks > 0))\n                ticks = axis.tickGenerator(axis);\n            else if (oticks) {\n                if ($.isFunction(oticks))\n                    // generate the ticks\n                    ticks = oticks(axis);\n                else\n                    ticks = oticks;\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t == \"object\") {\n                    v = +t[0];\n                    if (t.length > 1)\n                        label = t[1];\n                }\n                else\n                    v = +t;\n                if (label == null)\n                    label = axis.tickFormatter(v, axis);\n                if (!isNaN(v))\n                    axis.ticks.push({ v: v, label: label });\n            }\n        }\n\n        function snapRangeToTicks(axis, ticks) {\n            if (axis.options.autoscaleMargin && ticks.length > 0) {\n                // snap to ticks\n                if (axis.options.min == null)\n                    axis.min = Math.min(axis.min, ticks[0].v);\n                if (axis.options.max == null && ticks.length > 1)\n                    axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n\n        function draw() {\n\n            surface.clear();\n\n            executeHooks(hooks.drawBackground, [ctx]);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor)\n                drawBackground();\n\n            if (grid.show && !grid.aboveData) {\n                drawGrid();\n            }\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i]]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n\n            if (grid.show && grid.aboveData) {\n                drawGrid();\n            }\n\n            surface.render();\n\n            // A draw implies that either the axes or data have changed, so we\n            // should probably update the overlay highlights as well.\n\n            triggerRedrawOverlay();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (var i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawGrid() {\n            var i, axes, bw, bc;\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // draw markings\n            var markings = options.grid.markings;\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n\n                    markings = markings(axes);\n                }\n\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null)\n                        xrange.from = xrange.axis.min;\n                    if (xrange.to == null)\n                        xrange.to = xrange.axis.max;\n                    if (yrange.from == null)\n                        yrange.from = yrange.axis.min;\n                    if (yrange.to == null)\n                        yrange.to = yrange.axis.max;\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max)\n                        continue;\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    var xequal = xrange.from === xrange.to,\n                        yequal = yrange.from === yrange.to;\n\n                    if (xequal && yequal) {\n                        continue;\n                    }\n\n                    // then draw\n                    xrange.from = Math.floor(xrange.axis.p2c(xrange.from));\n                    xrange.to = Math.floor(xrange.axis.p2c(xrange.to));\n                    yrange.from = Math.floor(yrange.axis.p2c(yrange.from));\n                    yrange.to = Math.floor(yrange.axis.p2c(yrange.to));\n\n                    if (xequal || yequal) {\n                        var lineWidth = m.lineWidth || options.grid.markingsLineWidth,\n                            subPixel = lineWidth % 2 ? 0.5 : 0;\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = lineWidth;\n                        if (xequal) {\n                            ctx.moveTo(xrange.to + subPixel, yrange.from);\n                            ctx.lineTo(xrange.to + subPixel, yrange.to);\n                        } else {\n                            ctx.moveTo(xrange.from, yrange.to + subPixel);\n                            ctx.lineTo(xrange.to, yrange.to + subPixel);\n                        }\n                        ctx.stroke();\n                    } else {\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                                     xrange.to - xrange.from,\n                                     yrange.from - yrange.to);\n                    }\n                }\n            }\n\n            // draw the ticks\n            axes = allAxes();\n            bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box,\n                    t = axis.tickLength, x, y, xoff, yoff;\n                if (!axis.show || axis.ticks.length == 0)\n                    continue;\n\n                ctx.lineWidth = 1;\n\n                // find the edges\n                if (axis.direction == \"x\") {\n                    x = 0;\n                    if (t == \"full\")\n                        y = (axis.position == \"top\" ? 0 : plotHeight);\n                    else\n                        y = box.top - plotOffset.top + (axis.position == \"top\" ? box.height : 0);\n                }\n                else {\n                    y = 0;\n                    if (t == \"full\")\n                        x = (axis.position == \"left\" ? 0 : plotWidth);\n                    else\n                        x = box.left - plotOffset.left + (axis.position == \"left\" ? box.width : 0);\n                }\n\n                // draw tick bar\n                if (!axis.innermost) {\n                    ctx.strokeStyle = axis.options.color;\n                    ctx.beginPath();\n                    xoff = yoff = 0;\n                    if (axis.direction == \"x\")\n                        xoff = plotWidth + 1;\n                    else\n                        yoff = plotHeight + 1;\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\") {\n                            y = Math.floor(y) + 0.5;\n                        } else {\n                            x = Math.floor(x) + 0.5;\n                        }\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                    ctx.stroke();\n                }\n\n                // draw ticks\n\n                ctx.strokeStyle = axis.options.tickColor;\n\n                ctx.beginPath();\n                for (i = 0; i < axis.ticks.length; ++i) {\n                    var v = axis.ticks[i].v;\n\n                    xoff = yoff = 0;\n\n                    if (isNaN(v) || v < axis.min || v > axis.max\n                        // skip those lying on the axes if we got a border\n                        || (t == \"full\"\n                            && ((typeof bw == \"object\" && bw[axis.position] > 0) || bw > 0)\n                            && (v == axis.min || v == axis.max)))\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t == \"full\" ? -plotHeight : t;\n\n                        if (axis.position == \"top\")\n                            yoff = -yoff;\n                    }\n                    else {\n                        y = axis.p2c(v);\n                        xoff = t == \"full\" ? -plotWidth : t;\n\n                        if (axis.position == \"left\")\n                            xoff = -xoff;\n                    }\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\")\n                            x = Math.floor(x) + 0.5;\n                        else\n                            y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n\n                ctx.stroke();\n            }\n\n\n            // draw border\n            if (bw) {\n                // If either borderWidth or borderColor is an object, then draw the border\n                // line by line instead of as one rectangle\n                bc = options.grid.borderColor;\n                if(typeof bw == \"object\" || typeof bc == \"object\") {\n                    if (typeof bw !== \"object\") {\n                        bw = {top: bw, right: bw, bottom: bw, left: bw};\n                    }\n                    if (typeof bc !== \"object\") {\n                        bc = {top: bc, right: bc, bottom: bc, left: bc};\n                    }\n\n                    if (bw.top > 0) {\n                        ctx.strokeStyle = bc.top;\n                        ctx.lineWidth = bw.top;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left, 0 - bw.top/2);\n                        ctx.lineTo(plotWidth, 0 - bw.top/2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.right > 0) {\n                        ctx.strokeStyle = bc.right;\n                        ctx.lineWidth = bw.right;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right / 2, 0 - bw.top);\n                        ctx.lineTo(plotWidth + bw.right / 2, plotHeight);\n                        ctx.stroke();\n                    }\n\n                    if (bw.bottom > 0) {\n                        ctx.strokeStyle = bc.bottom;\n                        ctx.lineWidth = bw.bottom;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right, plotHeight + bw.bottom / 2);\n                        ctx.lineTo(0, plotHeight + bw.bottom / 2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.left > 0) {\n                        ctx.strokeStyle = bc.left;\n                        ctx.lineWidth = bw.left;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left/2, plotHeight + bw.bottom);\n                        ctx.lineTo(0- bw.left/2, 0);\n                        ctx.stroke();\n                    }\n                }\n                else {\n                    ctx.lineWidth = bw;\n                    ctx.strokeStyle = options.grid.borderColor;\n                    ctx.strokeRect(-bw/2, -bw/2, plotWidth + bw, plotHeight + bw);\n                }\n            }\n\n            ctx.restore();\n        }\n\n        function drawAxisLabels() {\n\n            $.each(allAxes(), function (_, axis) {\n                var box = axis.box,\n                    legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                    layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                    font = axis.options.font || \"flot-tick-label tickLabel\",\n                    tick, x, y, halign, valign;\n\n                // Remove text before checking for axis.show and ticks.length;\n                // otherwise plugins, like flot-tickrotor, that draw their own\n                // tick labels will end up with both theirs and the defaults.\n\n                surface.removeText(layer);\n\n                if (!axis.show || axis.ticks.length == 0)\n                    return;\n\n                for (var i = 0; i < axis.ticks.length; ++i) {\n\n                    tick = axis.ticks[i];\n                    if (!tick.label || tick.v < axis.min || tick.v > axis.max)\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        halign = \"center\";\n                        x = plotOffset.left + axis.p2c(tick.v);\n                        if (axis.position == \"bottom\") {\n                            y = box.top + box.padding + box.eventSectionPadding;\n                        } else {\n                            y = box.top + box.height - box.padding;\n                            valign = \"bottom\";\n                        }\n                    } else {\n                        valign = \"middle\";\n                        y = plotOffset.top + axis.p2c(tick.v);\n                        if (axis.position == \"left\") {\n                            x = box.left + box.width - box.padding;\n                            halign = \"right\";\n                        } else {\n                            x = box.left + box.padding;\n                        }\n                    }\n\n                    surface.addText(layer, x, y, tick.label, font, null, null, halign, valign);\n                }\n            });\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show)\n                drawSeriesLines(series);\n            if (series.bars.show)\n                drawSeriesBars(series);\n            if (series.points.show)\n                drawSeriesPoints(series);\n        }\n\n        function drawSeriesLines(series) {\n            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    prevx = null, prevy = null;\n\n                ctx.beginPath();\n                for (var i = ps; i < points.length; i += ps) {\n                    var x1 = points[i - ps], y1 = points[i - ps + 1],\n                        x2 = points[i], y2 = points[i + 1];\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min) {\n                        if (y2 < axisy.min)\n                            continue;   // line segment is outside\n                        // compute new intersection point\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min) {\n                        if (y1 < axisy.min)\n                            continue;\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max) {\n                        if (y2 > axisy.max)\n                            continue;\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max) {\n                        if (y1 > axisy.max)\n                            continue;\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (x1 != prevx || y1 != prevy)\n                        ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n\n                    prevx = x2;\n                    prevy = y2;\n                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n                }\n                ctx.stroke();\n            }\n\n            function plotLineArea(datapoints, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),\n                    i = 0, top, areaOpen = false,\n                    ypos = 1, segmentStart = 0, segmentEnd = 0;\n\n                // we process each segment in two turns, first forward\n                // direction to sketch out top, then once we hit the\n                // end we go backwards to sketch the bottom\n                while (true) {\n                    if (ps > 0 && i > points.length + ps)\n                        break;\n\n                    i += ps; // ps is negative if going backwards\n\n                    var x1 = points[i - ps],\n                        y1 = points[i - ps + ypos],\n                        x2 = points[i], y2 = points[i + ypos];\n\n                    if (areaOpen) {\n                        if (ps > 0 && x1 != null && x2 == null) {\n                            // at turning point\n                            segmentEnd = i;\n                            ps = -ps;\n                            ypos = 2;\n                            continue;\n                        }\n\n                        if (ps < 0 && i == segmentStart + ps) {\n                            // done with the reverse sweep\n                            ctx.fill();\n                            areaOpen = false;\n                            ps = -ps;\n                            ypos = 1;\n                            i = segmentStart = segmentEnd + ps;\n                            continue;\n                        }\n                    }\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip x values\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (!areaOpen) {\n                        // open area\n                        ctx.beginPath();\n                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                        areaOpen = true;\n                    }\n\n                    // now first check the case where both is outside\n                    if (y1 >= axisy.max && y2 >= axisy.max) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                        continue;\n                    }\n                    else if (y1 <= axisy.min && y2 <= axisy.min) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                        continue;\n                    }\n\n                    // else it's a bit more complicated, there might\n                    // be a flat maxed out rectangle first, then a\n                    // triangular cutout or reverse; to find these\n                    // keep track of the current x values\n                    var x1old = x1, x2old = x2;\n\n                    // clip the y values, without shortcutting, we\n                    // go through all cases in turn\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // if the x value was changed we got a rectangle\n                    // to fill\n                    if (x1 != x1old) {\n                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                        // it goes to (x1, y1), but we fill that below\n                    }\n\n                    // fill triangular section, this sometimes result\n                    // in redundant points if (x1, y1) hasn't changed\n                    // from previous line to, but we just ignore that\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                    // fill the other rectangle if it's there\n                    if (x2 != x2old) {\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                    }\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            var lw = series.lines.lineWidth,\n                sw = series.shadowSize;\n            // FIXME: consider another form of shadow when filling is turned on\n            if (lw > 0 && sw > 0) {\n                // draw shadow as a thick and thin line with transparency\n                ctx.lineWidth = sw;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                // position shadow at angle from the mid of line\n                var angle = Math.PI/18;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2), series.xaxis, series.yaxis);\n                ctx.lineWidth = sw/2;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4), series.xaxis, series.yaxis);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(series.datapoints, series.xaxis, series.yaxis);\n            }\n\n            if (lw > 0)\n                plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function drawSeriesPoints(series) {\n            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i], y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                        continue;\n\n                    ctx.beginPath();\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n                    if (symbol == \"circle\")\n                        ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n                    else\n                        symbol(ctx, x, y, radius, shadow);\n                    ctx.closePath();\n\n                    if (fillStyle) {\n                        ctx.fillStyle = fillStyle;\n                        ctx.fill();\n                    }\n                    ctx.stroke();\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var lw = series.points.lineWidth,\n                sw = series.shadowSize,\n                radius = series.points.radius,\n                symbol = series.points.symbol;\n\n            // If the user sets the line width to 0, we change it to a very\n            // small value. A line width of 0 seems to force the default of 1.\n            // Doing the conditional here allows the shadow setting to still be\n            // optional even with a lineWidth of 0.\n\n            if( lw == 0 )\n                lw = 0.0001;\n\n            if (lw > 0 && sw > 0) {\n                // draw shadow in two steps\n                var w = sw / 2;\n                ctx.lineWidth = w;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                plotPoints(series.datapoints, radius, null, w + w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n\n                ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                plotPoints(series.datapoints, radius, null, w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            plotPoints(series.datapoints, radius,\n                       getFillStyle(series.points, series.color), 0, false,\n                       series.xaxis, series.yaxis, symbol);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left, right, bottom, top,\n                drawLeft, drawRight, drawTop, drawBottom,\n                tmp;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            }\n            else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n\n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max)\n                return;\n\n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n\n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n\n            // fill the bar\n            if (fillStyleCallback) {\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fillRect(left, top, right - left, bottom - top)\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom);\n                if (drawLeft)\n                    c.lineTo(left, top);\n                else\n                    c.moveTo(left, top);\n                if (drawTop)\n                    c.lineTo(right, top);\n                else\n                    c.moveTo(right, top);\n                if (drawRight)\n                    c.lineTo(right, bottom);\n                else\n                    c.moveTo(right, bottom);\n                if (drawBottom)\n                    c.lineTo(left, bottom);\n                else\n                    c.moveTo(left, bottom);\n                c.stroke();\n            }\n        }\n\n        function drawSeriesBars(series) {\n            function plotBars(datapoints, barLeft, barRight, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null)\n                        continue;\n                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // FIXME: figure out a way to add shadows (for instance along the right edge)\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n\n            var barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            var fillStyleCallback = series.bars.fill ? function (bottom, top) { return getFillStyle(series.bars, series.color, bottom, top); } : null;\n            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top) {\n            var fill = filloptions.fill;\n            if (!fill)\n                return null;\n\n            if (filloptions.fillColor)\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n\n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill == \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n\n        function insertLegend() {\n\n            if (options.legend.container != null) {\n                $(options.legend.container).html(\"\");\n            } else {\n                placeholder.find(\".legend\").remove();\n            }\n\n            if (!options.legend.show) {\n                return;\n            }\n\n            var fragments = [], entries = [], rowStarted = false,\n                lf = options.legend.labelFormatter, s, label;\n\n            // Build a list of legend entries, with each having a label and a color\n\n            for (var i = 0; i < series.length; ++i) {\n                s = series[i];\n                if (s.label) {\n                    label = lf ? lf(s.label, s) : s.label;\n                    if (label) {\n                        entries.push({\n                            label: label,\n                            color: s.color\n                        });\n                    }\n                }\n            }\n\n            // Sort the legend using either the default or a custom comparator\n\n            if (options.legend.sorted) {\n                if ($.isFunction(options.legend.sorted)) {\n                    entries.sort(options.legend.sorted);\n                } else if (options.legend.sorted == \"reverse\") {\n                \tentries.reverse();\n                } else {\n                    var ascending = options.legend.sorted != \"descending\";\n                    entries.sort(function(a, b) {\n                        return a.label == b.label ? 0 : (\n                            (a.label < b.label) != ascending ? 1 : -1   // Logical XOR\n                        );\n                    });\n                }\n            }\n\n            // Generate markup for the list of entries, in their final order\n\n            for (var i = 0; i < entries.length; ++i) {\n\n                var entry = entries[i];\n\n                if (i % options.legend.noColumns == 0) {\n                    if (rowStarted)\n                        fragments.push('</tr>');\n                    fragments.push('<tr>');\n                    rowStarted = true;\n                }\n\n                fragments.push(\n                    '<td class=\"legendColorBox\"><div style=\"border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px\"><div style=\"width:4px;height:0;border:5px solid ' + entry.color + ';overflow:hidden\"></div></div></td>' +\n                    '<td class=\"legendLabel\">' + entry.label + '</td>'\n                );\n            }\n\n            if (rowStarted)\n                fragments.push('</tr>');\n\n            if (fragments.length == 0)\n                return;\n\n            var table = '<table style=\"font-size:smaller;color:' + options.grid.color + '\">' + fragments.join(\"\") + '</table>';\n            if (options.legend.container != null)\n                $(options.legend.container).html(table);\n            else {\n                var pos = \"\",\n                    p = options.legend.position,\n                    m = options.legend.margin;\n                if (m[0] == null)\n                    m = [m, m];\n                if (p.charAt(0) == \"n\")\n                    pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n                else if (p.charAt(0) == \"s\")\n                    pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n                if (p.charAt(1) == \"e\")\n                    pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n                else if (p.charAt(1) == \"w\")\n                    pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n                var legend = $('<div class=\"legend\">' + table.replace('style=\"', 'style=\"position:absolute;' + pos +';') + '</div>').appendTo(placeholder);\n                if (options.legend.backgroundOpacity != 0.0) {\n                    // put in the transparent background\n                    // separately to avoid blended labels and\n                    // label boxes\n                    var c = options.legend.backgroundColor;\n                    if (c == null) {\n                        c = options.grid.backgroundColor;\n                        if (c && typeof c == \"string\")\n                            c = $.color.parse(c);\n                        else\n                            c = $.color.extract(legend, 'background-color');\n                        c.a = 1;\n                        c = c.toString();\n                    }\n                    var div = legend.children();\n                    $('<div style=\"position:absolute;width:' + div.width() + 'px;height:' + div.height() + 'px;' + pos +'background-color:' + c + ';\"> </div>').prependTo(legend).css('opacity', options.legend.backgroundOpacity);\n                }\n            }\n        }\n\n\n        // interactive features\n\n        var highlights = [],\n            redrawTimeout = null;\n\n        // returns the data item the mouse is over, or null if none is found\n        function findNearbyItem(mouseX, mouseY, seriesFilter) {\n            var maxDistance = options.grid.mouseActiveRadius,\n                smallestDistance = maxDistance * maxDistance + 1,\n                item = null, foundPoint = false, i, j, ps;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(series[i]))\n                    continue;\n\n                var s = series[i],\n                    axisx = s.xaxis,\n                    axisy = s.yaxis,\n                    points = s.datapoints.points,\n                    mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n                    my = axisy.c2p(mouseY),\n                    maxx = maxDistance / axisx.scale,\n                    maxy = maxDistance / axisy.scale;\n\n                ps = s.datapoints.pointsize;\n                // with inverse transforms, we can't use the maxx/maxy\n                // optimization, sadly\n                if (axisx.options.inverseTransform)\n                    maxx = Number.MAX_VALUE;\n                if (axisy.options.inverseTransform)\n                    maxy = Number.MAX_VALUE;\n\n                if (s.lines.show || s.points.show) {\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1];\n                        if (x == null)\n                            continue;\n\n                        // For points and lines, the cursor must be within a\n                        // certain distance to the data point\n                        if (x - mx > maxx || x - mx < -maxx ||\n                            y - my > maxy || y - my < -maxy)\n                            continue;\n\n                        // We have to calculate distances in pixels, not in\n                        // data units, because the scales of the axes may be different\n                        var dx = Math.abs(axisx.p2c(x) - mouseX),\n                            dy = Math.abs(axisy.p2c(y) - mouseY),\n                            dist = dx * dx + dy * dy; // we save the sqrt\n\n                        // use <= to ensure last point takes precedence\n                        // (last generally means on top of)\n                        if (dist < smallestDistance) {\n                            smallestDistance = dist;\n                            item = [i, j / ps];\n                        }\n                    }\n                }\n\n                if (s.bars.show && !item) { // no other point can be nearby\n\n                    var barLeft, barRight;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            barLeft = 0;\n                            break;\n                        case \"right\":\n                            barLeft = -s.bars.barWidth;\n                            break;\n                        default:\n                            barLeft = -s.bars.barWidth / 2;\n                    }\n\n                    barRight = barLeft + s.bars.barWidth;\n\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1], b = points[j + 2];\n                        if (x == null)\n                            continue;\n\n                        // for a bar graph, the cursor must be inside the bar\n                        if (series[i].bars.horizontal ?\n                            (mx <= Math.max(b, x) && mx >= Math.min(b, x) &&\n                             my >= y + barLeft && my <= y + barRight) :\n                            (mx >= x + barLeft && mx <= x + barRight &&\n                             my >= Math.min(b, y) && my <= Math.max(b, y)))\n                                item = [i, j / ps];\n                    }\n                }\n            }\n\n            if (item) {\n                i = item[0];\n                j = item[1];\n                ps = series[i].datapoints.pointsize;\n\n                return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                         dataIndex: j,\n                         series: series[i],\n                         seriesIndex: i };\n            }\n\n            return null;\n        }\n\n        function onMouseMove(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return s[\"hoverable\"] != false; });\n        }\n\n        function onMouseLeave(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return false; });\n        }\n\n        function onClick(e) {\n          if (plot.isSelecting) {\n            return;\n          }\n\n          triggerClickHoverEvent(\"plotclick\", e, function (s) { return s[\"clickable\"] != false; });\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter) {\n            var offset = eventHolder.offset(),\n                canvasX = event.pageX - offset.left - plotOffset.left,\n                canvasY = event.pageY - offset.top - plotOffset.top,\n            pos = canvasToAxisCoords({ left: canvasX, top: canvasY });\n\n            pos.pageX = event.pageX;\n            pos.pageY = event.pageY;\n\n            // Add ctrlKey and metaKey to event\n            pos.ctrlKey = event.ctrlKey;\n            pos.metaKey = event.metaKey;\n\n            var item = findNearbyItem(canvasX, canvasY, seriesFilter);\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left, 10);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top, 10);\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto == eventname &&\n                        !(item && h.series == item.series &&\n                          h.point[0] == item.datapoint[0] &&\n                          h.point[1] == item.datapoint[1]))\n                        unhighlight(h.series, h.point);\n                }\n\n                if (item)\n                    highlight(item.series, item.datapoint, eventname);\n            }\n\n            placeholder.trigger(eventname, [ pos, item ]);\n        }\n\n        function triggerRedrawOverlay() {\n            var t = options.interaction.redrawOverlayInterval;\n            if (t == -1) {      // skip event queue\n                drawOverlay();\n                return;\n            }\n\n            if (!redrawTimeout)\n                redrawTimeout = setTimeout(drawOverlay, t);\n        }\n\n        function drawOverlay() {\n            redrawTimeout = null;\n\n            // draw highlights\n            octx.save();\n            overlay.clear();\n            octx.translate(plotOffset.left, plotOffset.top);\n\n            var i, hi;\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show)\n                    drawBarHighlight(hi.series, hi.point);\n                else\n                    drawPointHighlight(hi.series, hi.point);\n            }\n            octx.restore();\n\n            executeHooks(hooks.drawOverlay, [octx]);\n        }\n\n        function highlight(s, point, auto) {\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i == -1) {\n                highlights.push({ series: s, point: point, auto: auto });\n\n                triggerRedrawOverlay();\n            }\n            else if (!auto)\n                highlights[i].auto = false;\n        }\n\n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                triggerRedrawOverlay();\n                return;\n            }\n\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i != -1) {\n                highlights.splice(i, 1);\n\n                triggerRedrawOverlay();\n            }\n        }\n\n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series == s && h.point[0] == p[0]\n                    && h.point[1] == p[1])\n                    return i;\n            }\n            return -1;\n        }\n\n        function drawPointHighlight(series, point) {\n            var x = point[0], y = point[1],\n                axisx = series.xaxis, axisy = series.yaxis,\n                highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString();\n\n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                return;\n\n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = highlightColor;\n            var radius = 1.5 * pointRadius;\n            x = axisx.p2c(x);\n            y = axisy.p2c(y);\n\n            octx.beginPath();\n            if (series.points.symbol == \"circle\")\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            else\n                series.points.symbol(octx, x, y, radius, false);\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point) {\n            var highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString(),\n                fillStyle = highlightColor,\n                barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = highlightColor;\n\n            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth,\n                    function () { return fillStyle; }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec == \"string\")\n                return spec;\n            else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n\n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c != \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null)\n                            co = co.scale('rgb', c.brightness);\n                        if (c.opacity != null)\n                            co.a *= c.opacity;\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n\n                return gradient;\n            }\n        }\n    }\n\n    // Add the plot function to the top level of the jQuery object\n\n    $.plot = function(placeholder, data, options) {\n        //var t0 = new Date();\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        //(window.console ? console.log : alert)(\"time used (msecs): \" + ((new Date()).getTime() - t0.getTime()));\n        return plot;\n    };\n\n    $.plot.version = \"0.8.3\";\n\n    $.plot.plugins = [];\n\n    // Also add the plot function as a chainable property\n\n    $.fn.plot = function(data, options) {\n        return this.each(function() {\n            $.plot(this, data, options);\n        });\n    };\n\n    // round to nearby lower multiple of base\n    function floorInBase(n, base) {\n        return base * Math.floor(n / base);\n    }\n\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1316:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__annotations_srv__ = __webpack_require__(1396);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__event_editor__ = __webpack_require__(1399);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__event_manager__ = __webpack_require__(1400);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__event__ = __webpack_require__(1326);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__annotation_tooltip__ = __webpack_require__(1401);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsSrv\", function() { return __WEBPACK_IMPORTED_MODULE_0__annotations_srv__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"eventEditor\", function() { return __WEBPACK_IMPORTED_MODULE_1__event_editor__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"EventManager\", function() { return __WEBPACK_IMPORTED_MODULE_2__event_manager__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationEvent\", function() { return __WEBPACK_IMPORTED_MODULE_3__event__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"annotationTooltipDirective\", function() { return __WEBPACK_IMPORTED_MODULE_4__annotation_tooltip__[\"a\"]; });\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1317:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"importPluginModule\"] = importPluginModule;\n/* harmony export (immutable) */ __webpack_exports__[\"loadPluginCss\"] = loadPluginCss;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js__ = __webpack_require__(1420);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_core_time_series2__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_core_table_model__ = __webpack_require__(1310);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_app_core_utils_datemath__ = __webpack_require__(467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_app_core_utils_file_export__ = __webpack_require__(1324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_app_core_utils_flatten__ = __webpack_require__(1328);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_app_core_utils_ticks__ = __webpack_require__(1314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_app_features_dashboard_impression_store__ = __webpack_require__(1312);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__built_in_plugins__ = __webpack_require__(1431);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_d3__ = __webpack_require__(470);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_rxjs_Observable__ = __webpack_require__(466);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_rxjs_Observable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_rxjs_Subject__ = __webpack_require__(1515);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_rxjs_Subject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_rxjs_add_observable_empty__ = __webpack_require__(1518);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_rxjs_add_observable_empty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_rxjs_add_observable_empty__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_rxjs_add_observable_from__ = __webpack_require__(1520);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21_rxjs_add_observable_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_rxjs_add_observable_from__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_rxjs_add_operator_map__ = __webpack_require__(1529);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_rxjs_add_operator_map__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_rxjs_add_operator_combineAll__ = __webpack_require__(1532);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23_rxjs_add_operator_combineAll___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_23_rxjs_add_operator_combineAll__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24_app_features_annotations_all__ = __webpack_require__(1316);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__plugins_panel_graph_data_processor__ = __webpack_require__(1341);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26_vendor_flot_jquery_flot__ = __webpack_require__(1315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26_vendor_flot_jquery_flot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_26_vendor_flot_jquery_flot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27_vendor_flot_jquery_flot_selection__ = __webpack_require__(1334);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27_vendor_flot_jquery_flot_selection___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_27_vendor_flot_jquery_flot_selection__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28_vendor_flot_jquery_flot_time__ = __webpack_require__(1335);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28_vendor_flot_jquery_flot_time___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_28_vendor_flot_jquery_flot_time__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29_vendor_flot_jquery_flot_stack__ = __webpack_require__(1336);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29_vendor_flot_jquery_flot_stack___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_29_vendor_flot_jquery_flot_stack__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30_vendor_flot_jquery_flot_pie__ = __webpack_require__(1539);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30_vendor_flot_jquery_flot_pie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_30_vendor_flot_jquery_flot_pie__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31_vendor_flot_jquery_flot_stackpercent__ = __webpack_require__(1337);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31_vendor_flot_jquery_flot_stackpercent___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_31_vendor_flot_jquery_flot_stackpercent__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32_vendor_flot_jquery_flot_fillbelow__ = __webpack_require__(1338);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32_vendor_flot_jquery_flot_fillbelow___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_32_vendor_flot_jquery_flot_fillbelow__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33_vendor_flot_jquery_flot_crosshair__ = __webpack_require__(1339);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33_vendor_flot_jquery_flot_crosshair___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_33_vendor_flot_jquery_flot_crosshair__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34_vendor_flot_jquery_flot_dashes__ = __webpack_require__(1340);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34_vendor_flot_jquery_flot_dashes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_34_vendor_flot_jquery_flot_dashes__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// rxjs\r\n\r\n\r\n// these imports add functions to Observable\r\n\r\n\r\n\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.config({\r\n    baseURL: 'public',\r\n    defaultExtension: 'js',\r\n    packages: {\r\n        'plugins': {\r\n            defaultExtension: 'js'\r\n        }\r\n    },\r\n    map: {\r\n        text: 'vendor/plugin-text/text.js',\r\n        css: 'vendor/plugin-css/css.js'\r\n    },\r\n    meta: {\r\n        '*': {\r\n            esModule: true,\r\n            authorization: true,\r\n        }\r\n    }\r\n});\r\n// add cache busting\r\nvar systemLocate = __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.locate;\r\n__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.cacheBust = '?bust=' + Date.now();\r\n__WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.locate = function (load) {\r\n    var System = this;\r\n    return Promise.resolve(systemLocate.call(this, load)).then(function (address) {\r\n        return address + System.cacheBust;\r\n    });\r\n};\r\nfunction exposeToPlugin(name, component) {\r\n    __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.registerDynamic(name, [], true, function (require, exports, module) {\r\n        module.exports = component;\r\n    });\r\n}\r\nexposeToPlugin('lodash', __WEBPACK_IMPORTED_MODULE_1_lodash___default.a);\r\nexposeToPlugin('moment', __WEBPACK_IMPORTED_MODULE_4_moment___default.a);\r\nexposeToPlugin('jquery', __WEBPACK_IMPORTED_MODULE_6_jquery___default.a);\r\nexposeToPlugin('angular', __WEBPACK_IMPORTED_MODULE_5_angular___default.a);\r\nexposeToPlugin('d3', __WEBPACK_IMPORTED_MODULE_17_d3__);\r\nexposeToPlugin('rxjs/Subject', __WEBPACK_IMPORTED_MODULE_19_rxjs_Subject__[\"Subject\"]);\r\nexposeToPlugin('rxjs/Observable', __WEBPACK_IMPORTED_MODULE_18_rxjs_Observable__[\"Observable\"]);\r\n// backward compatible path\r\nexposeToPlugin('vendor/npm/rxjs/Rx', {\r\n    Subject: __WEBPACK_IMPORTED_MODULE_19_rxjs_Subject__[\"Subject\"],\r\n    Observable: __WEBPACK_IMPORTED_MODULE_18_rxjs_Observable__[\"Observable\"]\r\n});\r\nexposeToPlugin('app/features/dashboard/impression_store', {\r\n    impressions: __WEBPACK_IMPORTED_MODULE_15_app_features_dashboard_impression_store__[\"impressions\"],\r\n    __esModule: true\r\n});\r\n////////////\r\n\r\n\r\nexposeToPlugin('app/features/annotations/all', __WEBPACK_IMPORTED_MODULE_24_app_features_annotations_all__[\"EventManager\"]);\r\nexposeToPlugin('app/plugins/panel/graph/graph', { name: 1 });\r\nexposeToPlugin('app/plugins/panel/graph/legend', { name: 2 });\r\nexposeToPlugin('app/plugins/panel/graph/data_processor', __WEBPACK_IMPORTED_MODULE_25__plugins_panel_graph_data_processor__[\"a\" /* DataProcessor */]);\r\n///////////////\r\nexposeToPlugin('app/plugins/sdk', __WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__);\r\nexposeToPlugin('app/core/utils/datemath', __WEBPACK_IMPORTED_MODULE_11_app_core_utils_datemath__);\r\nexposeToPlugin('app/core/utils/file_export', __WEBPACK_IMPORTED_MODULE_12_app_core_utils_file_export__);\r\nexposeToPlugin('app/core/utils/flatten', __WEBPACK_IMPORTED_MODULE_13_app_core_utils_flatten__);\r\nexposeToPlugin('app/core/utils/kbn', __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__[\"default\"]);\r\nexposeToPlugin('app/core/utils/ticks', __WEBPACK_IMPORTED_MODULE_14_app_core_utils_ticks__);\r\nexposeToPlugin('app/core/config', __WEBPACK_IMPORTED_MODULE_7_app_core_config__[\"default\"]);\r\nexposeToPlugin('app/core/time_series', __WEBPACK_IMPORTED_MODULE_8_app_core_time_series2__[\"a\" /* default */]);\r\nexposeToPlugin('app/core/time_series2', __WEBPACK_IMPORTED_MODULE_8_app_core_time_series2__[\"a\" /* default */]);\r\nexposeToPlugin('app/core/table_model', __WEBPACK_IMPORTED_MODULE_9_app_core_table_model__[\"default\"]);\r\nexposeToPlugin('app/core/app_events', __WEBPACK_IMPORTED_MODULE_10_app_core_core__[\"appEvents\"]);\r\nexposeToPlugin('app/core/core_module', __WEBPACK_IMPORTED_MODULE_10_app_core_core__[\"coreModule\"]);\r\nexposeToPlugin('app/core/core', {\r\n    coreModule: __WEBPACK_IMPORTED_MODULE_10_app_core_core__[\"coreModule\"],\r\n    appEvents: __WEBPACK_IMPORTED_MODULE_10_app_core_core__[\"appEvents\"],\r\n    contextSrv: __WEBPACK_IMPORTED_MODULE_10_app_core_core__[\"contextSrv\"],\r\n    __esModule: true\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar flotDeps = [\r\n    'jquery.flot', 'jquery.flot.pie', 'jquery.flot.time', 'jquery.flot.fillbelow', 'jquery.flot.crosshair',\r\n    'jquery.flot.stack', 'jquery.flot.selection', 'jquery.flot.stackpercent', 'jquery.flot.events'\r\n];\r\nfor (var _i = 0, flotDeps_1 = flotDeps; _i < flotDeps_1.length; _i++) {\r\n    var flotDep = flotDeps_1[_i];\r\n    exposeToPlugin(flotDep, { fakeDep: 1 });\r\n}\r\nfunction importPluginModule(path) {\r\n    var builtIn = __WEBPACK_IMPORTED_MODULE_16__built_in_plugins__[\"a\" /* default */][path];\r\n    if (builtIn) {\r\n        return Promise.resolve(builtIn);\r\n    }\r\n    return __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.import(path);\r\n}\r\nfunction loadPluginCss(options) {\r\n    if (__WEBPACK_IMPORTED_MODULE_7_app_core_config__[\"default\"].bootData.user.lightTheme) {\r\n        __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.import(options.light + '!css');\r\n    }\r\n    else {\r\n        __WEBPACK_IMPORTED_MODULE_0_systemjs_dist_system_js___default.a.import(options.dark + '!css');\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ 1318:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_version__ = __webpack_require__(1329);\n\r\n\r\nvar index = [];\r\nvar categories = {\r\n    Combine: [],\r\n    Transform: [],\r\n    Calculate: [],\r\n    Filter: [],\r\n    Special: [],\r\n};\r\nfunction addFuncDef(funcDef) {\r\n    funcDef.params = funcDef.params || [];\r\n    funcDef.defaultParams = funcDef.defaultParams || [];\r\n    if (funcDef.category) {\r\n        funcDef.category.push(funcDef);\r\n    }\r\n    index[funcDef.name] = funcDef;\r\n    index[funcDef.shortName || funcDef.name] = funcDef;\r\n}\r\nvar optionalSeriesRefArgs = [\r\n    { name: 'other', type: 'value_or_series', optional: true },\r\n    { name: 'other', type: 'value_or_series', optional: true },\r\n    { name: 'other', type: 'value_or_series', optional: true },\r\n    { name: 'other', type: 'value_or_series', optional: true },\r\n    { name: 'other', type: 'value_or_series', optional: true },\r\n];\r\naddFuncDef({\r\n    name: 'scaleToSeconds',\r\n    category: categories.Transform,\r\n    params: [{ name: 'seconds', type: 'int' }],\r\n    defaultParams: [1],\r\n});\r\naddFuncDef({\r\n    name: 'perSecond',\r\n    category: categories.Transform,\r\n    params: [{ name: 'max value', type: 'int', optional: true }],\r\n    defaultParams: [],\r\n});\r\naddFuncDef({\r\n    name: 'holtWintersForecast',\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'holtWintersConfidenceBands',\r\n    category: categories.Calculate,\r\n    params: [{ name: 'delta', type: 'int' }],\r\n    defaultParams: [3],\r\n});\r\naddFuncDef({\r\n    name: 'holtWintersAberration',\r\n    category: categories.Calculate,\r\n    params: [{ name: 'delta', type: 'int' }],\r\n    defaultParams: [3],\r\n});\r\naddFuncDef({\r\n    name: 'nPercentile',\r\n    category: categories.Calculate,\r\n    params: [{ name: 'Nth percentile', type: 'int' }],\r\n    defaultParams: [95],\r\n});\r\naddFuncDef({\r\n    name: 'diffSeries',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: ['#A'],\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'stddevSeries',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: [''],\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'divideSeries',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: ['#A'],\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'multiplySeries',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: ['#A'],\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'asPercent',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: ['#A'],\r\n    category: categories.Calculate,\r\n});\r\naddFuncDef({\r\n    name: 'group',\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: ['#A', '#B'],\r\n    category: categories.Combine,\r\n});\r\naddFuncDef({\r\n    name: 'sumSeries',\r\n    shortName: 'sum',\r\n    category: categories.Combine,\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: [''],\r\n});\r\naddFuncDef({\r\n    name: 'averageSeries',\r\n    shortName: 'avg',\r\n    category: categories.Combine,\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: [''],\r\n});\r\naddFuncDef({\r\n    name: 'rangeOfSeries',\r\n    category: categories.Combine,\r\n});\r\naddFuncDef({\r\n    name: 'percentileOfSeries',\r\n    category: categories.Combine,\r\n    params: [{ name: 'n', type: 'int' }, { name: 'interpolate', type: 'boolean', options: ['true', 'false'] }],\r\n    defaultParams: [95, 'false'],\r\n});\r\naddFuncDef({\r\n    name: 'sumSeriesWithWildcards',\r\n    category: categories.Combine,\r\n    params: [\r\n        { name: 'node', type: 'int' },\r\n        { name: 'node', type: 'int', optional: true },\r\n        { name: 'node', type: 'int', optional: true },\r\n        { name: 'node', type: 'int', optional: true },\r\n    ],\r\n    defaultParams: [3],\r\n});\r\naddFuncDef({\r\n    name: 'maxSeries',\r\n    shortName: 'max',\r\n    category: categories.Combine,\r\n});\r\naddFuncDef({\r\n    name: 'minSeries',\r\n    shortName: 'min',\r\n    category: categories.Combine,\r\n});\r\naddFuncDef({\r\n    name: 'averageSeriesWithWildcards',\r\n    category: categories.Combine,\r\n    params: [{ name: 'node', type: 'int' }, { name: 'node', type: 'int', optional: true }],\r\n    defaultParams: [3],\r\n});\r\naddFuncDef({\r\n    name: 'alias',\r\n    category: categories.Special,\r\n    params: [{ name: 'alias', type: 'string' }],\r\n    defaultParams: ['alias'],\r\n});\r\naddFuncDef({\r\n    name: 'aliasSub',\r\n    category: categories.Special,\r\n    params: [{ name: 'search', type: 'string' }, { name: 'replace', type: 'string' }],\r\n    defaultParams: ['', '\\\\1'],\r\n});\r\naddFuncDef({\r\n    name: 'stacked',\r\n    category: categories.Special,\r\n    params: [{ name: 'stack', type: 'string' }],\r\n    defaultParams: ['stacked'],\r\n});\r\naddFuncDef({\r\n    name: 'consolidateBy',\r\n    category: categories.Special,\r\n    params: [\r\n        {\r\n            name: 'function',\r\n            type: 'string',\r\n            options: ['sum', 'average', 'min', 'max'],\r\n        },\r\n    ],\r\n    defaultParams: ['max'],\r\n});\r\naddFuncDef({\r\n    name: 'cumulative',\r\n    category: categories.Special,\r\n    params: [],\r\n    defaultParams: [],\r\n});\r\naddFuncDef({\r\n    name: 'groupByNode',\r\n    category: categories.Special,\r\n    params: [\r\n        {\r\n            name: 'node',\r\n            type: 'int',\r\n            options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12],\r\n        },\r\n        {\r\n            name: 'function',\r\n            type: 'string',\r\n            options: ['sum', 'avg', 'maxSeries'],\r\n        },\r\n    ],\r\n    defaultParams: [3, 'sum'],\r\n});\r\naddFuncDef({\r\n    name: 'aliasByNode',\r\n    category: categories.Special,\r\n    params: [\r\n        { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n    ],\r\n    defaultParams: [3],\r\n});\r\naddFuncDef({\r\n    name: 'substr',\r\n    category: categories.Special,\r\n    params: [\r\n        { name: 'start', type: 'int', options: [-6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n        { name: 'stop', type: 'int', options: [-6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n    ],\r\n    defaultParams: [0, 0],\r\n});\r\naddFuncDef({\r\n    name: 'sortByName',\r\n    category: categories.Special,\r\n    params: [{ name: 'natural', type: 'boolean', options: ['true', 'false'], optional: true }],\r\n    defaultParams: ['false'],\r\n});\r\naddFuncDef({\r\n    name: 'sortByMaxima',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'sortByMinima',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'sortByTotal',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'aliasByMetric',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'randomWalk',\r\n    fake: true,\r\n    category: categories.Special,\r\n    params: [{ name: 'name', type: 'string' }],\r\n    defaultParams: ['randomWalk'],\r\n});\r\naddFuncDef({\r\n    name: 'countSeries',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'constantLine',\r\n    category: categories.Special,\r\n    params: [{ name: 'value', type: 'int' }],\r\n    defaultParams: [10],\r\n});\r\naddFuncDef({\r\n    name: 'cactiStyle',\r\n    category: categories.Special,\r\n});\r\naddFuncDef({\r\n    name: 'keepLastValue',\r\n    category: categories.Special,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [100],\r\n});\r\naddFuncDef({\r\n    name: 'changed',\r\n    category: categories.Special,\r\n    params: [],\r\n    defaultParams: [],\r\n});\r\naddFuncDef({\r\n    name: 'scale',\r\n    category: categories.Transform,\r\n    params: [{ name: 'factor', type: 'int' }],\r\n    defaultParams: [1],\r\n});\r\naddFuncDef({\r\n    name: 'offset',\r\n    category: categories.Transform,\r\n    params: [{ name: 'amount', type: 'int' }],\r\n    defaultParams: [10],\r\n});\r\naddFuncDef({\r\n    name: 'transformNull',\r\n    category: categories.Transform,\r\n    params: [{ name: 'amount', type: 'int' }],\r\n    defaultParams: [0],\r\n});\r\naddFuncDef({\r\n    name: 'integral',\r\n    category: categories.Transform,\r\n});\r\naddFuncDef({\r\n    name: 'derivative',\r\n    category: categories.Transform,\r\n});\r\naddFuncDef({\r\n    name: 'nonNegativeDerivative',\r\n    category: categories.Transform,\r\n    params: [{ name: 'max value or 0', type: 'int', optional: true }],\r\n    defaultParams: [''],\r\n});\r\naddFuncDef({\r\n    name: 'timeShift',\r\n    category: categories.Transform,\r\n    params: [{ name: 'amount', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] }],\r\n    defaultParams: ['1d'],\r\n});\r\naddFuncDef({\r\n    name: 'timeStack',\r\n    category: categories.Transform,\r\n    params: [\r\n        { name: 'timeShiftUnit', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] },\r\n        { name: 'timeShiftStart', type: 'int' },\r\n        { name: 'timeShiftEnd', type: 'int' },\r\n    ],\r\n    defaultParams: ['1d', 0, 7],\r\n});\r\naddFuncDef({\r\n    name: 'summarize',\r\n    category: categories.Transform,\r\n    params: [\r\n        { name: 'interval', type: 'string' },\r\n        { name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] },\r\n        { name: 'alignToFrom', type: 'boolean', optional: true, options: ['false', 'true'] },\r\n    ],\r\n    defaultParams: ['1h', 'sum', 'false'],\r\n});\r\naddFuncDef({\r\n    name: 'smartSummarize',\r\n    category: categories.Transform,\r\n    params: [\r\n        { name: 'interval', type: 'string' },\r\n        { name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] },\r\n    ],\r\n    defaultParams: ['1h', 'sum'],\r\n});\r\naddFuncDef({\r\n    name: 'absolute',\r\n    category: categories.Transform,\r\n});\r\naddFuncDef({\r\n    name: 'hitcount',\r\n    category: categories.Transform,\r\n    params: [{ name: 'interval', type: 'string' }],\r\n    defaultParams: ['10s'],\r\n});\r\naddFuncDef({\r\n    name: 'log',\r\n    category: categories.Transform,\r\n    params: [{ name: 'base', type: 'int' }],\r\n    defaultParams: ['10'],\r\n});\r\naddFuncDef({\r\n    name: 'averageAbove',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [25],\r\n});\r\naddFuncDef({\r\n    name: 'averageBelow',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [25],\r\n});\r\naddFuncDef({\r\n    name: 'currentAbove',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [25],\r\n});\r\naddFuncDef({\r\n    name: 'currentBelow',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [25],\r\n});\r\naddFuncDef({\r\n    name: 'maximumAbove',\r\n    category: categories.Filter,\r\n    params: [{ name: 'value', type: 'int' }],\r\n    defaultParams: [0],\r\n});\r\naddFuncDef({\r\n    name: 'maximumBelow',\r\n    category: categories.Filter,\r\n    params: [{ name: 'value', type: 'int' }],\r\n    defaultParams: [0],\r\n});\r\naddFuncDef({\r\n    name: 'minimumAbove',\r\n    category: categories.Filter,\r\n    params: [{ name: 'value', type: 'int' }],\r\n    defaultParams: [0],\r\n});\r\naddFuncDef({\r\n    name: 'minimumBelow',\r\n    category: categories.Filter,\r\n    params: [{ name: 'value', type: 'int' }],\r\n    defaultParams: [0],\r\n});\r\naddFuncDef({\r\n    name: 'limit',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'mostDeviant',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [10],\r\n});\r\naddFuncDef({\r\n    name: 'exclude',\r\n    category: categories.Filter,\r\n    params: [{ name: 'exclude', type: 'string' }],\r\n    defaultParams: ['exclude'],\r\n});\r\naddFuncDef({\r\n    name: 'highestCurrent',\r\n    category: categories.Filter,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'highestMax',\r\n    category: categories.Filter,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'lowestCurrent',\r\n    category: categories.Filter,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'movingAverage',\r\n    category: categories.Filter,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: [10],\r\n});\r\naddFuncDef({\r\n    name: 'movingMedian',\r\n    category: categories.Filter,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: ['5'],\r\n});\r\naddFuncDef({\r\n    name: 'stdev',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }, { name: 'tolerance', type: 'int' }],\r\n    defaultParams: [5, 0.1],\r\n});\r\naddFuncDef({\r\n    name: 'highestAverage',\r\n    category: categories.Filter,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'lowestAverage',\r\n    category: categories.Filter,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'removeAbovePercentile',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'removeAboveValue',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'removeBelowPercentile',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'removeBelowValue',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [5],\r\n});\r\naddFuncDef({\r\n    name: 'useSeriesAbove',\r\n    category: categories.Filter,\r\n    params: [{ name: 'value', type: 'int' }, { name: 'search', type: 'string' }, { name: 'replace', type: 'string' }],\r\n    defaultParams: [0, 'search', 'replace'],\r\n});\r\n////////////////////\r\n// Graphite 1.0.x //\r\n////////////////////\r\naddFuncDef({\r\n    name: 'aggregateLine',\r\n    category: categories.Combine,\r\n    params: [{ name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] }],\r\n    defaultParams: ['avg'],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'averageOutsidePercentile',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [95],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'delay',\r\n    category: categories.Transform,\r\n    params: [{ name: 'steps', type: 'int' }],\r\n    defaultParams: [1],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'exponentialMovingAverage',\r\n    category: categories.Calculate,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: [10],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'fallbackSeries',\r\n    category: categories.Special,\r\n    params: [{ name: 'fallback', type: 'string' }],\r\n    defaultParams: ['constantLine(0)'],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'grep',\r\n    category: categories.Filter,\r\n    params: [{ name: 'grep', type: 'string' }],\r\n    defaultParams: ['grep'],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'groupByNodes',\r\n    category: categories.Special,\r\n    params: [\r\n        {\r\n            name: 'function',\r\n            type: 'string',\r\n            options: ['sum', 'avg', 'maxSeries'],\r\n        },\r\n        { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n    ],\r\n    defaultParams: ['sum', 3],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'integralByInterval',\r\n    category: categories.Transform,\r\n    params: [{ name: 'intervalUnit', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] }],\r\n    defaultParams: ['1d'],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'interpolate',\r\n    category: categories.Transform,\r\n    params: [{ name: 'limit', type: 'int', optional: true }],\r\n    defaultParams: [],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'invert',\r\n    category: categories.Transform,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'isNonNull',\r\n    category: categories.Combine,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'linearRegression',\r\n    category: categories.Calculate,\r\n    params: [\r\n        {\r\n            name: 'startSourceAt',\r\n            type: 'select',\r\n            options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\r\n            optional: true,\r\n        },\r\n        {\r\n            name: 'endSourceAt',\r\n            type: 'select',\r\n            options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\r\n            optional: true,\r\n        },\r\n    ],\r\n    defaultParams: [],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'mapSeries',\r\n    shortName: 'map',\r\n    params: [{ name: 'node', type: 'int' }],\r\n    defaultParams: [3],\r\n    category: categories.Combine,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'movingMin',\r\n    category: categories.Calculate,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: [10],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'movingMax',\r\n    category: categories.Calculate,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: [10],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'movingSum',\r\n    category: categories.Calculate,\r\n    params: [\r\n        { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\r\n    ],\r\n    defaultParams: [10],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'multiplySeriesWithWildcards',\r\n    category: categories.Calculate,\r\n    params: [\r\n        { name: 'position', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n        { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n        { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\r\n    ],\r\n    defaultParams: [2],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'offsetToZero',\r\n    category: categories.Transform,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'pow',\r\n    category: categories.Transform,\r\n    params: [{ name: 'factor', type: 'int' }],\r\n    defaultParams: [10],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'powSeries',\r\n    category: categories.Transform,\r\n    params: optionalSeriesRefArgs,\r\n    defaultParams: [''],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'reduceSeries',\r\n    shortName: 'reduce',\r\n    params: [\r\n        { name: 'function', type: 'string', options: ['asPercent', 'diffSeries', 'divideSeries'] },\r\n        { name: 'reduceNode', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13] },\r\n        { name: 'reduceMatchers', type: 'string' },\r\n        { name: 'reduceMatchers', type: 'string' },\r\n    ],\r\n    defaultParams: ['asPercent', 2, 'used_bytes', 'total_bytes'],\r\n    category: categories.Combine,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'removeBetweenPercentile',\r\n    category: categories.Filter,\r\n    params: [{ name: 'n', type: 'int' }],\r\n    defaultParams: [95],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'removeEmptySeries',\r\n    category: categories.Filter,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'squareRoot',\r\n    category: categories.Transform,\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'timeSlice',\r\n    category: categories.Transform,\r\n    params: [\r\n        { name: 'startSliceAt', type: 'select', options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'] },\r\n        {\r\n            name: 'endSliceAt',\r\n            type: 'select',\r\n            options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\r\n            optional: true,\r\n        },\r\n    ],\r\n    defaultParams: ['-1h'],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'weightedAverage',\r\n    category: categories.Filter,\r\n    params: [\r\n        { name: 'other', type: 'value_or_series', optional: true },\r\n        { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\r\n    ],\r\n    defaultParams: ['#A', 4],\r\n    version: '1.0',\r\n});\r\naddFuncDef({\r\n    name: 'seriesByTag',\r\n    category: categories.Special,\r\n    params: [\r\n        { name: 'tagExpression', type: 'string' },\r\n        { name: 'tagExpression', type: 'string', optional: true },\r\n        { name: 'tagExpression', type: 'string', optional: true },\r\n        { name: 'tagExpression', type: 'string', optional: true },\r\n    ],\r\n    version: '1.1',\r\n});\r\naddFuncDef({\r\n    name: 'groupByTags',\r\n    category: categories.Special,\r\n    params: [\r\n        {\r\n            name: 'function',\r\n            type: 'string',\r\n            options: ['sum', 'avg', 'maxSeries'],\r\n        },\r\n        { name: 'tag', type: 'string' },\r\n        { name: 'tag', type: 'string', optional: true },\r\n        { name: 'tag', type: 'string', optional: true },\r\n        { name: 'tag', type: 'string', optional: true },\r\n    ],\r\n    defaultParams: ['sum', 'tag'],\r\n    version: '1.1',\r\n});\r\naddFuncDef({\r\n    name: 'aliasByTags',\r\n    category: categories.Special,\r\n    params: [\r\n        { name: 'tag', type: 'string' },\r\n        { name: 'tag', type: 'string', optional: true },\r\n        { name: 'tag', type: 'string', optional: true },\r\n        { name: 'tag', type: 'string', optional: true },\r\n    ],\r\n    defaultParams: ['tag'],\r\n    version: '1.1',\r\n});\r\n__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(categories, function (funcList, catName) {\r\n    categories[catName] = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(funcList, 'name');\r\n});\r\nfunction FuncInstance(funcDef, options) {\r\n    this.def = funcDef;\r\n    this.params = [];\r\n    if (options && options.withDefaultParams) {\r\n        this.params = funcDef.defaultParams.slice(0);\r\n    }\r\n    this.updateText();\r\n}\r\nfunction isNumeric(obj) {\r\n    return !isNaN(parseFloat(obj)) && isFinite(obj);\r\n}\r\nFuncInstance.prototype.render = function (metricExp) {\r\n    var str = this.def.name + '(';\r\n    var parameters = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.params, function (value, index) {\r\n        var paramType = this.def.params[index].type;\r\n        if (paramType === 'int' || paramType === 'value_or_series' || paramType === 'boolean') {\r\n            return value;\r\n        }\r\n        else if (paramType === 'int_or_interval' && isNumeric(value)) {\r\n            return value;\r\n        }\r\n        return \"'\" + value + \"'\";\r\n    }.bind(this));\r\n    if (metricExp) {\r\n        parameters.unshift(metricExp);\r\n    }\r\n    return str + parameters.join(', ') + ')';\r\n};\r\nFuncInstance.prototype._hasMultipleParamsInString = function (strValue, index) {\r\n    if (strValue.indexOf(',') === -1) {\r\n        return false;\r\n    }\r\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\r\n};\r\nFuncInstance.prototype.updateParam = function (strValue, index) {\r\n    // handle optional parameters\r\n    // if string contains ',' and next param is optional, split and update both\r\n    if (this._hasMultipleParamsInString(strValue, index)) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(strValue.split(','), function (partVal, idx) {\r\n            this.updateParam(partVal.trim(), index + idx);\r\n        }.bind(this));\r\n        return;\r\n    }\r\n    if (strValue === '' && this.def.params[index].optional) {\r\n        this.params.splice(index, 1);\r\n    }\r\n    else {\r\n        this.params[index] = strValue;\r\n    }\r\n    this.updateText();\r\n};\r\nFuncInstance.prototype.updateText = function () {\r\n    if (this.params.length === 0) {\r\n        this.text = this.def.name + '()';\r\n        return;\r\n    }\r\n    var text = this.def.name + '(';\r\n    text += this.params.join(', ');\r\n    text += ')';\r\n    this.text = text;\r\n};\r\nfunction isVersionRelatedFunction(func, graphiteVersion) {\r\n    return Object(__WEBPACK_IMPORTED_MODULE_1_app_core_utils_version__[\"b\" /* isVersionGtOrEq */])(graphiteVersion, func.version) || !func.version;\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    createFuncInstance: function (funcDef, options) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(funcDef)) {\r\n            if (!index[funcDef]) {\r\n                throw { message: 'Method not found ' + name };\r\n            }\r\n            funcDef = index[funcDef];\r\n        }\r\n        return new FuncInstance(funcDef, options);\r\n    },\r\n    getFuncDef: function (name) {\r\n        return index[name];\r\n    },\r\n    getCategories: function (graphiteVersion) {\r\n        var filteredCategories = {};\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(categories, function (functions, category) {\r\n            var filteredFuncs = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(functions, function (func) {\r\n                return isVersionRelatedFunction(func, graphiteVersion);\r\n            });\r\n            if (filteredFuncs.length) {\r\n                filteredCategories[category] = filteredFuncs;\r\n            }\r\n        });\r\n        return filteredCategories;\r\n    },\r\n});\r\n\n\n/***/ }),\n\n/***/ 1319:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return convertToHeatMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return elasticHistogramToHeatmap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return convertToCards; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return mergeZeroBuckets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getValueBucketBound; });\n/* unused harmony export isHeatmapDataEqual */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return calculateBucketSize; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nvar VALUE_INDEX = 0;\r\nvar TIME_INDEX = 1;\r\nfunction elasticHistogramToHeatmap(seriesList) {\r\n    var heatmap = {};\r\n    for (var _i = 0, seriesList_1 = seriesList; _i < seriesList_1.length; _i++) {\r\n        var series = seriesList_1[_i];\r\n        var bound = Number(series.alias);\r\n        if (isNaN(bound)) {\r\n            return heatmap;\r\n        }\r\n        for (var _a = 0, _b = series.datapoints; _a < _b.length; _a++) {\r\n            var point = _b[_a];\r\n            var count = point[VALUE_INDEX];\r\n            var time = point[TIME_INDEX];\r\n            if (!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(count)) {\r\n                continue;\r\n            }\r\n            var bucket = heatmap[time];\r\n            if (!bucket) {\r\n                bucket = heatmap[time] = { x: time, buckets: {} };\r\n            }\r\n            bucket.buckets[bound] = { y: bound, count: count, values: [], points: [] };\r\n        }\r\n    }\r\n    return heatmap;\r\n}\r\n/**\r\n * Convert buckets into linear array of \"cards\" - objects, represented heatmap elements.\r\n * @param  {Object} buckets\r\n * @return {Array}          Array of \"card\" objects\r\n */\r\nfunction convertToCards(buckets) {\r\n    var min = 0, max = 0;\r\n    var cards = [];\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(buckets, function (xBucket) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(xBucket.buckets, function (yBucket) {\r\n            var card = {\r\n                x: xBucket.x,\r\n                y: yBucket.y,\r\n                yBounds: yBucket.bounds,\r\n                values: yBucket.values,\r\n                count: yBucket.count,\r\n            };\r\n            cards.push(card);\r\n            if (cards.length === 1) {\r\n                min = yBucket.count;\r\n                max = yBucket.count;\r\n            }\r\n            min = yBucket.count < min ? yBucket.count : min;\r\n            max = yBucket.count > max ? yBucket.count : max;\r\n        });\r\n    });\r\n    var cardStats = { min: min, max: max };\r\n    return { cards: cards, cardStats: cardStats };\r\n}\r\n/**\r\n * Special method for log scales. When series converted into buckets with log scale,\r\n * for simplification, 0 values are converted into 0, not into -Infinity. On the other hand, we mean\r\n * that all values less than series minimum, is 0 values, and we create special \"minimum\" bucket for\r\n * that values (actually, there're no values less than minimum, so this bucket is empty).\r\n *  8-16|    | ** |    |  * |  **|\r\n *   4-8|  * |*  *|*   |** *| *  |\r\n *   2-4| * *|    | ***|    |*   |\r\n *   1-2|*   |    |    |    |    | This bucket contains minimum series value\r\n * 0.5-1|____|____|____|____|____| This bucket should be displayed as 0 on graph\r\n *     0|____|____|____|____|____| This bucket is for 0 values (should actually be -Infinity)\r\n * So we should merge two bottom buckets into one (0-value bucket).\r\n *\r\n * @param  {Object} buckets  Heatmap buckets\r\n * @param  {Number} minValue Minimum series value\r\n * @return {Object}          Transformed buckets\r\n */\r\nfunction mergeZeroBuckets(buckets, minValue) {\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(buckets, function (xBucket) {\r\n        var yBuckets = xBucket.buckets;\r\n        var emptyBucket = {\r\n            bounds: { bottom: 0, top: 0 },\r\n            values: [],\r\n            points: [],\r\n            count: 0,\r\n        };\r\n        var nullBucket = yBuckets[0] || emptyBucket;\r\n        var minBucket = yBuckets[minValue] || emptyBucket;\r\n        var newBucket = {\r\n            y: 0,\r\n            bounds: { bottom: minValue, top: minBucket.bounds.top || minValue },\r\n            values: [],\r\n            points: [],\r\n            count: 0,\r\n        };\r\n        newBucket.points = nullBucket.points.concat(minBucket.points);\r\n        newBucket.values = nullBucket.values.concat(minBucket.values);\r\n        newBucket.count = newBucket.values.length;\r\n        if (newBucket.count === 0) {\r\n            return;\r\n        }\r\n        delete yBuckets[minValue];\r\n        yBuckets[0] = newBucket;\r\n    });\r\n    return buckets;\r\n}\r\n/**\r\n   * Convert set of time series into heatmap buckets\r\n   * @return {Object}    Heatmap object:\r\n * {\r\n *   xBucketBound_1: {\r\n *     x: xBucketBound_1,\r\n *     buckets: {\r\n *       yBucketBound_1: {\r\n *         y: yBucketBound_1,\r\n *         bounds: {bottom, top}\r\n *         values: [val_1, val_2, ..., val_K],\r\n *         points: [[val_Y, val_X, series_name], ..., [...]],\r\n *         seriesStat: {seriesName_1: val_1, seriesName_2: val_2}\r\n *       },\r\n *       ...\r\n *       yBucketBound_M: {}\r\n *     },\r\n *     values: [val_1, val_2, ..., val_K],\r\n *     points: [\r\n *       [val_Y, val_X, series_name], (point_1)\r\n *       ...\r\n *       [...] (point_K)\r\n *     ]\r\n *   },\r\n *   xBucketBound_2: {},\r\n *   ...\r\n *   xBucketBound_N: {}\r\n * }\r\n */\r\nfunction convertToHeatMap(seriesList, yBucketSize, xBucketSize, logBase) {\r\n    if (logBase === void 0) { logBase = 1; }\r\n    var heatmap = {};\r\n    var _loop_1 = function (series) {\r\n        var datapoints = series.datapoints;\r\n        var seriesName = series.label;\r\n        // Slice series into X axis buckets\r\n        // |    | ** |    |  * |  **|\r\n        // |  * |*  *|*   |** *| *  |\r\n        // |** *|    | ***|    |*   |\r\n        // |____|____|____|____|____|_\r\n        //\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(datapoints, function (point) {\r\n            var bucketBound = getBucketBound(point[TIME_INDEX], xBucketSize);\r\n            pushToXBuckets(heatmap, point, bucketBound, seriesName);\r\n        });\r\n    };\r\n    for (var _i = 0, seriesList_2 = seriesList; _i < seriesList_2.length; _i++) {\r\n        var series = seriesList_2[_i];\r\n        _loop_1(series);\r\n    }\r\n    // Slice X axis buckets into Y (value) buckets\r\n    // |  **|     |2|,\r\n    // | *  | --\\ |1|,\r\n    // |*   | --/ |1|,\r\n    // |____|     |0|\r\n    //\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(heatmap, function (xBucket) {\r\n        if (logBase !== 1) {\r\n            xBucket.buckets = convertToLogScaleValueBuckets(xBucket, yBucketSize, logBase);\r\n        }\r\n        else {\r\n            xBucket.buckets = convertToValueBuckets(xBucket, yBucketSize);\r\n        }\r\n    });\r\n    return heatmap;\r\n}\r\nfunction pushToXBuckets(buckets, point, bucketNum, seriesName) {\r\n    var value = point[VALUE_INDEX];\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return;\r\n    }\r\n    // Add series name to point for future identification\r\n    var point_ext = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(point, seriesName);\r\n    if (buckets[bucketNum] && buckets[bucketNum].values) {\r\n        buckets[bucketNum].values.push(value);\r\n        buckets[bucketNum].points.push(point_ext);\r\n    }\r\n    else {\r\n        buckets[bucketNum] = {\r\n            x: bucketNum,\r\n            values: [value],\r\n            points: [point_ext]\r\n        };\r\n    }\r\n}\r\nfunction pushToYBuckets(buckets, bucketNum, value, point, bounds) {\r\n    var count = 1;\r\n    // Use the 3rd argument as scale/count\r\n    if (point.length > 3) {\r\n        count = parseInt(point[2]);\r\n    }\r\n    if (buckets[bucketNum]) {\r\n        buckets[bucketNum].values.push(value);\r\n        buckets[bucketNum].points.push(point);\r\n        buckets[bucketNum].count += count;\r\n    }\r\n    else {\r\n        buckets[bucketNum] = {\r\n            y: bucketNum,\r\n            bounds: bounds,\r\n            values: [value],\r\n            points: [point],\r\n            count: count,\r\n        };\r\n    }\r\n}\r\nfunction getValueBucketBound(value, yBucketSize, logBase) {\r\n    if (logBase === 1) {\r\n        return getBucketBound(value, yBucketSize);\r\n    }\r\n    else {\r\n        return getLogScaleBucketBound(value, yBucketSize, logBase);\r\n    }\r\n}\r\n/**\r\n * Find bucket for given value (for linear scale)\r\n */\r\nfunction getBucketBounds(value, bucketSize) {\r\n    var bottom, top;\r\n    bottom = Math.floor(value / bucketSize) * bucketSize;\r\n    top = (Math.floor(value / bucketSize) + 1) * bucketSize;\r\n    return { bottom: bottom, top: top };\r\n}\r\nfunction getBucketBound(value, bucketSize) {\r\n    var bounds = getBucketBounds(value, bucketSize);\r\n    return bounds.bottom;\r\n}\r\nfunction convertToValueBuckets(xBucket, bucketSize) {\r\n    var values = xBucket.values;\r\n    var points = xBucket.points;\r\n    var buckets = {};\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(values, function (val, index) {\r\n        var bounds = getBucketBounds(val, bucketSize);\r\n        var bucketNum = bounds.bottom;\r\n        pushToYBuckets(buckets, bucketNum, val, points[index], bounds);\r\n    });\r\n    return buckets;\r\n}\r\n/**\r\n * Find bucket for given value (for log scales)\r\n */\r\nfunction getLogScaleBucketBounds(value, yBucketSplitFactor, logBase) {\r\n    var top, bottom;\r\n    if (value === 0) {\r\n        return { bottom: 0, top: 0 };\r\n    }\r\n    var value_log = logp(value, logBase);\r\n    var pow, powTop;\r\n    if (yBucketSplitFactor === 1 || !yBucketSplitFactor) {\r\n        pow = Math.floor(value_log);\r\n        powTop = pow + 1;\r\n    }\r\n    else {\r\n        var additional_bucket_size = 1 / yBucketSplitFactor;\r\n        var additional_log = value_log - Math.floor(value_log);\r\n        additional_log = Math.floor(additional_log / additional_bucket_size) * additional_bucket_size;\r\n        pow = Math.floor(value_log) + additional_log;\r\n        powTop = pow + additional_bucket_size;\r\n    }\r\n    bottom = Math.pow(logBase, pow);\r\n    top = Math.pow(logBase, powTop);\r\n    return { bottom: bottom, top: top };\r\n}\r\nfunction getLogScaleBucketBound(value, yBucketSplitFactor, logBase) {\r\n    var bounds = getLogScaleBucketBounds(value, yBucketSplitFactor, logBase);\r\n    return bounds.bottom;\r\n}\r\nfunction convertToLogScaleValueBuckets(xBucket, yBucketSplitFactor, logBase) {\r\n    var values = xBucket.values;\r\n    var points = xBucket.points;\r\n    var buckets = {};\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(values, function (val, index) {\r\n        var bounds = getLogScaleBucketBounds(val, yBucketSplitFactor, logBase);\r\n        var bucketNum = bounds.bottom;\r\n        pushToYBuckets(buckets, bucketNum, val, points[index], bounds);\r\n    });\r\n    return buckets;\r\n}\r\n/**\r\n * Logarithm for custom base\r\n * @param value\r\n * @param base logarithm base\r\n */\r\nfunction logp(value, base) {\r\n    return Math.log(value) / Math.log(base);\r\n}\r\n/**\r\n * Calculate size of Y bucket from given buckets bounds.\r\n * @param bounds Array of Y buckets bounds\r\n * @param logBase Logarithm base\r\n */\r\nfunction calculateBucketSize(bounds, logBase) {\r\n    if (logBase === void 0) { logBase = 1; }\r\n    var bucketSize = Infinity;\r\n    if (bounds.length === 0) {\r\n        return 0;\r\n    }\r\n    else if (bounds.length === 1) {\r\n        return bounds[0];\r\n    }\r\n    else {\r\n        bounds = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(bounds);\r\n        for (var i = 1; i < bounds.length; i++) {\r\n            var distance = getDistance(bounds[i], bounds[i - 1], logBase);\r\n            bucketSize = distance < bucketSize ? distance : bucketSize;\r\n        }\r\n    }\r\n    return bucketSize;\r\n}\r\n/**\r\n * Calculate distance between two numbers in given scale (linear or logarithmic).\r\n * @param a\r\n * @param b\r\n * @param logBase\r\n */\r\nfunction getDistance(a, b, logBase) {\r\n    if (logBase === void 0) { logBase = 1; }\r\n    if (logBase === 1) {\r\n        // Linear distance\r\n        return Math.abs(b - a);\r\n    }\r\n    else {\r\n        // logarithmic distance\r\n        var ratio = Math.max(a, b) / Math.min(a, b);\r\n        return logp(ratio, logBase);\r\n    }\r\n}\r\n/**\r\n * Compare two heatmap data objects\r\n * @param objA\r\n * @param objB\r\n */\r\nfunction isHeatmapDataEqual(objA, objB) {\r\n    var is_eql = !emptyXOR(objA, objB);\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(objA, function (xBucket, x) {\r\n        if (objB[x]) {\r\n            if (emptyXOR(xBucket.buckets, objB[x].buckets)) {\r\n                is_eql = false;\r\n                return false;\r\n            }\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(xBucket.buckets, function (yBucket, y) {\r\n                if (objB[x].buckets && objB[x].buckets[y]) {\r\n                    if (objB[x].buckets[y].values) {\r\n                        is_eql = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEqual(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(yBucket.values), __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(objB[x].buckets[y].values));\r\n                        if (!is_eql) {\r\n                            return false;\r\n                        }\r\n                        else {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        is_eql = false;\r\n                        return false;\r\n                    }\r\n                }\r\n                else {\r\n                    is_eql = false;\r\n                    return false;\r\n                }\r\n            });\r\n            if (!is_eql) {\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        else {\r\n            is_eql = false;\r\n            return false;\r\n        }\r\n    });\r\n    return is_eql;\r\n}\r\nfunction emptyXOR(foo, bar) {\r\n    return (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(foo) || __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(bar)) && !(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(foo) && __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(bar));\r\n}\r\n\r\n\n\n/***/ }),\n\n/***/ 1320:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(466);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map\n\n/***/ }),\n\n/***/ 1321:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar root_1 = __webpack_require__(127);\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map\n\n/***/ }),\n\n/***/ 1323:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DashboardRow; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar DashboardRow = /** @class */ (function () {\r\n    function DashboardRow(model) {\r\n        this.model = model;\r\n        this.defaults = {\r\n            title: 'Dashboard Row',\r\n            panels: [],\r\n            showTitle: false,\r\n            titleSize: 'h6',\r\n            height: 250,\r\n            isNew: false,\r\n            repeat: null,\r\n            repeatRowId: null,\r\n            repeatIteration: null,\r\n            collapse: false,\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"assignModelProperties\"])(this, model, this.defaults);\r\n        this.events = new __WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"Emitter\"]();\r\n        this.updateRowSpan();\r\n    }\r\n    DashboardRow.prototype.getSaveModel = function () {\r\n        this.model = {};\r\n        Object(__WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        // remove properties that dont server persisted purpose\r\n        delete this.model.isNew;\r\n        return this.model;\r\n    };\r\n    DashboardRow.prototype.updateRowSpan = function () {\r\n        this.span = 0;\r\n        for (var _i = 0, _a = this.panels; _i < _a.length; _i++) {\r\n            var panel = _a[_i];\r\n            this.span += panel.span;\r\n        }\r\n    };\r\n    DashboardRow.prototype.panelSpanChanged = function (alwaysSendEvent) {\r\n        var oldSpan = this.span;\r\n        this.updateRowSpan();\r\n        if (alwaysSendEvent || oldSpan !== this.span) {\r\n            this.events.emit('span-changed');\r\n        }\r\n    };\r\n    DashboardRow.prototype.addPanel = function (panel) {\r\n        var rowSpan = this.span;\r\n        var panelCount = this.panels.length;\r\n        var space = (12 - rowSpan) - panel.span;\r\n        // try to make room of there is no space left\r\n        if (space <= 0) {\r\n            if (panelCount === 1) {\r\n                this.panels[0].span = 6;\r\n                panel.span = 6;\r\n            }\r\n            else if (panelCount === 2) {\r\n                this.panels[0].span = 4;\r\n                this.panels[1].span = 4;\r\n                panel.span = 4;\r\n            }\r\n            else if (panelCount === 3) {\r\n                this.panels[0].span = 3;\r\n                this.panels[1].span = 3;\r\n                this.panels[2].span = 3;\r\n                panel.span = 3;\r\n            }\r\n        }\r\n        this.panels.push(panel);\r\n        this.events.emit('panel-added', panel);\r\n        this.panelSpanChanged();\r\n    };\r\n    DashboardRow.prototype.removePanel = function (panel, ask) {\r\n        var _this = this;\r\n        if (ask !== false) {\r\n            var text2, confirmText;\r\n            if (panel.alert) {\r\n                text2 = \"Panel includes an alert rule, removing panel will also remove alert rule\";\r\n                confirmText = \"YES\";\r\n            }\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"appEvents\"].emit('confirm-modal', {\r\n                title: 'Remove Panel',\r\n                text: 'Are you sure you want to remove this panel?',\r\n                text2: text2,\r\n                icon: 'fa-trash',\r\n                confirmText: confirmText,\r\n                yesText: 'Remove',\r\n                onConfirm: function () {\r\n                    _this.removePanel(panel, false);\r\n                }\r\n            });\r\n            return;\r\n        }\r\n        var index = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.panels, panel);\r\n        this.panels.splice(index, 1);\r\n        this.events.emit('panel-removed', panel);\r\n        this.panelSpanChanged();\r\n    };\r\n    DashboardRow.prototype.movePanel = function (fromIndex, toIndex) {\r\n        this.panels.splice(toIndex, 0, this.panels.splice(fromIndex, 1)[0]);\r\n    };\r\n    DashboardRow.prototype.destroy = function () {\r\n        this.events.removeAllListeners();\r\n    };\r\n    DashboardRow.prototype.copyPropertiesFromRowSource = function (source) {\r\n        this.height = source.height;\r\n        this.title = source.title;\r\n        this.showTitle = source.showTitle;\r\n        this.titleSize = source.titleSize;\r\n    };\r\n    DashboardRow.prototype.toggleCollapse = function () {\r\n        this.collapse = !this.collapse;\r\n    };\r\n    return DashboardRow;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1324:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"exportSeriesListToCsv\"] = exportSeriesListToCsv;\n/* harmony export (immutable) */ __webpack_exports__[\"exportSeriesListToCsvColumns\"] = exportSeriesListToCsvColumns;\n/* harmony export (immutable) */ __webpack_exports__[\"exportTableDataToCsv\"] = exportTableDataToCsv;\n/* harmony export (immutable) */ __webpack_exports__[\"saveSaveBlob\"] = saveSaveBlob;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_file_saver__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_file_saver__);\n\r\n\r\n\r\nvar DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DDTHH:mm:ssZ';\r\nfunction exportSeriesListToCsv(seriesList, dateTimeFormat, excel) {\r\n    if (dateTimeFormat === void 0) { dateTimeFormat = DEFAULT_DATETIME_FORMAT; }\r\n    if (excel === void 0) { excel = false; }\r\n    var text = (excel ? 'sep=;\\n' : '') + 'Series;Time;Value\\n';\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(seriesList, function (series) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(series.datapoints, function (dp) {\r\n            text += series.alias + ';' + __WEBPACK_IMPORTED_MODULE_1_moment___default()(dp[1]).format(dateTimeFormat) + ';' + dp[0] + '\\n';\r\n        });\r\n    });\r\n    saveSaveBlob(text, 'grafana_data_export.csv');\r\n}\r\nfunction exportSeriesListToCsvColumns(seriesList, dateTimeFormat, excel) {\r\n    if (dateTimeFormat === void 0) { dateTimeFormat = DEFAULT_DATETIME_FORMAT; }\r\n    if (excel === void 0) { excel = false; }\r\n    var text = (excel ? 'sep=;\\n' : '') + 'Time;';\r\n    // add header\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(seriesList, function (series) {\r\n        text += series.alias + ';';\r\n    });\r\n    text = text.substring(0, text.length - 1);\r\n    text += '\\n';\r\n    // process data\r\n    var dataArr = [[]];\r\n    var sIndex = 1;\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(seriesList, function (series) {\r\n        var cIndex = 0;\r\n        dataArr.push([]);\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(series.datapoints, function (dp) {\r\n            dataArr[0][cIndex] = __WEBPACK_IMPORTED_MODULE_1_moment___default()(dp[1]).format(dateTimeFormat);\r\n            dataArr[sIndex][cIndex] = dp[0];\r\n            cIndex++;\r\n        });\r\n        sIndex++;\r\n    });\r\n    // make text\r\n    for (var i = 0; i < dataArr[0].length; i++) {\r\n        text += dataArr[0][i] + ';';\r\n        for (var j = 1; j < dataArr.length; j++) {\r\n            text += dataArr[j][i] + ';';\r\n        }\r\n        text = text.substring(0, text.length - 1);\r\n        text += '\\n';\r\n    }\r\n    saveSaveBlob(text, 'grafana_data_export.csv');\r\n}\r\nfunction exportTableDataToCsv(table, excel) {\r\n    if (excel === void 0) { excel = false; }\r\n    var text = excel ? 'sep=;\\n' : '';\r\n    // add header\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(table.columns, function (column) {\r\n        text += (column.title || column.text) + ';';\r\n    });\r\n    text += '\\n';\r\n    // process data\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(table.rows, function (row) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(row, function (value) {\r\n            text += value + ';';\r\n        });\r\n        text += '\\n';\r\n    });\r\n    saveSaveBlob(text, 'grafana_data_export.csv');\r\n}\r\nfunction saveSaveBlob(payload, fname) {\r\n    var blob = new Blob([payload], { type: \"text/csv;charset=utf-8\" });\r\n    Object(__WEBPACK_IMPORTED_MODULE_2_file_saver__[\"saveAs\"])(blob, fname);\r\n}\r\n\n\n/***/ }),\n\n/***/ 1325:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkSrv\", function() { return LinkSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__ = __webpack_require__(464);\n\r\n\r\n\r\nvar LinkSrv = /** @class */ (function () {\r\n    /** @ngInject */\n    LinkSrv.$inject = [\"templateSrv\", \"timeSrv\"];\r\n    function LinkSrv(templateSrv, timeSrv) {\r\n        this.templateSrv = templateSrv;\r\n        this.timeSrv = timeSrv;\r\n    }\r\n    LinkSrv.prototype.getLinkUrl = function (link) {\r\n        var url = this.templateSrv.replace(link.url || '');\r\n        var params = {};\r\n        if (link.keepTime) {\r\n            var range = this.timeSrv.timeRangeForUrl();\r\n            params['from'] = range.from;\r\n            params['to'] = range.to;\r\n        }\r\n        if (link.includeVars) {\r\n            this.templateSrv.fillVariableValuesForUrl(params);\r\n        }\r\n        return this.addParamsToUrl(url, params);\r\n    };\r\n    LinkSrv.prototype.addParamsToUrl = function (url, params) {\r\n        var paramsArray = [];\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(params, function (value, key) {\r\n            if (value === null) {\r\n                return;\r\n            }\r\n            if (value === true) {\r\n                paramsArray.push(key);\r\n            }\r\n            else if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(value)) {\r\n                __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(value, function (instance) {\r\n                    paramsArray.push(key + '=' + encodeURIComponent(instance));\r\n                });\r\n            }\r\n            else {\r\n                paramsArray.push(key + '=' + encodeURIComponent(value));\r\n            }\r\n        });\r\n        if (paramsArray.length === 0) {\r\n            return url;\r\n        }\r\n        return this.appendToQueryString(url, paramsArray.join('&'));\r\n    };\r\n    LinkSrv.prototype.appendToQueryString = function (url, stringToAppend) {\r\n        if (!__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isUndefined(stringToAppend) && stringToAppend !== null && stringToAppend !== '') {\r\n            var pos = url.indexOf('?');\r\n            if (pos !== -1) {\r\n                if (url.length - pos > 1) {\r\n                    url += '&';\r\n                }\r\n            }\r\n            else {\r\n                url += '?';\r\n            }\r\n            url += stringToAppend;\r\n        }\r\n        return url;\r\n    };\r\n    LinkSrv.prototype.getAnchorInfo = function (link) {\r\n        var info = {};\r\n        info.href = this.getLinkUrl(link);\r\n        info.title = this.templateSrv.replace(link.title || '');\r\n        return info;\r\n    };\r\n    LinkSrv.prototype.getPanelLinkAnchorInfo = function (link, scopedVars) {\r\n        var info = {};\r\n        if (link.type === 'absolute') {\r\n            info.target = link.targetBlank ? '_blank' : '_self';\r\n            info.href = this.templateSrv.replace(link.url || '', scopedVars);\r\n            info.title = this.templateSrv.replace(link.title || '', scopedVars);\r\n        }\r\n        else if (link.dashUri) {\r\n            info.href = 'dashboard/' + link.dashUri + '?';\r\n            info.title = this.templateSrv.replace(link.title || '', scopedVars);\r\n            info.target = link.targetBlank ? '_blank' : '';\r\n        }\r\n        else {\r\n            info.title = this.templateSrv.replace(link.title || '', scopedVars);\r\n            var slug = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].slugifyForUrl(link.dashboard || '');\r\n            info.href = 'dashboard/db/' + slug + '?';\r\n        }\r\n        var params = {};\r\n        if (link.keepTime) {\r\n            var range = this.timeSrv.timeRangeForUrl();\r\n            params['from'] = range.from;\r\n            params['to'] = range.to;\r\n        }\r\n        if (link.includeVars) {\r\n            this.templateSrv.fillVariableValuesForUrl(params, scopedVars);\r\n        }\r\n        info.href = this.addParamsToUrl(info.href, params);\r\n        if (link.params) {\r\n            info.href = this.appendToQueryString(info.href, this.templateSrv.replace(link.params, scopedVars));\r\n        }\r\n        return info;\r\n    };\r\n    return LinkSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.services').service('linkSrv', LinkSrv);\r\n\n\n/***/ }),\n\n/***/ 1326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AnnotationEvent; });\nvar AnnotationEvent = /** @class */ (function () {\r\n    function AnnotationEvent() {\r\n    }\r\n    return AnnotationEvent;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1327:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return QueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar QueryCtrl = /** @class */ (function () {\r\n    function QueryCtrl($scope, $injector) {\r\n        this.$scope = $scope;\r\n        this.$injector = $injector;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.isLastQuery = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.panel.targets, this.target) === (this.panel.targets.length - 1);\r\n    }\r\n    QueryCtrl.prototype.refresh = function () {\r\n        this.panelCtrl.refresh();\r\n    };\r\n    return QueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1328:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = flatten;\n// Copyright (c) 2014, Hugh Kennedy\r\n// Based on code from https://github.com/hughsk/flat/blob/master/index.js\r\n//\r\nfunction flatten(target, opts) {\r\n    opts = opts || {};\r\n    var delimiter = opts.delimiter || '.';\r\n    var maxDepth = opts.maxDepth || 3;\r\n    var currentDepth = 1;\r\n    var output = {};\r\n    function step(object, prev) {\r\n        Object.keys(object).forEach(function (key) {\r\n            var value = object[key];\r\n            var isarray = opts.safe && Array.isArray(value);\r\n            var type = Object.prototype.toString.call(value);\r\n            var isobject = type === \"[object Object]\";\r\n            var newKey = prev ? prev + delimiter + key : key;\r\n            if (!opts.maxDepth) {\r\n                maxDepth = currentDepth + 1;\r\n            }\r\n            if (!isarray && isobject && Object.keys(value).length && currentDepth < maxDepth) {\r\n                ++currentDepth;\r\n                return step(value, newKey);\r\n            }\r\n            output[newKey] = value;\r\n        });\r\n    }\r\n    step(target, null);\r\n    return output;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1329:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return SemVersion; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isVersionGtOrEq;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nvar versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\r\nvar SemVersion = /** @class */ (function () {\r\n    function SemVersion(version) {\r\n        var match = versionPattern.exec(version);\r\n        if (match) {\r\n            this.major = Number(match[1]);\r\n            this.minor = Number(match[2] || 0);\r\n            this.patch = Number(match[3] || 0);\r\n            this.meta = match[4];\r\n        }\r\n    }\r\n    SemVersion.prototype.isGtOrEq = function (version) {\r\n        var compared = new SemVersion(version);\r\n        return !(this.major < compared.major || this.minor < compared.minor || this.patch < compared.patch);\r\n    };\r\n    SemVersion.prototype.isValid = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(this.major);\r\n    };\r\n    return SemVersion;\r\n}());\r\n\r\nfunction isVersionGtOrEq(a, b) {\r\n    var a_semver = new SemVersion(a);\r\n    return a_semver.isGtOrEq(b);\r\n}\r\n\n\n/***/ }),\n\n/***/ 1330:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.directive('cloudwatchQueryParameter', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/cloudwatch/partials/query.parameter.html',\n      controller: 'CloudWatchQueryParameterCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        datasource: \"=\",\n        onChange: \"&\",\n      }\n    };\n  });\n\n  module.controller('CloudWatchQueryParameterCtrl', [\"$scope\", \"templateSrv\", \"uiSegmentSrv\", \"datasourceSrv\", \"$q\", function($scope, templateSrv, uiSegmentSrv, datasourceSrv, $q) {\n\n    $scope.init = function() {\n      var target = $scope.target;\n      target.namespace = target.namespace || '';\n      target.metricName = target.metricName || '';\n      target.statistics = target.statistics || ['Average'];\n      target.dimensions = target.dimensions || {};\n      target.period = target.period || '';\n      target.region = target.region || '';\n\n      $scope.regionSegment =  uiSegmentSrv.getSegmentForValue($scope.target.region, 'select region');\n      $scope.namespaceSegment = uiSegmentSrv.getSegmentForValue($scope.target.namespace, 'select namespace');\n      $scope.metricSegment = uiSegmentSrv.getSegmentForValue($scope.target.metricName, 'select metric');\n\n      $scope.dimSegments = _.reduce($scope.target.dimensions, function(memo, value, key) {\n        memo.push(uiSegmentSrv.newKey(key));\n        memo.push(uiSegmentSrv.newOperator(\"=\"));\n        memo.push(uiSegmentSrv.newKeyValue(value));\n        return memo;\n      }, []);\n\n      $scope.statSegments = _.map($scope.target.statistics, function(stat) {\n        return uiSegmentSrv.getSegmentForValue(stat);\n      });\n\n      $scope.ensurePlusButton($scope.statSegments);\n      $scope.ensurePlusButton($scope.dimSegments);\n      $scope.removeDimSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove dimension --'});\n      $scope.removeStatSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove stat --'});\n\n      if (_.isEmpty($scope.target.region)) {\n        $scope.target.region = $scope.datasource.getDefaultRegion();\n      }\n\n      if (!$scope.onChange) {\n        $scope.onChange = function() {};\n      }\n    };\n\n    $scope.getStatSegments = function() {\n      return $q.when(_.flatten([\n        angular.copy($scope.removeStatSegment),\n        _.map($scope.datasource.standardStatistics, function(s) {\n          return uiSegmentSrv.getSegmentForValue(s);\n        }),\n        uiSegmentSrv.getSegmentForValue('pNN.NN'),\n      ]));\n    };\n\n    $scope.statSegmentChanged = function(segment, index) {\n      if (segment.value === $scope.removeStatSegment.value) {\n        $scope.statSegments.splice(index, 1);\n      } else {\n        segment.type = 'value';\n      }\n\n      $scope.target.statistics = _.reduce($scope.statSegments, function(memo, seg) {\n        if (!seg.fake) { memo.push(seg.value); } return memo;\n      }, []);\n\n      $scope.ensurePlusButton($scope.statSegments);\n      $scope.onChange();\n    };\n\n    $scope.ensurePlusButton = function(segments) {\n      var count = segments.length;\n      var lastSegment = segments[Math.max(count-1, 0)];\n\n      if (!lastSegment || lastSegment.type !== 'plus-button') {\n        segments.push(uiSegmentSrv.newPlusButton());\n      }\n    };\n\n    $scope.getDimSegments = function(segment, $index) {\n      if (segment.type === 'operator') { return $q.when([]); }\n\n      var target = $scope.target;\n      var query = $q.when([]);\n\n      if (segment.type === 'key' || segment.type === 'plus-button') {\n        query = $scope.datasource.getDimensionKeys($scope.target.namespace, $scope.target.region);\n      } else if (segment.type === 'value')  {\n        var dimensionKey = $scope.dimSegments[$index-2].value;\n        query = $scope.datasource.getDimensionValues(target.region, target.namespace, target.metricName, dimensionKey, target.dimensions);\n      }\n\n      return query.then($scope.transformToSegments(true)).then(function(results) {\n        if (segment.type === 'key') {\n          results.splice(0, 0, angular.copy($scope.removeDimSegment));\n        }\n        return results;\n      });\n    };\n\n    $scope.dimSegmentChanged = function(segment, index) {\n      $scope.dimSegments[index] = segment;\n\n      if (segment.value === $scope.removeDimSegment.value) {\n        $scope.dimSegments.splice(index, 3);\n      }\n      else if (segment.type === 'plus-button') {\n        $scope.dimSegments.push(uiSegmentSrv.newOperator('='));\n        $scope.dimSegments.push(uiSegmentSrv.newFake('select dimension value', 'value', 'query-segment-value'));\n        segment.type = 'key';\n        segment.cssClass = 'query-segment-key';\n      }\n\n      $scope.syncDimSegmentsWithModel();\n      $scope.ensurePlusButton($scope.dimSegments);\n      $scope.onChange();\n    };\n\n    $scope.syncDimSegmentsWithModel = function() {\n      var dims = {};\n      var length = $scope.dimSegments.length;\n\n      for (var i = 0; i < length - 2; i += 3) {\n        var keySegment = $scope.dimSegments[i];\n        var valueSegment = $scope.dimSegments[i + 2];\n        if (!valueSegment.fake) {\n          dims[keySegment.value] = valueSegment.value;\n        }\n      }\n\n      $scope.target.dimensions = dims;\n    };\n\n    $scope.getRegions = function() {\n      return $scope.datasource.metricFindQuery('regions()')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.getNamespaces = function() {\n      return $scope.datasource.metricFindQuery('namespaces()')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.getMetrics = function() {\n      return $scope.datasource.metricFindQuery('metrics(' + $scope.target.namespace + ',' + $scope.target.region + ')')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.regionChanged = function() {\n      $scope.target.region = $scope.regionSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.namespaceChanged = function() {\n      $scope.target.namespace = $scope.namespaceSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.metricChanged = function() {\n      $scope.target.metricName = $scope.metricSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.transformToSegments = function(addTemplateVars) {\n      return function(results) {\n        var segments = _.map(results, function(segment) {\n          return uiSegmentSrv.newSegment({ value: segment.text, expandable: segment.expandable });\n        });\n\n        if (addTemplateVars) {\n          _.each(templateSrv.variables, function(variable) {\n            segments.unshift(uiSegmentSrv.newSegment({ type: 'template', value: '$' + variable.name, expandable: true }));\n          });\n        }\n\n        return segments;\n      };\n    };\n\n    $scope.init();\n\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1331:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_part__ = __webpack_require__(1332);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__ = __webpack_require__(464);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar InfluxQuery = /** @class */ (function () {\r\n    /** @ngInject */\n    InfluxQuery.$inject = [\"target\", \"templateSrv\", \"scopedVars\"];\r\n    function InfluxQuery(target, templateSrv, scopedVars) {\r\n        this.target = target;\r\n        this.templateSrv = templateSrv;\r\n        this.scopedVars = scopedVars;\r\n        target.policy = target.policy || 'default';\r\n        target.dsType = 'influxdb';\r\n        target.resultFormat = target.resultFormat || 'time_series';\r\n        target.orderByTime = target.orderByTime || 'ASC';\r\n        target.tags = target.tags || [];\r\n        target.groupBy = target.groupBy || [\r\n            { type: 'time', params: ['$__interval'] },\r\n            { type: 'fill', params: ['null'] },\r\n        ];\r\n        target.select = target.select || [[\r\n                { type: 'field', params: ['value'] },\r\n                { type: 'mean', params: [] },\r\n            ]];\r\n        this.updateProjection();\r\n    }\r\n    InfluxQuery.prototype.updateProjection = function () {\r\n        this.selectModels = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.target.select, function (parts) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(parts, __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].create);\r\n        });\r\n        this.groupByParts = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.target.groupBy, __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].create);\r\n    };\r\n    InfluxQuery.prototype.updatePersistedParts = function () {\r\n        this.target.select = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.selectModels, function (selectParts) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(selectParts, function (part) {\r\n                return { type: part.def.type, params: part.params };\r\n            });\r\n        });\r\n    };\r\n    InfluxQuery.prototype.hasGroupByTime = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.target.groupBy, function (g) { return g.type === 'time'; });\r\n    };\r\n    InfluxQuery.prototype.hasFill = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.target.groupBy, function (g) { return g.type === 'fill'; });\r\n    };\r\n    InfluxQuery.prototype.addGroupBy = function (value) {\r\n        var stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\r\n        var typePart = stringParts[1];\r\n        var arg = stringParts[2];\r\n        var partModel = __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].create({ type: typePart, params: [arg] });\r\n        var partCount = this.target.groupBy.length;\r\n        if (partCount === 0) {\r\n            this.target.groupBy.push(partModel.part);\r\n        }\r\n        else if (typePart === 'time') {\r\n            this.target.groupBy.splice(0, 0, partModel.part);\r\n        }\r\n        else if (typePart === 'tag') {\r\n            if (this.target.groupBy[partCount - 1].type === 'fill') {\r\n                this.target.groupBy.splice(partCount - 1, 0, partModel.part);\r\n            }\r\n            else {\r\n                this.target.groupBy.push(partModel.part);\r\n            }\r\n        }\r\n        else {\r\n            this.target.groupBy.push(partModel.part);\r\n        }\r\n        this.updateProjection();\r\n    };\r\n    InfluxQuery.prototype.removeGroupByPart = function (part, index) {\r\n        var categories = __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].getCategories();\r\n        if (part.def.type === 'time') {\r\n            // remove fill\r\n            this.target.groupBy = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(this.target.groupBy, function (g) { return g.type !== 'fill'; });\r\n            // remove aggregations\r\n            this.target.select = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.target.select, function (s) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(s, function (part) {\r\n                    var partModel = __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].create(part);\r\n                    if (partModel.def.category === categories.Aggregations) {\r\n                        return false;\r\n                    }\r\n                    if (partModel.def.category === categories.Selectors) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n            });\r\n        }\r\n        this.target.groupBy.splice(index, 1);\r\n        this.updateProjection();\r\n    };\r\n    InfluxQuery.prototype.removeSelect = function (index) {\r\n        this.target.select.splice(index, 1);\r\n        this.updateProjection();\r\n    };\r\n    InfluxQuery.prototype.removeSelectPart = function (selectParts, part) {\r\n        // if we remove the field remove the whole statement\r\n        if (part.def.type === 'field') {\r\n            if (this.selectModels.length > 1) {\r\n                var modelsIndex = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.selectModels, selectParts);\r\n                this.selectModels.splice(modelsIndex, 1);\r\n            }\r\n        }\r\n        else {\r\n            var partIndex = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(selectParts, part);\r\n            selectParts.splice(partIndex, 1);\r\n        }\r\n        this.updatePersistedParts();\r\n    };\r\n    InfluxQuery.prototype.addSelectPart = function (selectParts, type) {\r\n        var partModel = __WEBPACK_IMPORTED_MODULE_1__query_part__[\"a\" /* default */].create({ type: type });\r\n        partModel.def.addStrategy(selectParts, partModel, this);\r\n        this.updatePersistedParts();\r\n    };\r\n    InfluxQuery.prototype.renderTagCondition = function (tag, index, interpolate) {\r\n        var str = \"\";\r\n        var operator = tag.operator;\r\n        var value = tag.value;\r\n        if (index > 0) {\r\n            str = (tag.condition || 'AND') + ' ';\r\n        }\r\n        if (!operator) {\r\n            if (/^\\/.*\\/$/.test(value)) {\r\n                operator = '=~';\r\n            }\r\n            else {\r\n                operator = '=';\r\n            }\r\n        }\r\n        // quote value unless regex\r\n        if (operator !== '=~' && operator !== '!~') {\r\n            if (interpolate) {\r\n                value = this.templateSrv.replace(value, this.scopedVars);\r\n            }\r\n            if (operator !== '>' && operator !== '<') {\r\n                value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\') + \"'\";\r\n            }\r\n        }\r\n        else if (interpolate) {\r\n            value = this.templateSrv.replace(value, this.scopedVars, 'regex');\r\n        }\r\n        return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\r\n    };\r\n    InfluxQuery.prototype.getMeasurementAndPolicy = function (interpolate) {\r\n        var policy = this.target.policy;\r\n        var measurement = this.target.measurement || 'measurement';\r\n        if (!measurement.match('^/.*/$')) {\r\n            measurement = '\"' + measurement + '\"';\r\n        }\r\n        else if (interpolate) {\r\n            measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\r\n        }\r\n        if (policy !== 'default') {\r\n            policy = '\"' + this.target.policy + '\".';\r\n        }\r\n        else {\r\n            policy = \"\";\r\n        }\r\n        return policy + measurement;\r\n    };\r\n    InfluxQuery.prototype.interpolateQueryStr = function (value, variable, defaultFormatFn) {\r\n        // if no multi or include all do not regexEscape\r\n        if (!variable.multi && !variable.includeAll) {\r\n            return value;\r\n        }\r\n        if (typeof value === 'string') {\r\n            return __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].regexEscape(value);\r\n        }\r\n        var escapedValues = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(value, __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].regexEscape);\r\n        return '(' + escapedValues.join('|') + ')';\r\n    };\r\n    InfluxQuery.prototype.render = function (interpolate) {\r\n        var _this = this;\r\n        var target = this.target;\r\n        if (target.rawQuery) {\r\n            if (interpolate) {\r\n                return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\r\n            }\r\n            else {\r\n                return target.query;\r\n            }\r\n        }\r\n        var query = 'SELECT ';\r\n        var i, y;\r\n        for (i = 0; i < this.selectModels.length; i++) {\r\n            var parts = this.selectModels[i];\r\n            var selectText = \"\";\r\n            for (y = 0; y < parts.length; y++) {\r\n                var part_1 = parts[y];\r\n                selectText = part_1.render(selectText);\r\n            }\r\n            if (i > 0) {\r\n                query += ', ';\r\n            }\r\n            query += selectText;\r\n        }\r\n        query += ' FROM ' + this.getMeasurementAndPolicy(interpolate) + ' WHERE ';\r\n        var conditions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(target.tags, function (tag, index) {\r\n            return _this.renderTagCondition(tag, index, interpolate);\r\n        });\r\n        if (conditions.length > 0) {\r\n            query += '(' + conditions.join(' ') + ') AND ';\r\n        }\r\n        query += '$timeFilter';\r\n        var groupBySection = \"\";\r\n        for (i = 0; i < this.groupByParts.length; i++) {\r\n            var part = this.groupByParts[i];\r\n            if (i > 0) {\r\n                // for some reason fill has no seperator\r\n                groupBySection += part.def.type === 'fill' ? ' ' : ', ';\r\n            }\r\n            groupBySection += part.render('');\r\n        }\r\n        if (groupBySection.length) {\r\n            query += ' GROUP BY ' + groupBySection;\r\n        }\r\n        if (target.fill) {\r\n            query += ' fill(' + target.fill + ')';\r\n        }\r\n        if (target.orderByTime === 'DESC') {\r\n            query += ' ORDER BY time DESC';\r\n        }\r\n        if (target.limit) {\r\n            query += ' LIMIT ' + target.limit;\r\n        }\r\n        if (target.slimit) {\r\n            query += ' SLIMIT ' + target.slimit;\r\n        }\r\n        return query;\r\n    };\r\n    InfluxQuery.prototype.renderAdhocFilters = function (filters) {\r\n        var _this = this;\r\n        var conditions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(filters, function (tag, index) {\r\n            return _this.renderTagCondition(tag, index, false);\r\n        });\r\n        return conditions.join(' ');\r\n    };\r\n    return InfluxQuery;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (InfluxQuery);\r\n\n\n/***/ }),\n\n/***/ 1332:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__ = __webpack_require__(1308);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar index = [];\r\nvar categories = {\r\n    Aggregations: [],\r\n    Selectors: [],\r\n    Transformations: [],\r\n    Predictors: [],\r\n    Math: [],\r\n    Aliasing: [],\r\n    Fields: [],\r\n};\r\nfunction createPart(part) {\r\n    var def = index[part.type];\r\n    if (!def) {\r\n        throw { message: 'Could not find query part ' + part.type };\r\n    }\r\n    return new __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"a\" /* QueryPart */](part, def);\r\n}\r\nfunction register(options) {\r\n    index[options.type] = new __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"b\" /* QueryPartDef */](options);\r\n    options.category.push(index[options.type]);\r\n}\r\nvar groupByTimeFunctions = [];\r\nfunction aliasRenderer(part, innerExpr) {\r\n    return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\r\n}\r\nfunction fieldRenderer(part, innerExpr) {\r\n    if (part.params[0] === '*') {\r\n        return '*';\r\n    }\r\n    return '\"' + part.params[0] + '\"';\r\n}\r\nfunction replaceAggregationAddStrategy(selectParts, partModel) {\r\n    // look for existing aggregation\r\n    for (var i = 0; i < selectParts.length; i++) {\r\n        var part = selectParts[i];\r\n        if (part.def.category === categories.Aggregations) {\r\n            selectParts[i] = partModel;\r\n            return;\r\n        }\r\n        if (part.def.category === categories.Selectors) {\r\n            selectParts[i] = partModel;\r\n            return;\r\n        }\r\n    }\r\n    selectParts.splice(1, 0, partModel);\r\n}\r\nfunction addTransformationStrategy(selectParts, partModel) {\r\n    var i;\r\n    // look for index to add transformation\r\n    for (i = 0; i < selectParts.length; i++) {\r\n        var part = selectParts[i];\r\n        if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\r\n            break;\r\n        }\r\n    }\r\n    selectParts.splice(i, 0, partModel);\r\n}\r\nfunction addMathStrategy(selectParts, partModel) {\r\n    var partCount = selectParts.length;\r\n    if (partCount > 0) {\r\n        // if last is math, replace it\r\n        if (selectParts[partCount - 1].def.type === 'math') {\r\n            selectParts[partCount - 1] = partModel;\r\n            return;\r\n        }\r\n        // if next to last is math, replace it\r\n        if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\r\n            selectParts[partCount - 2] = partModel;\r\n            return;\r\n        }\r\n        else if (selectParts[partCount - 1].def.type === 'alias') {\r\n            selectParts.splice(partCount - 1, 0, partModel);\r\n            return;\r\n        }\r\n    }\r\n    selectParts.push(partModel);\r\n}\r\nfunction addAliasStrategy(selectParts, partModel) {\r\n    var partCount = selectParts.length;\r\n    if (partCount > 0) {\r\n        // if last is alias, replace it\r\n        if (selectParts[partCount - 1].def.type === 'alias') {\r\n            selectParts[partCount - 1] = partModel;\r\n            return;\r\n        }\r\n    }\r\n    selectParts.push(partModel);\r\n}\r\nfunction addFieldStrategy(selectParts, partModel, query) {\r\n    // copy all parts\r\n    var parts = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(selectParts, function (part) {\r\n        return createPart({ type: part.def.type, params: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(part.params) });\r\n    });\r\n    query.selectModels.push(parts);\r\n}\r\nregister({\r\n    type: 'field',\r\n    addStrategy: addFieldStrategy,\r\n    category: categories.Fields,\r\n    params: [{ type: 'field', dynamicLookup: true }],\r\n    defaultParams: ['value'],\r\n    renderer: fieldRenderer,\r\n});\r\n// Aggregations\r\nregister({\r\n    type: 'count',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'distinct',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'integral',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'mean',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'median',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'mode',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'sum',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Aggregations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\n// transformations\r\nregister({\r\n    type: 'derivative',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'] }],\r\n    defaultParams: ['10s'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'spread',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'non_negative_derivative',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'] }],\r\n    defaultParams: ['10s'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'difference',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'non_negative_difference',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'moving_average',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [{ name: \"window\", type: \"int\", options: [5, 10, 20, 30, 40] }],\r\n    defaultParams: [10],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'cumulative_sum',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'stddev',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'time',\r\n    category: groupByTimeFunctions,\r\n    params: [{ name: \"interval\", type: \"time\", options: ['$__interval', '1s', '10s', '1m', '5m', '10m', '15m', '1h'] }],\r\n    defaultParams: ['$__interval'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'fill',\r\n    category: groupByTimeFunctions,\r\n    params: [{ name: \"fill\", type: \"string\", options: ['none', 'null', '0', 'previous', 'linear'] }],\r\n    defaultParams: ['null'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'elapsed',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Transformations,\r\n    params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'] }],\r\n    defaultParams: ['10s'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\n// predictions\r\nregister({\r\n    type: 'holt_winters',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Predictors,\r\n    params: [{ name: \"number\", type: \"int\", options: [5, 10, 20, 30, 40] }, { name: \"season\", type: \"int\", options: [0, 1, 2, 5, 10] }],\r\n    defaultParams: [10, 2],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'holt_winters_with_fit',\r\n    addStrategy: addTransformationStrategy,\r\n    category: categories.Predictors,\r\n    params: [{ name: \"number\", type: \"int\", options: [5, 10, 20, 30, 40] }, { name: \"season\", type: \"int\", options: [0, 1, 2, 5, 10] }],\r\n    defaultParams: [10, 2],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\n// Selectors\r\nregister({\r\n    type: 'bottom',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [3],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'first',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'last',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'max',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'min',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [],\r\n    defaultParams: [],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'percentile',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [{ name: 'nth', type: 'int' }],\r\n    defaultParams: [95],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'top',\r\n    addStrategy: replaceAggregationAddStrategy,\r\n    category: categories.Selectors,\r\n    params: [{ name: 'count', type: 'int' }],\r\n    defaultParams: [3],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"c\" /* functionRenderer */],\r\n});\r\nregister({\r\n    type: 'tag',\r\n    category: groupByTimeFunctions,\r\n    params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\r\n    defaultParams: ['tag'],\r\n    renderer: fieldRenderer,\r\n});\r\nregister({\r\n    type: 'math',\r\n    addStrategy: addMathStrategy,\r\n    category: categories.Math,\r\n    params: [{ name: \"expr\", type: \"string\" }],\r\n    defaultParams: [' / 100'],\r\n    renderer: __WEBPACK_IMPORTED_MODULE_1_app_core_components_query_part_query_part__[\"d\" /* suffixRenderer */],\r\n});\r\nregister({\r\n    type: 'alias',\r\n    addStrategy: addAliasStrategy,\r\n    category: categories.Aliasing,\r\n    params: [{ name: \"name\", type: \"string\", quote: 'double' }],\r\n    defaultParams: ['alias'],\r\n    renderMode: 'suffix',\r\n    renderer: aliasRenderer,\r\n});\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    create: createPart,\r\n    getCategories: function () {\r\n        return categories;\r\n    }\r\n});\r\n\n\n/***/ }),\n\n/***/ 1333:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InfluxQueryBuilder; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nfunction renderTagCondition(tag, index) {\r\n    var str = '';\r\n    var operator = tag.operator;\r\n    var value = tag.value;\r\n    if (index > 0) {\r\n        str = (tag.condition || 'AND') + ' ';\r\n    }\r\n    if (!operator) {\r\n        if (/^\\/.*\\/$/.test(tag.value)) {\r\n            operator = '=~';\r\n        }\r\n        else {\r\n            operator = '=';\r\n        }\r\n    }\r\n    // quote value unless regex or number\r\n    if (operator !== '=~' && operator !== '!~' && isNaN(+value)) {\r\n        value = \"'\" + value + \"'\";\r\n    }\r\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\r\n}\r\nvar InfluxQueryBuilder = /** @class */ (function () {\r\n    function InfluxQueryBuilder(target, database) {\r\n        this.target = target;\r\n        this.database = database;\r\n    }\r\n    InfluxQueryBuilder.prototype.buildExploreQuery = function (type, withKey, withMeasurementFilter) {\r\n        var query;\r\n        var measurement;\r\n        var policy;\r\n        if (type === 'TAG_KEYS') {\r\n            query = 'SHOW TAG KEYS';\r\n            measurement = this.target.measurement;\r\n            policy = this.target.policy;\r\n        }\r\n        else if (type === 'TAG_VALUES') {\r\n            query = 'SHOW TAG VALUES';\r\n            measurement = this.target.measurement;\r\n            policy = this.target.policy;\r\n        }\r\n        else if (type === 'MEASUREMENTS') {\r\n            query = 'SHOW MEASUREMENTS';\r\n            if (withMeasurementFilter) {\r\n                query += ' WITH MEASUREMENT =~ /' + withMeasurementFilter + '/';\r\n            }\r\n        }\r\n        else if (type === 'FIELDS') {\r\n            measurement = this.target.measurement;\r\n            policy = this.target.policy;\r\n            if (!measurement.match('^/.*/')) {\r\n                measurement = '\"' + measurement + '\"';\r\n                if (policy && policy !== 'default') {\r\n                    policy = '\"' + policy + '\"';\r\n                    measurement = policy + '.' + measurement;\r\n                }\r\n            }\r\n            return 'SHOW FIELD KEYS FROM ' + measurement;\r\n        }\r\n        else if (type === 'RETENTION POLICIES') {\r\n            query = 'SHOW RETENTION POLICIES on \"' + this.database + '\"';\r\n            return query;\r\n        }\r\n        if (measurement) {\r\n            if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\r\n                measurement = '\"' + measurement + '\"';\r\n            }\r\n            if (policy && policy !== 'default') {\r\n                policy = '\"' + policy + '\"';\r\n                measurement = policy + '.' + measurement;\r\n            }\r\n            query += ' FROM ' + measurement;\r\n        }\r\n        if (withKey) {\r\n            query += ' WITH KEY = \"' + withKey + '\"';\r\n        }\r\n        if (this.target.tags && this.target.tags.length > 0) {\r\n            var whereConditions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(this.target.tags, function (memo, tag) {\r\n                // do not add a condition for the key we want to explore for\r\n                if (tag.key === withKey) {\r\n                    return memo;\r\n                }\r\n                memo.push(renderTagCondition(tag, memo.length));\r\n                return memo;\r\n            }, []);\r\n            if (whereConditions.length > 0) {\r\n                query += ' WHERE ' + whereConditions.join(' ');\r\n            }\r\n        }\r\n        if (type === 'MEASUREMENTS') {\r\n            query += ' LIMIT 100';\r\n            //Solve issue #2524 by limiting the number of measurements returned\r\n            //LIMIT must be after WITH MEASUREMENT and WHERE clauses\r\n            //This also could be used for TAG KEYS and TAG VALUES, if desired\r\n        }\r\n        return query;\r\n    };\r\n    return InfluxQueryBuilder;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1334:\n/***/ (function(module, exports) {\n\n/* Flot plugin for selecting regions of a plot.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\nselection: {\n\tmode: null or \"x\" or \"y\" or \"xy\",\n\tcolor: color,\n\tshape: \"round\" or \"miter\" or \"bevel\",\n\tminSize: number of pixels\n}\n\nSelection support is enabled by setting the mode to one of \"x\", \"y\" or \"xy\".\nIn \"x\" mode, the user will only be able to specify the x range, similarly for\n\"y\" mode. For \"xy\", the selection becomes a rectangle where both ranges can be\nspecified. \"color\" is color of the selection (if you need to change the color\nlater on, you can get to it with plot.getOptions().selection.color). \"shape\"\nis the shape of the corners of the selection.\n\n\"minSize\" is the minimum size a selection can be in pixels. This value can\nbe customized to determine the smallest size a selection can be and still\nhave the selection rectangle be displayed. When customizing this value, the\nfact that it refers to pixels, not axis units must be taken into account.\nThus, for example, if there is a bar graph in time mode with BarWidth set to 1\nminute, setting \"minSize\" to 1 will not make the minimum selection size 1\nminute, but rather 1 pixel. Note also that setting \"minSize\" to 0 will prevent\n\"plotunselected\" events from being fired when the user clicks the mouse without\ndragging.\n\nWhen selection support is enabled, a \"plotselected\" event will be emitted on\nthe DOM element you passed into the plot function. The event handler gets a\nparameter with the ranges selected on the axes, like this:\n\n\tplaceholder.bind( \"plotselected\", function( event, ranges ) {\n\t\talert(\"You selected \" + ranges.xaxis.from + \" to \" + ranges.xaxis.to)\n\t\t// similar for yaxis - with multiple axes, the extra ones are in\n\t\t// x2axis, x3axis, ...\n\t});\n\nThe \"plotselected\" event is only fired when the user has finished making the\nselection. A \"plotselecting\" event is fired during the process with the same\nparameters as the \"plotselected\" event, in case you want to know what's\nhappening while it's happening,\n\nA \"plotunselected\" event with no arguments is emitted when the user clicks the\nmouse to remove the selection. As stated above, setting \"minSize\" to 0 will\ndestroy this behavior.\n\nThe plugin allso adds the following methods to the plot object:\n\n- setSelection( ranges, preventEvent )\n\n  Set the selection rectangle. The passed in ranges is on the same form as\n  returned in the \"plotselected\" event. If the selection mode is \"x\", you\n  should put in either an xaxis range, if the mode is \"y\" you need to put in\n  an yaxis range and both xaxis and yaxis if the selection mode is \"xy\", like\n  this:\n\n\tsetSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });\n\n  setSelection will trigger the \"plotselected\" event when called. If you don't\n  want that to happen, e.g. if you're inside a \"plotselected\" handler, pass\n  true as the second parameter. If you are using multiple axes, you can\n  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of\n  xaxis, the plugin picks the first one it sees.\n\n- clearSelection( preventEvent )\n\n  Clear the selection rectangle. Pass in true to avoid getting a\n  \"plotunselected\" event.\n\n- getSelection()\n\n  Returns the current selection in the same format as the \"plotselected\"\n  event. If there's currently no selection, the function returns null.\n\n*/\n\n(function ($) {\n    function init(plot) {\n        var selection = {\n                first: { x: -1, y: -1}, second: { x: -1, y: -1},\n                show: false,\n                active: false\n            };\n\n        // FIXME: The drag handling implemented here should be\n        // abstracted out, there's some similar code from a library in\n        // the navigation plugin, this should be massaged a bit to fit\n        // the Flot cases here better and reused. Doing this would\n        // make this plugin much slimmer.\n        var savedhandlers = {};\n\n        var mouseUpHandler = null;\n\n        function onMouseMove(e) {\n            if (selection.active) {\n                updateSelection(e);\n\n                plot.getPlaceholder().trigger(\"plotselecting\", [ getSelection() ]);\n            }\n        }\n\n        function onMouseDown(e) {\n            if (e.which != 1)  // only accept left-click\n                return;\n\n            // cancel out any text selections\n            document.body.focus();\n\n            // prevent text selection and drag in old-school browsers\n            if (document.onselectstart !== undefined && savedhandlers.onselectstart == null) {\n                savedhandlers.onselectstart = document.onselectstart;\n                document.onselectstart = function () { return false; };\n            }\n            if (document.ondrag !== undefined && savedhandlers.ondrag == null) {\n                savedhandlers.ondrag = document.ondrag;\n                document.ondrag = function () { return false; };\n            }\n\n            setSelectionPos(selection.first, e);\n\n            selection.active = true;\n\n            // this is a bit silly, but we have to use a closure to be\n            // able to whack the same handler again\n            mouseUpHandler = function (e) { onMouseUp(e); };\n\n            $(document).one(\"mouseup\", mouseUpHandler);\n        }\n\n        function onMouseUp(e) {\n            mouseUpHandler = null;\n\n            // revert drag stuff for old-school browsers\n            if (document.onselectstart !== undefined)\n                document.onselectstart = savedhandlers.onselectstart;\n            if (document.ondrag !== undefined)\n                document.ondrag = savedhandlers.ondrag;\n\n            // no more dragging\n            selection.active = false;\n            updateSelection(e);\n\n            if (selectionIsSane())\n                triggerSelectedEvent(e);\n            else {\n                // this counts as a clear\n                plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n                plot.getPlaceholder().trigger(\"plotselecting\", [ null ]);\n            }\n\n            setTimeout(function() {\n              plot.isSelecting = false;\n            }, 10);\n\n            return false;\n        }\n\n        function getSelection() {\n            if (!selectionIsSane())\n                return null;\n\n            if (!selection.show) return null;\n\n            var r = {}, c1 = selection.first, c2 = selection.second;\n            var axes = plot.getAxes();\n            // look if no axis is used\n            var noAxisInUse = true;\n            $.each(axes, function (name, axis) {\n              if (axis.used) {\n                anyUsed = false;\n              }\n            })\n\n            $.each(axes, function (name, axis) {\n                if (axis.used || noAxisInUse) {\n                    var p1 = axis.c2p(c1[axis.direction]), p2 = axis.c2p(c2[axis.direction]);\n                    r[name] = { from: Math.min(p1, p2), to: Math.max(p1, p2) };\n                }\n            });\n            return r;\n        }\n\n        function triggerSelectedEvent(event) {\n            var r = getSelection();\n\n            // Add ctrlKey and metaKey to event\n            r.ctrlKey = event.ctrlKey;\n            r.metaKey = event.metaKey;\n\n            plot.getPlaceholder().trigger(\"plotselected\", [ r ]);\n\n            // backwards-compat stuff, to be removed in future\n            if (r.xaxis && r.yaxis)\n                plot.getPlaceholder().trigger(\"selected\", [ { x1: r.xaxis.from, y1: r.yaxis.from, x2: r.xaxis.to, y2: r.yaxis.to } ]);\n        }\n\n        function clamp(min, value, max) {\n            return value < min ? min: (value > max ? max: value);\n        }\n\n        function setSelectionPos(pos, e) {\n            var o = plot.getOptions();\n            var offset = plot.getPlaceholder().offset();\n            var plotOffset = plot.getPlotOffset();\n            pos.x = clamp(0, e.pageX - offset.left - plotOffset.left, plot.width());\n            pos.y = clamp(0, e.pageY - offset.top - plotOffset.top, plot.height());\n\n            if (o.selection.mode == \"y\")\n                pos.x = pos == selection.first ? 0 : plot.width();\n\n            if (o.selection.mode == \"x\")\n                pos.y = pos == selection.first ? 0 : plot.height();\n        }\n\n        function updateSelection(pos) {\n            if (pos.pageX == null)\n                return;\n\n            setSelectionPos(selection.second, pos);\n            if (selectionIsSane()) {\n                plot.isSelecting = true;\n                selection.show = true;\n                plot.triggerRedrawOverlay();\n            }\n            else\n                clearSelection(true);\n        }\n\n        function clearSelection(preventEvent) {\n            if (selection.show) {\n                selection.show = false;\n                plot.triggerRedrawOverlay();\n                if (!preventEvent)\n                    plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n            }\n        }\n\n        // function taken from markings support in Flot\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = plot.getAxes();\n\n            for (var k in axes) {\n                axis = axes[k];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? plot.getXAxes()[0] : plot.getYAxes()[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function setSelection(ranges, preventEvent) {\n            var axis, range, o = plot.getOptions();\n\n            if (o.selection.mode == \"y\") {\n                selection.first.x = 0;\n                selection.second.x = plot.width();\n            }\n            else {\n                range = extractRange(ranges, \"x\");\n\n                selection.first.x = range.axis.p2c(range.from);\n                selection.second.x = range.axis.p2c(range.to);\n            }\n\n            if (o.selection.mode == \"x\") {\n                selection.first.y = 0;\n                selection.second.y = plot.height();\n            }\n            else {\n                range = extractRange(ranges, \"y\");\n\n                selection.first.y = range.axis.p2c(range.from);\n                selection.second.y = range.axis.p2c(range.to);\n            }\n\n            selection.show = true;\n            plot.triggerRedrawOverlay();\n            if (!preventEvent && selectionIsSane())\n                triggerSelectedEvent();\n        }\n\n        function selectionIsSane() {\n            var minSize = plot.getOptions().selection.minSize;\n            return Math.abs(selection.second.x - selection.first.x) >= minSize &&\n                Math.abs(selection.second.y - selection.first.y) >= minSize;\n        }\n\n        plot.clearSelection = clearSelection;\n        plot.setSelection = setSelection;\n        plot.getSelection = getSelection;\n\n        plot.hooks.bindEvents.push(function(plot, eventHolder) {\n            var o = plot.getOptions();\n            if (o.selection.mode != null) {\n                eventHolder.mousemove(onMouseMove);\n                eventHolder.mousedown(onMouseDown);\n            }\n        });\n\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            // draw selection\n            if (selection.show && selectionIsSane()) {\n                var plotOffset = plot.getPlotOffset();\n                var o = plot.getOptions();\n\n                ctx.save();\n                ctx.translate(plotOffset.left, plotOffset.top);\n\n                var c = $.color.parse(o.selection.color);\n\n                ctx.strokeStyle = c.scale('a', 0.8).toString();\n                ctx.lineWidth = 1;\n                ctx.lineJoin = o.selection.shape;\n                ctx.fillStyle = c.scale('a', 0.4).toString();\n\n                var x = Math.min(selection.first.x, selection.second.x) + 0.5,\n                    y = Math.min(selection.first.y, selection.second.y) + 0.5,\n                    w = Math.abs(selection.second.x - selection.first.x) - 1,\n                    h = Math.abs(selection.second.y - selection.first.y) - 1;\n\n                ctx.fillRect(x, y, w, h);\n                ctx.strokeRect(x, y, w, h);\n\n                ctx.restore();\n            }\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mousedown\", onMouseDown);\n\n            if (mouseUpHandler)\n                $(document).unbind(\"mouseup\", mouseUpHandler);\n        });\n\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: {\n            selection: {\n                mode: null, // one of null, \"x\", \"y\" or \"xy\"\n                color: \"#e8cfac\",\n                shape: \"round\", // one of \"round\", \"miter\", or \"bevel\"\n                minSize: 5 // minimum number of pixels\n            }\n        },\n        name: 'selection',\n        version: '1.1'\n    });\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1335:\n/***/ (function(module, exports) {\n\n/* Pretty handling of time axes.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nSet axis.mode to \"time\" to enable. See the section \"Time series data\" in\nAPI.txt for details.\n\n*/\n\n(function($) {\n\n\tvar options = {\n\t\txaxis: {\n\t\t\ttimezone: null,\t\t// \"browser\" for local to the client or timezone for timezone-js\n\t\t\ttimeformat: null,\t// format string to use\n\t\t\ttwelveHourClock: false,\t// 12 or 24 time in time mode\n\t\t\tmonthNames: null\t// list of names of months\n\t\t}\n\t};\n\n\t// round to nearby lower multiple of base\n\n\tfunction floorInBase(n, base) {\n\t\treturn base * Math.floor(n / base);\n\t}\n\n\t// Returns a string with the date d formatted according to fmt.\n\t// A subset of the Open Group's strftime format is supported.\n\n\tfunction formatDate(d, fmt, monthNames, dayNames) {\n\n\t\tif (typeof d.strftime == \"function\") {\n\t\t\treturn d.strftime(fmt);\n\t\t}\n\n\t\tvar leftPad = function(n, pad) {\n\t\t\tn = \"\" + n;\n\t\t\tpad = \"\" + (pad == null ? \"0\" : pad);\n\t\t\treturn n.length == 1 ? pad + n : n;\n\t\t};\n\n\t\tvar r = [];\n\t\tvar escape = false;\n\t\tvar hours = d.getHours();\n\t\tvar isAM = hours < 12;\n\n\t\tif (monthNames == null) {\n\t\t\tmonthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t}\n\n\t\tif (dayNames == null) {\n\t\t\tdayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\t\t}\n\n\t\tvar hours12;\n\n\t\tif (hours > 12) {\n\t\t\thours12 = hours - 12;\n\t\t} else if (hours == 0) {\n\t\t\thours12 = 12;\n\t\t} else {\n\t\t\thours12 = hours;\n\t\t}\n\n\t\tfor (var i = 0; i < fmt.length; ++i) {\n\n\t\t\tvar c = fmt.charAt(i);\n\n\t\t\tif (escape) {\n\t\t\t\tswitch (c) {\n\t\t\t\t\tcase 'a': c = \"\" + dayNames[d.getDay()]; break;\n\t\t\t\t\tcase 'b': c = \"\" + monthNames[d.getMonth()]; break;\n\t\t\t\t\tcase 'd': c = leftPad(d.getDate(), \"\"); break;\n\t\t\t\t\tcase 'e': c = leftPad(d.getDate(), \" \"); break;\n\t\t\t\t\tcase 'h':\t// For back-compat with 0.7; remove in 1.0\n\t\t\t\t\tcase 'H': c = leftPad(hours); break;\n\t\t\t\t\tcase 'I': c = leftPad(hours12); break;\n\t\t\t\t\tcase 'l': c = leftPad(hours12, \" \"); break;\n\t\t\t\t\tcase 'm': c = leftPad(d.getMonth() + 1, \"\"); break;\n\t\t\t\t\tcase 'M': c = leftPad(d.getMinutes()); break;\n\t\t\t\t\t// quarters not in Open Group's strftime specification\n\t\t\t\t\tcase 'q':\n\t\t\t\t\t\tc = \"\" + (Math.floor(d.getMonth() / 3) + 1); break;\n\t\t\t\t\tcase 'S': c = leftPad(d.getSeconds()); break;\n\t\t\t\t\tcase 'y': c = leftPad(d.getFullYear() % 100); break;\n\t\t\t\t\tcase 'Y': c = \"\" + d.getFullYear(); break;\n\t\t\t\t\tcase 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n\t\t\t\t\tcase 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n\t\t\t\t\tcase 'w': c = \"\" + d.getDay(); break;\n\t\t\t\t}\n\t\t\t\tr.push(c);\n\t\t\t\tescape = false;\n\t\t\t} else {\n\t\t\t\tif (c == \"%\") {\n\t\t\t\t\tescape = true;\n\t\t\t\t} else {\n\t\t\t\t\tr.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn r.join(\"\");\n\t}\n\n\t// To have a consistent view of time-based data independent of which time\n\t// zone the client happens to be in we need a date-like object independent\n\t// of time zones.  This is done through a wrapper that only calls the UTC\n\t// versions of the accessor methods.\n\n\tfunction makeUtcWrapper(d) {\n\n\t\tfunction addProxyMethod(sourceObj, sourceMethod, targetObj, targetMethod) {\n\t\t\tsourceObj[sourceMethod] = function() {\n\t\t\t\treturn targetObj[targetMethod].apply(targetObj, arguments);\n\t\t\t};\n\t\t};\n\n\t\tvar utc = {\n\t\t\tdate: d\n\t\t};\n\n\t\t// support strftime, if found\n\n\t\tif (d.strftime != undefined) {\n\t\t\taddProxyMethod(utc, \"strftime\", d, \"strftime\");\n\t\t}\n\n\t\taddProxyMethod(utc, \"getTime\", d, \"getTime\");\n\t\taddProxyMethod(utc, \"setTime\", d, \"setTime\");\n\n\t\tvar props = [\"Date\", \"Day\", \"FullYear\", \"Hours\", \"Milliseconds\", \"Minutes\", \"Month\", \"Seconds\"];\n\n\t\tfor (var p = 0; p < props.length; p++) {\n\t\t\taddProxyMethod(utc, \"get\" + props[p], d, \"getUTC\" + props[p]);\n\t\t\taddProxyMethod(utc, \"set\" + props[p], d, \"setUTC\" + props[p]);\n\t\t}\n\n\t\treturn utc;\n\t};\n\n\t// select time zone strategy.  This returns a date-like object tied to the\n\t// desired timezone\n\n\tfunction dateGenerator(ts, opts) {\n\t\tif (opts.timezone == \"browser\") {\n\t\t\treturn new Date(ts);\n\t\t} else if (!opts.timezone || opts.timezone == \"utc\") {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t} else if (typeof timezoneJS != \"undefined\" && typeof timezoneJS.Date != \"undefined\") {\n\t\t\tvar d = new timezoneJS.Date();\n\t\t\t// timezone-js is fickle, so be sure to set the time zone before\n\t\t\t// setting the time.\n\t\t\td.setTimezone(opts.timezone);\n\t\t\td.setTime(ts);\n\t\t\treturn d;\n\t\t} else {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t}\n\t}\n\n\t// map of app. size of time units in milliseconds\n\n\tvar timeUnitSize = {\n\t\t\"second\": 1000,\n\t\t\"minute\": 60 * 1000,\n\t\t\"hour\": 60 * 60 * 1000,\n\t\t\"day\": 24 * 60 * 60 * 1000,\n\t\t\"month\": 30 * 24 * 60 * 60 * 1000,\n\t\t\"quarter\": 3 * 30 * 24 * 60 * 60 * 1000,\n\t\t\"year\": 365.2425 * 24 * 60 * 60 * 1000\n\t};\n\n\t// the allowed tick sizes, after 1 year we use\n\t// an integer algorithm\n\n\tvar baseSpec = [\n\t\t[1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n\t\t[30, \"second\"],\n\t\t[1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n\t\t[30, \"minute\"],\n\t\t[1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n\t\t[8, \"hour\"], [12, \"hour\"],\n\t\t[1, \"day\"], [2, \"day\"], [3, \"day\"],\n\t\t[0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n\t\t[2, \"month\"]\n\t];\n\n\t// we don't know which variant(s) we'll need yet, but generating both is\n\t// cheap\n\n\tvar specMonths = baseSpec.concat([[3, \"month\"], [6, \"month\"],\n\t\t[1, \"year\"]]);\n\tvar specQuarters = baseSpec.concat([[1, \"quarter\"], [2, \"quarter\"],\n\t\t[1, \"year\"]]);\n\n\tfunction init(plot) {\n\t\tplot.hooks.processOptions.push(function (plot, options) {\n\t\t\t$.each(plot.getAxes(), function(axisName, axis) {\n\n\t\t\t\tvar opts = axis.options;\n\n\t\t\t\tif (opts.mode == \"time\") {\n\t\t\t\t\taxis.tickGenerator = function(axis) {\n\n\t\t\t\t\t\tvar ticks = [];\n\t\t\t\t\t\tvar d = dateGenerator(axis.min, opts);\n\t\t\t\t\t\tvar minSize = 0;\n\n\t\t\t\t\t\t// make quarter use a possibility if quarters are\n\t\t\t\t\t\t// mentioned in either of these options\n\n\t\t\t\t\t\tvar spec = (opts.tickSize && opts.tickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ||\n\t\t\t\t\t\t\t(opts.minTickSize && opts.minTickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ? specQuarters : specMonths;\n\n\t\t\t\t\t\tif (opts.minTickSize != null) {\n\t\t\t\t\t\t\tif (typeof opts.tickSize == \"number\") {\n\t\t\t\t\t\t\t\tminSize = opts.tickSize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var i = 0; i < spec.length - 1; ++i) {\n\t\t\t\t\t\t\tif (axis.delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n\t\t\t\t\t\t\t\t\t\t\t  + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n\t\t\t\t\t\t\t\t&& spec[i][0] * timeUnitSize[spec[i][1]] >= minSize) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar size = spec[i][0];\n\t\t\t\t\t\tvar unit = spec[i][1];\n\n\t\t\t\t\t\t// special-case the possibility of several years\n\n\t\t\t\t\t\tif (unit == \"year\") {\n\n\t\t\t\t\t\t\t// if given a minTickSize in years, just use it,\n\t\t\t\t\t\t\t// ensuring that it's an integer\n\n\t\t\t\t\t\t\tif (opts.minTickSize != null && opts.minTickSize[1] == \"year\") {\n\t\t\t\t\t\t\t\tsize = Math.floor(opts.minTickSize[0]);\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar magn = Math.pow(10, Math.floor(Math.log(axis.delta / timeUnitSize.year) / Math.LN10));\n\t\t\t\t\t\t\t\tvar norm = (axis.delta / timeUnitSize.year) / magn;\n\n\t\t\t\t\t\t\t\tif (norm < 1.5) {\n\t\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t\t} else if (norm < 3) {\n\t\t\t\t\t\t\t\t\tsize = 2;\n\t\t\t\t\t\t\t\t} else if (norm < 7.5) {\n\t\t\t\t\t\t\t\t\tsize = 5;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsize = 10;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsize *= magn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// minimum size for years is 1\n\n\t\t\t\t\t\t\tif (size < 1) {\n\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taxis.tickSize = opts.tickSize || [size, unit];\n\t\t\t\t\t\tvar tickSize = axis.tickSize[0];\n\t\t\t\t\t\tunit = axis.tickSize[1];\n\n\t\t\t\t\t\tvar step = tickSize * timeUnitSize[unit];\n\n\t\t\t\t\t\tif (unit == \"second\") {\n\t\t\t\t\t\t\td.setSeconds(floorInBase(d.getSeconds(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"minute\") {\n\t\t\t\t\t\t\td.setMinutes(floorInBase(d.getMinutes(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"hour\") {\n\t\t\t\t\t\t\td.setHours(floorInBase(d.getHours(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"month\") {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"quarter\") {\n\t\t\t\t\t\t\td.setMonth(3 * floorInBase(d.getMonth() / 3,\n\t\t\t\t\t\t\t\ttickSize));\n\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\td.setFullYear(floorInBase(d.getFullYear(), tickSize));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset smaller components\n\n\t\t\t\t\t\td.setMilliseconds(0);\n\n\t\t\t\t\t\tif (step >= timeUnitSize.minute) {\n\t\t\t\t\t\t\td.setSeconds(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.hour) {\n\t\t\t\t\t\t\td.setMinutes(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day) {\n\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day * 4) {\n\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.month * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.quarter * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 6));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.year) {\n\t\t\t\t\t\t\td.setMonth(0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar carry = 0;\n\t\t\t\t\t\tvar v = Number.NaN;\n\t\t\t\t\t\tvar prev;\n\n\t\t\t\t\t\tdo {\n\n\t\t\t\t\t\t\tprev = v;\n\t\t\t\t\t\t\tv = d.getTime();\n\t\t\t\t\t\t\tticks.push(v);\n\n\t\t\t\t\t\t\tif (unit == \"month\" || unit == \"quarter\") {\n\t\t\t\t\t\t\t\tif (tickSize < 1) {\n\n\t\t\t\t\t\t\t\t\t// a bit complicated - we'll divide the\n\t\t\t\t\t\t\t\t\t// month/quarter up but we need to take\n\t\t\t\t\t\t\t\t\t// care of fractions so we don't end up in\n\t\t\t\t\t\t\t\t\t// the middle of a day\n\n\t\t\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t\t\t\tvar start = d.getTime();\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\t(unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t\tvar end = d.getTime();\n\t\t\t\t\t\t\t\t\td.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n\t\t\t\t\t\t\t\t\tcarry = d.getHours();\n\t\t\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\ttickSize * (unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\t\td.setFullYear(d.getFullYear() + tickSize);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\td.setTime(v + step);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (v < axis.max && v != prev);\n\n\t\t\t\t\t\treturn ticks;\n\t\t\t\t\t};\n\n\t\t\t\t\taxis.tickFormatter = function (v, axis) {\n\n\t\t\t\t\t\tvar d = dateGenerator(v, axis.options);\n\n\t\t\t\t\t\t// first check global format\n\n\t\t\t\t\t\tif (opts.timeformat != null) {\n\t\t\t\t\t\t\treturn formatDate(d, opts.timeformat, opts.monthNames, opts.dayNames);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// possibly use quarters if quarters are mentioned in\n\t\t\t\t\t\t// any of these places\n\n\t\t\t\t\t\tvar useQuarters = (axis.options.tickSize &&\n\t\t\t\t\t\t\t\taxis.options.tickSize[1] == \"quarter\") ||\n\t\t\t\t\t\t\t(axis.options.minTickSize &&\n\t\t\t\t\t\t\t\taxis.options.minTickSize[1] == \"quarter\");\n\n\t\t\t\t\t\tvar t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n\t\t\t\t\t\tvar span = axis.max - axis.min;\n\t\t\t\t\t\tvar suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n\t\t\t\t\t\tvar hourCode = (opts.twelveHourClock) ? \"%I\" : \"%H\";\n\t\t\t\t\t\tvar fmt;\n\n\t\t\t\t\t\tif (t < timeUnitSize.minute) {\n\t\t\t\t\t\t\tfmt = hourCode + \":%M:%S\" + suffix;\n\t\t\t\t\t\t} else if (t < timeUnitSize.day) {\n\t\t\t\t\t\t\tif (span < 2 * timeUnitSize.day) {\n\t\t\t\t\t\t\t\tfmt = hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %d \" + hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (t < timeUnitSize.month) {\n\t\t\t\t\t\t\tfmt = \"%b %d\";\n\t\t\t\t\t\t} else if ((useQuarters && t < timeUnitSize.quarter) ||\n\t\t\t\t\t\t\t(!useQuarters && t < timeUnitSize.year)) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"%b\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (useQuarters && t < timeUnitSize.year) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"Q%q\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"Q%q %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfmt = \"%Y\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar rt = formatDate(d, fmt, opts.monthNames, opts.dayNames);\n\n\t\t\t\t\t\treturn rt;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: 'time',\n\t\tversion: '1.0'\n\t});\n\n\t// Time-axis support used to be in Flot core, which exposed the\n\t// formatDate function on the plot object.  Various plugins depend\n\t// on the function, so we need to re-expose it here.\n\n\t$.plot.formatDate = formatDate;\n\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1336:\n/***/ (function(module, exports) {\n\n/* Flot plugin for stacking data sets rather than overlyaing them.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes the data is sorted on x (or y if stacking horizontally).\nFor line charts, it is assumed that if a line has an undefined gap (from a\nnull point), then the line above it should have the same gap - insert zeros\ninstead of \"null\" if you want another behaviour. This also holds for the start\nand end of the chart. Note that stacking a mix of positive and negative values\nin most instances doesn't make sense (so it looks weird).\n\nTwo or more series are stacked when their \"stack\" attribute is set to the same\nkey (which can be any number or string or just \"true\"). To specify the default\nstack, you can set the stack option like this:\n\n    series: {\n        stack: null/false, true, or a key (number/string)\n    }\n\nYou can also specify it for a single series, like this:\n\n    $.plot( $(\"#placeholder\"), [{\n        data: [ ... ],\n        stack: true\n    }])\n\nThe stacking order is determined by the order of the data series in the array\n(later series end up on top of the previous).\n\nInternally, the plugin modifies the datapoints in each series, adding an\noffset to the y value. For line series, extra data points are inserted through\ninterpolation. If there's a second y value, it's also adjusted (e.g for bar\ncharts or filled areas).\n\n*/\n\n(function ($) {\n    var options = {\n        series: { stack: null } // or number/string\n    };\n\n    function init(plot) {\n        function findMatchingSeries(s, allseries) {\n            var res = null;\n            for (var i = 0; i < allseries.length; ++i) {\n                if (s == allseries[i])\n                    break;\n\n                if (allseries[i].stack == s.stack)\n                    res = allseries[i];\n            }\n\n            return res;\n        }\n\n        function stackData(plot, s, datapoints) {\n            if (s.stack == null || s.stack === false)\n                return;\n\n            var other = findMatchingSeries(s, plot.getData());\n            if (!other)\n                return;\n\n            var ps = datapoints.pointsize,\n                points = datapoints.points,\n                otherps = other.datapoints.pointsize,\n                otherpoints = other.datapoints.points,\n                newpoints = [],\n                px, py, intery, qx, qy, bottom,\n                withlines = s.lines.show,\n                horizontal = s.bars.horizontal,\n                withbottom = ps > 2 && (horizontal ? datapoints.format[2].x : datapoints.format[2].y),\n                withsteps = withlines && s.lines.steps,\n                keyOffset = horizontal ? 1 : 0,\n                accumulateOffset = horizontal ? 0 : 1,\n                i = 0, j = 0, l, m;\n\n            while (true) {\n                if (i >= points.length && j >= otherpoints.length)\n                    break;\n\n                l = newpoints.length;\n\n                if (i < points.length && points[i] == null) {\n                    // copy gaps\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(points[i + m]);\n                    i += ps;\n                }\n                else if (i >= points.length) {\n                    // take the remaining points from the previous series\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(otherpoints[j + m]);\n                    if (withbottom)\n                        newpoints[l + 2] = otherpoints[j + accumulateOffset];\n                    j += otherps;\n                }\n                else if (j >= otherpoints.length) {\n                    // take the remaining points from the current series\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(points[i + m]);\n                    i += ps;\n                }\n                else if (j < otherpoints.length && otherpoints[j] == null) {\n                    // ignore point\n                    j += otherps;\n                }\n                else {\n                    // cases where we actually got two points\n                    px = points[i + keyOffset];\n                    py = points[i + accumulateOffset];\n                    qx = otherpoints[j + keyOffset];\n                    qy = otherpoints[j + accumulateOffset];\n                    bottom = 0;\n\n                    if (px == qx) {\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n\n                        newpoints[l + accumulateOffset] += qy;\n                        bottom = qy;\n\n                        i += ps;\n                        j += otherps;\n                    }\n                    else if (px > qx) {\n                        // take the point from the previous series so that next series will correctly stack\n                        if (i == 0) {\n                            for (m = 0; m < ps; ++m)\n                                newpoints.push(otherpoints[j + m]);\n                            bottom = qy;\n                        }\n                        // we got past point below, might need to\n                        // insert interpolated extra point\n                        if (i > 0 && points[i - ps] != null) {\n                            intery = py + (points[i - ps + accumulateOffset] - py) * (qx - px) / (points[i - ps + keyOffset] - px);\n                            newpoints.push(qx);\n                            newpoints.push(intery + qy);\n                            for (m = 2; m < ps; ++m)\n                                newpoints.push(points[i + m]);\n                            bottom = qy;\n                        }\n\n                        j += otherps;\n                    }\n                    else { // px < qx\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n\n                        // we might be able to interpolate a point below,\n                        // this can give us a better y\n                        if (j > 0 && otherpoints[j - otherps] != null)\n                            bottom = qy + (otherpoints[j - otherps + accumulateOffset] - qy) * (px - qx) / (otherpoints[j - otherps + keyOffset] - qx);\n\n                        newpoints[l + accumulateOffset] += bottom;\n\n                        i += ps;\n                    }\n\n                    fromgap = false;\n\n                    if (l != newpoints.length && withbottom)\n                        newpoints[l + 2] = bottom;\n                }\n\n                // maintain the line steps invariant\n                if (withsteps && l != newpoints.length && l > 0\n                    && newpoints[l] != null\n                    && newpoints[l] != newpoints[l - ps]\n                    && newpoints[l + 1] != newpoints[l - ps + 1]) {\n                    for (m = 0; m < ps; ++m)\n                        newpoints[l + ps + m] = newpoints[l + m];\n                    newpoints[l + 1] = newpoints[l - ps + 1];\n                }\n            }\n\n            datapoints.points = newpoints;\n        }\n\n        plot.hooks.processDatapoints.push(stackData);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stack',\n        version: '1.2'\n    });\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1337:\n/***/ (function(module, exports) {\n\n(function ($) {\n    var options = {\n        series: {\n            stackpercent: null\n        } // or number/string\n    };\n\n    function init(plot) {\n\n        // will be built up dynamically as a hash from x-value, or y-value if horizontal\n        var stackBases = {};\n        var processed = false;\n        var stackSums = {};\n\n        //set percentage for stacked chart\n        function processRawData(plot, series, data, datapoints) {\n            if (!processed) {\n                processed = true;\n                stackSums = getStackSums(plot.getData());\n            }\n\t\t\tif (series.stackpercent == true) {\n\t\t\t\tvar num = data.length;\n\t\t\t\tseries.percents = [];\n\t\t\t\tvar key_idx = 0;\n\t\t\t\tvar value_idx = 1;\n\t\t\t\tif (series.bars && series.bars.horizontal && series.bars.horizontal === true) {\n\t\t\t\t\tkey_idx = 1;\n\t\t\t\t\tvalue_idx = 0;\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < num; j++) {\n\t\t\t\t\tvar sum = stackSums[data[j][key_idx] + \"\"];\n\t\t\t\t\tif (sum > 0) {\n\t\t\t\t\t\tseries.percents.push(data[j][value_idx] * 100 / sum);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tseries.percents.push(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n        }\n\n        //calculate summary\n        function getStackSums(_data) {\n            var data_len = _data.length;\n            var sums = {};\n            if (data_len > 0) {\n                //caculate summary\n                for (var i = 0; i < data_len; i++) {\n                    if (_data[i].stackpercent) {\n\t\t\t\t\t\tvar key_idx = 0;\n\t\t\t\t\t\tvar value_idx = 1;\n\t\t\t\t\t\tif (_data[i].bars && _data[i].bars.horizontal && _data[i].bars.horizontal === true) {\n\t\t\t\t\t\t\tkey_idx = 1;\n\t\t\t\t\t\t\tvalue_idx = 0;\n\t\t\t\t\t\t}\n                        var num = _data[i].data.length;\n                        for (var j = 0; j < num; j++) {\n                            var value = 0;\n                            if (_data[i].data[j][1] != null) {\n                                value = _data[i].data[j][value_idx];\n                            }\n                            if (sums[_data[i].data[j][key_idx] + \"\"]) {\n                                sums[_data[i].data[j][key_idx] + \"\"] += value;\n                            } else {\n                                sums[_data[i].data[j][key_idx] + \"\"] = value;\n                            }\n\n                        }\n                    }\n                }\n            }\n            return sums;\n        }\n\n        function stackData(plot, s, datapoints) {\n            if (!s.stackpercent) return;\n            if (!processed) {\n                stackSums = getStackSums(plot.getData());\n            }\n            var newPoints = [];\n\n\n\t\t\tvar key_idx = 0;\n\t\t\tvar value_idx = 1;\n\t\t\tif (s.bars && s.bars.horizontal && s.bars.horizontal === true) {\n\t\t\t\tkey_idx = 1;\n\t\t\t\tvalue_idx = 0;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < datapoints.points.length; i += 3) {\n\t\t\t\t// note that the values need to be turned into absolute y-values.\n\t\t\t\t// in other words, if you were to stack (x, y1), (x, y2), and (x, y3),\n\t\t\t\t// (each from different series, which is where stackBases comes in),\n\t\t\t\t// you'd want the new points to be (x, y1, 0), (x, y1+y2, y1), (x, y1+y2+y3, y1+y2)\n\t\t\t\t// generally, (x, thisValue + (base up to this point), + (base up to this point))\n\t\t\t\tif (!stackBases[datapoints.points[i + key_idx]]) {\n\t\t\t\t\tstackBases[datapoints.points[i + key_idx]] = 0;\n\t\t\t\t}\n\t\t\t\tnewPoints[i + key_idx] = datapoints.points[i + key_idx];\n\t\t\t\tnewPoints[i + value_idx] = datapoints.points[i + value_idx] + stackBases[datapoints.points[i + key_idx]];\n\t\t\t\tnewPoints[i + 2] = stackBases[datapoints.points[i + key_idx]];\n\t\t\t\tstackBases[datapoints.points[i + key_idx]] += datapoints.points[i + value_idx];\n\t\t\t\t// change points to percentage values\n\t\t\t\t// you may need to set yaxis:{ max = 100 }\n\t\t\t\tif ( stackSums[newPoints[i+key_idx]+\"\"] > 0 ){\n\t\t\t\t\tnewPoints[i + value_idx] = newPoints[i + value_idx] * 100 / stackSums[newPoints[i + key_idx] + \"\"];\n\t\t\t\t\tnewPoints[i + 2] = newPoints[i + 2] * 100 / stackSums[newPoints[i + key_idx] + \"\"];\n\t\t\t\t} else {\n\t\t\t\t\tnewPoints[i + value_idx] = 0;\n\t\t\t\t\tnewPoints[i + 2] = 0;\n\t\t\t\t}\n\t\t\t}\n\n            datapoints.points = newPoints;\n        }\n\n\t\tplot.hooks.processRawData.push(processRawData);\n        plot.hooks.processDatapoints.push(stackData);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stackpercent',\n        version: '0.1'\n    });\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1338:\n/***/ (function(module, exports) {\n\n(function($) {\n    \"use strict\";\n\n    var options = {\n        series: {\n            fillBelowTo: null\n        }\n    };\n\n    function init(plot) {\n        function findBelowSeries( series, allseries ) {\n\n            var i;\n\n            for ( i = 0; i < allseries.length; ++i ) {\n                if ( allseries[ i ].id === series.fillBelowTo ) {\n                    return allseries[ i ];\n                }\n            }\n\n            return null;\n        }\n\n        /* top and bottom doesn't actually matter for this, we're just using it to help make this easier to think about */\n        /* this is a vector cross product operation */\n        function segmentIntersection(top_left_x, top_left_y, top_right_x, top_right_y, bottom_left_x, bottom_left_y, bottom_right_x, bottom_right_y) {\n            var top_delta_x, top_delta_y, bottom_delta_x, bottom_delta_y,\n                s, t;\n\n            top_delta_x = top_right_x - top_left_x;\n            top_delta_y = top_right_y - top_left_y;\n            bottom_delta_x = bottom_right_x - bottom_left_x;\n            bottom_delta_y = bottom_right_y - bottom_left_y;\n\n            s = (\n                (-top_delta_y * (top_left_x - bottom_left_x)) + (top_delta_x * (top_left_y - bottom_left_y))\n            ) / (\n                -bottom_delta_x * top_delta_y + top_delta_x * bottom_delta_y\n            );\n\n            t = (\n                (bottom_delta_x * (top_left_y - bottom_left_y)) - (bottom_delta_y * (top_left_x - bottom_left_x))\n            ) / (\n                -bottom_delta_x * top_delta_y + top_delta_x * bottom_delta_y\n            );\n\n            // Collision detected\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return [\n                    top_left_x + (t * top_delta_x), // X\n                    top_left_y + (t * top_delta_y) // Y\n                ];\n            }\n\n            // No collision\n            return null;\n        }\n\n        function plotDifferenceArea(plot, ctx, series) {\n            if ( series.fillBelowTo === null ) {\n                return;\n            }\n\n            var otherseries,\n\n                ps,\n                points,\n\n                otherps,\n                otherpoints,\n\n                plotOffset,\n                fillStyle;\n\n            function openPolygon(x, y) {\n                ctx.beginPath();\n                ctx.moveTo(\n                    series.xaxis.p2c(x) + plotOffset.left,\n                    series.yaxis.p2c(y) + plotOffset.top\n                );\n\n            }\n\n            function closePolygon() {\n                ctx.closePath();\n                ctx.fill();\n            }\n\n            function validateInput() {\n                if (points.length/ps !== otherpoints.length/otherps) {\n                    console.error(\"Refusing to graph inconsistent number of points\");\n                    return false;\n                }\n\n                var i;\n                for (i = 0; i < (points.length / ps); i++) {\n                    if (\n                        points[i * ps] !== null &&\n                        otherpoints[i * otherps] !== null &&\n                        points[i * ps] !== otherpoints[i * otherps]\n                    ) {\n                        console.error(\"Refusing to graph points without matching value\");\n                        return false;\n                    }\n                }\n\n                return true;\n            }\n\n            function findNextStart(start_i, end_i) {\n                console.assert(end_i > start_i, \"expects the end index to be greater than the start index\");\n\n                var start = (\n                        start_i === 0 ||\n                        points[start_i - 1] === null ||\n                        otherpoints[start_i - 1] === null\n                    ),\n                    equal = false,\n                    i,\n                    intersect;\n\n                for (i = start_i; i < end_i; i++) {\n                    // Take note of null points\n                    if (\n                        points[(i * ps) + 1] === null ||\n                        otherpoints[(i * ps) + 1] === null\n                    ) {\n                        equal = false;\n                        start = true;\n                    }\n\n                    // Take note of equal points\n                    else if (points[(i * ps) + 1] === otherpoints[(i * otherps) + 1]) {\n                        equal = true;\n                        start = false;\n                    }\n\n\n                    else if (points[(i * ps) + 1] > otherpoints[(i * otherps) + 1]) {\n                        // If we begin above the desired point\n                        if (start) {\n                            openPolygon(points[i * ps], points[(i * ps) + 1]);\n                        }\n\n                        // If an equal point preceeds this, start the polygon at that equal point\n                        else if (equal) {\n                            openPolygon(points[(i - 1) * ps], points[((i - 1) * ps) + 1]);\n                        }\n\n                        // Otherwise, find the intersection point, and start it there\n                        else {\n                            intersect = intersectionPoint(i);\n                            openPolygon(intersect[0], intersect[1]);\n                        }\n\n                        topTraversal(i, end_i);\n                        return;\n                    }\n\n                    // If we go below equal, equal at any preceeding point is irrelevant\n                    else {\n                        start = false;\n                        equal = false;\n                    }\n                }\n            }\n\n            function intersectionPoint(right_i) {\n                console.assert(right_i > 0, \"expects the second point in the series line segment\");\n\n                var i, intersect;\n\n                for (i = 1; i < (otherpoints.length/otherps); i++) {\n                    intersect = segmentIntersection(\n                        points[(right_i - 1) * ps], points[((right_i - 1) * ps) + 1],\n                        points[right_i * ps], points[(right_i * ps) + 1],\n\n                        otherpoints[(i - 1) * otherps], otherpoints[((i - 1) * otherps) + 1],\n                        otherpoints[i * otherps], otherpoints[(i * otherps) + 1]\n                    );\n\n                    if (intersect !== null) {\n                        return intersect;\n                    }\n                }\n\n                console.error(\"intersectionPoint() should only be called when an intersection happens\");\n            }\n\n            function bottomTraversal(start_i, end_i) {\n                console.assert(start_i >= end_i, \"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)\");\n\n                var i;\n\n                for (i = start_i; i >= end_i; i--) {\n                    ctx.lineTo(\n                        otherseries.xaxis.p2c(otherpoints[i * otherps]) + plotOffset.left,\n                        otherseries.yaxis.p2c(otherpoints[(i * otherps) + 1]) + plotOffset.top\n                    );\n                }\n\n                closePolygon();\n            }\n\n            function topTraversal(start_i, end_i) {\n                console.assert(start_i <= end_i, \"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)\");\n\n                var i,\n                    intersect;\n\n                for (i = start_i; i < end_i; i++) {\n                    if (points[(i * ps) + 1] === null && i > start_i) {\n                        bottomTraversal(i - 1, start_i);\n                        findNextStart(i, end_i);\n                        return;\n                    }\n\n                    else if (points[(i * ps) + 1] === otherpoints[(i * otherps) + 1]) {\n                        bottomTraversal(i, start_i);\n                        findNextStart(i, end_i);\n                        return;\n                    }\n\n                    else if (points[(i * ps) + 1] < otherpoints[(i * otherps) + 1]) {\n                        intersect = intersectionPoint(i);\n                        ctx.lineTo(\n                            series.xaxis.p2c(intersect[0]) + plotOffset.left,\n                            series.yaxis.p2c(intersect[1]) + plotOffset.top\n                        );\n                        bottomTraversal(i, start_i);\n                        findNextStart(i, end_i);\n                        return;\n\n                    }\n\n                    else {\n                        ctx.lineTo(\n                            series.xaxis.p2c(points[i * ps]) + plotOffset.left,\n                            series.yaxis.p2c(points[(i * ps) + 1]) + plotOffset.top\n                        );\n                    }\n                }\n\n                bottomTraversal(end_i, start_i);\n            }\n\n\n            // Begin processing\n\n            otherseries = findBelowSeries( series, plot.getData() );\n\n            if ( !otherseries ) {\n                return;\n            }\n\n            ps = series.datapoints.pointsize;\n            points = series.datapoints.points;\n            otherps = otherseries.datapoints.pointsize;\n            otherpoints = otherseries.datapoints.points;\n            plotOffset = plot.getPlotOffset();\n\n            if (!validateInput()) {\n                return;\n            }\n\n\n            // Flot's getFillStyle() should probably be exposed somewhere\n            fillStyle = $.color.parse(series.color);\n            fillStyle.a = 0.4;\n            fillStyle.normalize();\n            ctx.fillStyle = fillStyle.toString();\n\n\n            // Begin recursive bi-directional traversal\n            findNextStart(0, points.length/ps);\n        }\n\n        plot.hooks.drawSeries.push(plotDifferenceArea);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: \"fillbelow\",\n        version: \"0.1.0\"\n    });\n\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1339:\n/***/ (function(module, exports) {\n\n/* Flot plugin for showing crosshairs when the mouse hovers over the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tcrosshair: {\n\t\tmode: null or \"x\" or \"y\" or \"xy\"\n\t\tcolor: color\n\t\tlineWidth: number\n\t}\n\nSet the mode to one of \"x\", \"y\" or \"xy\". The \"x\" mode enables a vertical\ncrosshair that lets you trace the values on the x axis, \"y\" enables a\nhorizontal crosshair and \"xy\" enables them both. \"color\" is the color of the\ncrosshair (default is \"rgba(170, 0, 0, 0.80)\"), \"lineWidth\" is the width of\nthe drawn lines (default is 1).\n\nThe plugin also adds four public methods:\n\n  - setCrosshair( pos )\n\n    Set the position of the crosshair. Note that this is cleared if the user\n    moves the mouse. \"pos\" is in coordinates of the plot and should be on the\n    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\n    axes), which is coincidentally the same format as what you get from a\n    \"plothover\" event. If \"pos\" is null, the crosshair is cleared.\n\n  - clearCrosshair()\n\n    Clear the crosshair.\n\n  - lockCrosshair(pos)\n\n    Cause the crosshair to lock to the current location, no longer updating if\n    the user moves the mouse. Optionally supply a position (passed on to\n    setCrosshair()) to move it to.\n\n    Example usage:\n\n\tvar myFlot = $.plot( $(\"#graph\"), ..., { crosshair: { mode: \"x\" } } };\n\t$(\"#graph\").bind( \"plothover\", function ( evt, position, item ) {\n\t\tif ( item ) {\n\t\t\t// Lock the crosshair to the data point being hovered\n\t\t\tmyFlot.lockCrosshair({\n\t\t\t\tx: item.datapoint[ 0 ],\n\t\t\t\ty: item.datapoint[ 1 ]\n\t\t\t});\n\t\t} else {\n\t\t\t// Return normal crosshair operation\n\t\t\tmyFlot.unlockCrosshair();\n\t\t}\n\t});\n\n  - unlockCrosshair()\n\n    Free the crosshair to move again after locking it.\n*/\n\n(function ($) {\n    var options = {\n        crosshair: {\n            mode: null, // one of null, \"x\", \"y\" or \"xy\",\n            color: \"rgba(170, 0, 0, 0.80)\",\n            lineWidth: 1\n        }\n    };\n    \n    function init(plot) {\n        // position of crosshair in pixels\n        var crosshair = { x: -1, y: -1, locked: false };\n\n        plot.setCrosshair = function setCrosshair(pos) {\n            if (!pos)\n                crosshair.x = -1;\n            else {\n                var o = plot.p2c(pos);\n                crosshair.x = Math.max(0, Math.min(o.left, plot.width()));\n                crosshair.y = Math.max(0, Math.min(o.top, plot.height()));\n            }\n            \n            plot.triggerRedrawOverlay();\n        };\n        \n        plot.clearCrosshair = plot.setCrosshair; // passes null for pos\n        \n        plot.lockCrosshair = function lockCrosshair(pos) {\n            if (pos)\n                plot.setCrosshair(pos);\n            crosshair.locked = true;\n        };\n\n        plot.unlockCrosshair = function unlockCrosshair() {\n            crosshair.locked = false;\n        };\n\n        function onMouseOut(e) {\n            if (crosshair.locked)\n                return;\n\n            if (crosshair.x != -1) {\n                crosshair.x = -1;\n                plot.triggerRedrawOverlay();\n            }\n        }\n\n        function onMouseMove(e) {\n            if (crosshair.locked)\n                return;\n                \n            if (plot.getSelection && plot.getSelection()) {\n                crosshair.x = -1; // hide the crosshair while selecting\n                return;\n            }\n                \n            var offset = plot.offset();\n            crosshair.x = Math.max(0, Math.min(e.pageX - offset.left, plot.width()));\n            crosshair.y = Math.max(0, Math.min(e.pageY - offset.top, plot.height()));\n            plot.triggerRedrawOverlay();\n        }\n        \n        plot.hooks.bindEvents.push(function (plot, eventHolder) {\n            if (!plot.getOptions().crosshair.mode)\n                return;\n\n            eventHolder.mouseout(onMouseOut);\n            eventHolder.mousemove(onMouseMove);\n        });\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            var c = plot.getOptions().crosshair;\n            if (!c.mode)\n                return;\n\n            var plotOffset = plot.getPlotOffset();\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            if (crosshair.x != -1) {\n                var adj = plot.getOptions().crosshair.lineWidth % 2 ? 0.5 : 0;\n\n                ctx.strokeStyle = c.color;\n                ctx.lineWidth = c.lineWidth;\n                ctx.lineJoin = \"round\";\n\n                ctx.beginPath();\n                if (c.mode.indexOf(\"x\") != -1) {\n                    var drawX = Math.floor(crosshair.x) + adj;\n                    ctx.moveTo(drawX, 0);\n                    ctx.lineTo(drawX, plot.height());\n                }\n                if (c.mode.indexOf(\"y\") != -1) {\n                    var drawY = Math.floor(crosshair.y) + adj;\n                    ctx.moveTo(0, drawY);\n                    ctx.lineTo(plot.width(), drawY);\n                }\n                ctx.stroke();\n            }\n            ctx.restore();\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"mouseout\", onMouseOut);\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n        });\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'crosshair',\n        version: '1.0'\n    });\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1340:\n/***/ (function(module, exports) {\n\n/*\n * jQuery.flot.dashes\n *\n * options = {\n *   series: {\n *     dashes: {\n *\n *       // show\n *       // default: false\n *       // Whether to show dashes for the series.\n *       show: <boolean>,\n *\n *       // lineWidth\n *       // default: 2\n *       // The width of the dashed line in pixels.\n *       lineWidth: <number>,\n *\n *       // dashLength\n *       // default: 10\n *       // Controls the length of the individual dashes and the amount of\n *       // space between them.\n *       // If this is a number, the dashes and spaces will have that length.\n *       // If this is an array, it is read as [ dashLength, spaceLength ]\n *       dashLength: <number> or <array[2]>\n *     }\n *   }\n * }\n */\n(function($){\n\n  function init(plot) {\n\n    plot.hooks.processDatapoints.push(function(plot, series, datapoints) {\n\n      if (!series.dashes.show) return;\n\n      plot.hooks.draw.push(function(plot, ctx) {\n\n        var plotOffset = plot.getPlotOffset(),\n          axisx = series.xaxis,\n          axisy = series.yaxis;\n\n        function plotDashes(xoffset, yoffset) {\n\n          var points = datapoints.points,\n            ps = datapoints.pointsize,\n            prevx = null,\n            prevy = null,\n            dashRemainder = 0,\n            dashOn = true,\n            dashOnLength,\n            dashOffLength;\n\n          if (series.dashes.dashLength[0]) {\n            dashOnLength = series.dashes.dashLength[0];\n            if (series.dashes.dashLength[1]) {\n              dashOffLength = series.dashes.dashLength[1];\n            } else {\n              dashOffLength = dashOnLength;\n            }\n          } else {\n            dashOffLength = dashOnLength = series.dashes.dashLength;\n          }\n\n          ctx.beginPath();\n\n          for (var i = ps; i < points.length; i += ps) {\n\n            var x1 = points[i - ps],\n              y1 = points[i - ps + 1],\n              x2 = points[i],\n              y2 = points[i + 1];\n\n            if (x1 == null || x2 == null) continue;\n\n            // clip with ymin\n            if (y1 <= y2 && y1 < axisy.min) {\n              if (y2 < axisy.min) continue;   // line segment is outside\n              // compute new intersection point\n              x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y1 = axisy.min;\n            } else if (y2 <= y1 && y2 < axisy.min) {\n              if (y1 < axisy.min) continue;\n              x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y2 = axisy.min;\n            }\n\n            // clip with ymax\n            if (y1 >= y2 && y1 > axisy.max) {\n              if (y2 > axisy.max) continue;\n              x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y1 = axisy.max;\n            } else if (y2 >= y1 && y2 > axisy.max) {\n              if (y1 > axisy.max) continue;\n              x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y2 = axisy.max;\n            }\n\n            // clip with xmin\n            if (x1 <= x2 && x1 < axisx.min) {\n              if (x2 < axisx.min) continue;\n              y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x1 = axisx.min;\n            } else if (x2 <= x1 && x2 < axisx.min) {\n              if (x1 < axisx.min) continue;\n              y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x2 = axisx.min;\n            }\n\n            // clip with xmax\n            if (x1 >= x2 && x1 > axisx.max) {\n              if (x2 > axisx.max) continue;\n              y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x1 = axisx.max;\n            } else if (x2 >= x1 && x2 > axisx.max) {\n              if (x1 > axisx.max) continue;\n              y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x2 = axisx.max;\n            }\n\n            if (x1 != prevx || y1 != prevy) {\n              ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n            }\n\n            var ax1 = axisx.p2c(x1) + xoffset,\n              ay1 = axisy.p2c(y1) + yoffset,\n              ax2 = axisx.p2c(x2) + xoffset,\n              ay2 = axisy.p2c(y2) + yoffset,\n              dashOffset;\n\n            function lineSegmentOffset(segmentLength) {\n\n              var c = Math.sqrt(Math.pow(ax2 - ax1, 2) + Math.pow(ay2 - ay1, 2));\n\n              if (c <= segmentLength) {\n                return {\n                  deltaX: ax2 - ax1,\n                  deltaY: ay2 - ay1,\n                  distance: c,\n                  remainder: segmentLength - c\n                }\n              } else {\n                var xsign = ax2 > ax1 ? 1 : -1,\n                  ysign = ay2 > ay1 ? 1 : -1;\n                return {\n                  deltaX: xsign * Math.sqrt(Math.pow(segmentLength, 2) / (1 + Math.pow((ay2 - ay1)/(ax2 - ax1), 2))),\n                  deltaY: ysign * Math.sqrt(Math.pow(segmentLength, 2) - Math.pow(segmentLength, 2) / (1 + Math.pow((ay2 - ay1)/(ax2 - ax1), 2))),\n                  distance: segmentLength,\n                  remainder: 0\n                };\n              }\n            }\n            //-end lineSegmentOffset\n\n            do {\n\n              dashOffset = lineSegmentOffset(\n                dashRemainder > 0 ? dashRemainder :\n                  dashOn ? dashOnLength : dashOffLength);\n\n              if (dashOffset.deltaX != 0 || dashOffset.deltaY != 0) {\n                if (dashOn) {\n                  ctx.lineTo(ax1 + dashOffset.deltaX, ay1 + dashOffset.deltaY);\n                } else {\n                  ctx.moveTo(ax1 + dashOffset.deltaX, ay1 + dashOffset.deltaY);\n                }\n              }\n\n              dashOn = !dashOn;\n              dashRemainder = dashOffset.remainder;\n              ax1 += dashOffset.deltaX;\n              ay1 += dashOffset.deltaY;\n\n            } while (dashOffset.distance > 0);\n\n            prevx = x2;\n            prevy = y2;\n          }\n\n          ctx.stroke();\n        }\n        //-end plotDashes\n\n        ctx.save();\n        ctx.translate(plotOffset.left, plotOffset.top);\n        ctx.lineJoin = 'round';\n\n        var lw = series.dashes.lineWidth,\n          sw = series.shadowSize;\n\n        // FIXME: consider another form of shadow when filling is turned on\n        if (lw > 0 && sw > 0) {\n          // draw shadow as a thick and thin line with transparency\n          ctx.lineWidth = sw;\n          ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n          // position shadow at angle from the mid of line\n          var angle = Math.PI/18;\n          plotDashes(Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2));\n          ctx.lineWidth = sw/2;\n          plotDashes(Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4));\n        }\n\n        ctx.lineWidth = lw;\n        ctx.strokeStyle = series.color;\n\n        if (lw > 0) {\n          plotDashes(0, 0);\n        }\n\n        ctx.restore();\n\n      });\n      //-end draw hook\n\n    });\n    //-end processDatapoints hook\n\n  }\n  //-end init\n\n  $.plot.plugins.push({\n    init: init,\n    options: {\n      series: {\n        dashes: {\n          show: false,\n          lineWidth: 2,\n          dashLength: 10\n        }\n      }\n    },\n    name: 'dashes',\n    version: '0.1'\n  });\n\n})(jQuery)\n\n\n/***/ }),\n\n/***/ 1341:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DataProcessor; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_time_series2__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_colors__ = __webpack_require__(202);\n\r\n\r\n\r\nvar DataProcessor = /** @class */ (function () {\r\n    function DataProcessor(panel) {\r\n        this.panel = panel;\r\n    }\r\n    DataProcessor.prototype.getSeriesList = function (options) {\r\n        var _this = this;\r\n        if (!options.dataList || options.dataList.length === 0) {\r\n            return [];\r\n        }\r\n        // auto detect xaxis mode\r\n        var firstItem;\r\n        if (options.dataList && options.dataList.length > 0) {\r\n            firstItem = options.dataList[0];\r\n            var autoDetectMode = this.getAutoDetectXAxisMode(firstItem);\r\n            if (this.panel.xaxis.mode !== autoDetectMode) {\r\n                this.panel.xaxis.mode = autoDetectMode;\r\n                this.setPanelDefaultsForNewXAxisMode();\r\n            }\r\n        }\r\n        switch (this.panel.xaxis.mode) {\r\n            case 'series':\r\n            case 'time': {\r\n                return options.dataList.map(function (item, index) {\r\n                    return _this.timeSeriesHandler(item, index, options);\r\n                });\r\n            }\r\n            case 'histogram': {\r\n                var histogramDataList = [{\r\n                        target: 'count',\r\n                        datapoints: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat([], __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.flatten(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(options.dataList, 'datapoints')))\r\n                    }];\r\n                return histogramDataList.map(function (item, index) {\r\n                    return _this.timeSeriesHandler(item, index, options);\r\n                });\r\n            }\r\n            case 'field': {\r\n                return this.customHandler(firstItem);\r\n            }\r\n        }\r\n    };\r\n    DataProcessor.prototype.getAutoDetectXAxisMode = function (firstItem) {\r\n        switch (firstItem.type) {\r\n            case 'docs': return 'field';\r\n            case 'table': return 'field';\r\n            default: {\r\n                if (this.panel.xaxis.mode === 'series') {\r\n                    return 'series';\r\n                }\r\n                if (this.panel.xaxis.mode === 'histogram') {\r\n                    return 'histogram';\r\n                }\r\n                return 'time';\r\n            }\r\n        }\r\n    };\r\n    DataProcessor.prototype.setPanelDefaultsForNewXAxisMode = function () {\r\n        switch (this.panel.xaxis.mode) {\r\n            case 'time': {\r\n                this.panel.bars = false;\r\n                this.panel.lines = true;\r\n                this.panel.points = false;\r\n                this.panel.legend.show = true;\r\n                this.panel.tooltip.shared = true;\r\n                this.panel.xaxis.values = [];\r\n                break;\r\n            }\r\n            case 'series': {\r\n                this.panel.bars = true;\r\n                this.panel.lines = false;\r\n                this.panel.points = false;\r\n                this.panel.stack = false;\r\n                this.panel.legend.show = false;\r\n                this.panel.tooltip.shared = false;\r\n                this.panel.xaxis.values = ['total'];\r\n                break;\r\n            }\r\n            case 'histogram': {\r\n                this.panel.bars = true;\r\n                this.panel.lines = false;\r\n                this.panel.points = false;\r\n                this.panel.stack = false;\r\n                this.panel.legend.show = false;\r\n                this.panel.tooltip.shared = false;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    DataProcessor.prototype.timeSeriesHandler = function (seriesData, index, options) {\r\n        var datapoints = seriesData.datapoints || [];\r\n        var alias = seriesData.target;\r\n        var colorIndex = index % __WEBPACK_IMPORTED_MODULE_2_app_core_utils_colors__[\"f\" /* default */].length;\r\n        var color = this.panel.aliasColors[alias] || __WEBPACK_IMPORTED_MODULE_2_app_core_utils_colors__[\"f\" /* default */][colorIndex];\r\n        var series = new __WEBPACK_IMPORTED_MODULE_1_app_core_time_series2__[\"a\" /* default */]({ datapoints: datapoints, alias: alias, color: color, unit: seriesData.unit });\r\n        if (datapoints && datapoints.length > 0) {\r\n            var last = datapoints[datapoints.length - 1][1];\r\n            var from = options.range.from;\r\n            if (last - from < -10000) {\r\n                series.isOutsideRange = true;\r\n            }\r\n        }\r\n        return series;\r\n    };\r\n    DataProcessor.prototype.customHandler = function (dataItem) {\r\n        var nameField = this.panel.xaxis.name;\r\n        if (!nameField) {\r\n            throw { message: 'No field name specified to use for x-axis, check your axes settings' };\r\n        }\r\n        return [];\r\n    };\r\n    DataProcessor.prototype.validateXAxisSeriesValue = function () {\r\n        switch (this.panel.xaxis.mode) {\r\n            case 'series': {\r\n                if (this.panel.xaxis.values.length === 0) {\r\n                    this.panel.xaxis.values = ['total'];\r\n                    return;\r\n                }\r\n                var validOptions = this.getXAxisValueOptions({});\r\n                var found = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(validOptions, { value: this.panel.xaxis.values[0] });\r\n                if (!found) {\r\n                    this.panel.xaxis.values = ['total'];\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    DataProcessor.prototype.getDataFieldNames = function (dataList, onlyNumbers) {\r\n        if (dataList.length === 0) {\r\n            return [];\r\n        }\r\n        var fields = [];\r\n        var firstItem = dataList[0];\r\n        var fieldParts = [];\r\n        function getPropertiesRecursive(obj) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(obj, function (value, key) {\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isObject(value)) {\r\n                    fieldParts.push(key);\r\n                    getPropertiesRecursive(value);\r\n                }\r\n                else {\r\n                    if (!onlyNumbers || __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(value)) {\r\n                        var field = fieldParts.concat(key).join('.');\r\n                        fields.push(field);\r\n                    }\r\n                }\r\n            });\r\n            fieldParts.pop();\r\n        }\r\n        if (firstItem.type === 'docs') {\r\n            if (firstItem.datapoints.length === 0) {\r\n                return [];\r\n            }\r\n            getPropertiesRecursive(firstItem.datapoints[0]);\r\n        }\r\n        return fields;\r\n    };\r\n    DataProcessor.prototype.getXAxisValueOptions = function (options) {\r\n        switch (this.panel.xaxis.mode) {\r\n            case 'series': {\r\n                return [\r\n                    { text: 'Avg', value: 'avg' },\r\n                    { text: 'Min', value: 'min' },\r\n                    { text: 'Max', value: 'max' },\r\n                    { text: 'Total', value: 'total' },\r\n                    { text: 'Count', value: 'count' },\r\n                ];\r\n            }\r\n        }\r\n        return [];\r\n    };\r\n    DataProcessor.prototype.pluckDeep = function (obj, property) {\r\n        var propertyParts = property.split('.');\r\n        var value = obj;\r\n        for (var i = 0; i < propertyParts.length; ++i) {\r\n            if (value[propertyParts[i]]) {\r\n                value = value[propertyParts[i]];\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    return DataProcessor;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1342:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getColorScale;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getOpacityScale;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d3__ = __webpack_require__(470);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d3_scale_chromatic__ = __webpack_require__(478);\n\r\n\r\nfunction getColorScale(colorScheme, lightTheme, maxValue, minValue) {\r\n    if (minValue === void 0) { minValue = 0; }\r\n    var colorInterpolator = __WEBPACK_IMPORTED_MODULE_1_d3_scale_chromatic__[colorScheme.value];\r\n    var colorScaleInverted = colorScheme.invert === 'always' ||\r\n        (colorScheme.invert === 'dark' && !lightTheme);\r\n    var start = colorScaleInverted ? maxValue : minValue;\r\n    var end = colorScaleInverted ? minValue : maxValue;\r\n    return __WEBPACK_IMPORTED_MODULE_0_d3__[\"scaleSequential\"](colorInterpolator).domain([start, end]);\r\n}\r\nfunction getOpacityScale(options, maxValue, minValue) {\r\n    if (minValue === void 0) { minValue = 0; }\r\n    var legendOpacityScale;\r\n    if (options.colorScale === 'linear') {\r\n        legendOpacityScale = __WEBPACK_IMPORTED_MODULE_0_d3__[\"scaleLinear\"]()\r\n            .domain([minValue, maxValue])\r\n            .range([0, 1]);\r\n    }\r\n    else if (options.colorScale === 'sqrt') {\r\n        legendOpacityScale = __WEBPACK_IMPORTED_MODULE_0_d3__[\"scalePow\"]().exponent(options.exponent)\r\n            .domain([minValue, maxValue])\r\n            .range([0, 1]);\r\n    }\r\n    return legendOpacityScale;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1343:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return transformers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return transformDataToTable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_utils_flatten__ = __webpack_require__(1328);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_time_series2__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__core_table_model__ = __webpack_require__(1310);\n\r\n\r\n\r\n\r\nvar transformers = {};\r\ntransformers['timeseries_to_rows'] = {\r\n    description: 'Time series to rows',\r\n    getColumns: function () {\r\n        return [];\r\n    },\r\n    transform: function (data, panel, model) {\r\n        model.columns = [\r\n            { text: 'Time', type: 'date' },\r\n            { text: 'Metric' },\r\n            { text: 'Value' },\r\n        ];\r\n        for (var i = 0; i < data.length; i++) {\r\n            var series = data[i];\r\n            for (var y = 0; y < series.datapoints.length; y++) {\r\n                var dp = series.datapoints[y];\r\n                model.rows.push([dp[1], series.target, dp[0]]);\r\n            }\r\n        }\r\n    },\r\n};\r\ntransformers['timeseries_to_columns'] = {\r\n    description: 'Time series to columns',\r\n    getColumns: function () {\r\n        return [];\r\n    },\r\n    transform: function (data, panel, model) {\r\n        model.columns.push({ text: 'Time', type: 'date' });\r\n        // group by time\r\n        var points = {};\r\n        for (var i = 0; i < data.length; i++) {\r\n            var series = data[i];\r\n            model.columns.push({ text: series.target });\r\n            for (var y = 0; y < series.datapoints.length; y++) {\r\n                var dp = series.datapoints[y];\r\n                var timeKey = dp[1].toString();\r\n                if (!points[timeKey]) {\r\n                    points[timeKey] = { time: dp[1] };\r\n                    points[timeKey][i] = dp[0];\r\n                }\r\n                else {\r\n                    points[timeKey][i] = dp[0];\r\n                }\r\n            }\r\n        }\r\n        for (var time in points) {\r\n            var point = points[time];\r\n            var values = [point.time];\r\n            for (var i = 0; i < data.length; i++) {\r\n                var value = point[i];\r\n                values.push(value);\r\n            }\r\n            model.rows.push(values);\r\n        }\r\n    }\r\n};\r\ntransformers['timeseries_aggregations'] = {\r\n    description: 'Time series aggregations',\r\n    getColumns: function () {\r\n        return [\r\n            { text: 'Avg', value: 'avg' },\r\n            { text: 'Min', value: 'min' },\r\n            { text: 'Max', value: 'max' },\r\n            { text: 'Total', value: 'total' },\r\n            { text: 'Current', value: 'current' },\r\n            { text: 'Count', value: 'count' },\r\n        ];\r\n    },\r\n    transform: function (data, panel, model) {\r\n        var i, y;\r\n        model.columns.push({ text: 'Metric' });\r\n        for (i = 0; i < panel.columns.length; i++) {\r\n            model.columns.push({ text: panel.columns[i].text });\r\n        }\r\n        for (i = 0; i < data.length; i++) {\r\n            var series = new __WEBPACK_IMPORTED_MODULE_2__core_time_series2__[\"a\" /* default */]({\r\n                datapoints: data[i].datapoints,\r\n                alias: data[i].target,\r\n            });\r\n            series.getFlotPairs('connected');\r\n            var cells = [series.alias];\r\n            for (y = 0; y < panel.columns.length; y++) {\r\n                cells.push(series.stats[panel.columns[y].value]);\r\n            }\r\n            model.rows.push(cells);\r\n        }\r\n    }\r\n};\r\ntransformers['annotations'] = {\r\n    description: 'Annotations',\r\n    getColumns: function () {\r\n        return [];\r\n    },\r\n    transform: function (data, panel, model) {\r\n        model.columns.push({ text: 'Time', type: 'date' });\r\n        model.columns.push({ text: 'Title' });\r\n        model.columns.push({ text: 'Text' });\r\n        model.columns.push({ text: 'Tags' });\r\n        if (!data || !data.annotations || data.annotations.length === 0) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < data.annotations.length; i++) {\r\n            var evt = data.annotations[i];\r\n            model.rows.push([evt.min, evt.title, evt.text, evt.tags]);\r\n        }\r\n    }\r\n};\r\ntransformers['table'] = {\r\n    description: 'Table',\r\n    getColumns: function (data) {\r\n        if (!data || data.length === 0) {\r\n            return [];\r\n        }\r\n        return data[0].columns;\r\n    },\r\n    transform: function (data, panel, model) {\r\n        if (!data || data.length === 0) {\r\n            return;\r\n        }\r\n        if (data[0].type !== 'table') {\r\n            throw { message: 'Query result is not in table format, try using another transform.' };\r\n        }\r\n        model.columns = data[0].columns;\r\n        model.rows = data[0].rows;\r\n    }\r\n};\r\ntransformers['json'] = {\r\n    description: 'JSON Data',\r\n    getColumns: function (data) {\r\n        if (!data || data.length === 0) {\r\n            return [];\r\n        }\r\n        var names = {};\r\n        for (var i = 0; i < data.length; i++) {\r\n            var series = data[i];\r\n            if (series.type !== 'docs') {\r\n                continue;\r\n            }\r\n            // only look at 100 docs\r\n            var maxDocs = Math.min(series.datapoints.length, 100);\r\n            for (var y = 0; y < maxDocs; y++) {\r\n                var doc = series.datapoints[y];\r\n                var flattened = Object(__WEBPACK_IMPORTED_MODULE_1__core_utils_flatten__[\"default\"])(doc, null);\r\n                for (var propName in flattened) {\r\n                    names[propName] = true;\r\n                }\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(names, function (value, key) {\r\n            return { text: key, value: key };\r\n        });\r\n    },\r\n    transform: function (data, panel, model) {\r\n        var i, y, z;\r\n        for (var _i = 0, _a = panel.columns; _i < _a.length; _i++) {\r\n            var column = _a[_i];\r\n            var tableCol = { text: column.text };\r\n            // if filterable data then set columns to filterable\r\n            if (data.length > 0 && data[0].filterable) {\r\n                tableCol.filterable = true;\r\n            }\r\n            model.columns.push(tableCol);\r\n        }\r\n        if (model.columns.length === 0) {\r\n            model.columns.push({ text: 'JSON' });\r\n        }\r\n        for (i = 0; i < data.length; i++) {\r\n            var series = data[i];\r\n            for (y = 0; y < series.datapoints.length; y++) {\r\n                var dp = series.datapoints[y];\r\n                var values = [];\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isObject(dp) && panel.columns.length > 0) {\r\n                    var flattened = Object(__WEBPACK_IMPORTED_MODULE_1__core_utils_flatten__[\"default\"])(dp, null);\r\n                    for (z = 0; z < panel.columns.length; z++) {\r\n                        values.push(flattened[panel.columns[z].value]);\r\n                    }\r\n                }\r\n                else {\r\n                    values.push(JSON.stringify(dp));\r\n                }\r\n                model.rows.push(values);\r\n            }\r\n        }\r\n    }\r\n};\r\nfunction transformDataToTable(data, panel) {\r\n    var model = new __WEBPACK_IMPORTED_MODULE_3__core_table_model__[\"default\"]();\r\n    if (!data || data.length === 0) {\r\n        return model;\r\n    }\r\n    var transformer = transformers[panel.transform];\r\n    if (!transformer) {\r\n        throw { message: 'Transformer ' + panel.transform + ' not found' };\r\n    }\r\n    transformer.transform(data, panel, model);\r\n    return model;\r\n}\r\n\r\n\n\n/***/ }),\n\n/***/ 1344:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n/***/ }),\n\n/***/ 1345:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map\n\n/***/ }),\n\n/***/ 1346:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(466);\nvar ScalarObservable_1 = __webpack_require__(1347);\nvar EmptyObservable_1 = __webpack_require__(1320);\nvar isScheduler_1 = __webpack_require__(1525);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map\n\n/***/ }),\n\n/***/ 1347:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(466);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map\n\n/***/ }),\n\n/***/ 1363:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(1365),\n  __webpack_require__(1379),\n  __webpack_require__(1366),\n  __webpack_require__(1368),\n  __webpack_require__(1369),\n  __webpack_require__(1370),\n  __webpack_require__(1371),\n  __webpack_require__(1372),\n  __webpack_require__(1373),\n  __webpack_require__(1374),\n  __webpack_require__(1375),\n  __webpack_require__(1378),\n  __webpack_require__(1364),\n  __webpack_require__(1380),\n  __webpack_require__(1381),\n  __webpack_require__(1382),\n  __webpack_require__(1312),\n  __webpack_require__(1384),\n  __webpack_require__(1385),\n  __webpack_require__(1386),\n  __webpack_require__(1389),\n  __webpack_require__(1390),\n  __webpack_require__(1391),\n  __webpack_require__(1394),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1364:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__ = __webpack_require__(467);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\nvar TimeSrv = /** @class */ (function () {\r\n    /** @ngInject **/\n    TimeSrv.$inject = [\"$rootScope\", \"$timeout\", \"$location\", \"timer\", \"contextSrv\"];\r\n    function TimeSrv($rootScope, $timeout, $location, timer, contextSrv) {\r\n        var _this = this;\r\n        this.$rootScope = $rootScope;\r\n        this.$timeout = $timeout;\r\n        this.$location = $location;\r\n        this.timer = timer;\r\n        this.contextSrv = contextSrv;\r\n        // default time\r\n        this.time = { from: '6h', to: 'now' };\r\n        $rootScope.$on('zoom-out', this.zoomOut.bind(this));\r\n        $rootScope.$on('$routeUpdate', this.routeUpdated.bind(this));\r\n        document.addEventListener('visibilitychange', function () {\r\n            if (_this.autoRefreshBlocked && document.visibilityState === 'visible') {\r\n                _this.autoRefreshBlocked = false;\r\n                _this.refreshDashboard();\r\n            }\r\n        });\r\n    }\r\n    TimeSrv.prototype.init = function (dashboard) {\r\n        this.timer.cancelAll();\r\n        this.dashboard = dashboard;\r\n        this.time = dashboard.time;\r\n        this.refresh = dashboard.refresh;\r\n        this.initTimeFromUrl();\r\n        this.parseTime();\r\n        // remember time at load so we can go back to it\r\n        this.timeAtLoad = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.cloneDeep(this.time);\r\n        if (this.refresh) {\r\n            this.setAutoRefresh(this.refresh);\r\n        }\r\n    };\r\n    TimeSrv.prototype.parseTime = function () {\r\n        // when absolute time is saved in json it is turned to a string\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(this.time.from) && this.time.from.indexOf('Z') >= 0) {\r\n            this.time.from = __WEBPACK_IMPORTED_MODULE_0_moment___default()(this.time.from).utc();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(this.time.to) && this.time.to.indexOf('Z') >= 0) {\r\n            this.time.to = __WEBPACK_IMPORTED_MODULE_0_moment___default()(this.time.to).utc();\r\n        }\r\n    };\r\n    TimeSrv.prototype.parseUrlParam = function (value) {\r\n        if (value.indexOf('now') !== -1) {\r\n            return value;\r\n        }\r\n        if (value.length === 8) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(value, 'YYYYMMDD');\r\n        }\r\n        if (value.length === 15) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(value, 'YYYYMMDDTHHmmss');\r\n        }\r\n        if (!isNaN(value)) {\r\n            var epoch = parseInt(value);\r\n            return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(epoch);\r\n        }\r\n        return null;\r\n    };\r\n    TimeSrv.prototype.initTimeFromUrl = function () {\r\n        var params = this.$location.search();\r\n        if (params.from) {\r\n            this.time.from = this.parseUrlParam(params.from) || this.time.from;\r\n        }\r\n        if (params.to) {\r\n            this.time.to = this.parseUrlParam(params.to) || this.time.to;\r\n        }\r\n        if (params.refresh) {\r\n            this.refresh = params.refresh || this.refresh;\r\n        }\r\n    };\r\n    TimeSrv.prototype.routeUpdated = function () {\r\n        var params = this.$location.search();\r\n        var urlRange = this.timeRangeForUrl();\r\n        // check if url has time range\r\n        if (params.from && params.to) {\r\n            // is it different from what our current time range?\r\n            if (params.from !== urlRange.from || params.to !== urlRange.to) {\r\n                // issue update\r\n                this.initTimeFromUrl();\r\n                this.setTime(this.time, true);\r\n            }\r\n        }\r\n        else if (this.timeHasChangedSinceLoad()) {\r\n            this.setTime(this.timeAtLoad, true);\r\n        }\r\n    };\r\n    TimeSrv.prototype.timeHasChangedSinceLoad = function () {\r\n        return this.timeAtLoad.from !== this.time.from || this.timeAtLoad.to !== this.time.to;\r\n    };\r\n    TimeSrv.prototype.setAutoRefresh = function (interval) {\r\n        var _this = this;\r\n        this.dashboard.refresh = interval;\r\n        this.cancelNextRefresh();\r\n        if (interval) {\r\n            var intervalMs = __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__[\"default\"].interval_to_ms(interval);\r\n            this.refreshTimer = this.timer.register(this.$timeout(function () {\r\n                _this.startNextRefreshTimer(intervalMs);\r\n                _this.refreshDashboard();\r\n            }, intervalMs));\r\n        }\r\n        // update url\r\n        var params = this.$location.search();\r\n        if (interval) {\r\n            params.refresh = interval;\r\n            this.$location.search(params);\r\n        }\r\n        else if (params.refresh) {\r\n            delete params.refresh;\r\n            this.$location.search(params);\r\n        }\r\n    };\r\n    TimeSrv.prototype.refreshDashboard = function () {\r\n        this.$rootScope.$broadcast('refresh');\r\n    };\r\n    TimeSrv.prototype.startNextRefreshTimer = function (afterMs) {\r\n        var _this = this;\r\n        this.cancelNextRefresh();\r\n        this.refreshTimer = this.timer.register(this.$timeout(function () {\r\n            _this.startNextRefreshTimer(afterMs);\r\n            if (_this.contextSrv.isGrafanaVisible()) {\r\n                _this.refreshDashboard();\r\n            }\r\n            else {\r\n                _this.autoRefreshBlocked = true;\r\n            }\r\n        }, afterMs));\r\n    };\r\n    TimeSrv.prototype.cancelNextRefresh = function () {\r\n        this.timer.cancel(this.refreshTimer);\r\n    };\r\n    TimeSrv.prototype.setTime = function (time, fromRouteUpdate) {\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(this.time, time);\r\n        // disable refresh if zoom in or zoom out\r\n        if (__WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(time.to)) {\r\n            this.oldRefresh = this.dashboard.refresh || this.oldRefresh;\r\n            this.setAutoRefresh(false);\r\n        }\r\n        else if (this.oldRefresh && this.oldRefresh !== this.dashboard.refresh) {\r\n            this.setAutoRefresh(this.oldRefresh);\r\n            this.oldRefresh = null;\r\n        }\r\n        // update url\r\n        if (fromRouteUpdate !== true) {\r\n            var urlRange = this.timeRangeForUrl();\r\n            var urlParams = this.$location.search();\r\n            urlParams.from = urlRange.from;\r\n            urlParams.to = urlRange.to;\r\n            this.$location.search(urlParams);\r\n        }\r\n        this.$rootScope.appEvent('time-range-changed', this.time);\r\n        this.$timeout(this.refreshDashboard.bind(this), 0);\r\n    };\r\n    TimeSrv.prototype.timeRangeForUrl = function () {\r\n        var range = this.timeRange().raw;\r\n        if (__WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(range.from)) {\r\n            range.from = range.from.valueOf().toString();\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(range.to)) {\r\n            range.to = range.to.valueOf().toString();\r\n        }\r\n        return range;\r\n    };\r\n    TimeSrv.prototype.timeRange = function () {\r\n        // make copies if they are moment  (do not want to return out internal moment, because they are mutable!)\r\n        var raw = {\r\n            from: __WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(this.time.from) ? __WEBPACK_IMPORTED_MODULE_0_moment___default()(this.time.from) : this.time.from,\r\n            to: __WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(this.time.to) ? __WEBPACK_IMPORTED_MODULE_0_moment___default()(this.time.to) : this.time.to,\r\n        };\r\n        var timezone = this.dashboard && this.dashboard.getTimezone();\r\n        return {\r\n            from: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__[\"parse\"](raw.from, false, timezone),\r\n            to: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__[\"parse\"](raw.to, true, timezone),\r\n            raw: raw\r\n        };\r\n    };\r\n    TimeSrv.prototype.zoomOut = function (e, factor) {\r\n        var range = this.timeRange();\r\n        var timespan = (range.to.valueOf() - range.from.valueOf());\r\n        var center = range.to.valueOf() - timespan / 2;\r\n        var to = (center + (timespan * factor) / 2);\r\n        var from = (center - (timespan * factor) / 2);\r\n        if (to > Date.now() && range.to <= Date.now()) {\r\n            var offset = to - Date.now();\r\n            from = from - offset;\r\n            to = Date.now();\r\n        }\r\n        this.setTime({ from: __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(from), to: __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(to) });\r\n    };\r\n    return TimeSrv;\r\n}());\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].service('timeSrv', TimeSrv);\r\n\n\n/***/ }),\n\n/***/ 1365:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashboardCtrl\", function() { return DashboardCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar DashboardCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashboardCtrl.$inject = [\"$scope\", \"$rootScope\", \"keybindingSrv\", \"timeSrv\", \"variableSrv\", \"alertingSrv\", \"dashboardSrv\", \"unsavedChangesSrv\", \"dynamicDashboardSrv\", \"dashboardViewStateSrv\", \"contextSrv\", \"playlistSrv\", \"alertSrv\", \"$timeout\"];\r\n    function DashboardCtrl($scope, $rootScope, keybindingSrv, timeSrv, variableSrv, alertingSrv, dashboardSrv, unsavedChangesSrv, dynamicDashboardSrv, dashboardViewStateSrv, contextSrv, playlistSrv, alertSrv, $timeout) {\r\n        this.$scope = $scope;\r\n        $scope.editor = { index: 0 };\r\n        $scope.playlistSrv = playlistSrv;\r\n        var resizeEventTimeout;\r\n        $scope.setupDashboard = function (data) {\r\n            try {\r\n                $scope.setupDashboardInternal(data);\r\n            }\r\n            catch (err) {\r\n                $scope.onInitFailed(err, 'Dashboard init failed', true);\r\n            }\r\n        };\r\n        $scope.setupDashboardInternal = function (data) {\r\n            var dashboard = dashboardSrv.create(data.dashboard, data.meta);\r\n            dashboardSrv.setCurrent(dashboard);\r\n            // init services\r\n            timeSrv.init(dashboard);\r\n            alertingSrv.init(dashboard, data.alerts);\r\n            // template values service needs to initialize completely before\r\n            // the rest of the dashboard can load\r\n            variableSrv.init(dashboard)\r\n                .catch($scope.onInitFailed.bind(this, 'Templating init failed', false))\r\n                .finally(function () {\r\n                dynamicDashboardSrv.init(dashboard);\r\n                dynamicDashboardSrv.process();\r\n                unsavedChangesSrv.init(dashboard, $scope);\r\n                $scope.dashboard = dashboard;\r\n                $scope.dashboardMeta = dashboard.meta;\r\n                $scope.dashboardViewState = dashboardViewStateSrv.create($scope);\r\n                keybindingSrv.setupDashboardBindings($scope, dashboard);\r\n                $scope.dashboard.updateSubmenuVisibility();\r\n                $scope.setWindowTitleAndTheme();\r\n                $scope.appEvent(\"dashboard-initialized\", $scope.dashboard);\r\n            })\r\n                .catch($scope.onInitFailed.bind(this, 'Dashboard init failed', true));\r\n        };\r\n        $scope.onInitFailed = function (msg, fatal, err) {\r\n            console.log(msg, err);\r\n            if (err.data && err.data.message) {\r\n                err.message = err.data.message;\r\n            }\r\n            else if (!err.message) {\r\n                err = { message: err.toString() };\r\n            }\r\n            $scope.appEvent(\"alert-error\", [msg, err.message]);\r\n            // protect against  recursive fallbacks\r\n            if (fatal && !$scope.loadedFallbackDashboard) {\r\n                $scope.loadedFallbackDashboard = true;\r\n                $scope.setupDashboard({ dashboard: { title: 'Dashboard Init failed' } });\r\n            }\r\n        };\r\n        $scope.templateVariableUpdated = function () {\r\n            dynamicDashboardSrv.process();\r\n        };\r\n        $scope.setWindowTitleAndTheme = function () {\r\n            window.document.title = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].window_title_prefix + $scope.dashboard.title;\r\n        };\r\n        $scope.broadcastRefresh = function () {\r\n            $rootScope.$broadcast('refresh');\r\n        };\r\n        $scope.addRowDefault = function () {\r\n            $scope.dashboard.addEmptyRow();\r\n        };\r\n        $scope.showJsonEditor = function (evt, options) {\r\n            var editScope = $rootScope.$new();\r\n            editScope.object = options.object;\r\n            editScope.updateHandler = options.updateHandler;\r\n            $scope.appEvent('show-dash-editor', { src: 'public/app/partials/edit_json.html', scope: editScope });\r\n        };\r\n        $scope.registerWindowResizeEvent = function () {\r\n            __WEBPACK_IMPORTED_MODULE_1_angular___default.a.element(window).bind('resize', function () {\r\n                $timeout.cancel(resizeEventTimeout);\r\n                resizeEventTimeout = $timeout(function () { $scope.$broadcast('render'); }, 200);\r\n            });\r\n            $scope.$on('$destroy', function () {\r\n                __WEBPACK_IMPORTED_MODULE_1_angular___default.a.element(window).unbind('resize');\r\n                $scope.dashboard.destroy();\r\n            });\r\n        };\r\n        $scope.timezoneChanged = function () {\r\n            $rootScope.$broadcast(\"refresh\");\r\n        };\r\n    }\r\n    DashboardCtrl.prototype.init = function (dashboard) {\r\n        this.$scope.onAppEvent('show-json-editor', this.$scope.showJsonEditor);\r\n        this.$scope.onAppEvent('template-variable-value-updated', this.$scope.templateVariableUpdated);\r\n        this.$scope.setupDashboard(dashboard);\r\n        this.$scope.registerWindowResizeEvent();\r\n    };\r\n    return DashboardCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].controller('DashboardCtrl', DashboardCtrl);\r\n\n\n/***/ }),\n\n/***/ 1366:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HistoryListCtrl\", function() { return HistoryListCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"dashboardHistoryDirective\"] = dashboardHistoryDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__history_srv__ = __webpack_require__(1367);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\nvar HistoryListCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    HistoryListCtrl.$inject = [\"$route\", \"$rootScope\", \"$location\", \"$q\", \"historySrv\", \"$scope\"];\r\n    function HistoryListCtrl($route, $rootScope, $location, $q, historySrv, $scope) {\r\n        this.$route = $route;\r\n        this.$rootScope = $rootScope;\r\n        this.$location = $location;\r\n        this.$q = $q;\r\n        this.historySrv = historySrv;\r\n        this.$scope = $scope;\r\n        this.appending = false;\r\n        this.diff = 'basic';\r\n        this.limit = 10;\r\n        this.loading = false;\r\n        this.max = 2;\r\n        this.mode = 'list';\r\n        this.start = 0;\r\n        this.canCompare = false;\r\n        this.$rootScope.onAppEvent('dashboard-saved', this.onDashboardSaved.bind(this), $scope);\r\n        this.resetFromSource();\r\n    }\r\n    HistoryListCtrl.prototype.onDashboardSaved = function () {\r\n        this.resetFromSource();\r\n    };\r\n    HistoryListCtrl.prototype.switchMode = function (mode) {\r\n        this.mode = mode;\r\n        if (this.mode === 'list') {\r\n            this.reset();\r\n        }\r\n    };\r\n    HistoryListCtrl.prototype.dismiss = function () {\r\n        this.$rootScope.appEvent('hide-dash-editor');\r\n    };\r\n    HistoryListCtrl.prototype.addToLog = function () {\r\n        this.start = this.start + this.limit;\r\n        this.getLog(true);\r\n    };\r\n    HistoryListCtrl.prototype.revisionSelectionChanged = function () {\r\n        var selected = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.filter(this.revisions, { checked: true }).length;\r\n        this.canCompare = selected === 2;\r\n    };\r\n    HistoryListCtrl.prototype.formatDate = function (date) {\r\n        return this.dashboard.formatDate(date);\r\n    };\r\n    HistoryListCtrl.prototype.formatBasicDate = function (date) {\r\n        var now = this.dashboard.timezone === 'browser' ? __WEBPACK_IMPORTED_MODULE_3_moment___default()() : __WEBPACK_IMPORTED_MODULE_3_moment___default.a.utc();\r\n        var then = this.dashboard.timezone === 'browser' ? __WEBPACK_IMPORTED_MODULE_3_moment___default()(date) : __WEBPACK_IMPORTED_MODULE_3_moment___default.a.utc(date);\r\n        return then.from(now);\r\n    };\r\n    HistoryListCtrl.prototype.getDiff = function (diff) {\r\n        var _this = this;\r\n        this.diff = diff;\r\n        this.mode = 'compare';\r\n        // have it already been fetched?\r\n        if (this.delta[this.diff]) {\r\n            return this.$q.when(this.delta[this.diff]);\r\n        }\r\n        var selected = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.filter(this.revisions, { checked: true });\r\n        this.newInfo = selected[0];\r\n        this.baseInfo = selected[1];\r\n        this.isNewLatest = this.newInfo.version === this.dashboard.version;\r\n        this.loading = true;\r\n        var options = {\r\n            new: {\r\n                dashboardId: this.dashboard.id,\r\n                version: this.newInfo.version,\r\n            },\r\n            base: {\r\n                dashboardId: this.dashboard.id,\r\n                version: this.baseInfo.version,\r\n            },\r\n            diffType: diff,\r\n        };\r\n        return this.historySrv.calculateDiff(options).then(function (response) {\r\n            _this.delta[_this.diff] = response;\r\n        }).catch(function () {\r\n            _this.mode = 'list';\r\n        }).finally(function () {\r\n            _this.loading = false;\r\n        });\r\n    };\r\n    HistoryListCtrl.prototype.getLog = function (append) {\r\n        var _this = this;\r\n        if (append === void 0) { append = false; }\r\n        this.loading = !append;\r\n        this.appending = append;\r\n        var options = {\r\n            limit: this.limit,\r\n            start: this.start,\r\n        };\r\n        return this.historySrv.getHistoryList(this.dashboard, options).then(function (revisions) {\r\n            // set formated dates & default values\r\n            for (var _i = 0, revisions_1 = revisions; _i < revisions_1.length; _i++) {\r\n                var rev = revisions_1[_i];\r\n                rev.createdDateString = _this.formatDate(rev.created);\r\n                rev.ageString = _this.formatBasicDate(rev.created);\r\n                rev.checked = false;\r\n            }\r\n            _this.revisions = append ? _this.revisions.concat(revisions) : revisions;\r\n        }).catch(function (err) {\r\n            _this.loading = false;\r\n        }).finally(function () {\r\n            _this.loading = false;\r\n            _this.appending = false;\r\n        });\r\n    };\r\n    HistoryListCtrl.prototype.isLastPage = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(this.revisions, function (rev) { return rev.version === 1; });\r\n    };\r\n    HistoryListCtrl.prototype.reset = function () {\r\n        this.delta = { basic: '', json: '' };\r\n        this.diff = 'basic';\r\n        this.mode = 'list';\r\n        this.revisions = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(this.revisions, function (rev) { return __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend({}, rev, { checked: false }); });\r\n        this.canCompare = false;\r\n        this.start = 0;\r\n        this.isNewLatest = false;\r\n    };\r\n    HistoryListCtrl.prototype.resetFromSource = function () {\r\n        this.revisions = [];\r\n        return this.getLog().then(this.reset.bind(this));\r\n    };\r\n    HistoryListCtrl.prototype.restore = function (version) {\r\n        this.$rootScope.appEvent('confirm-modal', {\r\n            title: 'Restore version',\r\n            text: '',\r\n            text2: \"Are you sure you want to restore the dashboard to version \" + version + \"? All unsaved changes will be lost.\",\r\n            icon: 'fa-history',\r\n            yesText: \"Yes, restore to version \" + version,\r\n            onConfirm: this.restoreConfirm.bind(this, version),\r\n        });\r\n    };\r\n    HistoryListCtrl.prototype.restoreConfirm = function (version) {\r\n        var _this = this;\r\n        this.loading = true;\r\n        return this.historySrv.restoreDashboard(this.dashboard, version).then(function (response) {\r\n            _this.$location.path('dashboard/db/' + response.slug);\r\n            _this.$route.reload();\r\n            _this.$rootScope.appEvent('alert-success', ['Dashboard restored', 'Restored from version ' + version]);\r\n        }).catch(function () {\r\n            _this.mode = 'list';\r\n            _this.loading = false;\r\n        });\r\n    };\r\n    return HistoryListCtrl;\r\n}());\r\n\r\nfunction dashboardHistoryDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/history/history.html',\r\n        controller: HistoryListCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            dashboard: \"=\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_angular___default.a.module('grafana.directives').directive('gfDashboardHistory', dashboardHistoryDirective);\r\n\n\n/***/ }),\n\n/***/ 1367:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export HistorySrv */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar HistorySrv = /** @class */ (function () {\r\n    /** @ngInject */\n    HistorySrv.$inject = [\"backendSrv\", \"$q\"];\r\n    function HistorySrv(backendSrv, $q) {\r\n        this.backendSrv = backendSrv;\r\n        this.$q = $q;\r\n    }\r\n    HistorySrv.prototype.getHistoryList = function (dashboard, options) {\r\n        var id = dashboard && dashboard.id ? dashboard.id : void 0;\r\n        return id ? this.backendSrv.get(\"api/dashboards/id/\" + id + \"/versions\", options) : this.$q.when([]);\r\n    };\r\n    HistorySrv.prototype.calculateDiff = function (options) {\r\n        return this.backendSrv.post('api/dashboards/calculate-diff', options);\r\n    };\r\n    HistorySrv.prototype.restoreDashboard = function (dashboard, version) {\r\n        var id = dashboard && dashboard.id ? dashboard.id : void 0;\r\n        var url = \"api/dashboards/id/\" + id + \"/restore\";\r\n        return id && __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(version) ? this.backendSrv.post(url, { version: version }) : this.$q.when({});\r\n    };\r\n    return HistorySrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].service('historySrv', HistorySrv);\r\n\n\n/***/ }),\n\n/***/ 1368:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(1),\n  __webpack_require__(7),\n  __webpack_require__(13),\n  __webpack_require__(464),\n  __webpack_require__(467),\n  __webpack_require__(1312)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, moment, _, $, kbn, dateMath, impressionStore) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  var module = angular.module('grafana.services');\n\n  module.service('dashboardLoaderSrv', [\"backendSrv\", \"dashboardSrv\", \"datasourceSrv\", \"$http\", \"$q\", \"$timeout\", \"contextSrv\", \"$routeParams\", \"$rootScope\", function(backendSrv,\n                                                   dashboardSrv,\n                                                   datasourceSrv,\n                                                   $http, $q, $timeout,\n                                                   contextSrv, $routeParams,\n                                                   $rootScope) {\n    var self = this;\n\n    this._dashboardLoadFailed = function(title, snapshot) {\n      snapshot = snapshot || false;\n      return {\n        meta: { canStar: false, isSnapshot: snapshot, canDelete: false, canSave: false, canEdit: false, dashboardNotFound: true },\n        dashboard: {title: title }\n      };\n    };\n\n    this.loadDashboard = function(type, slug) {\n      var promise;\n\n      if (type === 'script') {\n        promise = this._loadScriptedDashboard(slug);\n      } else if (type === 'snapshot') {\n        promise = backendSrv.get('/api/snapshots/' + $routeParams.slug)\n          .catch(function() {\n            return self._dashboardLoadFailed(\"Snapshot not found\", true);\n          });\n      } else {\n        promise = backendSrv.getDashboard($routeParams.type, $routeParams.slug)\n          .catch(function() {\n            return self._dashboardLoadFailed(\"Not found\");\n          });\n      }\n\n      promise.then(function(result) {\n\n        if (result.meta.dashboardNotFound !== true) {\n          impressionStore.impressions.addDashboardImpression(result.dashboard.id);\n        }\n\n        return result;\n      });\n\n      return promise;\n    };\n\n    this._loadScriptedDashboard = function(file) {\n      var url = 'public/dashboards/'+file.replace(/\\.(?!js)/,\"/\") + '?' + new Date().getTime();\n\n      return $http({ url: url, method: \"GET\" })\n      .then(this._executeScript).then(function(result) {\n        return { meta: { fromScript: true, canDelete: false, canSave: false, canStar: false}, dashboard: result.data };\n      }, function(err) {\n        console.log('Script dashboard error '+ err);\n        $rootScope.appEvent('alert-error', [\"Script Error\", \"Please make sure it exists and returns a valid dashboard\"]);\n        return self._dashboardLoadFailed('Scripted dashboard');\n      });\n    };\n\n    this._executeScript = function(result) {\n      var services = {\n        dashboardSrv: dashboardSrv,\n        datasourceSrv: datasourceSrv,\n        $q: $q,\n      };\n\n      /*jshint -W054 */\n      var script_func = new Function('ARGS','kbn','dateMath','_','moment','window','document','$','jQuery', 'services', result.data);\n      var script_result = script_func($routeParams, kbn, dateMath, _ , moment, window, document, $, $, services);\n\n      // Handle async dashboard scripts\n      if (_.isFunction(script_result)) {\n        var deferred = $q.defer();\n        script_result(function(dashboard) {\n          $timeout(function() {\n            deferred.resolve({ data: dashboard });\n          });\n        });\n        return deferred.promise;\n      }\n\n      return { data: script_result };\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1369:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashNavCtrl\", function() { return DashNavCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"dashNavDirective\"] = dashNavDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\nvar DashNavCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashNavCtrl.$inject = [\"$scope\", \"$rootScope\", \"dashboardSrv\", \"$location\", \"backendSrv\", \"contextSrv\", \"playlistSrv\", \"navModelSrv\"];\r\n    function DashNavCtrl($scope, $rootScope, dashboardSrv, $location, backendSrv, contextSrv, playlistSrv, navModelSrv) {\r\n        this.$scope = $scope;\r\n        this.$rootScope = $rootScope;\r\n        this.dashboardSrv = dashboardSrv;\r\n        this.$location = $location;\r\n        this.backendSrv = backendSrv;\r\n        this.contextSrv = contextSrv;\r\n        this.playlistSrv = playlistSrv;\r\n        this.navModel = navModelSrv.getDashboardNav(this.dashboard, this);\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].on('save-dashboard', this.saveDashboard.bind(this), $scope);\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].on('delete-dashboard', this.deleteDashboard.bind(this), $scope);\r\n        if (this.dashboard.meta.isSnapshot) {\r\n            var meta = this.dashboard.meta;\r\n            this.titleTooltip = 'Created: &nbsp;' + __WEBPACK_IMPORTED_MODULE_1_moment___default()(meta.created).calendar();\r\n            if (meta.expires) {\r\n                this.titleTooltip += '<br>Expires: &nbsp;' + __WEBPACK_IMPORTED_MODULE_1_moment___default()(meta.expires).fromNow() + '<br>';\r\n            }\r\n        }\r\n    }\r\n    DashNavCtrl.prototype.toggleSideMenu = function () {\r\n        this.contextSrv.toggleSideMenu();\r\n    };\r\n    DashNavCtrl.prototype.openEditView = function (editview) {\r\n        var search = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(this.$location.search(), { editview: editview });\r\n        this.$location.search(search);\r\n    };\r\n    DashNavCtrl.prototype.showHelpModal = function () {\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].emit('show-modal', { templateHtml: '<help-modal></help-modal>' });\r\n    };\r\n    DashNavCtrl.prototype.starDashboard = function () {\r\n        var _this = this;\r\n        this.dashboardSrv.starDashboard(this.dashboard.id, this.dashboard.meta.isStarred)\r\n            .then(function (newState) {\r\n            _this.dashboard.meta.isStarred = newState;\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.shareDashboard = function (tabIndex) {\r\n        var modalScope = this.$scope.$new();\r\n        modalScope.tabIndex = tabIndex;\r\n        modalScope.dashboard = this.dashboard;\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].emit('show-modal', {\r\n            src: 'public/app/features/dashboard/partials/shareModal.html',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.hideTooltip = function (evt) {\r\n        __WEBPACK_IMPORTED_MODULE_2_angular___default.a.element(evt.currentTarget).tooltip('hide');\r\n    };\r\n    DashNavCtrl.prototype.makeEditable = function () {\r\n        this.dashboard.editable = true;\r\n        return this.dashboardSrv.saveDashboard({ makeEditable: true, overwrite: false }).then(function () {\r\n            // force refresh whole page\r\n            window.location.href = window.location.href;\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.exitFullscreen = function () {\r\n        this.$rootScope.appEvent('panel-change-view', { fullscreen: false, edit: false });\r\n    };\r\n    DashNavCtrl.prototype.saveDashboard = function () {\r\n        return this.dashboardSrv.saveDashboard();\r\n    };\r\n    DashNavCtrl.prototype.deleteDashboard = function () {\r\n        var _this = this;\r\n        var confirmText = \"\";\r\n        var text2 = this.dashboard.title;\r\n        var alerts = this.dashboard.rows.reduce(function (memo, row) {\r\n            memo += row.panels.filter(function (panel) { return panel.alert; }).length;\r\n            return memo;\r\n        }, 0);\r\n        if (alerts > 0) {\r\n            confirmText = 'DELETE';\r\n            text2 = \"This dashboad contains \" + alerts + \" alerts. Deleting this dashboad will also delete those alerts\";\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].emit('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Do you want to delete this dashboard?',\r\n            text2: text2,\r\n            icon: 'fa-trash',\r\n            confirmText: confirmText,\r\n            yesText: 'Delete',\r\n            onConfirm: function () {\r\n                _this.dashboard.meta.canSave = false;\r\n                _this.deleteDashboardConfirmed();\r\n            }\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.deleteDashboardConfirmed = function () {\r\n        var _this = this;\r\n        this.backendSrv.delete('/api/dashboards/db/' + this.dashboard.meta.slug).then(function () {\r\n            __WEBPACK_IMPORTED_MODULE_3_app_core_core__[\"appEvents\"].emit('alert-success', ['Dashboard Deleted', _this.dashboard.title + ' has been deleted']);\r\n            _this.$location.url('/');\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.saveDashboardAs = function () {\r\n        return this.dashboardSrv.showSaveAsModal();\r\n    };\r\n    DashNavCtrl.prototype.viewJson = function () {\r\n        var clone = this.dashboard.getSaveModelClone();\r\n        this.$rootScope.appEvent('show-json-editor', {\r\n            object: clone,\r\n        });\r\n    };\r\n    DashNavCtrl.prototype.showSearch = function () {\r\n        this.$rootScope.appEvent('show-dash-search');\r\n    };\r\n    DashNavCtrl.prototype.navItemClicked = function (navItem, evt) {\r\n        if (navItem.clickHandler) {\r\n            navItem.clickHandler();\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    return DashNavCtrl;\r\n}());\r\n\r\nfunction dashNavDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/dashnav/dashnav.html',\r\n        controller: DashNavCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        transclude: true,\r\n        scope: { dashboard: \"=\" }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_angular___default.a.module('grafana.directives').directive('dashnav', dashNavDirective);\r\n\n\n/***/ }),\n\n/***/ 1370:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubmenuCtrl\", function() { return SubmenuCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"submenuDirective\"] = submenuDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar SubmenuCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    SubmenuCtrl.$inject = [\"$rootScope\", \"variableSrv\", \"$location\"];\r\n    function SubmenuCtrl($rootScope, variableSrv, $location) {\r\n        this.$rootScope = $rootScope;\r\n        this.variableSrv = variableSrv;\r\n        this.$location = $location;\r\n        this.annotations = this.dashboard.templating.list;\r\n        this.variables = this.variableSrv.variables;\r\n    }\r\n    SubmenuCtrl.prototype.annotationStateChanged = function () {\r\n        this.$rootScope.$broadcast('refresh');\r\n    };\r\n    SubmenuCtrl.prototype.variableUpdated = function (variable) {\r\n        this.variableSrv.variableUpdated(variable, true);\r\n    };\r\n    SubmenuCtrl.prototype.openEditView = function (editview) {\r\n        var search = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend(this.$location.search(), { editview: editview });\r\n        this.$location.search(search);\r\n    };\r\n    return SubmenuCtrl;\r\n}());\r\n\r\nfunction submenuDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/submenu/submenu.html',\r\n        controller: SubmenuCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            dashboard: \"=\",\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives').directive('dashboardSubmenu', submenuDirective);\r\n\n\n/***/ }),\n\n/***/ 1371:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SaveDashboardAsModalCtrl\", function() { return SaveDashboardAsModalCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"saveDashboardAsDirective\"] = saveDashboardAsDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar template = \"\\n<div class=\\\"modal-body\\\">\\n\\t<div class=\\\"modal-header\\\">\\n\\t\\t<h2 class=\\\"modal-header-title\\\">\\n\\t\\t\\t<i class=\\\"fa fa-copy\\\"></i>\\n\\t\\t\\t<span class=\\\"p-l-1\\\">Save As...</span>\\n\\t\\t</h2>\\n\\n\\t\\t<a class=\\\"modal-header-close\\\" ng-click=\\\"ctrl.dismiss();\\\">\\n\\t\\t\\t<i class=\\\"fa fa-remove\\\"></i>\\n\\t\\t</a>\\n\\t</div>\\n\\n\\t<form name=\\\"ctrl.saveForm\\\" ng-submit=\\\"ctrl.save()\\\" class=\\\"modal-content\\\" novalidate>\\n\\t\\t<div class=\\\"p-t-2\\\">\\n\\t\\t\\t<div class=\\\"gf-form\\\">\\n\\t\\t\\t\\t<label class=\\\"gf-form-label\\\">New name</label>\\n\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"gf-form-input\\\" ng-model=\\\"ctrl.clone.title\\\" give-focus=\\\"true\\\" required>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<div class=\\\"gf-form-button-row text-center\\\">\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-disabled=\\\"ctrl.saveForm.$invalid\\\">Save</button>\\n\\t\\t\\t<a class=\\\"btn-text\\\" ng-click=\\\"ctrl.dismiss();\\\">Cancel</a>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\r\nvar SaveDashboardAsModalCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    SaveDashboardAsModalCtrl.$inject = [\"dashboardSrv\"];\r\n    function SaveDashboardAsModalCtrl(dashboardSrv) {\r\n        this.dashboardSrv = dashboardSrv;\r\n        var dashboard = this.dashboardSrv.getCurrent();\r\n        this.clone = dashboard.getSaveModelClone();\r\n        this.clone.id = null;\r\n        this.clone.title += ' Copy';\r\n        this.clone.editable = true;\r\n        this.clone.hideControls = false;\r\n        // remove alerts if source dashboard is already persisted\r\n        // do not want to create alert dupes\r\n        if (dashboard.id > 0) {\r\n            this.clone.rows.forEach(function (row) {\r\n                row.panels.forEach(function (panel) {\r\n                    if (panel.type === \"graph\" && panel.alert) {\r\n                        delete panel.thresholds;\r\n                    }\r\n                    delete panel.alert;\r\n                });\r\n            });\r\n        }\r\n        delete this.clone.autoUpdate;\r\n    }\r\n    SaveDashboardAsModalCtrl.prototype.save = function () {\r\n        return this.dashboardSrv.save(this.clone).then(this.dismiss);\r\n    };\r\n    SaveDashboardAsModalCtrl.prototype.keyDown = function (evt) {\r\n        if (evt.keyCode === 13) {\r\n            this.save();\r\n        }\r\n    };\r\n    return SaveDashboardAsModalCtrl;\r\n}());\r\n\r\nfunction saveDashboardAsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: SaveDashboardAsModalCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: { dismiss: \"&\" }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('saveDashboardAsModal', saveDashboardAsDirective);\r\n\n\n/***/ }),\n\n/***/ 1372:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SaveDashboardModalCtrl\", function() { return SaveDashboardModalCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"saveDashboardModalDirective\"] = saveDashboardModalDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar template = \"\\n<div class=\\\"modal-body\\\">\\n\\t<div class=\\\"modal-header\\\">\\n\\t\\t<h2 class=\\\"modal-header-title\\\">\\n\\t\\t\\t<i class=\\\"fa fa-save\\\"></i>\\n\\t\\t\\t<span class=\\\"p-l-1\\\">Save changes</span>\\n\\t\\t</h2>\\n\\n\\t\\t<a class=\\\"modal-header-close\\\" ng-click=\\\"ctrl.dismiss();\\\">\\n\\t\\t\\t<i class=\\\"fa fa-remove\\\"></i>\\n\\t\\t</a>\\n\\t</div>\\n\\n\\t<form name=\\\"ctrl.saveForm\\\" ng-submit=\\\"ctrl.save()\\\" class=\\\"modal-content\\\" novalidate>\\n\\t\\t<h6 class=\\\"text-center\\\">Add a note to describe your changes</h6>\\n\\t\\t<div class=\\\"p-t-2\\\">\\n\\t\\t\\t<div class=\\\"gf-form\\\">\\n\\t\\t\\t\\t<label class=\\\"gf-form-hint\\\">\\n\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"message\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"gf-form-input\\\"\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"Updates to &hellip;\\\"\\n\\t\\t\\t\\t\\t\\tgive-focus=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\tng-model=\\\"ctrl.message\\\"\\n\\t\\t\\t\\t\\t\\tng-model-options=\\\"{allowInvalid: true}\\\"\\n\\t\\t\\t\\t\\t\\tng-maxlength=\\\"this.max\\\"\\n\\t\\t\\t\\t\\t\\tautocomplete=\\\"off\\\" />\\n\\t\\t\\t\\t\\t<small class=\\\"gf-form-hint-text muted\\\" ng-cloak>\\n\\t\\t\\t\\t\\t\\t<span ng-class=\\\"{'text-error': ctrl.saveForm.message.$invalid && ctrl.saveForm.message.$dirty }\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ctrl.message.length || 0}}\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t/ {{ctrl.max}} characters\\n\\t\\t\\t\\t\\t</small>\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\n\\t\\t<div class=\\\"gf-form-button-row text-center\\\">\\n\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-disabled=\\\"ctrl.saveForm.$invalid\\\">Save</button>\\n\\t\\t\\t<button class=\\\"btn btn-inverse\\\" ng-click=\\\"ctrl.dismiss();\\\">Cancel</button>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\";\r\nvar SaveDashboardModalCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    SaveDashboardModalCtrl.$inject = [\"dashboardSrv\"];\r\n    function SaveDashboardModalCtrl(dashboardSrv) {\r\n        this.dashboardSrv = dashboardSrv;\r\n        this.message = '';\r\n        this.max = 64;\r\n    }\r\n    SaveDashboardModalCtrl.prototype.save = function () {\r\n        if (!this.saveForm.$valid) {\r\n            return;\r\n        }\r\n        var dashboard = this.dashboardSrv.getCurrent();\r\n        var saveModel = dashboard.getSaveModelClone();\r\n        var options = { message: this.message };\r\n        return this.dashboardSrv.save(saveModel, options).then(this.dismiss);\r\n    };\r\n    return SaveDashboardModalCtrl;\r\n}());\r\n\r\nfunction saveDashboardModalDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: SaveDashboardModalCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: { dismiss: \"&\" }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('saveDashboardModal', saveDashboardModalDirective);\r\n\n\n/***/ }),\n\n/***/ 1373:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(13),\n  __webpack_require__(1),\n  __webpack_require__(27),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, $, moment, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ShareModalCtrl', [\"$scope\", \"$rootScope\", \"$location\", \"$timeout\", \"timeSrv\", \"templateSrv\", \"linkSrv\", function($scope, $rootScope, $location, $timeout, timeSrv, templateSrv, linkSrv) {\n\n    $scope.options = { forCurrent: true, includeTemplateVars: true, theme: 'current' };\n    $scope.editor = { index: $scope.tabIndex || 0};\n\n    $scope.init = function() {\n      $scope.modeSharePanel = $scope.panel ? true : false;\n\n      $scope.tabs = [{title: 'Link', src: 'shareLink.html'}];\n\n      if ($scope.modeSharePanel) {\n        $scope.modalTitle = 'Share Panel';\n        $scope.tabs.push({title: 'Embed', src: 'shareEmbed.html'});\n      } else {\n        $scope.modalTitle = 'Share';\n      }\n\n      if (!$scope.dashboard.meta.isSnapshot) {\n        $scope.tabs.push({title: 'Snapshot', src: 'shareSnapshot.html'});\n      }\n\n      if (!$scope.dashboard.meta.isSnapshot && !$scope.modeSharePanel) {\n        $scope.tabs.push({title: 'Export', src: 'shareExport.html'});\n      }\n\n      $scope.buildUrl();\n    };\n\n    $scope.buildUrl = function() {\n      var baseUrl = $location.absUrl();\n      var queryStart = baseUrl.indexOf('?');\n\n      if (queryStart !== -1) {\n        baseUrl = baseUrl.substring(0, queryStart);\n      }\n\n      var params = angular.copy($location.search());\n\n      var range = timeSrv.timeRange();\n      params.from = range.from.valueOf();\n      params.to = range.to.valueOf();\n      params.orgId = config.bootData.user.orgId;\n\n      if ($scope.options.includeTemplateVars) {\n        templateSrv.fillVariableValuesForUrl(params);\n      }\n\n      if (!$scope.options.forCurrent) {\n        delete params.from;\n        delete params.to;\n      }\n\n      if ($scope.options.theme !== 'current') {\n        params.theme = $scope.options.theme;\n      }\n\n      if ($scope.modeSharePanel) {\n        params.panelId = $scope.panel.id;\n        params.fullscreen = true;\n      } else {\n        delete params.panelId;\n        delete params.fullscreen;\n      }\n\n      $scope.shareUrl = linkSrv.addParamsToUrl(baseUrl, params);\n\n      var soloUrl = baseUrl.replace(config.appSubUrl + '/dashboard/', config.appSubUrl + '/dashboard-solo/');\n      delete params.fullscreen;\n      delete params.edit;\n      soloUrl = linkSrv.addParamsToUrl(soloUrl, params);\n\n      $scope.iframeHtml = '<iframe src=\"' + soloUrl + '\" width=\"450\" height=\"200\" frameborder=\"0\"></iframe>';\n\n      $scope.imageUrl = soloUrl.replace(config.appSubUrl + '/dashboard-solo/', config.appSubUrl + '/render/dashboard-solo/');\n      $scope.imageUrl += '&width=1000';\n      $scope.imageUrl += '&height=500';\n      $scope.imageUrl += '&tz=UTC' + encodeURIComponent(moment().format(\"Z\"));\n    };\n\n    $scope.getShareUrl = function() {\n      return $scope.shareUrl;\n    };\n\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1374:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ShareSnapshotCtrl', [\"$scope\", \"$rootScope\", \"$location\", \"backendSrv\", \"$timeout\", \"timeSrv\", function($scope, $rootScope, $location, backendSrv, $timeout, timeSrv) {\n\n    $scope.snapshot = {\n      name: $scope.dashboard.title,\n      expires: 0,\n      timeoutSeconds: 4,\n    };\n\n    $scope.step = 1;\n\n    $scope.expireOptions = [\n      {text: '1 Hour', value: 60*60},\n      {text: '1 Day',  value: 60*60*24},\n      {text: '7 Days', value: 60*60*24*7},\n      {text: 'Never',  value: 0},\n    ];\n\n    $scope.accessOptions = [\n      {text: 'Anyone with the link', value: 1},\n      {text: 'Organization users',  value: 2},\n      {text: 'Public on the web', value: 3},\n    ];\n\n    $scope.init = function() {\n      backendSrv.get('/api/snapshot/shared-options').then(function(options) {\n        $scope.externalUrl = options['externalSnapshotURL'];\n        $scope.sharingButtonText = options['externalSnapshotName'];\n        $scope.externalEnabled = options['externalEnabled'];\n      });\n    };\n\n    $scope.apiUrl = '/api/snapshots';\n\n    $scope.createSnapshot = function(external) {\n      $scope.dashboard.snapshot = {\n        timestamp: new Date()\n      };\n\n      if (!external) {\n        $scope.dashboard.snapshot.originalUrl = $location.absUrl();\n      }\n\n      $scope.loading = true;\n      $scope.snapshot.external = external;\n\n      $rootScope.$broadcast('refresh');\n\n      $timeout(function() {\n        $scope.saveSnapshot(external);\n      }, $scope.snapshot.timeoutSeconds * 1000);\n    };\n\n    $scope.saveSnapshot = function(external) {\n      var dash = $scope.dashboard.getSaveModelClone();\n      $scope.scrubDashboard(dash);\n\n      var cmdData = {\n        dashboard: dash,\n        name: dash.title,\n        expires: $scope.snapshot.expires,\n      };\n\n      var postUrl = external ? $scope.externalUrl + $scope.apiUrl : $scope.apiUrl;\n\n      backendSrv.post(postUrl, cmdData).then(function(results) {\n        $scope.loading = false;\n\n        if (external) {\n          $scope.deleteUrl = results.deleteUrl;\n          $scope.snapshotUrl = results.url;\n          $scope.saveExternalSnapshotRef(cmdData, results);\n        } else {\n          var url = $location.url();\n          var baseUrl = $location.absUrl();\n\n          if (url !== '/') {\n            baseUrl = baseUrl.replace(url, '') + '/';\n          }\n\n          $scope.snapshotUrl = baseUrl + 'dashboard/snapshot/' + results.key;\n          $scope.deleteUrl = baseUrl + 'api/snapshots-delete/' + results.deleteKey;\n        }\n\n        $scope.step = 2;\n      }, function() {\n        $scope.loading = false;\n      });\n    };\n\n    $scope.getSnapshotUrl = function() {\n      return $scope.snapshotUrl;\n    };\n\n    $scope.scrubDashboard = function(dash) {\n      // change title\n      dash.title = $scope.snapshot.name;\n      // make relative times absolute\n      dash.time = timeSrv.timeRange();\n      // remove panel queries & links\n      dash.forEachPanel(function(panel) {\n        panel.targets = [];\n        panel.links = [];\n        panel.datasource = null;\n      });\n      // remove annotation queries\n      dash.annotations.list = _.chain(dash.annotations.list)\n      .filter(function(annotation) {\n        return annotation.enable;\n      })\n      .map(function(annotation) {\n        return {\n          name: annotation.name,\n          enable: annotation.enable,\n          iconColor: annotation.iconColor,\n          snapshotData: annotation.snapshotData\n        };\n      }).value();\n      // remove template queries\n      _.each(dash.templating.list, function(variable) {\n        variable.query = \"\";\n        variable.options = variable.current;\n        variable.refresh = false;\n      });\n\n      // snapshot single panel\n      if ($scope.modeSharePanel) {\n        var singlePanel = dash.getPanelById($scope.panel.id);\n        singlePanel.span = 12;\n        dash.rows = [{ height: '500px', span: 12, panels: [singlePanel] }];\n      }\n\n      // cleanup snapshotData\n      delete $scope.dashboard.snapshot;\n      $scope.dashboard.forEachPanel(function(panel) {\n        delete panel.snapshotData;\n      });\n      _.each($scope.dashboard.annotations.list, function(annotation) {\n        delete annotation.snapshotData;\n      });\n    };\n\n    $scope.deleteSnapshot = function() {\n      backendSrv.get($scope.deleteUrl).then(function() {\n        $scope.step = 3;\n      });\n    };\n\n    $scope.saveExternalSnapshotRef = function(cmdData, results) {\n      // save external in local instance as well\n      cmdData.external = true;\n      cmdData.key = results.key;\n      cmdData.deleteKey = results.deleteKey;\n      backendSrv.post('/api/snapshots/', cmdData);\n    };\n\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1375:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashboardSrv\", function() { return DashboardSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model__ = __webpack_require__(1376);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar DashboardSrv = /** @class */ (function () {\r\n    /** @ngInject */\n    DashboardSrv.$inject = [\"backendSrv\", \"$rootScope\", \"$location\"];\r\n    function DashboardSrv(backendSrv, $rootScope, $location) {\r\n        this.backendSrv = backendSrv;\r\n        this.$rootScope = $rootScope;\r\n        this.$location = $location;\r\n    }\r\n    DashboardSrv.prototype.create = function (dashboard, meta) {\r\n        return new __WEBPACK_IMPORTED_MODULE_1__model__[\"a\" /* DashboardModel */](dashboard, meta);\r\n    };\r\n    DashboardSrv.prototype.setCurrent = function (dashboard) {\r\n        this.dash = dashboard;\r\n    };\r\n    DashboardSrv.prototype.getCurrent = function () {\r\n        return this.dash;\r\n    };\r\n    DashboardSrv.prototype.handleSaveDashboardError = function (clone, err) {\r\n        var _this = this;\r\n        if (err.data && err.data.status === \"version-mismatch\") {\r\n            err.isHandled = true;\r\n            this.$rootScope.appEvent('confirm-modal', {\r\n                title: 'Conflict',\r\n                text: 'Someone else has updated this dashboard.',\r\n                text2: 'Would you still like to save this dashboard?',\r\n                yesText: \"Save & Overwrite\",\r\n                icon: \"fa-warning\",\r\n                onConfirm: function () {\r\n                    _this.save(clone, { overwrite: true });\r\n                }\r\n            });\r\n        }\r\n        if (err.data && err.data.status === \"name-exists\") {\r\n            err.isHandled = true;\r\n            this.$rootScope.appEvent('confirm-modal', {\r\n                title: 'Conflict',\r\n                text: 'Dashboard with the same name exists.',\r\n                text2: 'Would you still like to save this dashboard?',\r\n                yesText: \"Save & Overwrite\",\r\n                icon: \"fa-warning\",\r\n                onConfirm: function () {\r\n                    _this.save(clone, { overwrite: true });\r\n                }\r\n            });\r\n        }\r\n        if (err.data && err.data.status === \"plugin-dashboard\") {\r\n            err.isHandled = true;\r\n            this.$rootScope.appEvent('confirm-modal', {\r\n                title: 'Plugin Dashboard',\r\n                text: err.data.message,\r\n                text2: 'Your changes will be lost when you update the plugin. Use Save As to create custom version.',\r\n                yesText: \"Overwrite\",\r\n                icon: \"fa-warning\",\r\n                altActionText: \"Save As\",\r\n                onAltAction: function () {\r\n                    _this.showSaveAsModal();\r\n                },\r\n                onConfirm: function () {\r\n                    _this.save(clone, { overwrite: true });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DashboardSrv.prototype.postSave = function (clone, data) {\r\n        this.dash.version = data.version;\r\n        var dashboardUrl = '/dashboard/db/' + data.slug;\r\n        if (dashboardUrl !== this.$location.path()) {\r\n            this.$location.url(dashboardUrl);\r\n        }\r\n        this.$rootScope.appEvent('dashboard-saved', this.dash);\r\n        this.$rootScope.appEvent('alert-success', ['Dashboard saved']);\r\n    };\r\n    DashboardSrv.prototype.save = function (clone, options) {\r\n        return this.backendSrv.saveDashboard(clone, options)\r\n            .then(this.postSave.bind(this, clone))\r\n            .catch(this.handleSaveDashboardError.bind(this, clone));\r\n    };\r\n    DashboardSrv.prototype.saveDashboard = function (options, clone) {\r\n        if (clone) {\r\n            this.setCurrent(this.create(clone, this.dash.meta));\r\n        }\r\n        if (!this.dash.meta.canSave && options.makeEditable !== true) {\r\n            return Promise.resolve();\r\n        }\r\n        if (this.dash.title === 'New dashboard') {\r\n            return this.showSaveAsModal();\r\n        }\r\n        if (this.dash.version > 0) {\r\n            return this.showSaveModal();\r\n        }\r\n        return this.save(this.dash.getSaveModelClone(), options);\r\n    };\r\n    DashboardSrv.prototype.showSaveAsModal = function () {\r\n        var newScope = this.$rootScope.$new();\r\n        newScope.clone = this.dash.getSaveModelClone();\r\n        newScope.clone.editable = true;\r\n        newScope.clone.hideControls = false;\r\n        this.$rootScope.appEvent('show-modal', {\r\n            templateHtml: '<save-dashboard-as-modal dismiss=\"dismiss()\"></save-dashboard-as-modal>',\r\n            scope: newScope,\r\n            modalClass: 'modal--narrow'\r\n        });\r\n    };\r\n    DashboardSrv.prototype.showSaveModal = function () {\r\n        this.$rootScope.appEvent('show-modal', {\r\n            templateHtml: '<save-dashboard-modal dismiss=\"dismiss()\"></save-dashboard-modal>',\r\n            scope: this.$rootScope.$new(),\r\n            modalClass: 'modal--narrow'\r\n        });\r\n    };\r\n    DashboardSrv.prototype.starDashboard = function (dashboardId, isStarred) {\r\n        var _this = this;\r\n        var promise;\r\n        if (isStarred) {\r\n            promise = this.backendSrv.delete('/api/user/stars/dashboard/' + dashboardId).then(function () {\r\n                return false;\r\n            });\r\n        }\r\n        else {\r\n            promise = this.backendSrv.post('/api/user/stars/dashboard/' + dashboardId).then(function () {\r\n                return true;\r\n            });\r\n        }\r\n        return promise.then(function (res) {\r\n            if (_this.dash && _this.dash.id === dashboardId) {\r\n                _this.dash.meta.isStarred = res;\r\n            }\r\n            return res;\r\n        });\r\n    };\r\n    return DashboardSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].service('dashboardSrv', DashboardSrv);\r\n\n\n/***/ }),\n\n/***/ 1376:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DashboardModel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__row_row_model__ = __webpack_require__(1323);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_core_utils_sort_by_keys__ = __webpack_require__(1377);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DashboardModel = /** @class */ (function () {\r\n    function DashboardModel(data, meta) {\r\n        if (!data) {\r\n            data = {};\r\n        }\r\n        this.events = new __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"Emitter\"]();\r\n        this.id = data.id || null;\r\n        this.revision = data.revision;\r\n        this.title = data.title || 'No Title';\r\n        this.autoUpdate = data.autoUpdate;\r\n        this.description = data.description;\r\n        this.tags = data.tags || [];\r\n        this.style = data.style || \"dark\";\r\n        this.timezone = data.timezone || '';\r\n        this.editable = data.editable !== false;\r\n        this.graphTooltip = data.graphTooltip || 0;\r\n        this.hideControls = data.hideControls || false;\r\n        this.time = data.time || { from: 'now-6h', to: 'now' };\r\n        this.timepicker = data.timepicker || {};\r\n        this.templating = this.ensureListExist(data.templating);\r\n        this.annotations = this.ensureListExist(data.annotations);\r\n        this.refresh = data.refresh;\r\n        this.snapshot = data.snapshot;\r\n        this.schemaVersion = data.schemaVersion || 0;\r\n        this.version = data.version || 0;\r\n        this.links = data.links || [];\r\n        this.gnetId = data.gnetId || null;\r\n        this.rows = [];\r\n        if (data.rows) {\r\n            for (var _i = 0, _a = data.rows; _i < _a.length; _i++) {\r\n                var row = _a[_i];\r\n                this.rows.push(new __WEBPACK_IMPORTED_MODULE_6__row_row_model__[\"a\" /* DashboardRow */](row));\r\n            }\r\n        }\r\n        this.addBuiltInAnnotationQuery();\r\n        this.updateSchema(data);\r\n        this.initMeta(meta);\r\n    }\r\n    DashboardModel.prototype.addBuiltInAnnotationQuery = function () {\r\n        var found = false;\r\n        for (var _i = 0, _a = this.annotations.list; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.builtIn === 1) {\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        if (found) {\r\n            return;\r\n        }\r\n        this.annotations.list.unshift({\r\n            datasource: '-- Grafana --',\r\n            name: 'Annotations & Alerts',\r\n            type: 'dashboard',\r\n            iconColor: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"b\" /* DEFAULT_ANNOTATION_COLOR */],\r\n            enable: true,\r\n            hide: true,\r\n            builtIn: 1,\r\n        });\r\n    };\r\n    DashboardModel.prototype.initMeta = function (meta) {\r\n        meta = meta || {};\r\n        meta.canShare = meta.canShare !== false;\r\n        meta.canSave = meta.canSave !== false;\r\n        meta.canStar = meta.canStar !== false;\r\n        meta.canEdit = meta.canEdit !== false;\r\n        if (!this.editable) {\r\n            meta.canEdit = false;\r\n            meta.canDelete = false;\r\n            meta.canSave = false;\r\n        }\r\n        this.meta = meta;\r\n    };\r\n    // cleans meta data and other non peristent state\r\n    DashboardModel.prototype.getSaveModelClone = function () {\r\n        // temp remove stuff\r\n        var events = this.events;\r\n        var meta = this.meta;\r\n        var rows = this.rows;\r\n        var variables = this.templating.list;\r\n        delete this.events;\r\n        delete this.meta;\r\n        // prepare save model\r\n        this.rows = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(rows, function (row) { return row.getSaveModel(); });\r\n        this.templating.list = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(variables, function (variable) { return variable.getSaveModel ? variable.getSaveModel() : variable; });\r\n        // make clone\r\n        var copy = __WEBPACK_IMPORTED_MODULE_3_jquery___default.a.extend(true, {}, this);\r\n        //  sort clone\r\n        copy = Object(__WEBPACK_IMPORTED_MODULE_7_app_core_utils_sort_by_keys__[\"a\" /* default */])(copy);\r\n        // restore properties\r\n        this.events = events;\r\n        this.meta = meta;\r\n        this.rows = rows;\r\n        this.templating.list = variables;\r\n        return copy;\r\n    };\r\n    DashboardModel.prototype.addEmptyRow = function () {\r\n        this.rows.push(new __WEBPACK_IMPORTED_MODULE_6__row_row_model__[\"a\" /* DashboardRow */]({ isNew: true }));\r\n    };\r\n    DashboardModel.prototype.ensureListExist = function (data) {\r\n        if (!data) {\r\n            data = {};\r\n        }\r\n        if (!data.list) {\r\n            data.list = [];\r\n        }\r\n        return data;\r\n    };\r\n    DashboardModel.prototype.getNextPanelId = function () {\r\n        var i, j, row, panel, max = 0;\r\n        for (i = 0; i < this.rows.length; i++) {\r\n            row = this.rows[i];\r\n            for (j = 0; j < row.panels.length; j++) {\r\n                panel = row.panels[j];\r\n                if (panel.id > max) {\r\n                    max = panel.id;\r\n                }\r\n            }\r\n        }\r\n        return max + 1;\r\n    };\r\n    DashboardModel.prototype.forEachPanel = function (callback) {\r\n        var i, j, row;\r\n        for (i = 0; i < this.rows.length; i++) {\r\n            row = this.rows[i];\r\n            for (j = 0; j < row.panels.length; j++) {\r\n                callback(row.panels[j], j, row, i);\r\n            }\r\n        }\r\n    };\r\n    DashboardModel.prototype.getPanelById = function (id) {\r\n        for (var i = 0; i < this.rows.length; i++) {\r\n            var row = this.rows[i];\r\n            for (var j = 0; j < row.panels.length; j++) {\r\n                var panel = row.panels[j];\r\n                if (panel.id === id) {\r\n                    return panel;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    DashboardModel.prototype.addPanel = function (panel, row) {\r\n        panel.id = this.getNextPanelId();\r\n        row.addPanel(panel);\r\n    };\r\n    DashboardModel.prototype.removeRow = function (row, force) {\r\n        var _this = this;\r\n        var index = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.indexOf(this.rows, row);\r\n        if (!row.panels.length || force) {\r\n            this.rows.splice(index, 1);\r\n            row.destroy();\r\n            return;\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"appEvents\"].emit('confirm-modal', {\r\n            title: 'Remove Row',\r\n            text: 'Are you sure you want to remove this row?',\r\n            icon: 'fa-trash',\r\n            yesText: 'Delete',\r\n            onConfirm: function () {\r\n                _this.rows.splice(index, 1);\r\n                row.destroy();\r\n            }\r\n        });\r\n    };\r\n    DashboardModel.prototype.setPanelFocus = function (id) {\r\n        this.meta.focusPanelId = id;\r\n    };\r\n    DashboardModel.prototype.updateSubmenuVisibility = function () {\r\n        var _this = this;\r\n        this.meta.submenuEnabled = (function () {\r\n            if (_this.links.length > 0) {\r\n                return true;\r\n            }\r\n            var visibleVars = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.filter(_this.templating.list, function (variable) { return variable.hide !== 2; });\r\n            if (visibleVars.length > 0) {\r\n                return true;\r\n            }\r\n            var visibleAnnotations = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.filter(_this.annotations.list, function (annotation) { return annotation.hide !== true; });\r\n            if (visibleAnnotations.length > 0) {\r\n                return true;\r\n            }\r\n            return false;\r\n        })();\r\n    };\r\n    DashboardModel.prototype.getPanelInfoById = function (panelId) {\r\n        var result = {};\r\n        __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(this.rows, function (row) {\r\n            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(row.panels, function (panel, index) {\r\n                if (panel.id === panelId) {\r\n                    result.panel = panel;\r\n                    result.row = row;\r\n                    result.index = index;\r\n                }\r\n            });\r\n        });\r\n        if (!result.panel) {\r\n            return null;\r\n        }\r\n        return result;\r\n    };\r\n    DashboardModel.prototype.duplicatePanel = function (panel, row) {\r\n        var newPanel = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(panel);\r\n        newPanel.id = this.getNextPanelId();\r\n        delete newPanel.repeat;\r\n        delete newPanel.repeatIteration;\r\n        delete newPanel.repeatPanelId;\r\n        delete newPanel.scopedVars;\r\n        if (newPanel.alert) {\r\n            delete newPanel.thresholds;\r\n        }\r\n        delete newPanel.alert;\r\n        row.addPanel(newPanel);\r\n        return newPanel;\r\n    };\r\n    DashboardModel.prototype.formatDate = function (date, format) {\r\n        date = __WEBPACK_IMPORTED_MODULE_1_moment___default.a.isMoment(date) ? date : __WEBPACK_IMPORTED_MODULE_1_moment___default()(date);\r\n        format = format || 'YYYY-MM-DD HH:mm:ss';\r\n        var timezone = this.getTimezone();\r\n        return timezone === 'browser' ?\r\n            __WEBPACK_IMPORTED_MODULE_1_moment___default()(date).format(format) :\r\n            __WEBPACK_IMPORTED_MODULE_1_moment___default.a.utc(date).format(format);\r\n    };\r\n    DashboardModel.prototype.destroy = function () {\r\n        this.events.removeAllListeners();\r\n        for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\r\n            var row = _a[_i];\r\n            row.destroy();\r\n        }\r\n    };\r\n    DashboardModel.prototype.cycleGraphTooltip = function () {\r\n        this.graphTooltip = (this.graphTooltip + 1) % 3;\r\n    };\r\n    DashboardModel.prototype.sharedTooltipModeEnabled = function () {\r\n        return this.graphTooltip > 0;\r\n    };\r\n    DashboardModel.prototype.sharedCrosshairModeOnly = function () {\r\n        return this.graphTooltip === 1;\r\n    };\r\n    DashboardModel.prototype.getRelativeTime = function (date) {\r\n        date = __WEBPACK_IMPORTED_MODULE_1_moment___default.a.isMoment(date) ? date : __WEBPACK_IMPORTED_MODULE_1_moment___default()(date);\r\n        return this.timezone === 'browser' ?\r\n            __WEBPACK_IMPORTED_MODULE_1_moment___default()(date).fromNow() :\r\n            __WEBPACK_IMPORTED_MODULE_1_moment___default.a.utc(date).fromNow();\r\n    };\r\n    DashboardModel.prototype.getNextQueryLetter = function (panel) {\r\n        var letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n        return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.find(letters, function (refId) {\r\n            return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.every(panel.targets, function (other) {\r\n                return other.refId !== refId;\r\n            });\r\n        });\r\n    };\r\n    DashboardModel.prototype.isTimezoneUtc = function () {\r\n        return this.getTimezone() === 'utc';\r\n    };\r\n    DashboardModel.prototype.getTimezone = function () {\r\n        return this.timezone ? this.timezone : __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"contextSrv\"].user.timezone;\r\n    };\r\n    DashboardModel.prototype.updateSchema = function (old) {\r\n        var i, j, k;\r\n        var oldVersion = this.schemaVersion;\r\n        var panelUpgrades = [];\r\n        this.schemaVersion = 14;\r\n        if (oldVersion === this.schemaVersion) {\r\n            return;\r\n        }\r\n        // version 2 schema changes\r\n        if (oldVersion < 2) {\r\n            if (old.services) {\r\n                if (old.services.filter) {\r\n                    this.time = old.services.filter.time;\r\n                    this.templating.list = old.services.filter.list || [];\r\n                }\r\n            }\r\n            panelUpgrades.push(function (panel) {\r\n                // rename panel type\r\n                if (panel.type === 'graphite') {\r\n                    panel.type = 'graph';\r\n                }\r\n                if (panel.type !== 'graph') {\r\n                    return;\r\n                }\r\n                if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isBoolean(panel.legend)) {\r\n                    panel.legend = { show: panel.legend };\r\n                }\r\n                if (panel.grid) {\r\n                    if (panel.grid.min) {\r\n                        panel.grid.leftMin = panel.grid.min;\r\n                        delete panel.grid.min;\r\n                    }\r\n                    if (panel.grid.max) {\r\n                        panel.grid.leftMax = panel.grid.max;\r\n                        delete panel.grid.max;\r\n                    }\r\n                }\r\n                if (panel.y_format) {\r\n                    panel.y_formats[0] = panel.y_format;\r\n                    delete panel.y_format;\r\n                }\r\n                if (panel.y2_format) {\r\n                    panel.y_formats[1] = panel.y2_format;\r\n                    delete panel.y2_format;\r\n                }\r\n            });\r\n        }\r\n        // schema version 3 changes\r\n        if (oldVersion < 3) {\r\n            // ensure panel ids\r\n            var maxId = this.getNextPanelId();\r\n            panelUpgrades.push(function (panel) {\r\n                if (!panel.id) {\r\n                    panel.id = maxId;\r\n                    maxId += 1;\r\n                }\r\n            });\r\n        }\r\n        // schema version 4 changes\r\n        if (oldVersion < 4) {\r\n            // move aliasYAxis changes\r\n            panelUpgrades.push(function (panel) {\r\n                if (panel.type !== 'graph') {\r\n                    return;\r\n                }\r\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(panel.aliasYAxis, function (value, key) {\r\n                    panel.seriesOverrides = [{ alias: key, yaxis: value }];\r\n                });\r\n                delete panel.aliasYAxis;\r\n            });\r\n        }\r\n        if (oldVersion < 6) {\r\n            // move pulldowns to new schema\r\n            var annotations = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.find(old.pulldowns, { type: 'annotations' });\r\n            if (annotations) {\r\n                this.annotations = {\r\n                    list: annotations.annotations || [],\r\n                };\r\n            }\r\n            // update template variables\r\n            for (i = 0; i < this.templating.list.length; i++) {\r\n                var variable = this.templating.list[i];\r\n                if (variable.datasource === void 0) {\r\n                    variable.datasource = null;\r\n                }\r\n                if (variable.type === 'filter') {\r\n                    variable.type = 'query';\r\n                }\r\n                if (variable.type === void 0) {\r\n                    variable.type = 'query';\r\n                }\r\n                if (variable.allFormat === void 0) {\r\n                    variable.allFormat = 'glob';\r\n                }\r\n            }\r\n        }\r\n        if (oldVersion < 7) {\r\n            if (old.nav && old.nav.length) {\r\n                this.timepicker = old.nav[0];\r\n            }\r\n            // ensure query refIds\r\n            panelUpgrades.push(function (panel) {\r\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(panel.targets, function (target) {\r\n                    if (!target.refId) {\r\n                        target.refId = this.getNextQueryLetter(panel);\r\n                    }\r\n                }.bind(this));\r\n            });\r\n        }\r\n        if (oldVersion < 8) {\r\n            panelUpgrades.push(function (panel) {\r\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(panel.targets, function (target) {\r\n                    // update old influxdb query schema\r\n                    if (target.fields && target.tags && target.groupBy) {\r\n                        if (target.rawQuery) {\r\n                            delete target.fields;\r\n                            delete target.fill;\r\n                        }\r\n                        else {\r\n                            target.select = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(target.fields, function (field) {\r\n                                var parts = [];\r\n                                parts.push({ type: 'field', params: [field.name] });\r\n                                parts.push({ type: field.func, params: [] });\r\n                                if (field.mathExpr) {\r\n                                    parts.push({ type: 'math', params: [field.mathExpr] });\r\n                                }\r\n                                if (field.asExpr) {\r\n                                    parts.push({ type: 'alias', params: [field.asExpr] });\r\n                                }\r\n                                return parts;\r\n                            });\r\n                            delete target.fields;\r\n                            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(target.groupBy, function (part) {\r\n                                if (part.type === 'time' && part.interval) {\r\n                                    part.params = [part.interval];\r\n                                    delete part.interval;\r\n                                }\r\n                                if (part.type === 'tag' && part.key) {\r\n                                    part.params = [part.key];\r\n                                    delete part.key;\r\n                                }\r\n                            });\r\n                            if (target.fill) {\r\n                                target.groupBy.push({ type: 'fill', params: [target.fill] });\r\n                                delete target.fill;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        // schema version 9 changes\r\n        if (oldVersion < 9) {\r\n            // move aliasYAxis changes\r\n            panelUpgrades.push(function (panel) {\r\n                if (panel.type !== 'singlestat' && panel.thresholds !== \"\") {\r\n                    return;\r\n                }\r\n                if (panel.thresholds) {\r\n                    var k = panel.thresholds.split(\",\");\r\n                    if (k.length >= 3) {\r\n                        k.shift();\r\n                        panel.thresholds = k.join(\",\");\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        // schema version 10 changes\r\n        if (oldVersion < 10) {\r\n            // move aliasYAxis changes\r\n            panelUpgrades.push(function (panel) {\r\n                if (panel.type !== 'table') {\r\n                    return;\r\n                }\r\n                __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(panel.styles, function (style) {\r\n                    if (style.thresholds && style.thresholds.length >= 3) {\r\n                        var k = style.thresholds;\r\n                        k.shift();\r\n                        style.thresholds = k;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        if (oldVersion < 12) {\r\n            // update template variables\r\n            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(this.templating.list, function (templateVariable) {\r\n                if (templateVariable.refresh) {\r\n                    templateVariable.refresh = 1;\r\n                }\r\n                if (!templateVariable.refresh) {\r\n                    templateVariable.refresh = 0;\r\n                }\r\n                if (templateVariable.hideVariable) {\r\n                    templateVariable.hide = 2;\r\n                }\r\n                else if (templateVariable.hideLabel) {\r\n                    templateVariable.hide = 1;\r\n                }\r\n            });\r\n        }\r\n        if (oldVersion < 12) {\r\n            // update graph yaxes changes\r\n            panelUpgrades.push(function (panel) {\r\n                if (panel.type !== 'graph') {\r\n                    return;\r\n                }\r\n                if (!panel.grid) {\r\n                    return;\r\n                }\r\n                if (!panel.yaxes) {\r\n                    panel.yaxes = [\r\n                        {\r\n                            show: panel['y-axis'],\r\n                            min: panel.grid.leftMin,\r\n                            max: panel.grid.leftMax,\r\n                            logBase: panel.grid.leftLogBase,\r\n                            format: panel.y_formats[0],\r\n                            label: panel.leftYAxisLabel,\r\n                        },\r\n                        {\r\n                            show: panel['y-axis'],\r\n                            min: panel.grid.rightMin,\r\n                            max: panel.grid.rightMax,\r\n                            logBase: panel.grid.rightLogBase,\r\n                            format: panel.y_formats[1],\r\n                            label: panel.rightYAxisLabel,\r\n                        }\r\n                    ];\r\n                    panel.xaxis = {\r\n                        show: panel['x-axis'],\r\n                    };\r\n                    delete panel.grid.leftMin;\r\n                    delete panel.grid.leftMax;\r\n                    delete panel.grid.leftLogBase;\r\n                    delete panel.grid.rightMin;\r\n                    delete panel.grid.rightMax;\r\n                    delete panel.grid.rightLogBase;\r\n                    delete panel.y_formats;\r\n                    delete panel.leftYAxisLabel;\r\n                    delete panel.rightYAxisLabel;\r\n                    delete panel['y-axis'];\r\n                    delete panel['x-axis'];\r\n                }\r\n            });\r\n        }\r\n        if (oldVersion < 13) {\r\n            // update graph yaxes changes\r\n            panelUpgrades.push(function (panel) {\r\n                if (panel.type !== 'graph') {\r\n                    return;\r\n                }\r\n                if (!panel.grid) {\r\n                    return;\r\n                }\r\n                panel.thresholds = [];\r\n                var t1 = {}, t2 = {};\r\n                if (panel.grid.threshold1 !== null) {\r\n                    t1.value = panel.grid.threshold1;\r\n                    if (panel.grid.thresholdLine) {\r\n                        t1.line = true;\r\n                        t1.lineColor = panel.grid.threshold1Color;\r\n                        t1.colorMode = 'custom';\r\n                    }\r\n                    else {\r\n                        t1.fill = true;\r\n                        t1.fillColor = panel.grid.threshold1Color;\r\n                        t1.colorMode = 'custom';\r\n                    }\r\n                }\r\n                if (panel.grid.threshold2 !== null) {\r\n                    t2.value = panel.grid.threshold2;\r\n                    if (panel.grid.thresholdLine) {\r\n                        t2.line = true;\r\n                        t2.lineColor = panel.grid.threshold2Color;\r\n                        t2.colorMode = 'custom';\r\n                    }\r\n                    else {\r\n                        t2.fill = true;\r\n                        t2.fillColor = panel.grid.threshold2Color;\r\n                        t2.colorMode = 'custom';\r\n                    }\r\n                }\r\n                if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isNumber(t1.value)) {\r\n                    if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isNumber(t2.value)) {\r\n                        if (t1.value > t2.value) {\r\n                            t1.op = t2.op = 'lt';\r\n                            panel.thresholds.push(t1);\r\n                            panel.thresholds.push(t2);\r\n                        }\r\n                        else {\r\n                            t1.op = t2.op = 'gt';\r\n                            panel.thresholds.push(t1);\r\n                            panel.thresholds.push(t2);\r\n                        }\r\n                    }\r\n                    else {\r\n                        t1.op = 'gt';\r\n                        panel.thresholds.push(t1);\r\n                    }\r\n                }\r\n                delete panel.grid.threshold1;\r\n                delete panel.grid.threshold1Color;\r\n                delete panel.grid.threshold2;\r\n                delete panel.grid.threshold2Color;\r\n                delete panel.grid.thresholdLine;\r\n            });\r\n        }\r\n        if (oldVersion < 14) {\r\n            this.graphTooltip = old.sharedCrosshair ? 1 : 0;\r\n        }\r\n        if (panelUpgrades.length === 0) {\r\n            return;\r\n        }\r\n        for (i = 0; i < this.rows.length; i++) {\r\n            var row = this.rows[i];\r\n            for (j = 0; j < row.panels.length; j++) {\r\n                for (k = 0; k < panelUpgrades.length; k++) {\r\n                    panelUpgrades[k].call(this, row.panels[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return DashboardModel;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1377:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = sortByKeys;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nfunction sortByKeys(input) {\r\n    if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(input)) {\r\n        return input.map(sortByKeys);\r\n    }\r\n    if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isPlainObject(input)) {\r\n        var sortedObject = {};\r\n        for (var _i = 0, _a = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keys(input).sort(); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            sortedObject[key] = sortByKeys(input[key]);\r\n        }\r\n        return sortedObject;\r\n    }\r\n    return input;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1378:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(13),\n  __webpack_require__(27)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, $, config) {\n  'use strict';\n\n  config = config.default;\n  var module = angular.module('grafana.services');\n\n  module.factory('dashboardViewStateSrv', [\"$location\", \"$timeout\", function($location, $timeout) {\n\n    // represents the transient view state\n    // like fullscreen panel & edit\n    function DashboardViewState($scope) {\n      var self = this;\n      self.state = {};\n      self.panelScopes = [];\n      self.$scope = $scope;\n      self.dashboard = $scope.dashboard;\n\n      $scope.onAppEvent('$routeUpdate', function() {\n        var urlState = self.getQueryStringState();\n        if (self.needsSync(urlState)) {\n          self.update(urlState, true);\n        }\n      });\n\n      $scope.onAppEvent('panel-change-view', function(evt, payload) {\n        self.update(payload);\n      });\n\n      $scope.onAppEvent('panel-initialized', function(evt, payload) {\n        self.registerPanel(payload.scope);\n      });\n\n      // this marks changes to location during this digest cycle as not to add history item\n      // dont want url changes like adding orgId to add browser history\n      $location.replace();\n      this.update(this.getQueryStringState());\n      this.expandRowForPanel();\n    }\n\n    DashboardViewState.prototype.expandRowForPanel = function() {\n      if (!this.state.panelId) { return; }\n\n      var panelInfo = this.$scope.dashboard.getPanelInfoById(this.state.panelId);\n      if (panelInfo) {\n        panelInfo.row.collapse = false;\n      }\n    };\n\n    DashboardViewState.prototype.needsSync = function(urlState) {\n      return _.isEqual(this.state, urlState) === false;\n    };\n\n    DashboardViewState.prototype.getQueryStringState = function() {\n      var state = $location.search();\n      state.panelId = parseInt(state.panelId) || null;\n      state.fullscreen = state.fullscreen ? true : null;\n      state.edit =  (state.edit === \"true\" || state.edit === true) || null;\n      state.editview = state.editview || null;\n      state.orgId = config.bootData.user.orgId;\n      return state;\n    };\n\n    DashboardViewState.prototype.serializeToUrl = function() {\n      var urlState = _.clone(this.state);\n      urlState.fullscreen = this.state.fullscreen ? true : null;\n      urlState.edit = this.state.edit ? true : null;\n      return urlState;\n    };\n\n    DashboardViewState.prototype.update = function(state, fromRouteUpdated) {\n      // implement toggle logic\n      if (state.toggle) {\n        delete state.toggle;\n        if (this.state.fullscreen && state.fullscreen) {\n          if (this.state.edit === state.edit) {\n            state.fullscreen = !state.fullscreen;\n          }\n        }\n      }\n\n      // remember if editStateChanged\n      this.editStateChanged = state.edit !== this.state.edit;\n\n      _.extend(this.state, state);\n      this.dashboard.meta.fullscreen = this.state.fullscreen;\n\n      if (!this.state.fullscreen) {\n        this.state.fullscreen = null;\n        this.state.edit = null;\n        // clear panel id unless in solo mode\n        if (!this.dashboard.meta.soloMode) {\n          this.state.panelId = null;\n        }\n      }\n\n      // if no edit state cleanup tab parm\n      if (!this.state.edit) {\n        delete this.state.tab;\n      }\n\n      // do not update url params if we are here\n      // from routeUpdated event\n      if (fromRouteUpdated !== true) {\n        $location.search(this.serializeToUrl());\n      }\n\n      this.syncState();\n    };\n\n    DashboardViewState.prototype.syncState = function() {\n      if (this.panelScopes.length === 0) { return; }\n\n      if (this.dashboard.meta.fullscreen) {\n        var panelScope = this.getPanelScope(this.state.panelId);\n        if (!panelScope) {\n          return;\n        }\n\n        if (this.fullscreenPanel) {\n          // if already fullscreen\n          if (this.fullscreenPanel === panelScope && this.editStateChanged === false) {\n            return;\n          } else {\n            this.leaveFullscreen(false);\n          }\n        }\n\n        if (!panelScope.ctrl.editModeInitiated) {\n          panelScope.ctrl.initEditMode();\n        }\n\n        if (!panelScope.ctrl.fullscreen) {\n          this.enterFullscreen(panelScope);\n        }\n      } else if (this.fullscreenPanel) {\n        this.leaveFullscreen(true);\n      }\n    };\n\n    DashboardViewState.prototype.getPanelScope = function(id) {\n      return _.find(this.panelScopes, function(panelScope) {\n        return panelScope.ctrl.panel.id === id;\n      });\n    };\n\n    DashboardViewState.prototype.leaveFullscreen = function(render) {\n      var self = this;\n      var ctrl = self.fullscreenPanel.ctrl;\n\n      ctrl.editMode = false;\n      ctrl.fullscreen = false;\n\n      this.$scope.appEvent('panel-fullscreen-exit', {panelId: ctrl.panel.id});\n\n      if (!render) { return false;}\n\n      $timeout(function() {\n        if (self.oldTimeRange !== ctrl.range) {\n          self.$scope.broadcastRefresh();\n        } else {\n          self.$scope.$broadcast('render');\n        }\n        delete self.fullscreenPanel;\n      });\n    };\n\n    DashboardViewState.prototype.enterFullscreen = function(panelScope) {\n      var ctrl = panelScope.ctrl;\n\n      ctrl.editMode = this.state.edit && this.dashboard.meta.canEdit;\n      ctrl.fullscreen = true;\n\n      this.oldTimeRange = ctrl.range;\n      this.fullscreenPanel = panelScope;\n\n      $(window).scrollTop(0);\n\n      this.$scope.appEvent('panel-fullscreen-enter', {panelId: ctrl.panel.id});\n\n      $timeout(function() {\n        ctrl.render();\n      });\n    };\n\n    DashboardViewState.prototype.registerPanel = function(panelScope) {\n      var self = this;\n      self.panelScopes.push(panelScope);\n\n      if (!self.dashboard.meta.soloMode) {\n        if (self.state.panelId === panelScope.ctrl.panel.id) {\n          if (self.state.edit) {\n            panelScope.ctrl.editPanel();\n          } else {\n            panelScope.ctrl.viewPanel();\n          }\n        }\n      }\n\n      var unbind = panelScope.$on('$destroy', function() {\n        self.panelScopes = _.without(self.panelScopes, panelScope);\n        unbind();\n      });\n    };\n\n    return {\n      create: function($scope) {\n        return new DashboardViewState($scope);\n      }\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1379:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlertingSrv\", function() { return AlertingSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar AlertingSrv = /** @class */ (function () {\r\n    function AlertingSrv() {\r\n    }\r\n    AlertingSrv.prototype.init = function (dashboard, alerts) {\r\n        this.dashboard = dashboard;\r\n        this.alerts = alerts || [];\r\n    };\r\n    return AlertingSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].service('alertingSrv', AlertingSrv);\r\n\n\n/***/ }),\n\n/***/ 1380:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function(angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.services');\n\n  module.service('unsavedChangesSrv', [\"$rootScope\", \"$q\", \"$location\", \"$timeout\", \"contextSrv\", \"dashboardSrv\", \"$window\", function($rootScope, $q, $location, $timeout, contextSrv, dashboardSrv, $window) {\n\n    function Tracker(dashboard, scope, originalCopyDelay) {\n      var self = this;\n\n      this.current = dashboard;\n      this.originalPath = $location.path();\n      this.scope = scope;\n\n      // register events\n      scope.onAppEvent('dashboard-saved', function() {\n        this.original = this.current.getSaveModelClone();\n        this.originalPath = $location.path();\n      }.bind(this));\n\n      $window.onbeforeunload = function() {\n        if (self.ignoreChanges()) { return; }\n        if (self.hasChanges()) {\n          return \"There are unsaved changes to this dashboard\";\n        }\n      };\n\n      scope.$on(\"$locationChangeStart\", function(event, next) {\n        // check if we should look for changes\n        if (self.originalPath === $location.path()) { return true; }\n        if (self.ignoreChanges()) { return true; }\n\n        if (self.hasChanges()) {\n          event.preventDefault();\n          self.next = next;\n\n          $timeout(function() {\n            self.open_modal();\n          });\n        }\n      });\n\n      if (originalCopyDelay) {\n        $timeout(function() {\n          // wait for different services to patch the dashboard (missing properties)\n          self.original = dashboard.getSaveModelClone();\n        }, originalCopyDelay);\n      } else {\n        self.original = dashboard.getSaveModelClone();\n      }\n    }\n\n    var p = Tracker.prototype;\n\n    // for some dashboards and users\n    // changes should be ignored\n    p.ignoreChanges = function() {\n      if (!this.original) { return true; }\n      if (!contextSrv.isEditor) { return true; }\n      if (!this.current || !this.current.meta) { return true; }\n\n      var meta = this.current.meta;\n      return !meta.canSave || meta.fromScript || meta.fromFile;\n    };\n\n    // remove stuff that should not count in diff\n    p.cleanDashboardFromIgnoredChanges = function(dash) {\n      // ignore time and refresh\n      dash.time = 0;\n      dash.refresh = 0;\n      dash.schemaVersion = 0;\n\n      // filter row and panels properties that should be ignored\n      dash.rows = _.filter(dash.rows, function(row) {\n        if (row.repeatRowId) {\n          return false;\n        }\n\n        row.panels = _.filter(row.panels, function(panel) {\n          if (panel.repeatPanelId) {\n            return false;\n          }\n\n          // remove scopedVars\n          panel.scopedVars = null;\n\n          // ignore span changes\n          panel.span = null;\n\n          // ignore panel legend sort\n          if (panel.legend)  {\n            delete panel.legend.sort;\n            delete panel.legend.sortDesc;\n          }\n\n          return true;\n        });\n\n        // ignore collapse state\n        row.collapse = false;\n        return true;\n      });\n\n      // ignore template variable values\n      _.each(dash.templating.list, function(value) {\n        value.current = null;\n        value.options = null;\n        value.filters = null;\n      });\n    };\n\n    p.hasChanges = function() {\n      var current = this.current.getSaveModelClone();\n      var original = this.original;\n\n      this.cleanDashboardFromIgnoredChanges(current);\n      this.cleanDashboardFromIgnoredChanges(original);\n\n      var currentTimepicker = _.find(current.nav, { type: 'timepicker' });\n      var originalTimepicker = _.find(original.nav, { type: 'timepicker' });\n\n      if (currentTimepicker && originalTimepicker) {\n        currentTimepicker.now = originalTimepicker.now;\n      }\n\n      var currentJson = angular.toJson(current);\n      var originalJson = angular.toJson(original);\n\n      return currentJson !== originalJson;\n    };\n\n    p.discardChanges = function() {\n      this.original = null;\n      this.gotoNext();\n    };\n\n    p.open_modal = function() {\n      $rootScope.appEvent('show-modal', {\n        templateHtml: '<unsaved-changes-modal dismiss=\"dismiss()\"></unsaved-changes-modal>',\n        modalClass: 'modal--narrow confirm-modal'\n      });\n    };\n\n    p.saveChanges = function() {\n      var self = this;\n      var cancel = $rootScope.$on('dashboard-saved', function() {\n        cancel();\n        $timeout(function() {\n          self.gotoNext();\n        });\n      });\n\n      $rootScope.appEvent('save-dashboard');\n    };\n\n    p.gotoNext = function() {\n      var baseLen = $location.absUrl().length - $location.url().length;\n      var nextUrl = this.next.substring(baseLen);\n      $location.url(nextUrl);\n    };\n\n    this.Tracker = Tracker;\n    this.init = function(dashboard, scope) {\n      this.tracker = new Tracker(dashboard, scope, 1000);\n      return this.tracker;\n    };\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1381:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnsavedChangesModalCtrl\", function() { return UnsavedChangesModalCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"unsavedChangesModalDirective\"] = unsavedChangesModalDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar template = \"\\n<div class=\\\"modal-body\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h2 class=\\\"modal-header-title\\\">\\n      <i class=\\\"fa fa-exclamation\\\"></i>\\n      <span class=\\\"p-l-1\\\">Unsaved changes</span>\\n    </h2>\\n\\n    <a class=\\\"modal-header-close\\\" ng-click=\\\"ctrl.dismiss();\\\">\\n      <i class=\\\"fa fa-remove\\\"></i>\\n    </a>\\n  </div>\\n\\n  <div class=\\\"modal-content text-center\\\">\\n\\n    <div class=\\\"confirm-modal-text\\\">\\n      Do you want to save your changes?\\n    </div>\\n\\n    <div class=\\\"confirm-modal-buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-inverse\\\" ng-click=\\\"ctrl.dismiss()\\\">Cancel</button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" ng-click=\\\"ctrl.discard()\\\">Discard</button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-success\\\" ng-click=\\\"ctrl.save()\\\">Save</button>\\n    </div>\\n  </div>\\n</div>\\n\";\r\nvar UnsavedChangesModalCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    UnsavedChangesModalCtrl.$inject = [\"unsavedChangesSrv\"];\r\n    function UnsavedChangesModalCtrl(unsavedChangesSrv) {\r\n        this.unsavedChangesSrv = unsavedChangesSrv;\r\n    }\r\n    UnsavedChangesModalCtrl.prototype.discard = function () {\r\n        this.dismiss();\r\n        this.unsavedChangesSrv.tracker.discardChanges();\r\n    };\r\n    UnsavedChangesModalCtrl.prototype.save = function () {\r\n        this.dismiss();\r\n        this.unsavedChangesSrv.tracker.saveChanges();\r\n    };\r\n    return UnsavedChangesModalCtrl;\r\n}());\r\n\r\nfunction unsavedChangesModalDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: UnsavedChangesModalCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: { dismiss: \"&\" }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('unsavedChangesModal', unsavedChangesModalDirective);\r\n\n\n/***/ }),\n\n/***/ 1382:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TimePickerCtrl\", function() { return TimePickerCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"settingsDirective\"] = settingsDirective;\n/* harmony export (immutable) */ __webpack_exports__[\"timePickerDirective\"] = timePickerDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_utils_rangeutil__ = __webpack_require__(471);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__input_date__ = __webpack_require__(1383);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\nvar TimePickerCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    TimePickerCtrl.$inject = [\"$scope\", \"$rootScope\", \"timeSrv\"];\r\n    function TimePickerCtrl($scope, $rootScope, timeSrv) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.$rootScope = $rootScope;\r\n        this.timeSrv = timeSrv;\r\n        $scope.ctrl = this;\r\n        $rootScope.onAppEvent('shift-time-forward', function () { return _this.move(1); }, $scope);\r\n        $rootScope.onAppEvent('shift-time-backward', function () { return _this.move(-1); }, $scope);\r\n        $rootScope.onAppEvent('refresh', this.onRefresh.bind(this), $scope);\r\n        // init options\r\n        this.panel = this.dashboard.timepicker;\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(this.panel, TimePickerCtrl.defaults);\r\n        this.firstDayOfWeek = __WEBPACK_IMPORTED_MODULE_2_moment___default.a.localeData().firstDayOfWeek();\r\n        // init time stuff\r\n        this.onRefresh();\r\n    }\r\n    TimePickerCtrl.prototype.onRefresh = function () {\r\n        var time = __WEBPACK_IMPORTED_MODULE_1_angular___default.a.copy(this.timeSrv.timeRange());\r\n        var timeRaw = __WEBPACK_IMPORTED_MODULE_1_angular___default.a.copy(time.raw);\r\n        if (!this.dashboard.isTimezoneUtc()) {\r\n            time.from.local();\r\n            time.to.local();\r\n            if (__WEBPACK_IMPORTED_MODULE_2_moment___default.a.isMoment(timeRaw.from)) {\r\n                timeRaw.from.local();\r\n            }\r\n            if (__WEBPACK_IMPORTED_MODULE_2_moment___default.a.isMoment(timeRaw.to)) {\r\n                timeRaw.to.local();\r\n            }\r\n            this.isUtc = false;\r\n        }\r\n        else {\r\n            this.isUtc = true;\r\n        }\r\n        this.rangeString = __WEBPACK_IMPORTED_MODULE_3_app_core_utils_rangeutil__[\"b\" /* describeTimeRange */](timeRaw);\r\n        this.absolute = { fromJs: time.from.toDate(), toJs: time.to.toDate() };\r\n        this.tooltip = this.dashboard.formatDate(time.from) + ' <br>to<br>';\r\n        this.tooltip += this.dashboard.formatDate(time.to);\r\n        this.timeRaw = timeRaw;\r\n    };\r\n    TimePickerCtrl.prototype.zoom = function (factor) {\r\n        this.$rootScope.appEvent('zoom-out', 2);\r\n    };\r\n    TimePickerCtrl.prototype.move = function (direction) {\r\n        var range = this.timeSrv.timeRange();\r\n        var timespan = (range.to.valueOf() - range.from.valueOf()) / 2;\r\n        var to, from;\r\n        if (direction === -1) {\r\n            to = range.to.valueOf() - timespan;\r\n            from = range.from.valueOf() - timespan;\r\n        }\r\n        else if (direction === 1) {\r\n            to = range.to.valueOf() + timespan;\r\n            from = range.from.valueOf() + timespan;\r\n            if (to > Date.now() && range.to < Date.now()) {\r\n                to = Date.now();\r\n                from = range.from.valueOf();\r\n            }\r\n        }\r\n        else {\r\n            to = range.to.valueOf();\r\n            from = range.from.valueOf();\r\n        }\r\n        this.timeSrv.setTime({ from: __WEBPACK_IMPORTED_MODULE_2_moment___default.a.utc(from), to: __WEBPACK_IMPORTED_MODULE_2_moment___default.a.utc(to) });\r\n    };\r\n    TimePickerCtrl.prototype.openDropdown = function () {\r\n        this.onRefresh();\r\n        this.editTimeRaw = this.timeRaw;\r\n        this.timeOptions = __WEBPACK_IMPORTED_MODULE_3_app_core_utils_rangeutil__[\"c\" /* getRelativeTimesList */](this.panel, this.rangeString);\r\n        this.refresh = {\r\n            value: this.dashboard.refresh,\r\n            options: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.panel.refresh_intervals, function (interval) {\r\n                return { text: interval, value: interval };\r\n            })\r\n        };\r\n        this.refresh.options.unshift({ text: 'off' });\r\n        this.$rootScope.appEvent('show-dash-editor', {\r\n            editview: 'timepicker',\r\n            scope: this.$scope,\r\n            cssClass: 'gf-timepicker-dropdown',\r\n        });\r\n    };\r\n    TimePickerCtrl.prototype.applyCustom = function () {\r\n        if (this.refresh.value !== this.dashboard.refresh) {\r\n            this.timeSrv.setAutoRefresh(this.refresh.value);\r\n        }\r\n        this.timeSrv.setTime(this.editTimeRaw);\r\n        this.$rootScope.appEvent('hide-dash-editor');\r\n    };\r\n    TimePickerCtrl.prototype.absoluteFromChanged = function () {\r\n        this.editTimeRaw.from = this.getAbsoluteMomentForTimezone(this.absolute.fromJs);\r\n    };\r\n    TimePickerCtrl.prototype.absoluteToChanged = function () {\r\n        this.editTimeRaw.to = this.getAbsoluteMomentForTimezone(this.absolute.toJs);\r\n    };\r\n    TimePickerCtrl.prototype.getAbsoluteMomentForTimezone = function (jsDate) {\r\n        return this.dashboard.isTimezoneUtc() ? __WEBPACK_IMPORTED_MODULE_2_moment___default()(jsDate).utc() : __WEBPACK_IMPORTED_MODULE_2_moment___default()(jsDate);\r\n    };\r\n    TimePickerCtrl.prototype.setRelativeFilter = function (timespan) {\r\n        var range = { from: timespan.from, to: timespan.to };\r\n        if (this.panel.nowDelay && range.to === 'now') {\r\n            range.to = 'now-' + this.panel.nowDelay;\r\n        }\r\n        this.timeSrv.setTime(range);\r\n        this.$rootScope.appEvent('hide-dash-editor');\r\n    };\r\n    TimePickerCtrl.tooltipFormat = 'MMM D, YYYY HH:mm:ss';\r\n    TimePickerCtrl.defaults = {\r\n        time_options: ['5m', '15m', '1h', '6h', '12h', '24h', '2d', '7d', '30d'],\r\n        refresh_intervals: ['5s', '10s', '30s', '1m', '5m', '15m', '30m', '1h', '2h', '1d'],\r\n    };\r\n    return TimePickerCtrl;\r\n}());\r\n\r\nfunction settingsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/timepicker/settings.html',\r\n        controller: TimePickerCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            dashboard: \"=\"\r\n        }\r\n    };\r\n}\r\nfunction timePickerDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/timepicker/timepicker.html',\r\n        controller: TimePickerCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            dashboard: \"=\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_1_angular___default.a.module('grafana.directives').directive('gfTimePickerSettings', settingsDirective);\r\n__WEBPACK_IMPORTED_MODULE_1_angular___default.a.module('grafana.directives').directive('gfTimePicker', timePickerDirective);\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_angular___default.a.module(\"grafana.directives\").directive('inputDatetime', __WEBPACK_IMPORTED_MODULE_4__input_date__[\"a\" /* inputDateDirective */]);\r\n\n\n/***/ }),\n\n/***/ 1383:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = inputDateDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__ = __webpack_require__(467);\n\r\n\r\nfunction inputDateDirective() {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function ($scope, $elem, attrs, ngModel) {\r\n            var format = 'YYYY-MM-DD HH:mm:ss';\r\n            var fromUser = function (text) {\r\n                if (text.indexOf('now') !== -1) {\r\n                    if (!__WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__[\"isValid\"](text)) {\r\n                        ngModel.$setValidity('error', false);\r\n                        return undefined;\r\n                    }\r\n                    ngModel.$setValidity('error', true);\r\n                    return text;\r\n                }\r\n                var parsed;\r\n                if ($scope.ctrl.isUtc) {\r\n                    parsed = __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc(text, format);\r\n                }\r\n                else {\r\n                    parsed = __WEBPACK_IMPORTED_MODULE_0_moment___default()(text, format);\r\n                }\r\n                if (!parsed.isValid()) {\r\n                    ngModel.$setValidity('error', false);\r\n                    return undefined;\r\n                }\r\n                ngModel.$setValidity('error', true);\r\n                return parsed;\r\n            };\r\n            var toUser = function (currentValue) {\r\n                if (__WEBPACK_IMPORTED_MODULE_0_moment___default.a.isMoment(currentValue)) {\r\n                    return currentValue.format(format);\r\n                }\r\n                else {\r\n                    return currentValue;\r\n                }\r\n            };\r\n            ngModel.$parsers.push(fromUser);\r\n            ngModel.$formatters.push(toUser);\r\n        },\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1384:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nuploadDashboardDirective.$inject = [\"timer\", \"alertSrv\", \"$location\"];\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar template = \"\\n<input type=\\\"file\\\" id=\\\"dashupload\\\" name=\\\"dashupload\\\" class=\\\"hide\\\"/>\\n<label class=\\\"btn btn-secondary\\\" for=\\\"dashupload\\\">\\n  <i class=\\\"fa fa-upload\\\"></i>\\n  Upload .json File\\n</label>\\n\";\r\n/** @ngInject */\r\nfunction uploadDashboardDirective(timer, alertSrv, $location) {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        scope: {\r\n            onUpload: '&',\r\n        },\r\n        link: function (scope) {\r\n            function file_selected(evt) {\r\n                var files = evt.target.files; // FileList object\r\n                var readerOnload = function () {\r\n                    return function (e) {\r\n                        var dash;\r\n                        try {\r\n                            dash = JSON.parse(e.target.result);\r\n                        }\r\n                        catch (err) {\r\n                            console.log(err);\r\n                            scope.appEvent('alert-error', ['Import failed', 'JSON -> JS Serialization failed: ' + err.message]);\r\n                            return;\r\n                        }\r\n                        scope.$apply(function () {\r\n                            scope.onUpload({ dash: dash });\r\n                        });\r\n                    };\r\n                };\r\n                for (var i = 0, f; f = files[i]; i++) {\r\n                    var reader = new FileReader();\r\n                    reader.onload = readerOnload();\r\n                    reader.readAsText(f);\r\n                }\r\n            }\r\n            var wnd = window;\r\n            // Check for the various File API support.\r\n            if (wnd.File && wnd.FileReader && wnd.FileList && wnd.Blob) {\r\n                // Something\r\n                document.getElementById('dashupload').addEventListener('change', file_selected, false);\r\n            }\r\n            else {\r\n                alertSrv.set('Oops', 'Sorry, the HTML5 File APIs are not fully supported in this browser.', 'error');\r\n            }\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('dashUpload', uploadDashboardDirective);\r\n\n\n/***/ }),\n\n/***/ 1385:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashImportCtrl\", function() { return DashImportCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"dashImportDirective\"] = dashImportDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar DashImportCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashImportCtrl.$inject = [\"backendSrv\", \"$location\", \"$scope\", \"$routeParams\"];\r\n    function DashImportCtrl(backendSrv, $location, $scope, $routeParams) {\r\n        this.backendSrv = backendSrv;\r\n        this.$location = $location;\r\n        this.$scope = $scope;\r\n        this.step = 1;\r\n        this.nameExists = false;\r\n        // check gnetId in url\r\n        if ($routeParams.gnetId) {\r\n            this.gnetUrl = $routeParams.gnetId;\r\n            this.checkGnetDashboard();\r\n        }\r\n    }\r\n    DashImportCtrl.prototype.onUpload = function (dash) {\r\n        this.dash = dash;\r\n        this.dash.id = null;\r\n        this.step = 2;\r\n        this.inputs = [];\r\n        if (this.dash.__inputs) {\r\n            for (var _i = 0, _a = this.dash.__inputs; _i < _a.length; _i++) {\r\n                var input = _a[_i];\r\n                var inputModel = {\r\n                    name: input.name,\r\n                    label: input.label,\r\n                    info: input.description,\r\n                    value: input.value,\r\n                    type: input.type,\r\n                    pluginId: input.pluginId,\r\n                    options: []\r\n                };\r\n                if (input.type === 'datasource') {\r\n                    this.setDatasourceOptions(input, inputModel);\r\n                }\r\n                else if (!inputModel.info) {\r\n                    inputModel.info = 'Specify a string constant';\r\n                }\r\n                this.inputs.push(inputModel);\r\n            }\r\n        }\r\n        this.inputsValid = this.inputs.length === 0;\r\n        this.titleChanged();\r\n    };\r\n    DashImportCtrl.prototype.setDatasourceOptions = function (input, inputModel) {\r\n        var sources = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.filter(__WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].datasources, function (val) {\r\n            return val.type === input.pluginId;\r\n        });\r\n        if (sources.length === 0) {\r\n            inputModel.info = \"No data sources of type \" + input.pluginName + \" found\";\r\n        }\r\n        else if (!inputModel.info) {\r\n            inputModel.info = \"Select a \" + input.pluginName + \" data source\";\r\n        }\r\n        inputModel.options = sources.map(function (val) {\r\n            return { text: val.name, value: val.name };\r\n        });\r\n    };\r\n    DashImportCtrl.prototype.inputValueChanged = function () {\r\n        this.inputsValid = true;\r\n        for (var _i = 0, _a = this.inputs; _i < _a.length; _i++) {\r\n            var input = _a[_i];\r\n            if (!input.value) {\r\n                this.inputsValid = false;\r\n            }\r\n        }\r\n    };\r\n    DashImportCtrl.prototype.titleChanged = function () {\r\n        var _this = this;\r\n        this.backendSrv.search({ query: this.dash.title }).then(function (res) {\r\n            _this.nameExists = false;\r\n            for (var _i = 0, res_1 = res; _i < res_1.length; _i++) {\r\n                var hit = res_1[_i];\r\n                if (_this.dash.title === hit.title) {\r\n                    _this.nameExists = true;\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n    };\r\n    DashImportCtrl.prototype.saveDashboard = function () {\r\n        var _this = this;\r\n        var inputs = this.inputs.map(function (input) {\r\n            return {\r\n                name: input.name,\r\n                type: input.type,\r\n                pluginId: input.pluginId,\r\n                value: input.value\r\n            };\r\n        });\r\n        return this.backendSrv.post('api/dashboards/import', {\r\n            dashboard: this.dash,\r\n            overwrite: true,\r\n            inputs: inputs\r\n        }).then(function (res) {\r\n            _this.$location.url('dashboard/' + res.importedUri);\r\n            _this.$scope.dismiss();\r\n        });\r\n    };\r\n    DashImportCtrl.prototype.loadJsonText = function () {\r\n        try {\r\n            this.parseError = '';\r\n            var dash = JSON.parse(this.jsonText);\r\n            this.onUpload(dash);\r\n        }\r\n        catch (err) {\r\n            console.log(err);\r\n            this.parseError = err.message;\r\n            return;\r\n        }\r\n    };\r\n    DashImportCtrl.prototype.checkGnetDashboard = function () {\r\n        var _this = this;\r\n        this.gnetError = '';\r\n        var match = /(^\\d+$)|dashboards\\/(\\d+)/.exec(this.gnetUrl);\r\n        var dashboardId;\r\n        if (match && match[1]) {\r\n            dashboardId = match[1];\r\n        }\r\n        else if (match && match[2]) {\r\n            dashboardId = match[2];\r\n        }\r\n        else {\r\n            this.gnetError = 'Could not find dashboard';\r\n        }\r\n        return this.backendSrv.get('api/gnet/dashboards/' + dashboardId).then(function (res) {\r\n            _this.gnetInfo = res;\r\n            // store reference to grafana.com\r\n            res.json.gnetId = res.id;\r\n            _this.onUpload(res.json);\r\n        }).catch(function (err) {\r\n            err.isHandled = true;\r\n            _this.gnetError = err.data.message || err;\r\n        });\r\n    };\r\n    DashImportCtrl.prototype.back = function () {\r\n        this.gnetUrl = '';\r\n        this.step = 1;\r\n        this.gnetError = '';\r\n        this.gnetInfo = '';\r\n    };\r\n    return DashImportCtrl;\r\n}());\r\n\r\nfunction dashImportDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/import/dash_import.html',\r\n        controller: DashImportCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('dashImport', dashImportDirective);\r\n\n\n/***/ }),\n\n/***/ 1386:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashExportCtrl\", function() { return DashExportCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"dashExportDirective\"] = dashExportDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_file_saver__ = __webpack_require__(203);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_file_saver__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__exporter__ = __webpack_require__(1387);\n\r\n\r\n\r\n\r\nvar DashExportCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashExportCtrl.$inject = [\"dashboardSrv\", \"datasourceSrv\", \"$scope\"];\r\n    function DashExportCtrl(dashboardSrv, datasourceSrv, $scope) {\r\n        var _this = this;\r\n        this.dashboardSrv = dashboardSrv;\r\n        this.$scope = $scope;\r\n        this.exporter = new __WEBPACK_IMPORTED_MODULE_3__exporter__[\"a\" /* DashboardExporter */](datasourceSrv);\r\n        this.exporter.makeExportable(this.dashboardSrv.getCurrent()).then(function (dash) {\r\n            _this.$scope.$apply(function () {\r\n                _this.dash = dash;\r\n            });\r\n        });\r\n    }\r\n    DashExportCtrl.prototype.save = function () {\r\n        var blob = new Blob([__WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(this.dash, true)], { type: 'application/json;charset=utf-8' });\r\n        Object(__WEBPACK_IMPORTED_MODULE_1_file_saver__[\"saveAs\"])(blob, this.dash.title + '-' + new Date().getTime() + '.json');\r\n    };\r\n    DashExportCtrl.prototype.saveJson = function () {\r\n        var clone = this.dashboardSrv.getCurrent().getSaveModelClone();\r\n        this.$scope.$root.appEvent('show-json-editor', {\r\n            object: clone,\r\n        });\r\n        this.dismiss();\r\n    };\r\n    return DashExportCtrl;\r\n}());\r\n\r\nfunction dashExportDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/export/export_modal.html',\r\n        controller: DashExportCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: { dismiss: '&' },\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].directive('dashExportModal', dashExportDirective);\r\n\n\n/***/ }),\n\n/***/ 1387:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DashboardExporter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dynamic_dashboard_srv__ = __webpack_require__(1388);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar DashboardExporter = /** @class */ (function () {\r\n    function DashboardExporter(datasourceSrv) {\r\n        this.datasourceSrv = datasourceSrv;\r\n    }\r\n    DashboardExporter.prototype.makeExportable = function (dashboard) {\r\n        var _this = this;\r\n        var dynSrv = new __WEBPACK_IMPORTED_MODULE_2__dynamic_dashboard_srv__[\"a\" /* DynamicDashboardSrv */]();\r\n        // clean up repeated rows and panels,\r\n        // this is done on the live real dashboard instance, not on a clone\r\n        // so we need to undo this\r\n        // this is pretty hacky and needs to be changed\r\n        dynSrv.init(dashboard);\r\n        dynSrv.process({ cleanUpOnly: true });\r\n        var saveModel = dashboard.getSaveModelClone();\r\n        saveModel.id = null;\r\n        // undo repeat cleanup\r\n        dynSrv.process();\r\n        var inputs = [];\r\n        var requires = {};\r\n        var datasources = {};\r\n        var promises = [];\r\n        var variableLookup = {};\r\n        for (var _i = 0, _a = saveModel.templating.list; _i < _a.length; _i++) {\r\n            var variable = _a[_i];\r\n            variableLookup[variable.name] = variable;\r\n        }\r\n        var templateizeDatasourceUsage = function (obj) {\r\n            // ignore data source properties that contain a variable\r\n            if (obj.datasource && obj.datasource.indexOf('$') === 0) {\r\n                if (variableLookup[obj.datasource.substring(1)]) {\r\n                    return;\r\n                }\r\n            }\r\n            promises.push(_this.datasourceSrv.get(obj.datasource).then(function (ds) {\r\n                if (ds.meta.builtIn) {\r\n                    return;\r\n                }\r\n                var refName = 'DS_' + ds.name.replace(' ', '_').toUpperCase();\r\n                datasources[refName] = {\r\n                    name: refName,\r\n                    label: ds.name,\r\n                    description: '',\r\n                    type: 'datasource',\r\n                    pluginId: ds.meta.id,\r\n                    pluginName: ds.meta.name,\r\n                };\r\n                obj.datasource = '${' + refName + '}';\r\n                requires['datasource' + ds.meta.id] = {\r\n                    type: 'datasource',\r\n                    id: ds.meta.id,\r\n                    name: ds.meta.name,\r\n                    version: ds.meta.info.version || \"1.0.0\",\r\n                };\r\n            }));\r\n        };\r\n        // check up panel data sources\r\n        for (var _b = 0, _c = saveModel.rows; _b < _c.length; _b++) {\r\n            var row = _c[_b];\r\n            for (var _d = 0, _e = row.panels; _d < _e.length; _d++) {\r\n                var panel = _e[_d];\r\n                if (panel.datasource !== undefined) {\r\n                    templateizeDatasourceUsage(panel);\r\n                }\r\n                if (panel.targets) {\r\n                    for (var _f = 0, _g = panel.targets; _f < _g.length; _f++) {\r\n                        var target = _g[_f];\r\n                        if (target.datasource !== undefined) {\r\n                            templateizeDatasourceUsage(target);\r\n                        }\r\n                    }\r\n                }\r\n                var panelDef = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].panels[panel.type];\r\n                if (panelDef) {\r\n                    requires['panel' + panelDef.id] = {\r\n                        type: 'panel',\r\n                        id: panelDef.id,\r\n                        name: panelDef.name,\r\n                        version: panelDef.info.version,\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        // templatize template vars\r\n        for (var _h = 0, _j = saveModel.templating.list; _h < _j.length; _h++) {\r\n            var variable = _j[_h];\r\n            if (variable.type === 'query') {\r\n                templateizeDatasourceUsage(variable);\r\n                variable.options = [];\r\n                variable.current = {};\r\n                variable.refresh = variable.refresh > 0 ? variable.refresh : 1;\r\n            }\r\n        }\r\n        // templatize annotations vars\r\n        for (var _k = 0, _l = saveModel.annotations.list; _k < _l.length; _k++) {\r\n            var annotationDef = _l[_k];\r\n            templateizeDatasourceUsage(annotationDef);\r\n        }\r\n        // add grafana version\r\n        requires['grafana'] = {\r\n            type: 'grafana',\r\n            id: 'grafana',\r\n            name: 'Grafana',\r\n            version: __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].buildInfo.version\r\n        };\r\n        return Promise.all(promises).then(function () {\r\n            __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(datasources, function (value, key) {\r\n                inputs.push(value);\r\n            });\r\n            // templatize constants\r\n            for (var _i = 0, _a = saveModel.templating.list; _i < _a.length; _i++) {\r\n                var variable = _a[_i];\r\n                if (variable.type === 'constant') {\r\n                    var refName = 'VAR_' + variable.name.replace(' ', '_').toUpperCase();\r\n                    inputs.push({\r\n                        name: refName,\r\n                        type: 'constant',\r\n                        label: variable.label || variable.name,\r\n                        value: variable.current.value,\r\n                        description: '',\r\n                    });\r\n                    // update current and option\r\n                    variable.query = '${' + refName + '}';\r\n                    variable.options[0] = variable.current = {\r\n                        value: variable.query,\r\n                        text: variable.query,\r\n                    };\r\n                }\r\n            }\r\n            // make inputs and requires a top thing\r\n            var newObj = {};\r\n            newObj[\"__inputs\"] = inputs;\r\n            newObj[\"__requires\"] = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.sortBy(requires, ['id']);\r\n            __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.defaults(newObj, saveModel);\r\n            return newObj;\r\n        }).catch(function (err) {\r\n            console.log('Export failed:', err);\r\n            return {\r\n                error: err\r\n            };\r\n        });\r\n    };\r\n    return DashboardExporter;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1388:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DynamicDashboardSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__row_row_model__ = __webpack_require__(1323);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\nvar DynamicDashboardSrv = /** @class */ (function () {\r\n    function DynamicDashboardSrv() {\r\n    }\r\n    DynamicDashboardSrv.prototype.init = function (dashboard) {\r\n        this.dashboard = dashboard;\r\n        this.variables = dashboard.templating.list;\r\n    };\r\n    DynamicDashboardSrv.prototype.process = function (options) {\r\n        if (this.dashboard.snapshot || this.variables.length === 0) {\r\n            return;\r\n        }\r\n        this.iteration = (this.iteration || new Date().getTime()) + 1;\r\n        options = options || {};\r\n        var cleanUpOnly = options.cleanUpOnly;\r\n        var i, j, row, panel;\r\n        // cleanup scopedVars\r\n        for (i = 0; i < this.dashboard.rows.length; i++) {\r\n            row = this.dashboard.rows[i];\r\n            delete row.scopedVars;\r\n            for (j = 0; j < row.panels.length; j++) {\r\n                delete row.panels[j].scopedVars;\r\n            }\r\n        }\r\n        for (i = 0; i < this.dashboard.rows.length; i++) {\r\n            row = this.dashboard.rows[i];\r\n            // handle row repeats\r\n            if (row.repeat) {\r\n                if (!cleanUpOnly) {\r\n                    this.repeatRow(row, i);\r\n                }\r\n            }\r\n            else if (row.repeatRowId && row.repeatIteration !== this.iteration) {\r\n                // clean up old left overs\r\n                this.dashboard.removeRow(row, true);\r\n                i = i - 1;\r\n                continue;\r\n            }\r\n            // repeat panels\r\n            for (j = 0; j < row.panels.length; j++) {\r\n                panel = row.panels[j];\r\n                if (panel.repeat) {\r\n                    if (!cleanUpOnly) {\r\n                        this.repeatPanel(panel, row);\r\n                    }\r\n                }\r\n                else if (panel.repeatPanelId && panel.repeatIteration !== this.iteration) {\r\n                    // clean up old left overs\r\n                    row.panels = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.without(row.panels, panel);\r\n                    j = j - 1;\r\n                }\r\n            }\r\n            row.panelSpanChanged();\r\n        }\r\n    };\r\n    // returns a new row clone or reuses a clone from previous iteration\r\n    DynamicDashboardSrv.prototype.getRowClone = function (sourceRow, repeatIndex, sourceRowIndex) {\r\n        if (repeatIndex === 0) {\r\n            return sourceRow;\r\n        }\r\n        var i, panel, row, copy;\r\n        var sourceRowId = sourceRowIndex + 1;\r\n        // look for row to reuse\r\n        for (i = 0; i < this.dashboard.rows.length; i++) {\r\n            row = this.dashboard.rows[i];\r\n            if (row.repeatRowId === sourceRowId && row.repeatIteration !== this.iteration) {\r\n                copy = row;\r\n                copy.copyPropertiesFromRowSource(sourceRow);\r\n                break;\r\n            }\r\n        }\r\n        if (!copy) {\r\n            var modelCopy = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(sourceRow.getSaveModel());\r\n            copy = new __WEBPACK_IMPORTED_MODULE_3__row_row_model__[\"a\" /* DashboardRow */](modelCopy);\r\n            this.dashboard.rows.splice(sourceRowIndex + repeatIndex, 0, copy);\r\n            // set new panel ids\r\n            for (i = 0; i < copy.panels.length; i++) {\r\n                panel = copy.panels[i];\r\n                panel.id = this.dashboard.getNextPanelId();\r\n            }\r\n        }\r\n        copy.repeat = null;\r\n        copy.repeatRowId = sourceRowId;\r\n        copy.repeatIteration = this.iteration;\r\n        return copy;\r\n    };\r\n    // returns a new row clone or reuses a clone from previous iteration\r\n    DynamicDashboardSrv.prototype.repeatRow = function (row, rowIndex) {\r\n        var _this = this;\r\n        var variable = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(this.variables, { name: row.repeat });\r\n        if (!variable) {\r\n            return;\r\n        }\r\n        var selected, copy, i, panel;\r\n        if (variable.current.text === 'All') {\r\n            selected = variable.options.slice(1, variable.options.length);\r\n        }\r\n        else {\r\n            selected = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.filter(variable.options, { selected: true });\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(selected, function (option, index) {\r\n            copy = _this.getRowClone(row, index, rowIndex);\r\n            copy.scopedVars = {};\r\n            copy.scopedVars[variable.name] = option;\r\n            for (i = 0; i < copy.panels.length; i++) {\r\n                panel = copy.panels[i];\r\n                panel.scopedVars = {};\r\n                panel.scopedVars[variable.name] = option;\r\n            }\r\n        });\r\n    };\r\n    DynamicDashboardSrv.prototype.getPanelClone = function (sourcePanel, row, index) {\r\n        // if first clone return source\r\n        if (index === 0) {\r\n            return sourcePanel;\r\n        }\r\n        var i, tmpId, panel, clone;\r\n        // first try finding an existing clone to use\r\n        for (i = 0; i < row.panels.length; i++) {\r\n            panel = row.panels[i];\r\n            if (panel.repeatIteration !== this.iteration && panel.repeatPanelId === sourcePanel.id) {\r\n                clone = panel;\r\n                break;\r\n            }\r\n        }\r\n        if (!clone) {\r\n            clone = { id: this.dashboard.getNextPanelId() };\r\n            row.panels.push(clone);\r\n        }\r\n        // save id\r\n        tmpId = clone.id;\r\n        // copy properties from source\r\n        __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(sourcePanel, clone);\r\n        // restore id\r\n        clone.id = tmpId;\r\n        clone.repeatIteration = this.iteration;\r\n        clone.repeatPanelId = sourcePanel.id;\r\n        clone.repeat = null;\r\n        return clone;\r\n    };\r\n    DynamicDashboardSrv.prototype.repeatPanel = function (panel, row) {\r\n        var _this = this;\r\n        var variable = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(this.variables, { name: panel.repeat });\r\n        if (!variable) {\r\n            return;\r\n        }\r\n        var selected;\r\n        if (variable.current.text === 'All') {\r\n            selected = variable.options.slice(1, variable.options.length);\r\n        }\r\n        else {\r\n            selected = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.filter(variable.options, { selected: true });\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(selected, function (option, index) {\r\n            var copy = _this.getPanelClone(panel, row, index);\r\n            copy.span = Math.max(12 / selected.length, panel.minSpan || 4);\r\n            copy.scopedVars = copy.scopedVars || {};\r\n            copy.scopedVars[variable.name] = option;\r\n        });\r\n    };\r\n    return DynamicDashboardSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].service('dynamicDashboardSrv', DynamicDashboardSrv);\r\n\n\n/***/ }),\n\n/***/ 1389:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ExportDataModalCtrl\", function() { return ExportDataModalCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"exportDataModal\"] = exportDataModal;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_file_export__ = __webpack_require__(1324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__ = __webpack_require__(53);\n\r\n\r\n\r\nvar ExportDataModalCtrl = /** @class */ (function () {\r\n    function ExportDataModalCtrl() {\r\n        this.asRows = true;\r\n        this.dateTimeFormat = 'YYYY-MM-DDTHH:mm:ssZ';\r\n    }\r\n    ExportDataModalCtrl.prototype.export = function () {\r\n        if (this.panel === 'table') {\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_utils_file_export__[\"exportTableDataToCsv\"](this.data, this.excel);\r\n        }\r\n        else {\r\n            if (this.asRows) {\r\n                __WEBPACK_IMPORTED_MODULE_1_app_core_utils_file_export__[\"exportSeriesListToCsv\"](this.data, this.dateTimeFormat, this.excel);\r\n            }\r\n            else {\r\n                __WEBPACK_IMPORTED_MODULE_1_app_core_utils_file_export__[\"exportSeriesListToCsvColumns\"](this.data, this.dateTimeFormat, this.excel);\r\n            }\r\n        }\r\n        this.dismiss();\r\n    };\r\n    ExportDataModalCtrl.prototype.dismiss = function () {\r\n        __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__[\"a\" /* default */].emit('hide-modal');\r\n    };\r\n    return ExportDataModalCtrl;\r\n}());\r\n\r\nfunction exportDataModal() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/export_data/export_data_modal.html',\r\n        controller: ExportDataModalCtrl,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            panel: '<',\r\n            data: '<' // The difference to '=' is that the bound properties are not watched\r\n        },\r\n        bindToController: true\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives').directive('exportDataModal', exportDataModal);\r\n\n\n/***/ }),\n\n/***/ 1390:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AdHocFiltersCtrl\", function() { return AdHocFiltersCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"adHocFiltersComponent\"] = adHocFiltersComponent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar AdHocFiltersCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AdHocFiltersCtrl.$inject = [\"uiSegmentSrv\", \"datasourceSrv\", \"$q\", \"variableSrv\", \"$scope\", \"$rootScope\"];\r\n    function AdHocFiltersCtrl(uiSegmentSrv, datasourceSrv, $q, variableSrv, $scope, $rootScope) {\r\n        this.uiSegmentSrv = uiSegmentSrv;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.$q = $q;\r\n        this.variableSrv = variableSrv;\r\n        this.$rootScope = $rootScope;\r\n        this.removeTagFilterSegment = uiSegmentSrv.newSegment({ fake: true, value: '-- remove filter --' });\r\n        this.buildSegmentModel();\r\n        this.$rootScope.onAppEvent('template-variable-value-updated', this.buildSegmentModel.bind(this), $scope);\r\n    }\r\n    AdHocFiltersCtrl.prototype.buildSegmentModel = function () {\r\n        this.segments = [];\r\n        if (this.variable.value && !__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(this.variable.value)) {\r\n        }\r\n        for (var _i = 0, _a = this.variable.filters; _i < _a.length; _i++) {\r\n            var tag = _a[_i];\r\n            if (this.segments.length > 0) {\r\n                this.segments.push(this.uiSegmentSrv.newCondition('AND'));\r\n            }\r\n            if (tag.key !== undefined && tag.value !== undefined) {\r\n                this.segments.push(this.uiSegmentSrv.newKey(tag.key));\r\n                this.segments.push(this.uiSegmentSrv.newOperator(tag.operator));\r\n                this.segments.push(this.uiSegmentSrv.newKeyValue(tag.value));\r\n            }\r\n        }\r\n        this.segments.push(this.uiSegmentSrv.newPlusButton());\r\n    };\r\n    AdHocFiltersCtrl.prototype.getOptions = function (segment, index) {\r\n        var _this = this;\r\n        if (segment.type === 'operator') {\r\n            return this.$q.when(this.uiSegmentSrv.newOperators(['=', '!=', '<', '>', '=~', '!~']));\r\n        }\r\n        if (segment.type === 'condition') {\r\n            return this.$q.when([this.uiSegmentSrv.newSegment('AND')]);\r\n        }\r\n        return this.datasourceSrv.get(this.variable.datasource).then(function (ds) {\r\n            var options = {};\r\n            var promise = null;\r\n            if (segment.type !== 'value') {\r\n                promise = ds.getTagKeys();\r\n            }\r\n            else {\r\n                options.key = _this.segments[index - 2].value;\r\n                promise = ds.getTagValues(options);\r\n            }\r\n            return promise.then(function (results) {\r\n                results = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results, function (segment) {\r\n                    return _this.uiSegmentSrv.newSegment({ value: segment.text });\r\n                });\r\n                // add remove option for keys\r\n                if (segment.type === 'key') {\r\n                    results.splice(0, 0, __WEBPACK_IMPORTED_MODULE_1_angular___default.a.copy(_this.removeTagFilterSegment));\r\n                }\r\n                return results;\r\n            });\r\n        });\r\n    };\r\n    AdHocFiltersCtrl.prototype.segmentChanged = function (segment, index) {\r\n        this.segments[index] = segment;\r\n        // handle remove tag condition\r\n        if (segment.value === this.removeTagFilterSegment.value) {\r\n            this.segments.splice(index, 3);\r\n            if (this.segments.length === 0) {\r\n                this.segments.push(this.uiSegmentSrv.newPlusButton());\r\n            }\r\n            else if (this.segments.length > 2) {\r\n                this.segments.splice(Math.max(index - 1, 0), 1);\r\n                if (this.segments[this.segments.length - 1].type !== 'plus-button') {\r\n                    this.segments.push(this.uiSegmentSrv.newPlusButton());\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (segment.type === 'plus-button') {\r\n                if (index > 2) {\r\n                    this.segments.splice(index, 0, this.uiSegmentSrv.newCondition('AND'));\r\n                }\r\n                this.segments.push(this.uiSegmentSrv.newOperator('='));\r\n                this.segments.push(this.uiSegmentSrv.newFake('select tag value', 'value', 'query-segment-value'));\r\n                segment.type = 'key';\r\n                segment.cssClass = 'query-segment-key';\r\n            }\r\n            if ((index + 1) === this.segments.length) {\r\n                this.segments.push(this.uiSegmentSrv.newPlusButton());\r\n            }\r\n        }\r\n        this.updateVariableModel();\r\n    };\r\n    AdHocFiltersCtrl.prototype.updateVariableModel = function () {\r\n        var filters = [];\r\n        var filterIndex = -1;\r\n        var hasFakes = false;\r\n        this.segments.forEach(function (segment) {\r\n            if (segment.type === 'value' && segment.fake) {\r\n                hasFakes = true;\r\n                return;\r\n            }\r\n            switch (segment.type) {\r\n                case 'key': {\r\n                    filters.push({ key: segment.value });\r\n                    filterIndex += 1;\r\n                    break;\r\n                }\r\n                case 'value': {\r\n                    filters[filterIndex].value = segment.value;\r\n                    break;\r\n                }\r\n                case 'operator': {\r\n                    filters[filterIndex].operator = segment.value;\r\n                    break;\r\n                }\r\n                case 'condition': {\r\n                    filters[filterIndex].condition = segment.value;\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        if (hasFakes) {\r\n            return;\r\n        }\r\n        this.variable.setFilters(filters);\r\n        this.variableSrv.variableUpdated(this.variable, true);\r\n    };\r\n    return AdHocFiltersCtrl;\r\n}());\r\n\r\nvar template = \"\\n<div class=\\\"gf-form-inline\\\">\\n  <div class=\\\"gf-form\\\" ng-repeat=\\\"segment in ctrl.segments\\\">\\n    <metric-segment segment=\\\"segment\\\" get-options=\\\"ctrl.getOptions(segment, $index)\\\"\\n                    on-change=\\\"ctrl.segmentChanged(segment, $index)\\\"></metric-segment>\\n  </div>\\n</div>\\n\";\r\nfunction adHocFiltersComponent() {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: AdHocFiltersCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            variable: \"=\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].directive('adHocFilters', adHocFiltersComponent);\r\n\n\n/***/ }),\n\n/***/ 1391:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\ndashRowDirective.$inject = [\"$rootScope\"];\npanelWidthDirective.$inject = [\"$rootScope\"];\npanelDropZoneDirective.$inject = [\"$timeout\"];\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashRowCtrl\", function() { return DashRowCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__options__ = __webpack_require__(1392);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__add_panel__ = __webpack_require__(1393);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\nvar DashRowCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashRowCtrl.$inject = [\"$scope\", \"$rootScope\", \"$timeout\"];\r\n    function DashRowCtrl($scope, $rootScope, $timeout) {\r\n        this.$scope = $scope;\r\n        this.$rootScope = $rootScope;\r\n        this.$timeout = $timeout;\r\n        this.row.title = this.row.title || 'Row title';\r\n        if (this.row.isNew) {\r\n            this.dropView = 1;\r\n        }\r\n    }\r\n    DashRowCtrl.prototype.onDrop = function (panelId, dropTarget) {\r\n        var _this = this;\r\n        var dragObject;\r\n        // if string it's a panel type\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(panelId)) {\r\n            // setup new panel\r\n            dragObject = {\r\n                row: this.row,\r\n                panel: {\r\n                    title: __WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].new_panel_title,\r\n                    type: panelId,\r\n                    id: this.dashboard.getNextPanelId(),\r\n                    isNew: true,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            dragObject = this.dashboard.getPanelInfoById(panelId);\r\n        }\r\n        if (dropTarget) {\r\n            dropTarget = this.dashboard.getPanelInfoById(dropTarget.id);\r\n            // if draging new panel onto existing panel split it\r\n            if (dragObject.panel.isNew) {\r\n                dragObject.panel.span = dropTarget.panel.span = dropTarget.panel.span / 2;\r\n                // insert after\r\n                dropTarget.row.panels.splice(dropTarget.index + 1, 0, dragObject.panel);\r\n            }\r\n            else if (this.row === dragObject.row) {\r\n                // just move element\r\n                this.row.movePanel(dragObject.index, dropTarget.index);\r\n            }\r\n            else {\r\n                // split drop target space\r\n                dragObject.panel.span = dropTarget.panel.span = dropTarget.panel.span / 2;\r\n                // insert after\r\n                dropTarget.row.panels.splice(dropTarget.index + 1, 0, dragObject.panel);\r\n                // remove from source row\r\n                dragObject.row.removePanel(dragObject.panel, false);\r\n            }\r\n        }\r\n        else {\r\n            dragObject.panel.span = 12 - this.row.span;\r\n            this.row.panels.push(dragObject.panel);\r\n            // if not new remove from source row\r\n            if (!dragObject.panel.isNew) {\r\n                dragObject.row.removePanel(dragObject.panel, false);\r\n            }\r\n        }\r\n        this.dropView = 0;\r\n        this.row.panelSpanChanged();\r\n        this.$timeout(function () {\r\n            _this.$rootScope.$broadcast('render');\r\n        });\r\n    };\r\n    DashRowCtrl.prototype.setHeight = function (height) {\r\n        this.row.height = height;\r\n        this.$scope.$broadcast('render');\r\n    };\r\n    DashRowCtrl.prototype.moveRow = function (direction) {\r\n        var rowsList = this.dashboard.rows;\r\n        var rowIndex = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(rowsList, this.row);\r\n        var newIndex = rowIndex + direction;\r\n        if (newIndex >= 0 && newIndex <= (rowsList.length - 1)) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.move(rowsList, rowIndex, newIndex);\r\n        }\r\n    };\r\n    DashRowCtrl.prototype.toggleCollapse = function () {\r\n        this.closeDropView();\r\n        this.row.collapse = !this.row.collapse;\r\n    };\r\n    DashRowCtrl.prototype.onMenuAddPanel = function () {\r\n        this.dropView = 1;\r\n    };\r\n    DashRowCtrl.prototype.onMenuRowOptions = function () {\r\n        this.dropView = 2;\r\n    };\r\n    DashRowCtrl.prototype.closeDropView = function () {\r\n        this.dropView = 0;\r\n    };\r\n    DashRowCtrl.prototype.onMenuDeleteRow = function () {\r\n        this.dashboard.removeRow(this.row);\r\n    };\r\n    return DashRowCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction dashRowDirective($rootScope) {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/row/row.html',\r\n        controller: DashRowCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            dashboard: \"=\",\r\n            row: \"=\",\r\n        },\r\n        link: function (scope, element) {\r\n            scope.$watchGroup(['ctrl.row.collapse', 'ctrl.row.height'], function () {\r\n                element.toggleClass('dash-row--collapse', scope.ctrl.row.collapse);\r\n                element.find('.panels-wrapper').css({ minHeight: scope.ctrl.row.collapse ? '5px' : scope.ctrl.row.height });\r\n            });\r\n            $rootScope.onAppEvent('panel-fullscreen-enter', function (evt, info) {\r\n                var hasPanel = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(scope.ctrl.row.panels, { id: info.panelId });\r\n                if (!hasPanel) {\r\n                    element.hide();\r\n                }\r\n            }, scope);\r\n            $rootScope.onAppEvent('panel-fullscreen-exit', function () {\r\n                element.show();\r\n            }, scope);\r\n        }\r\n    };\r\n}\r\n/** @ngInject */\r\nfunction panelWidthDirective($rootScope) {\r\n    return function (scope, element) {\r\n        var fullscreen = false;\r\n        function updateWidth() {\r\n            if (!fullscreen) {\r\n                element[0].style.width = ((scope.panel.span / 1.2) * 10) + '%';\r\n            }\r\n        }\r\n        $rootScope.onAppEvent('panel-fullscreen-enter', function (evt, info) {\r\n            fullscreen = true;\r\n            if (scope.panel.id !== info.panelId) {\r\n                element.hide();\r\n            }\r\n            else {\r\n                element[0].style.width = '100%';\r\n            }\r\n        }, scope);\r\n        $rootScope.onAppEvent('panel-fullscreen-exit', function (evt, info) {\r\n            fullscreen = false;\r\n            if (scope.panel.id !== info.panelId) {\r\n                element.show();\r\n            }\r\n            updateWidth();\r\n        }, scope);\r\n        scope.$watch('panel.span', updateWidth);\r\n        if (fullscreen) {\r\n            element.hide();\r\n        }\r\n    };\r\n}\r\n/** @ngInject */\r\nfunction panelDropZoneDirective($timeout) {\r\n    return function (scope, element) {\r\n        var row = scope.ctrl.row;\r\n        var indrag = false;\r\n        var textEl = element.find('.panel-drop-zone-text');\r\n        function showPanel(span, text) {\r\n            element.find('.panel-container').css('height', row.height);\r\n            element[0].style.width = ((span / 1.2) * 10) + '%';\r\n            textEl.text(text);\r\n            element.show();\r\n        }\r\n        function hidePanel() {\r\n            element.hide();\r\n        }\r\n        function updateState() {\r\n            if (row.panels.length === 0 && indrag === false) {\r\n                return showPanel(12, 'Empty Space');\r\n            }\r\n            var dropZoneSpan = 12 - row.span;\r\n            if (dropZoneSpan > 0) {\r\n                if (indrag) {\r\n                    return showPanel(dropZoneSpan, 'Drop Here');\r\n                }\r\n                else {\r\n                    return showPanel(dropZoneSpan, 'Empty Space');\r\n                }\r\n            }\r\n            if (indrag === true) {\r\n                if (dropZoneSpan > 1) {\r\n                    return showPanel(dropZoneSpan, 'Drop Here');\r\n                }\r\n            }\r\n            hidePanel();\r\n        }\r\n        row.events.on('span-changed', updateState, scope);\r\n        scope.$on(\"ANGULAR_DRAG_START\", function () {\r\n            indrag = true;\r\n            updateState();\r\n        });\r\n        scope.$on(\"ANGULAR_DRAG_END\", function () {\r\n            indrag = false;\r\n            updateState();\r\n        });\r\n        updateState();\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('dashRow', dashRowDirective);\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('panelWidth', panelWidthDirective);\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('panelDropZone', panelDropZoneDirective);\r\n\n\n/***/ }),\n\n/***/ 1392:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export RowOptionsCtrl */\n/* unused harmony export rowOptionsDirective */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n// import VirtualScroll from 'virtual-scroll';\r\n// console.log(VirtualScroll);\r\nvar RowOptionsCtrl = /** @class */ (function () {\r\n    /** @ngInject */\r\n    function RowOptionsCtrl() {\r\n        this.fontSizes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n        this.row = this.rowCtrl.row;\r\n        this.dashboard = this.rowCtrl.dashboard;\r\n        this.row.titleSize = this.row.titleSize || 'h6';\r\n    }\r\n    return RowOptionsCtrl;\r\n}());\r\n\r\nfunction rowOptionsDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/row/options.html',\r\n        controller: RowOptionsCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            rowCtrl: \"=\",\r\n        },\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core__[\"coreModule\"].directive('dashRowOptions', rowOptionsDirective);\r\n\n\n/***/ }),\n\n/***/ 1393:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AddPanelCtrl */\n/* unused harmony export addPanelDirective */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar AddPanelCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AddPanelCtrl.$inject = [\"$timeout\", \"$rootScope\"];\r\n    function AddPanelCtrl($timeout, $rootScope) {\r\n        this.$timeout = $timeout;\r\n        this.$rootScope = $rootScope;\r\n        this.row = this.rowCtrl.row;\r\n        this.dashboard = this.rowCtrl.dashboard;\r\n        this.activeIndex = 0;\r\n        this.allPanels = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.chain(__WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].panels)\r\n            .filter({ hideFromList: false })\r\n            .map(function (item) { return item; })\r\n            .orderBy('sort')\r\n            .value();\r\n        this.panelHits = this.allPanels;\r\n    }\r\n    AddPanelCtrl.prototype.keyDown = function (evt) {\r\n        if (evt.keyCode === 27) {\r\n            this.rowCtrl.dropView = 0;\r\n            return;\r\n        }\r\n        if (evt.keyCode === 40 || evt.keyCode === 39) {\r\n            this.moveSelection(1);\r\n        }\r\n        if (evt.keyCode === 38 || evt.keyCode === 37) {\r\n            this.moveSelection(-1);\r\n        }\r\n        if (evt.keyCode === 13) {\r\n            var selectedPanel = this.panelHits[this.activeIndex];\r\n            if (selectedPanel) {\r\n                this.addPanel(selectedPanel);\r\n            }\r\n        }\r\n    };\r\n    AddPanelCtrl.prototype.moveSelection = function (direction) {\r\n        var max = this.panelHits.length;\r\n        var newIndex = this.activeIndex + direction;\r\n        this.activeIndex = ((newIndex %= max) < 0) ? newIndex + max : newIndex;\r\n    };\r\n    AddPanelCtrl.prototype.panelSearchChanged = function () {\r\n        var items = this.allPanels.slice();\r\n        var startsWith = [];\r\n        var contains = [];\r\n        var searchLower = this.panelSearch.toLowerCase();\r\n        var item;\r\n        while (item = items.shift()) {\r\n            var nameLower = item.name.toLowerCase();\r\n            if (nameLower.indexOf(searchLower) === 0) {\r\n                startsWith.push(item);\r\n            }\r\n            else if (nameLower.indexOf(searchLower) !== -1) {\r\n                contains.push(item);\r\n            }\r\n        }\r\n        this.panelHits = startsWith.concat(contains);\r\n        this.activeIndex = 0;\r\n    };\r\n    AddPanelCtrl.prototype.addPanel = function (panelPluginInfo) {\r\n        var _this = this;\r\n        var defaultSpan = 12;\r\n        var span = 12 - this.row.span;\r\n        var panel = {\r\n            id: null,\r\n            title: __WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].new_panel_title,\r\n            span: span < defaultSpan && span > 0 ? span : defaultSpan,\r\n            type: panelPluginInfo.id,\r\n        };\r\n        this.rowCtrl.closeDropView();\r\n        this.dashboard.addPanel(panel, this.row);\r\n        this.$timeout(function () {\r\n            _this.$rootScope.$broadcast('render');\r\n            //this.$rootScope.appEvent('panel-change-view', {\r\n            //  fullscreen: true, edit: true, panelId: panel.id\r\n            //});\r\n        });\r\n    };\r\n    return AddPanelCtrl;\r\n}());\r\n\r\nfunction addPanelDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/dashboard/row/add_panel.html',\r\n        controller: AddPanelCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            rowCtrl: \"=\",\r\n        },\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('dashRowAddPanel', addPanelDirective);\r\n\n\n/***/ }),\n\n/***/ 1394:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\ndashRepeatOptionDirective.$inject = [\"variableSrv\"];\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar template = \"\\n<div class=\\\"gf-form-select-wrapper max-width-13\\\">\\n<select class=\\\"gf-form-input\\\" ng-model=\\\"model.repeat\\\" ng-options=\\\"f.value as f.text for f in variables\\\">\\n<option value=\\\"\\\"></option>\\n</div>\\n\";\r\n/** @ngInject **/\r\nfunction dashRepeatOptionDirective(variableSrv) {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        scope: {\r\n            model: \"=\",\r\n        },\r\n        link: function (scope, element) {\r\n            element.css({ display: 'block', width: '100%' });\r\n            scope.variables = variableSrv.variables.map(function (item) {\r\n                return { text: item.name, value: item.name };\r\n            });\r\n            if (scope.variables.length === 0) {\r\n                scope.variables.unshift({ text: 'No template variables found', value: null });\r\n            }\r\n            scope.variables.unshift({ text: 'Disabled', value: null });\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core__[\"coreModule\"].directive('dashRepeatOption', dashRepeatOptionDirective);\r\n\n\n/***/ }),\n\n/***/ 1395:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(1325),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('panelLinksEditor', function() {\n      return {\n        scope: {\n          panel: \"=\"\n        },\n        restrict: 'E',\n        controller: 'PanelLinksEditorCtrl',\n        templateUrl: 'public/app/features/panellinks/module.html',\n        link: function() {\n        }\n      };\n    }).controller('PanelLinksEditorCtrl', [\"$scope\", \"backendSrv\", function($scope, backendSrv) {\n\n      $scope.panel.links = $scope.panel.links || [];\n\n      $scope.addLink = function() {\n        $scope.panel.links.push({\n          type: 'dashboard',\n        });\n      };\n\n      $scope.searchDashboards = function(queryStr, callback) {\n        backendSrv.search({query: queryStr}).then(function(hits) {\n          var dashboards = _.map(hits, function(dash) {\n            return dash.title;\n          });\n\n          callback(dashboards);\n        });\n      };\n\n      $scope.dashboardChanged = function(link) {\n        backendSrv.search({query: link.dashboard}).then(function(hits) {\n          var dashboard = _.find(hits, {title: link.dashboard});\n          if (dashboard) {\n            link.dashUri = dashboard.uri;\n            link.title = dashboard.title;\n          }\n        });\n      };\n\n      $scope.deleteLink = function(link) {\n        $scope.panel.links = _.without($scope.panel.links, link);\n      };\n    }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1396:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AnnotationsSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_ctrl__ = __webpack_require__(1397);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__events_processing__ = __webpack_require__(1398);\n\r\n\r\n\r\n\r\n\r\nvar AnnotationsSrv = /** @class */ (function () {\r\n    /** @ngInject */\n    AnnotationsSrv.$inject = [\"$rootScope\", \"$q\", \"datasourceSrv\", \"backendSrv\", \"timeSrv\"];\r\n    function AnnotationsSrv($rootScope, $q, datasourceSrv, backendSrv, timeSrv) {\r\n        this.$rootScope = $rootScope;\r\n        this.$q = $q;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.backendSrv = backendSrv;\r\n        this.timeSrv = timeSrv;\r\n        $rootScope.onAppEvent('refresh', this.clearCache.bind(this), $rootScope);\r\n        $rootScope.onAppEvent('dashboard-initialized', this.clearCache.bind(this), $rootScope);\r\n    }\r\n    AnnotationsSrv.prototype.clearCache = function () {\r\n        this.globalAnnotationsPromise = null;\r\n        this.alertStatesPromise = null;\r\n    };\r\n    AnnotationsSrv.prototype.getAnnotations = function (options) {\r\n        var _this = this;\r\n        return this.$q\r\n            .all([this.getGlobalAnnotations(options), this.getAlertStates(options)])\r\n            .then(function (results) {\r\n            // combine the annotations and flatten results\r\n            var annotations = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.flattenDeep(results[0]);\r\n            // filter out annotations that do not belong to requesting panel\r\n            annotations = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.filter(annotations, function (item) {\r\n                // if event has panel id and query is of type dashboard then panel and requesting panel id must match\r\n                if (item.panelId && item.source.type === 'dashboard') {\r\n                    return item.panelId === options.panel.id;\r\n                }\r\n                return true;\r\n            });\r\n            annotations = Object(__WEBPACK_IMPORTED_MODULE_4__events_processing__[\"a\" /* dedupAnnotations */])(annotations);\r\n            annotations = Object(__WEBPACK_IMPORTED_MODULE_4__events_processing__[\"b\" /* makeRegions */])(annotations, options);\r\n            // look for alert state for this panel\r\n            var alertState = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.find(results[1], { panelId: options.panel.id });\r\n            return {\r\n                annotations: annotations,\r\n                alertState: alertState,\r\n            };\r\n        })\r\n            .catch(function (err) {\r\n            if (!err.message && err.data && err.data.message) {\r\n                err.message = err.data.message;\r\n            }\r\n            console.log('AnnotationSrv.query error', err);\r\n            _this.$rootScope.appEvent('alert-error', ['Annotation Query Failed', err.message || err]);\r\n            return [];\r\n        });\r\n    };\r\n    AnnotationsSrv.prototype.getAlertStates = function (options) {\r\n        if (!options.dashboard.id) {\r\n            return this.$q.when([]);\r\n        }\r\n        // ignore if no alerts\r\n        if (options.panel && !options.panel.alert) {\r\n            return this.$q.when([]);\r\n        }\r\n        if (options.range.raw.to !== 'now') {\r\n            return this.$q.when([]);\r\n        }\r\n        if (this.alertStatesPromise) {\r\n            return this.alertStatesPromise;\r\n        }\r\n        this.alertStatesPromise = this.backendSrv.get('/api/alerts/states-for-dashboard', {\r\n            dashboardId: options.dashboard.id,\r\n        });\r\n        return this.alertStatesPromise;\r\n    };\r\n    AnnotationsSrv.prototype.getGlobalAnnotations = function (options) {\r\n        var _this = this;\r\n        var dashboard = options.dashboard;\r\n        if (this.globalAnnotationsPromise) {\r\n            return this.globalAnnotationsPromise;\r\n        }\r\n        var range = this.timeSrv.timeRange();\r\n        var promises = [];\r\n        var _loop_1 = function (annotation) {\r\n            if (!annotation.enable) {\r\n                return \"continue\";\r\n            }\r\n            if (annotation.snapshotData) {\r\n                return { value: this_1.translateQueryResult(annotation, annotation.snapshotData) };\r\n            }\r\n            promises.push(this_1.datasourceSrv\r\n                .get(annotation.datasource)\r\n                .then(function (datasource) {\r\n                // issue query against data source\r\n                return datasource.annotationQuery({\r\n                    range: range,\r\n                    rangeRaw: range.raw,\r\n                    annotation: annotation,\r\n                    dashboard: dashboard,\r\n                });\r\n            })\r\n                .then(function (results) {\r\n                // store response in annotation object if this is a snapshot call\r\n                if (dashboard.snapshot) {\r\n                    annotation.snapshotData = __WEBPACK_IMPORTED_MODULE_1_angular___default.a.copy(results);\r\n                }\r\n                // translate result\r\n                return _this.translateQueryResult(annotation, results);\r\n            }));\r\n        };\r\n        var this_1 = this;\r\n        for (var _i = 0, _a = dashboard.annotations.list; _i < _a.length; _i++) {\r\n            var annotation = _a[_i];\r\n            var state_1 = _loop_1(annotation);\r\n            if (typeof state_1 === \"object\")\r\n                return state_1.value;\r\n        }\r\n        this.globalAnnotationsPromise = this.$q.all(promises);\r\n        return this.globalAnnotationsPromise;\r\n    };\r\n    AnnotationsSrv.prototype.saveAnnotationEvent = function (annotation) {\r\n        this.globalAnnotationsPromise = null;\r\n        return this.backendSrv.post('/api/annotations', annotation);\r\n    };\r\n    AnnotationsSrv.prototype.updateAnnotationEvent = function (annotation) {\r\n        this.globalAnnotationsPromise = null;\r\n        return this.backendSrv.put(\"/api/annotations/\" + annotation.id, annotation);\r\n    };\r\n    AnnotationsSrv.prototype.deleteAnnotationEvent = function (annotation) {\r\n        this.globalAnnotationsPromise = null;\r\n        var deleteUrl = \"/api/annotations/\" + annotation.id;\r\n        if (annotation.isRegion) {\r\n            deleteUrl = \"/api/annotations/region/\" + annotation.regionId;\r\n        }\r\n        return this.backendSrv.delete(deleteUrl);\r\n    };\r\n    AnnotationsSrv.prototype.translateQueryResult = function (annotation, results) {\r\n        // if annotation has snapshotData\r\n        // make clone and remove it\r\n        if (annotation.snapshotData) {\r\n            annotation = __WEBPACK_IMPORTED_MODULE_1_angular___default.a.copy(annotation);\r\n            delete annotation.snapshotData;\r\n        }\r\n        for (var _i = 0, results_1 = results; _i < results_1.length; _i++) {\r\n            var item = results_1[_i];\r\n            item.source = annotation;\r\n        }\r\n        return results;\r\n    };\r\n    return AnnotationsSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_3_app_core_core_module__[\"default\"].service('annotationsSrv', AnnotationsSrv);\r\n\n\n/***/ }),\n\n/***/ 1397:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AnnotationsEditorCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_core_module__ = __webpack_require__(2);\n\r\n\r\n\r\n\r\nvar AnnotationsEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AnnotationsEditorCtrl.$inject = [\"$scope\", \"datasourceSrv\"];\r\n    function AnnotationsEditorCtrl($scope, datasourceSrv) {\r\n        this.$scope = $scope;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.annotationDefaults = {\r\n            name: '',\r\n            datasource: null,\r\n            iconColor: 'rgba(255, 96, 96, 1)',\r\n            enable: true,\r\n            showIn: 0,\r\n            hide: false,\r\n        };\r\n        this.showOptions = [\r\n            { text: 'All Panels', value: 0 },\r\n            { text: 'Specific Panels', value: 1 },\r\n        ];\r\n        $scope.ctrl = this;\r\n        this.mode = 'list';\r\n        this.datasources = datasourceSrv.getAnnotationSources();\r\n        this.annotations = $scope.dashboard.annotations.list;\r\n        this.reset();\r\n        this.onColorChange = this.onColorChange.bind(this);\r\n    }\r\n    AnnotationsEditorCtrl.prototype.datasourceChanged = function () {\r\n        var _this = this;\r\n        return this.datasourceSrv.get(this.currentAnnotation.datasource).then(function (ds) {\r\n            _this.currentDatasource = ds;\r\n        });\r\n    };\r\n    AnnotationsEditorCtrl.prototype.edit = function (annotation) {\r\n        this.currentAnnotation = annotation;\r\n        this.currentAnnotation.showIn = this.currentAnnotation.showIn || 0;\r\n        this.currentIsNew = false;\r\n        this.datasourceChanged();\r\n        this.mode = 'edit';\r\n        __WEBPACK_IMPORTED_MODULE_2_jquery___default()(\".tooltip.in\").remove();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.reset = function () {\r\n        this.currentAnnotation = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(this.annotationDefaults);\r\n        this.currentAnnotation.datasource = this.datasources[0].name;\r\n        this.currentIsNew = true;\r\n        this.datasourceChanged();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.update = function () {\r\n        this.reset();\r\n        this.mode = 'list';\r\n        this.$scope.broadcastRefresh();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.setupNew = function () {\r\n        this.mode = 'new';\r\n        this.reset();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.add = function () {\r\n        this.annotations.push(this.currentAnnotation);\r\n        this.reset();\r\n        this.mode = 'list';\r\n        this.$scope.broadcastRefresh();\r\n        this.$scope.dashboard.updateSubmenuVisibility();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.removeAnnotation = function (annotation) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.indexOf(this.annotations, annotation);\r\n        this.annotations.splice(index, 1);\r\n        this.$scope.dashboard.updateSubmenuVisibility();\r\n        this.$scope.broadcastRefresh();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.onColorChange = function (newColor) {\r\n        this.currentAnnotation.iconColor = newColor;\r\n    };\r\n    AnnotationsEditorCtrl.prototype.annotationEnabledChange = function () {\r\n        this.$scope.broadcastRefresh();\r\n    };\r\n    AnnotationsEditorCtrl.prototype.annotationHiddenChanged = function () {\r\n        this.$scope.dashboard.updateSubmenuVisibility();\r\n    };\r\n    return AnnotationsEditorCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_3_app_core_core_module__[\"default\"].controller('AnnotationsEditorCtrl', AnnotationsEditorCtrl);\r\n\n\n/***/ }),\n\n/***/ 1398:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = makeRegions;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = dedupAnnotations;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\n/**\r\n * This function converts annotation events into set\r\n * of single events and regions (event consist of two)\r\n * @param annotations\r\n * @param options\r\n */\r\nfunction makeRegions(annotations, options) {\r\n    var _a = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.partition(annotations, 'regionId'), regionEvents = _a[0], singleEvents = _a[1];\r\n    var regions = getRegions(regionEvents, options.range);\r\n    annotations = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(regions, singleEvents);\r\n    return annotations;\r\n}\r\nfunction getRegions(events, range) {\r\n    var region_events = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(events, function (event) {\r\n        return event.regionId;\r\n    });\r\n    var regions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.groupBy(region_events, 'regionId');\r\n    regions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.compact(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(regions, function (region_events) {\r\n        var region_obj = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.head(region_events);\r\n        if (region_events && region_events.length > 1) {\r\n            region_obj.timeEnd = region_events[1].time;\r\n            region_obj.isRegion = true;\r\n            return region_obj;\r\n        }\r\n        else {\r\n            if (region_events && region_events.length) {\r\n                // Don't change proper region object\r\n                if (!region_obj.time || !region_obj.timeEnd) {\r\n                    // This is cut region\r\n                    if (isStartOfRegion(region_obj)) {\r\n                        region_obj.timeEnd = range.to.valueOf() - 1;\r\n                    }\r\n                    else {\r\n                        // Start time = null\r\n                        region_obj.timeEnd = region_obj.time;\r\n                        region_obj.time = range.from.valueOf() + 1;\r\n                    }\r\n                    region_obj.isRegion = true;\r\n                }\r\n                return region_obj;\r\n            }\r\n        }\r\n    }));\r\n    return regions;\r\n}\r\nfunction isStartOfRegion(event) {\r\n    return event.id && event.id === event.regionId;\r\n}\r\nfunction dedupAnnotations(annotations) {\r\n    var dedup = [];\r\n    // Split events by annotationId property existance\r\n    var events = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.partition(annotations, 'id');\r\n    var eventsById = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.groupBy(events[0], 'id');\r\n    dedup = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(eventsById, function (eventGroup) {\r\n        if (eventGroup.length > 1 && !__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.every(eventGroup, isPanelAlert)) {\r\n            // Get first non-panel alert\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(eventGroup, function (event) {\r\n                return event.eventType !== 'panel-alert';\r\n            });\r\n        }\r\n        else {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.head(eventGroup);\r\n        }\r\n    });\r\n    dedup = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.concat(dedup, events[1]);\r\n    return dedup;\r\n}\r\nfunction isPanelAlert(event) {\r\n    return event.eventType === 'panel-alert';\r\n}\r\n\n\n/***/ }),\n\n/***/ 1399:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export EventEditorCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = eventEditor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core__ = __webpack_require__(465);\n\r\n\r\n\r\nvar EventEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    EventEditorCtrl.$inject = [\"annotationsSrv\"];\r\n    function EventEditorCtrl(annotationsSrv) {\r\n        this.annotationsSrv = annotationsSrv;\r\n        this.event.panelId = this.panelCtrl.panel.id;\r\n        this.event.dashboardId = this.panelCtrl.dashboard.id;\r\n        // Annotations query returns time as Unix timestamp in milliseconds\r\n        this.event.time = tryEpochToMoment(this.event.time);\r\n        if (this.event.isRegion) {\r\n            this.event.timeEnd = tryEpochToMoment(this.event.timeEnd);\r\n        }\r\n        this.timeFormated = this.panelCtrl.dashboard.formatDate(this.event.time);\r\n    }\r\n    EventEditorCtrl.prototype.save = function () {\r\n        var _this = this;\r\n        if (!this.form.$valid) {\r\n            return;\r\n        }\r\n        var saveModel = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(this.event);\r\n        saveModel.time = saveModel.time.valueOf();\r\n        saveModel.timeEnd = 0;\r\n        if (saveModel.isRegion) {\r\n            saveModel.timeEnd = this.event.timeEnd.valueOf();\r\n            if (saveModel.timeEnd < saveModel.time) {\r\n                console.log('invalid time');\r\n                return;\r\n            }\r\n        }\r\n        if (saveModel.id) {\r\n            this.annotationsSrv.updateAnnotationEvent(saveModel)\r\n                .then(function () {\r\n                _this.panelCtrl.refresh();\r\n                _this.close();\r\n            })\r\n                .catch(function () {\r\n                _this.panelCtrl.refresh();\r\n                _this.close();\r\n            });\r\n        }\r\n        else {\r\n            this.annotationsSrv.saveAnnotationEvent(saveModel)\r\n                .then(function () {\r\n                _this.panelCtrl.refresh();\r\n                _this.close();\r\n            })\r\n                .catch(function () {\r\n                _this.panelCtrl.refresh();\r\n                _this.close();\r\n            });\r\n        }\r\n    };\r\n    EventEditorCtrl.prototype.delete = function () {\r\n        var _this = this;\r\n        return this.annotationsSrv.deleteAnnotationEvent(this.event)\r\n            .then(function () {\r\n            _this.panelCtrl.refresh();\r\n            _this.close();\r\n        })\r\n            .catch(function () {\r\n            _this.panelCtrl.refresh();\r\n            _this.close();\r\n        });\r\n    };\r\n    return EventEditorCtrl;\r\n}());\r\n\r\nfunction tryEpochToMoment(timestamp) {\r\n    if (timestamp && __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(timestamp)) {\r\n        var epoch = Number(timestamp);\r\n        return __WEBPACK_IMPORTED_MODULE_1_moment___default()(epoch);\r\n    }\r\n    else {\r\n        return timestamp;\r\n    }\r\n}\r\nfunction eventEditor() {\r\n    return {\r\n        restrict: 'E',\r\n        controller: EventEditorCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        templateUrl: 'public/app/features/annotations/partials/event_editor.html',\r\n        scope: {\r\n            \"panelCtrl\": \"=\",\r\n            \"event\": \"=\",\r\n            \"close\": \"&\",\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('eventEditor', eventEditor);\r\n\n\n/***/ }),\n\n/***/ 1400:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EventManager; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_tinycolor2__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_tinycolor2___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_tinycolor2__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__event__ = __webpack_require__(1326);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__ = __webpack_require__(202);\n\r\n\r\n\r\n\r\n\r\nvar EventManager = /** @class */ (function () {\r\n    function EventManager(panelCtrl) {\r\n        this.panelCtrl = panelCtrl;\r\n    }\r\n    EventManager.prototype.editorClosed = function () {\r\n        this.event = null;\r\n        this.editorOpen = false;\r\n        this.panelCtrl.render();\r\n    };\r\n    EventManager.prototype.editorOpened = function () {\r\n        this.editorOpen = true;\r\n    };\r\n    EventManager.prototype.updateTime = function (range) {\r\n        if (!this.event) {\r\n            this.event = new __WEBPACK_IMPORTED_MODULE_3__event__[\"a\" /* AnnotationEvent */]();\r\n            this.event.dashboardId = this.panelCtrl.dashboard.id;\r\n            this.event.panelId = this.panelCtrl.panel.id;\r\n        }\r\n        // update time\r\n        this.event.time = __WEBPACK_IMPORTED_MODULE_1_moment___default()(range.from);\r\n        this.event.isRegion = false;\r\n        if (range.to) {\r\n            this.event.timeEnd = __WEBPACK_IMPORTED_MODULE_1_moment___default()(range.to);\r\n            this.event.isRegion = true;\r\n        }\r\n        this.panelCtrl.render();\r\n    };\r\n    EventManager.prototype.editEvent = function (event, elem) {\r\n        this.event = event;\r\n        this.panelCtrl.render();\r\n    };\r\n    EventManager.prototype.addFlotEvents = function (annotations, flotOptions) {\r\n        if (!this.event && annotations.length === 0) {\r\n            return;\r\n        }\r\n        var types = {\r\n            $__alerting: {\r\n                color: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"a\" /* ALERTING_COLOR */],\r\n                position: 'BOTTOM',\r\n                markerSize: 5,\r\n            },\r\n            $__ok: {\r\n                color: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"d\" /* OK_COLOR */],\r\n                position: 'BOTTOM',\r\n                markerSize: 5,\r\n            },\r\n            $__no_data: {\r\n                color: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"c\" /* NO_DATA_COLOR */],\r\n                position: 'BOTTOM',\r\n                markerSize: 5,\r\n            },\r\n            $__editing: {\r\n                color: __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"b\" /* DEFAULT_ANNOTATION_COLOR */],\r\n                position: 'BOTTOM',\r\n                markerSize: 5,\r\n            },\r\n        };\r\n        if (this.event) {\r\n            if (this.event.isRegion) {\r\n                annotations = [\r\n                    {\r\n                        isRegion: true,\r\n                        min: this.event.time.valueOf(),\r\n                        timeEnd: this.event.timeEnd.valueOf(),\r\n                        text: this.event.text,\r\n                        eventType: '$__editing',\r\n                        editModel: this.event,\r\n                    },\r\n                ];\r\n            }\r\n            else {\r\n                annotations = [\r\n                    {\r\n                        min: this.event.time.valueOf(),\r\n                        text: this.event.text,\r\n                        editModel: this.event,\r\n                        eventType: '$__editing',\r\n                    },\r\n                ];\r\n            }\r\n        }\r\n        else {\r\n            // annotations from query\r\n            for (var i = 0; i < annotations.length; i++) {\r\n                var item = annotations[i];\r\n                // add properties used by jquery flot events\r\n                item.min = item.time;\r\n                item.max = item.time;\r\n                item.eventType = item.source.name;\r\n                if (item.newState) {\r\n                    item.eventType = '$__' + item.newState;\r\n                    continue;\r\n                }\r\n                if (!types[item.source.name]) {\r\n                    types[item.source.name] = {\r\n                        color: item.source.iconColor,\r\n                        position: 'BOTTOM',\r\n                        markerSize: 5,\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        var regions = getRegions(annotations);\r\n        addRegionMarking(regions, flotOptions);\r\n        var eventSectionHeight = 20;\r\n        var eventSectionMargin = 7;\r\n        flotOptions.grid.eventSectionHeight = eventSectionMargin;\r\n        flotOptions.xaxis.eventSectionHeight = eventSectionHeight;\r\n        flotOptions.events = {\r\n            levels: __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keys(types).length + 1,\r\n            data: annotations,\r\n            types: types,\r\n            manager: this,\r\n        };\r\n    };\r\n    return EventManager;\r\n}());\r\n\r\nfunction getRegions(events) {\r\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(events, 'isRegion');\r\n}\r\nfunction addRegionMarking(regions, flotOptions) {\r\n    var markings = flotOptions.grid.markings;\r\n    var defaultColor = __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"b\" /* DEFAULT_ANNOTATION_COLOR */];\r\n    var fillColor;\r\n    __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(regions, function (region) {\r\n        if (region.source) {\r\n            fillColor = region.source.iconColor || defaultColor;\r\n        }\r\n        else {\r\n            fillColor = defaultColor;\r\n        }\r\n        fillColor = addAlphaToRGB(fillColor, __WEBPACK_IMPORTED_MODULE_4_app_core_utils_colors__[\"e\" /* REGION_FILL_ALPHA */]);\r\n        markings.push({ xaxis: { from: region.min, to: region.timeEnd }, color: fillColor });\r\n    });\r\n}\r\nfunction addAlphaToRGB(colorString, alpha) {\r\n    var color = __WEBPACK_IMPORTED_MODULE_2_tinycolor2___default()(colorString);\r\n    if (color.isValid()) {\r\n        color.setAlpha(alpha);\r\n        return color.toRgbString();\r\n    }\r\n    else {\r\n        return colorString;\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ 1401:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ \nannotationTooltipDirective.$inject = [\"$sanitize\", \"dashboardSrv\", \"contextSrv\", \"popoverSrv\", \"$compile\"];__webpack_exports__[\"a\"] = annotationTooltipDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__alerting_alert_def__ = __webpack_require__(1307);\n\r\n\r\n\r\n\r\n/** @ngInject **/\r\nfunction annotationTooltipDirective($sanitize, dashboardSrv, contextSrv, popoverSrv, $compile) {\r\n    function sanitizeString(str) {\r\n        try {\r\n            return $sanitize(str);\r\n        }\r\n        catch (err) {\r\n            console.log('Could not sanitize annotation string, html escaping instead');\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.escape(str);\r\n        }\r\n    }\r\n    return {\r\n        restrict: 'E',\r\n        scope: {\r\n            \"event\": \"=\",\r\n            \"onEdit\": \"&\"\r\n        },\r\n        link: function (scope, element) {\r\n            var event = scope.event;\r\n            var title = event.title;\r\n            var text = event.text;\r\n            var dashboard = dashboardSrv.getCurrent();\r\n            var tooltip = '<div class=\"graph-annotation\">';\r\n            var titleStateClass = '';\r\n            if (event.alertId) {\r\n                var stateModel = __WEBPACK_IMPORTED_MODULE_3__alerting_alert_def__[\"a\" /* default */].getStateDisplayModel(event.newState);\r\n                titleStateClass = stateModel.stateClass;\r\n                title = \"<i class=\\\"icon-gf \" + stateModel.iconClass + \"\\\"></i> \" + stateModel.text;\r\n                text = __WEBPACK_IMPORTED_MODULE_3__alerting_alert_def__[\"a\" /* default */].getAlertAnnotationInfo(event);\r\n                if (event.text) {\r\n                    text = text + '<br />' + event.text;\r\n                }\r\n            }\r\n            else if (title) {\r\n                text = title + '<br />' + (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(text) ? text : '');\r\n                title = '';\r\n            }\r\n            var header = \"<div class=\\\"graph-annotation__header\\\">\";\r\n            if (event.login) {\r\n                header += \"<div class=\\\"graph-annotation__user\\\" bs-tooltip=\\\"'Created by \" + event.login + \"'\\\"><img src=\\\"\" + event.avatarUrl + \"\\\" /></div>\";\r\n            }\r\n            header += \"\\n          <span class=\\\"graph-annotation__title \" + titleStateClass + \"\\\">\" + sanitizeString(title) + \"</span>\\n          <span class=\\\"graph-annotation__time\\\">\" + dashboard.formatDate(event.min) + \"</span>\\n      \";\r\n            // Show edit icon only for users with at least Editor role\r\n            if (event.id && contextSrv.isEditor) {\r\n                header += \"\\n          <span class=\\\"pointer graph-annotation__edit-icon\\\" ng-click=\\\"onEdit()\\\">\\n            <i class=\\\"fa fa-pencil-square\\\"></i>\\n          </span>\\n        \";\r\n            }\r\n            header += \"</div>\";\r\n            tooltip += header;\r\n            tooltip += '<div class=\"graph-annotation__body\">';\r\n            if (text) {\r\n                tooltip += '<div>' + sanitizeString(text.replace(/\\n/g, '<br>')) + '</div>';\r\n            }\r\n            var tags = event.tags;\r\n            if (tags && tags.length) {\r\n                scope.tags = tags;\r\n                tooltip += '<span class=\"label label-tag small\" ng-repeat=\"tag in tags\" tag-color-from-name=\"tag\">{{tag}}</span><br/>';\r\n            }\r\n            tooltip += \"</div>\";\r\n            tooltip += '</div>';\r\n            var $tooltip = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(tooltip);\r\n            $tooltip.appendTo(element);\r\n            $compile(element.contents())(scope);\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].directive('annotationTooltip', annotationTooltipDirective);\r\n\n\n/***/ }),\n\n/***/ 1402:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__editor_ctrl__ = __webpack_require__(1403);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__template_srv__ = __webpack_require__(1404);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variable_srv__ = __webpack_require__(1405);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__interval_variable__ = __webpack_require__(1406);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__query_variable__ = __webpack_require__(1407);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__datasource_variable__ = __webpack_require__(1408);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__custom_variable__ = __webpack_require__(1409);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__constant_variable__ = __webpack_require__(1410);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__adhoc_variable__ = __webpack_require__(1411);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"TemplateSrv\", function() { return __WEBPACK_IMPORTED_MODULE_2__template_srv__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"VariableSrv\", function() { return __WEBPACK_IMPORTED_MODULE_3__variable_srv__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"IntervalVariable\", function() { return __WEBPACK_IMPORTED_MODULE_4__interval_variable__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryVariable\", function() { return __WEBPACK_IMPORTED_MODULE_5__query_variable__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"DatasourceVariable\", function() { return __WEBPACK_IMPORTED_MODULE_6__datasource_variable__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomVariable\", function() { return __WEBPACK_IMPORTED_MODULE_7__custom_variable__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ConstantVariable\", function() { return __WEBPACK_IMPORTED_MODULE_8__constant_variable__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"AdhocVariable\", function() { return __WEBPACK_IMPORTED_MODULE_9__adhoc_variable__[\"a\"]; });\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].service('templateSrv', __WEBPACK_IMPORTED_MODULE_2__template_srv__[\"a\" /* TemplateSrv */]);\r\n\r\n\n\n/***/ }),\n\n/***/ 1403:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export VariableEditorCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar VariableEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    VariableEditorCtrl.$inject = [\"$scope\", \"datasourceSrv\", \"variableSrv\", \"templateSrv\"];\r\n    function VariableEditorCtrl($scope, datasourceSrv, variableSrv, templateSrv) {\r\n        $scope.variableTypes = __WEBPACK_IMPORTED_MODULE_2__variable__[\"variableTypes\"];\r\n        $scope.ctrl = {};\r\n        $scope.namePattern = /^(?!__).*$/;\r\n        $scope.refreshOptions = [\r\n            { value: 0, text: \"Never\" },\r\n            { value: 1, text: \"On Dashboard Load\" },\r\n            { value: 2, text: \"On Time Range Change\" },\r\n        ];\r\n        $scope.sortOptions = [\r\n            { value: 0, text: \"Disabled\" },\r\n            { value: 1, text: \"Alphabetical (asc)\" },\r\n            { value: 2, text: \"Alphabetical (desc)\" },\r\n            { value: 3, text: \"Numerical (asc)\" },\r\n            { value: 4, text: \"Numerical (desc)\" },\r\n        ];\r\n        $scope.hideOptions = [\r\n            { value: 0, text: \"\" },\r\n            { value: 1, text: \"Label\" },\r\n            { value: 2, text: \"Variable\" },\r\n        ];\r\n        $scope.init = function () {\r\n            $scope.mode = 'list';\r\n            $scope.variables = variableSrv.variables;\r\n            //alert($scope.variables);\r\n            $scope.reset();\r\n            $scope.$watch('mode', function (val) {\r\n                if (val === 'new') {\r\n                    $scope.reset();\r\n                }\r\n            });\r\n        };\r\n        $scope.add = function () {\r\n            if ($scope.isValid()) {\r\n                variableSrv.addVariable($scope.current);\r\n                $scope.update();\r\n            }\r\n        };\r\n        $scope.isValid = function () {\r\n            if (!$scope.ctrl.form.$valid) {\r\n                return false;\r\n            }\r\n            if (!$scope.current.name.match(/^\\w+$/)) {\r\n                $scope.appEvent('alert-warning', ['Validation', 'Only word and digit characters are allowed in variable names']);\r\n                return false;\r\n            }\r\n            var sameName = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find($scope.variables, { name: $scope.current.name });\r\n            if (sameName && sameName !== $scope.current) {\r\n                $scope.appEvent('alert-warning', ['Validation', 'Variable with the same name already exists']);\r\n                return false;\r\n            }\r\n            if ($scope.current.type === 'query' && $scope.current.query.match(new RegExp('\\\\$' + $scope.current.name + '(/| |$)'))) {\r\n                $scope.appEvent('alert-warning', ['Validation', 'Query cannot contain a reference to itself. Variable: $' + $scope.current.name]);\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        $scope.validate = function () {\r\n            $scope.infoText = '';\r\n            if ($scope.current.type === 'adhoc' && $scope.current.datasource !== null) {\r\n                $scope.infoText = 'Adhoc filters are applied automatically to all queries that target this datasource';\r\n                datasourceSrv.get($scope.current.datasource).then(function (ds) {\r\n                    if (!ds.getTagKeys) {\r\n                        $scope.infoText = 'This datasource does not support adhoc filters yet.';\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        $scope.runQuery = function () {\r\n            return variableSrv.updateOptions($scope.current).then(function () {\r\n                //console.info($scope.current.options);\r\n            }, function (err) {\r\n                if (err.data && err.data.message) {\r\n                    err.message = err.data.message;\r\n                }\r\n                $scope.appEvent(\"alert-error\", ['Templating', 'Template variables could not be initialized: ' + err.message]);\r\n            });\r\n        };\r\n        $scope.edit = function (variable) {\r\n            $scope.current = variable;\r\n            $scope.currentIsNew = false;\r\n            $scope.mode = 'edit';\r\n            $scope.validate();\r\n        };\r\n        $scope.duplicate = function (variable) {\r\n            var clone = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(variable.getSaveModel());\r\n            $scope.current = variableSrv.createVariableFromModel(clone);\r\n            $scope.current.name = 'copy_of_' + variable.name;\r\n            variableSrv.addVariable($scope.current);\r\n        };\r\n        $scope.update = function () {\r\n            if ($scope.isValid()) {\r\n                $scope.runQuery().then(function () {\r\n                    $scope.reset();\r\n                    $scope.mode = 'list';\r\n                    templateSrv.updateTemplateData();\r\n                });\r\n            }\r\n        };\r\n        $scope.reset = function () {\r\n            $scope.currentIsNew = true;\r\n            $scope.current = variableSrv.createVariableFromModel({ type: 'query' });\r\n            // this is done here in case a new data source type variable was added\r\n            $scope.datasources = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(datasourceSrv.getMetricSources(), function (ds) {\r\n                return !ds.meta.mixed && ds.value !== null;\r\n            });\r\n            $scope.datasourceTypes = __WEBPACK_IMPORTED_MODULE_0_lodash___default()($scope.datasources).uniqBy('meta.id').map(function (ds) {\r\n                return { text: ds.meta.name, value: ds.meta.id };\r\n            }).value();\r\n        };\r\n        $scope.typeChanged = function () {\r\n            var old = $scope.current;\r\n            $scope.current = variableSrv.createVariableFromModel({ type: $scope.current.type });\r\n            $scope.current.name = old.name;\r\n            $scope.current.hide = old.hide;\r\n            $scope.current.label = old.label;\r\n            var oldIndex = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.variables, old);\r\n            if (oldIndex !== -1) {\r\n                this.variables[oldIndex] = $scope.current;\r\n            }\r\n            $scope.validate();\r\n        };\r\n        $scope.removeVariable = function (variable) {\r\n            variableSrv.removeVariable(variable);\r\n        };\r\n    }\r\n    return VariableEditorCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].controller('VariableEditorCtrl', VariableEditorCtrl);\r\n\n\n/***/ }),\n\n/***/ 1404:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TemplateSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n\r\n\r\nfunction luceneEscape(value) {\r\n    return value.replace(/([\\!\\*\\+\\-\\=<>\\s\\&\\|\\(\\)\\[\\]\\{\\}\\^\\~\\?\\:\\\\/\"])/g, \"\\\\$1\");\r\n}\r\nvar TemplateSrv = /** @class */ (function () {\r\n    function TemplateSrv() {\r\n        this.regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\r\n        this.index = {};\r\n        this.grafanaVariables = {};\r\n        this.builtIns = {};\r\n        this.filters = {};\r\n        this.builtIns['__interval'] = { text: '1s', value: '1s' };\r\n        this.builtIns['__interval_ms'] = { text: '100', value: '100' };\r\n    }\r\n    TemplateSrv.prototype.init = function (variables) {\r\n        this.variables = variables;\r\n        this.updateTemplateData();\r\n    };\r\n    TemplateSrv.prototype.updateTemplateData = function () {\r\n        this.index = {};\r\n        this.filters = {};\r\n        for (var i = 0; i < this.variables.length; i++) {\r\n            var variable = this.variables[i];\r\n            if (!variable.current || !variable.current.isNone && !variable.current.value) {\r\n                continue;\r\n            }\r\n            this.index[variable.name] = variable;\r\n        }\r\n    };\r\n    TemplateSrv.prototype.variableInitialized = function (variable) {\r\n        this.index[variable.name] = variable;\r\n    };\r\n    TemplateSrv.prototype.getAdhocFilters = function (datasourceName) {\r\n        var filters = [];\r\n        for (var i = 0; i < this.variables.length; i++) {\r\n            var variable = this.variables[i];\r\n            if (variable.type !== 'adhoc') {\r\n                continue;\r\n            }\r\n            if (variable.datasource === datasourceName) {\r\n                filters = filters.concat(variable.filters);\r\n            }\r\n            if (variable.datasource.indexOf('$') === 0) {\r\n                if (this.replace(variable.datasource) === datasourceName) {\r\n                    filters = filters.concat(variable.filters);\r\n                }\r\n            }\r\n        }\r\n        return filters;\r\n    };\r\n    TemplateSrv.prototype.luceneFormat = function (value) {\r\n        if (typeof value === 'string') {\r\n            return luceneEscape(value);\r\n        }\r\n        var quotedValues = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(value, function (val) {\r\n            return '\\\"' + luceneEscape(val) + '\\\"';\r\n        });\r\n        return '(' + quotedValues.join(' OR ') + ')';\r\n    };\r\n    TemplateSrv.prototype.formatValue = function (value, format, variable) {\r\n        // for some scopedVars there is no variable\r\n        variable = variable || {};\r\n        if (typeof format === 'function') {\r\n            return format(value, variable, this.formatValue);\r\n        }\r\n        switch (format) {\r\n            case \"regex\": {\r\n                if (typeof value === 'string') {\r\n                    return __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].regexEscape(value);\r\n                }\r\n                var escapedValues = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(value, __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].regexEscape);\r\n                return '(' + escapedValues.join('|') + ')';\r\n            }\r\n            case \"lucene\": {\r\n                return this.luceneFormat(value);\r\n            }\r\n            case \"pipe\": {\r\n                if (typeof value === 'string') {\r\n                    return value;\r\n                }\r\n                return value.join('|');\r\n            }\r\n            case \"distributed\": {\r\n                if (typeof value === 'string') {\r\n                    return value;\r\n                }\r\n                return this.distributeVariable(value, variable.name);\r\n            }\r\n            default: {\r\n                if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(value)) {\r\n                    return '{' + value.join(',') + '}';\r\n                }\r\n                return value;\r\n            }\r\n        }\r\n    };\r\n    TemplateSrv.prototype.setGrafanaVariable = function (name, value) {\r\n        this.grafanaVariables[name] = value;\r\n    };\r\n    TemplateSrv.prototype.getVariableName = function (expression) {\r\n        this.regex.lastIndex = 0;\r\n        var match = this.regex.exec(expression);\r\n        if (!match) {\r\n            return null;\r\n        }\r\n        return match[1] || match[2];\r\n    };\r\n    TemplateSrv.prototype.variableExists = function (expression) {\r\n        var name = this.getVariableName(expression);\r\n        return name && (this.index[name] !== void 0);\r\n    };\r\n    TemplateSrv.prototype.highlightVariablesAsHtml = function (str) {\r\n        var _this = this;\r\n        if (!str || !__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(str)) {\r\n            return str;\r\n        }\r\n        str = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.escape(str);\r\n        this.regex.lastIndex = 0;\r\n        return str.replace(this.regex, function (match, g1, g2) {\r\n            if (_this.index[g1 || g2] || _this.builtIns[g1 || g2]) {\r\n                return '<span class=\"template-variable\">' + match + '</span>';\r\n            }\r\n            return match;\r\n        });\r\n    };\r\n    TemplateSrv.prototype.getAllValue = function (variable) {\r\n        if (variable.allValue) {\r\n            return variable.allValue;\r\n        }\r\n        var values = [];\r\n        for (var i = 1; i < variable.options.length; i++) {\r\n            values.push(variable.options[i].value);\r\n        }\r\n        return values;\r\n    };\r\n    TemplateSrv.prototype.replace = function (target, scopedVars, format) {\r\n        var _this = this;\r\n        if (!target) {\r\n            return target;\r\n        }\r\n        var variable, systemValue, value;\r\n        this.regex.lastIndex = 0;\r\n        return target.replace(this.regex, function (match, g1, g2) {\r\n            variable = _this.index[g1 || g2];\r\n            if (scopedVars) {\r\n                value = scopedVars[g1 || g2];\r\n                if (value) {\r\n                    return _this.formatValue(value.value, format, variable);\r\n                }\r\n            }\r\n            if (!variable) {\r\n                return match;\r\n            }\r\n            systemValue = _this.grafanaVariables[variable.current.value];\r\n            if (systemValue) {\r\n                return _this.formatValue(systemValue, format, variable);\r\n            }\r\n            value = variable.current.value;\r\n            if (_this.isAllValue(value)) {\r\n                value = _this.getAllValue(variable);\r\n                // skip formating of custom all values\r\n                if (variable.allValue) {\r\n                    return value;\r\n                }\r\n            }\r\n            var res = _this.formatValue(value, format, variable);\r\n            return res;\r\n        });\r\n    };\r\n    TemplateSrv.prototype.isAllValue = function (value) {\r\n        return value === '$__all' || Array.isArray(value) && value[0] === '$__all';\r\n    };\r\n    TemplateSrv.prototype.replaceWithText = function (target, scopedVars) {\r\n        var _this = this;\r\n        if (!target) {\r\n            return target;\r\n        }\r\n        var variable;\r\n        this.regex.lastIndex = 0;\r\n        return target.replace(this.regex, function (match, g1, g2) {\r\n            if (scopedVars) {\r\n                var option = scopedVars[g1 || g2];\r\n                if (option) {\r\n                    return option.text;\r\n                }\r\n            }\r\n            variable = _this.index[g1 || g2];\r\n            if (!variable) {\r\n                return match;\r\n            }\r\n            return _this.grafanaVariables[variable.current.value] || variable.current.text;\r\n        });\r\n    };\r\n    TemplateSrv.prototype.fillVariableValuesForUrl = function (params, scopedVars) {\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(this.variables, function (variable) {\r\n            if (scopedVars && scopedVars[variable.name] !== void 0) {\r\n                params['var-' + variable.name] = scopedVars[variable.name].value;\r\n            }\r\n            else {\r\n                params['var-' + variable.name] = variable.getValueForUrl();\r\n            }\r\n        });\r\n    };\r\n    TemplateSrv.prototype.distributeVariable = function (value, variable) {\r\n        value = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(value, function (val, index) {\r\n            if (index !== 0) {\r\n                return variable + \"=\" + val;\r\n            }\r\n            else {\r\n                return val;\r\n            }\r\n        });\r\n        return value.join(',');\r\n    };\r\n    return TemplateSrv;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1405:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return VariableSrv; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\nvar VariableSrv = /** @class */ (function () {\r\n    /** @ngInject */\n    VariableSrv.$inject = [\"$rootScope\", \"$q\", \"$location\", \"$injector\", \"templateSrv\"];\r\n    function VariableSrv($rootScope, $q, $location, $injector, templateSrv) {\r\n        this.$rootScope = $rootScope;\r\n        this.$q = $q;\r\n        this.$location = $location;\r\n        this.$injector = $injector;\r\n        this.templateSrv = templateSrv;\r\n        // update time variant variables\r\n        $rootScope.$on('refresh', this.onDashboardRefresh.bind(this), $rootScope);\r\n        $rootScope.$on('template-variable-value-updated', this.updateUrlParamsWithCurrentVariables.bind(this), $rootScope);\r\n    }\r\n    VariableSrv.prototype.init = function (dashboard) {\r\n        var _this = this;\r\n        this.dashboard = dashboard;\r\n        // create working class models representing variables\r\n        this.variables = dashboard.templating.list = dashboard.templating.list.map(this.createVariableFromModel.bind(this));\r\n        this.templateSrv.init(this.variables);\r\n        // init variables\r\n        for (var _i = 0, _a = this.variables; _i < _a.length; _i++) {\r\n            var variable = _a[_i];\r\n            variable.initLock = this.$q.defer();\r\n        }\r\n        var queryParams = this.$location.search();\r\n        return this.$q.all(this.variables.map(function (variable) {\r\n            return _this.processVariable(variable, queryParams);\r\n        })).then(function () {\r\n            _this.templateSrv.updateTemplateData();\r\n        });\r\n    };\r\n    VariableSrv.prototype.onDashboardRefresh = function () {\r\n        var _this = this;\r\n        var promises = this.variables\r\n            .filter(function (variable) { return variable.refresh === 2; })\r\n            .map(function (variable) {\r\n            var previousOptions = variable.options.slice();\r\n            return variable.updateOptions()\r\n                .then(function () {\r\n                if (__WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(previousOptions) !== __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(variable.options)) {\r\n                    _this.$rootScope.$emit('template-variable-value-updated');\r\n                }\r\n            });\r\n        });\r\n        return this.$q.all(promises);\r\n    };\r\n    VariableSrv.prototype.processVariable = function (variable, queryParams) {\r\n        var _this = this;\r\n        var dependencies = [];\r\n        for (var _i = 0, _a = this.variables; _i < _a.length; _i++) {\r\n            var otherVariable = _a[_i];\r\n            if (variable.dependsOn(otherVariable)) {\r\n                dependencies.push(otherVariable.initLock.promise);\r\n            }\r\n        }\r\n        return this.$q.all(dependencies).then(function () {\r\n            var urlValue = queryParams['var-' + variable.name];\r\n            if (urlValue !== void 0) {\r\n                return variable.setValueFromUrl(urlValue).then(variable.initLock.resolve);\r\n            }\r\n            if (variable.refresh === 1 || variable.refresh === 2) {\r\n                return variable.updateOptions().then(variable.initLock.resolve);\r\n            }\r\n            variable.initLock.resolve();\r\n        }).finally(function () {\r\n            _this.templateSrv.variableInitialized(variable);\r\n            delete variable.initLock;\r\n        });\r\n    };\r\n    VariableSrv.prototype.createVariableFromModel = function (model) {\r\n        var ctor = __WEBPACK_IMPORTED_MODULE_3__variable__[\"variableTypes\"][model.type].ctor;\r\n        if (!ctor) {\r\n            throw { message: \"Unable to find variable constructor for \" + model.type };\r\n        }\r\n        var variable = this.$injector.instantiate(ctor, { model: model });\r\n        return variable;\r\n    };\r\n    VariableSrv.prototype.addVariable = function (variable) {\r\n        this.variables.push(variable);\r\n        this.templateSrv.updateTemplateData();\r\n        this.dashboard.updateSubmenuVisibility();\r\n    };\r\n    VariableSrv.prototype.removeVariable = function (variable) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.indexOf(this.variables, variable);\r\n        this.variables.splice(index, 1);\r\n        this.templateSrv.updateTemplateData();\r\n        this.dashboard.updateSubmenuVisibility();\r\n    };\r\n    VariableSrv.prototype.updateOptions = function (variable) {\r\n        return variable.updateOptions();\r\n    };\r\n    VariableSrv.prototype.variableUpdated = function (variable, emitChangeEvents) {\r\n        var _this = this;\r\n        // if there is a variable lock ignore cascading update because we are in a boot up scenario\r\n        if (variable.initLock) {\r\n            return this.$q.when();\r\n        }\r\n        // cascade updates to variables that use this variable\r\n        var promises = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(this.variables, function (otherVariable) {\r\n            if (otherVariable === variable) {\r\n                return;\r\n            }\r\n            if (otherVariable.dependsOn(variable)) {\r\n                return _this.updateOptions(otherVariable);\r\n            }\r\n        });\r\n        return this.$q.all(promises).then(function () {\r\n            if (emitChangeEvents) {\r\n                _this.$rootScope.$emit('template-variable-value-updated');\r\n                _this.$rootScope.$broadcast('refresh');\r\n            }\r\n        });\r\n    };\r\n    VariableSrv.prototype.selectOptionsForCurrentValue = function (variable) {\r\n        var i, y, value, option;\r\n        var selected = [];\r\n        //console.info(variable.options);\r\n        for (i = 0; i < variable.options.length; i++) {\r\n            option = variable.options[i];\r\n            option.selected = false;\r\n            if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(variable.current.value)) {\r\n                for (y = 0; y < variable.current.value.length; y++) {\r\n                    value = variable.current.value[y];\r\n                    if (option.value === value) {\r\n                        option.selected = true;\r\n                        selected.push(option);\r\n                    }\r\n                }\r\n            }\r\n            else if (option.value === variable.current.value) {\r\n                option.selected = true;\r\n                selected.push(option);\r\n            }\r\n        }\r\n        return selected;\r\n    };\r\n    VariableSrv.prototype.validateVariableSelectionState = function (variable) {\r\n        if (!variable.current) {\r\n            variable.current = {};\r\n        }\r\n        //console.info(variable.options);\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(variable.current.value)) {\r\n            var selected = this.selectOptionsForCurrentValue(variable);\r\n            // if none pick first\r\n            if (selected.length === 0) {\r\n                selected = variable.options[0];\r\n            }\r\n            else {\r\n                selected = {\r\n                    value: __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(selected, function (val) { return val.value; }),\r\n                    text: __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(selected, function (val) { return val.text; }).join(' + '),\r\n                };\r\n            }\r\n            return variable.setValue(selected);\r\n        }\r\n        else {\r\n            var currentOption = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(variable.options, { text: variable.current.text });\r\n            if (currentOption) {\r\n                return variable.setValue(currentOption);\r\n            }\r\n            else {\r\n                if (!variable.options.length) {\r\n                    return Promise.resolve();\r\n                }\r\n                return variable.setValue(variable.options[0]);\r\n            }\r\n        }\r\n    };\r\n    VariableSrv.prototype.setOptionFromUrl = function (variable, urlValue) {\r\n        var promise = this.$q.when();\r\n        if (variable.refresh) {\r\n            promise = variable.updateOptions();\r\n        }\r\n        return promise.then(function () {\r\n            var option = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(variable.options, function (op) {\r\n                return op.text === urlValue || op.value === urlValue;\r\n            });\r\n            option = option || { text: urlValue, value: urlValue };\r\n            return variable.setValue(option);\r\n        });\r\n    };\r\n    VariableSrv.prototype.setOptionAsCurrent = function (variable, option) {\r\n        variable.current = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.cloneDeep(option);\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(variable.current.text)) {\r\n            variable.current.text = variable.current.text.join(' + ');\r\n        }\r\n        this.selectOptionsForCurrentValue(variable);\r\n        return this.variableUpdated(variable);\r\n    };\r\n    VariableSrv.prototype.updateUrlParamsWithCurrentVariables = function () {\r\n        // update url\r\n        var params = this.$location.search();\r\n        // remove variable params\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(params, function (value, key) {\r\n            if (key.indexOf('var-') === 0) {\r\n                delete params[key];\r\n            }\r\n        });\r\n        // add new values\r\n        this.templateSrv.fillVariableValuesForUrl(params);\r\n        // update url\r\n        this.$location.search(params);\r\n    };\r\n    VariableSrv.prototype.setAdhocFilter = function (options) {\r\n        var variable = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(this.variables, { type: 'adhoc', datasource: options.datasource });\r\n        if (!variable) {\r\n            variable = this.createVariableFromModel({ name: 'Filters', type: 'adhoc', datasource: options.datasource });\r\n            this.addVariable(variable);\r\n        }\r\n        var filters = variable.filters;\r\n        var filter = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(filters, { key: options.key, value: options.value });\r\n        if (!filter) {\r\n            filter = { key: options.key, value: options.value };\r\n            filters.push(filter);\r\n        }\r\n        filter.operator = options.operator;\r\n        this.variableUpdated(variable, true);\r\n    };\r\n    return VariableSrv;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core_module__[\"default\"].service('variableSrv', VariableSrv);\r\n\n\n/***/ }),\n\n/***/ 1406:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IntervalVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar IntervalVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    IntervalVariable.$inject = [\"model\", \"timeSrv\", \"templateSrv\", \"variableSrv\"];\r\n    function IntervalVariable(model, timeSrv, templateSrv, variableSrv) {\r\n        this.model = model;\r\n        this.timeSrv = timeSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.variableSrv = variableSrv;\r\n        this.defaults = {\r\n            type: 'interval',\r\n            name: '',\r\n            hide: 0,\r\n            label: '',\r\n            refresh: 2,\r\n            options: [],\r\n            current: {},\r\n            query: '1m,10m,30m,1h,6h,12h,1d,7d,14d,30d',\r\n            auto: false,\r\n            auto_min: '10s',\r\n            auto_count: 30,\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_2__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n        this.refresh = 2;\r\n    }\r\n    IntervalVariable.prototype.getSaveModel = function () {\r\n        Object(__WEBPACK_IMPORTED_MODULE_2__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        return this.model;\r\n    };\r\n    IntervalVariable.prototype.setValue = function (option) {\r\n        this.updateAutoValue();\r\n        return this.variableSrv.setOptionAsCurrent(this, option);\r\n    };\r\n    IntervalVariable.prototype.updateAutoValue = function () {\r\n        if (!this.auto) {\r\n            return;\r\n        }\r\n        // add auto option if missing\r\n        if (this.options.length && this.options[0].text !== 'auto') {\r\n            this.options.unshift({ text: 'auto', value: '$__auto_interval_' + this.name });\r\n        }\r\n        var res = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].calculateInterval(this.timeSrv.timeRange(), this.auto_count, this.auto_min);\r\n        this.templateSrv.setGrafanaVariable('$__auto_interval_' + this.name, res.interval);\r\n        // for backward compatibility, to be removed eventually\r\n        this.templateSrv.setGrafanaVariable('$__auto_interval', res.interval);\r\n    };\r\n    IntervalVariable.prototype.updateOptions = function () {\r\n        // extract options between quotes and/or comma\r\n        this.options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.query.match(/([\"'])(.*?)\\1|\\w+/g), function (text) {\r\n            text = text.replace(/[\"']+/g, '');\r\n            return { text: text.trim(), value: text.trim() };\r\n        });\r\n        this.updateAutoValue();\r\n        return this.variableSrv.validateVariableSelectionState(this);\r\n    };\r\n    IntervalVariable.prototype.dependsOn = function (variable) {\r\n        return false;\r\n    };\r\n    IntervalVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        this.updateAutoValue();\r\n        return this.variableSrv.setOptionFromUrl(this, urlValue);\r\n    };\r\n    IntervalVariable.prototype.getValueForUrl = function () {\r\n        return this.current.value;\r\n    };\r\n    return IntervalVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2__variable__[\"variableTypes\"]['interval'] = {\r\n    name: 'Interval',\r\n    ctor: IntervalVariable,\r\n    description: 'Define a timespan interval (ex 1m, 1h, 1d)',\r\n};\r\n\n\n/***/ }),\n\n/***/ 1407:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return QueryVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__variable__ = __webpack_require__(1306);\n\r\n\r\n\r\nfunction getNoneOption() {\r\n    return { text: 'None', value: '', isNone: true };\r\n}\r\nvar QueryVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    QueryVariable.$inject = [\"model\", \"datasourceSrv\", \"templateSrv\", \"variableSrv\", \"backendSrv\", \"timeSrv\"];\r\n    function QueryVariable(model, datasourceSrv, templateSrv, variableSrv, backendSrv, timeSrv) {\r\n        this.model = model;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.variableSrv = variableSrv;\r\n        this.backendSrv = backendSrv;\r\n        this.timeSrv = timeSrv;\r\n        this.defaults = {\r\n            type: 'query',\r\n            label: null,\r\n            query: '',\r\n            regex: '',\r\n            sort: 0,\r\n            datasource: null,\r\n            refresh: 0,\r\n            hide: 0,\r\n            name: '',\r\n            multi: false,\r\n            includeAll: false,\r\n            allValue: null,\r\n            options: [],\r\n            current: {},\r\n            tags: [],\r\n            useTags: false,\r\n            tagsQuery: \"\",\r\n            tagValuesQuery: \"\",\r\n        };\r\n        // copy model properties to this instance\r\n        Object(__WEBPACK_IMPORTED_MODULE_2__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n        var instance = this;\r\n        /*window.$.ajax({\r\n          url : 'http://61.164.218.158:8080/DataCenter/manager/manager_device_listall.action',\r\n          //'http://192.168.3.65:8080/DataCenter/manager/manager_device_listall.action',\r\n          type : \"post\",\r\n          dataType : \"jsonp\",\r\n          crossDomain: true,\r\n          /*data:{'callback':5},\r\n          jsonp: \"callback\",\r\n          jsonpCallback:\"message\",\r\n          data:{'callback':'message'},ju\r\n          success : function(data)\r\n          {\r\n              instance.cnData=data;\r\n          }\r\n        });*/\r\n        var res = backendSrv.get('http://61.164.218.158:8080/AirServer/site/findAllSites')\r\n            .then(function (resp) {\r\n            //console.info(resp);\r\n            instance.cnData = resp;\r\n        }, function (resp) {\r\n            console.info(resp);\r\n        });\r\n        //console.info('startaaa11');\r\n    }\r\n    QueryVariable.prototype.getSaveModel = function () {\r\n        // copy back model properties to model\r\n        Object(__WEBPACK_IMPORTED_MODULE_2__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        // remove options\r\n        if (this.refresh !== 0) {\r\n            this.model.options = [];\r\n        }\r\n        return this.model;\r\n    };\r\n    QueryVariable.prototype.setValue = function (option) {\r\n        return this.variableSrv.setOptionAsCurrent(this, option);\r\n    };\r\n    QueryVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        return this.variableSrv.setOptionFromUrl(this, urlValue);\r\n    };\r\n    QueryVariable.prototype.getValueForUrl = function () {\r\n        if (this.current.text === 'All') {\r\n            return 'All';\r\n        }\r\n        return this.current.value;\r\n    };\r\n    QueryVariable.prototype.updateOptions = function () {\r\n        return this.datasourceSrv.get(this.datasource)\r\n            .then(this.updateOptionsFromMetricFindQuery.bind(this))\r\n            .then(this.updateTags.bind(this))\r\n            .then(this.variableSrv.validateVariableSelectionState.bind(this.variableSrv, this));\r\n    };\r\n    QueryVariable.prototype.updateTags = function (datasource) {\r\n        var _this = this;\r\n        if (this.useTags) {\r\n            return this.metricFindQuery(datasource, this.tagsQuery).then(function (results) {\r\n                _this.tags = [];\r\n                for (var i = 0; i < results.length; i++) {\r\n                    _this.tags.push(results[i].text);\r\n                }\r\n                return datasource;\r\n            });\r\n        }\r\n        else {\r\n            delete this.tags;\r\n        }\r\n        return datasource;\r\n    };\r\n    QueryVariable.prototype.getValuesForTag = function (tagKey) {\r\n        var _this = this;\r\n        return this.datasourceSrv.get(this.datasource).then(function (datasource) {\r\n            var query = _this.tagValuesQuery.replace('$tag', tagKey);\r\n            return _this.metricFindQuery(datasource, query).then(function (results) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results, function (value) {\r\n                    return value.text;\r\n                });\r\n            });\r\n        });\r\n    };\r\n    QueryVariable.prototype.updateOptionsFromMetricFindQuery = function (datasource) {\r\n        var _this = this;\r\n        return this.metricFindQuery(datasource, this.query).then(function (results) {\r\n            //console.info(results);\r\n            _this.options = _this.metricNamesToVariableValues(results);\r\n            //console.info(this.options);\r\n            if (_this.includeAll) {\r\n                _this.addAllOption();\r\n            }\r\n            if (!_this.options.length) {\r\n                _this.options.push(getNoneOption());\r\n            }\r\n            return datasource;\r\n        });\r\n    };\r\n    QueryVariable.prototype.metricFindQuery = function (datasource, query) {\r\n        var options = { range: undefined, variable: this };\r\n        if (this.refresh === 2) {\r\n            options.range = this.timeSrv.timeRange();\r\n        }\r\n        return datasource.metricFindQuery(query, options);\r\n    };\r\n    QueryVariable.prototype.addAllOption = function () {\r\n        this.options.unshift({ text: 'All', value: \"$__all\", cn: '全选' });\r\n    };\r\n    QueryVariable.prototype.metricNamesToVariableValues = function (metricNames) {\r\n        //alert(metricNames);\r\n        var regex, options, i, matches;\r\n        options = [];\r\n        if (this.regex) {\r\n            regex = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].stringToJsRegex(this.templateSrv.replace(this.regex, {}, 'regex'));\r\n        }\r\n        for (i = 0; i < metricNames.length; i++) {\r\n            var item = metricNames[i];\r\n            var text = item.text === undefined || item.text === null\r\n                ? item.value\r\n                : item.text;\r\n            var value = item.value === undefined || item.value === null\r\n                ? item.text\r\n                : item.value;\r\n            if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(value)) {\r\n                value = value.toString();\r\n            }\r\n            if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(text)) {\r\n                text = text.toString();\r\n            }\r\n            if (regex) {\r\n                matches = regex.exec(value);\r\n                if (!matches) {\r\n                    continue;\r\n                }\r\n                if (matches.length > 1) {\r\n                    value = matches[1];\r\n                    text = matches[1];\r\n                }\r\n            }\r\n            options.push({ text: text, value: value, cn: item.cn });\r\n        }\r\n        options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniqBy(options, 'value');\r\n        return this.sortVariableValues(options, this.sort);\r\n    };\r\n    QueryVariable.prototype.sortVariableValues = function (options, sortOrder) {\r\n        if (sortOrder === 0) {\r\n            return options;\r\n        }\r\n        var sortType = Math.ceil(sortOrder / 2);\r\n        var reverseSort = (sortOrder % 2 === 0);\r\n        if (sortType === 1) {\r\n            options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(options, 'text');\r\n        }\r\n        else if (sortType === 2) {\r\n            options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(options, function (opt) {\r\n                var matches = opt.text.match(/.*?(\\d+).*/);\r\n                if (!matches || matches.length < 2) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return parseInt(matches[1], 10);\r\n                }\r\n            });\r\n        }\r\n        if (reverseSort) {\r\n            options = options.reverse();\r\n        }\r\n        return options;\r\n    };\r\n    QueryVariable.prototype.dependsOn = function (variable) {\r\n        return Object(__WEBPACK_IMPORTED_MODULE_2__variable__[\"containsVariable\"])(this.query, this.datasource, variable.name);\r\n    };\r\n    return QueryVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2__variable__[\"variableTypes\"]['query'] = {\r\n    name: 'Query',\r\n    ctor: QueryVariable,\r\n    description: 'Variable values are fetched from a datasource query',\r\n    supportsMulti: true,\r\n};\r\n\n\n/***/ }),\n\n/***/ 1408:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DatasourceVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar DatasourceVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    DatasourceVariable.$inject = [\"model\", \"datasourceSrv\", \"variableSrv\", \"templateSrv\"];\r\n    function DatasourceVariable(model, datasourceSrv, variableSrv, templateSrv) {\r\n        this.model = model;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.variableSrv = variableSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.defaults = {\r\n            type: 'datasource',\r\n            name: '',\r\n            hide: 0,\r\n            label: '',\r\n            current: {},\r\n            regex: '',\r\n            options: [],\r\n            query: '',\r\n            refresh: 1,\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n        this.refresh = 1;\r\n    }\r\n    DatasourceVariable.prototype.getSaveModel = function () {\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        // dont persist options\r\n        this.model.options = [];\r\n        return this.model;\r\n    };\r\n    DatasourceVariable.prototype.setValue = function (option) {\r\n        return this.variableSrv.setOptionAsCurrent(this, option);\r\n    };\r\n    DatasourceVariable.prototype.updateOptions = function () {\r\n        var options = [];\r\n        var sources = this.datasourceSrv.getMetricSources({ skipVariables: true });\r\n        var regex;\r\n        if (this.regex) {\r\n            regex = this.templateSrv.replace(this.regex, null, 'regex');\r\n            regex = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].stringToJsRegex(regex);\r\n        }\r\n        for (var i = 0; i < sources.length; i++) {\r\n            var source = sources[i];\r\n            // must match on type\r\n            if (source.meta.id !== this.query) {\r\n                continue;\r\n            }\r\n            if (regex && !regex.exec(source.name)) {\r\n                continue;\r\n            }\r\n            options.push({ text: source.name, value: source.name });\r\n        }\r\n        if (options.length === 0) {\r\n            options.push({ text: 'No data sources found', value: '' });\r\n        }\r\n        this.options = options;\r\n        return this.variableSrv.validateVariableSelectionState(this);\r\n    };\r\n    DatasourceVariable.prototype.dependsOn = function (variable) {\r\n        if (this.regex) {\r\n            return Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"containsVariable\"])(this.regex, variable.name);\r\n        }\r\n        return false;\r\n    };\r\n    DatasourceVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        return this.variableSrv.setOptionFromUrl(this, urlValue);\r\n    };\r\n    DatasourceVariable.prototype.getValueForUrl = function () {\r\n        return this.current.value;\r\n    };\r\n    return DatasourceVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1__variable__[\"variableTypes\"]['datasource'] = {\r\n    name: 'Datasource',\r\n    ctor: DatasourceVariable,\r\n    description: 'Enabled you to dynamically switch the datasource for multiple panels',\r\n};\r\n\n\n/***/ }),\n\n/***/ 1409:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CustomVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar CustomVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    CustomVariable.$inject = [\"model\", \"variableSrv\"];\r\n    function CustomVariable(model, variableSrv) {\r\n        this.model = model;\r\n        this.variableSrv = variableSrv;\r\n        this.defaults = {\r\n            type: 'custom',\r\n            name: '',\r\n            label: '',\r\n            hide: 0,\r\n            options: [],\r\n            current: {},\r\n            query: '',\r\n            includeAll: false,\r\n            multi: false,\r\n            allValue: null,\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n    }\r\n    CustomVariable.prototype.setValue = function (option) {\r\n        return this.variableSrv.setOptionAsCurrent(this, option);\r\n    };\r\n    CustomVariable.prototype.getSaveModel = function () {\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        return this.model;\r\n    };\r\n    CustomVariable.prototype.updateOptions = function () {\r\n        // extract options in comma separated string\r\n        this.options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.query.split(/[,]+/), function (text) {\r\n            return { text: text.trim(), value: text.trim() };\r\n        });\r\n        if (this.includeAll) {\r\n            this.addAllOption();\r\n        }\r\n        return this.variableSrv.validateVariableSelectionState(this);\r\n    };\r\n    CustomVariable.prototype.addAllOption = function () {\r\n        this.options.unshift({ text: 'All', value: \"$__all\" });\r\n    };\r\n    CustomVariable.prototype.dependsOn = function (variable) {\r\n        return false;\r\n    };\r\n    CustomVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        return this.variableSrv.setOptionFromUrl(this, urlValue);\r\n    };\r\n    CustomVariable.prototype.getValueForUrl = function () {\r\n        if (this.current.text === 'All') {\r\n            return 'All';\r\n        }\r\n        return this.current.value;\r\n    };\r\n    return CustomVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1__variable__[\"variableTypes\"]['custom'] = {\r\n    name: 'Custom',\r\n    ctor: CustomVariable,\r\n    description: 'Define variable values manually',\r\n    supportsMulti: true,\r\n};\r\n\n\n/***/ }),\n\n/***/ 1410:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ConstantVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__variable__ = __webpack_require__(1306);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar ConstantVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    ConstantVariable.$inject = [\"model\", \"variableSrv\"];\r\n    function ConstantVariable(model, variableSrv) {\r\n        this.model = model;\r\n        this.variableSrv = variableSrv;\r\n        this.defaults = {\r\n            type: 'constant',\r\n            name: '',\r\n            hide: 2,\r\n            label: '',\r\n            query: '',\r\n            current: {},\r\n            options: [],\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_0__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n    }\r\n    ConstantVariable.prototype.getSaveModel = function () {\r\n        Object(__WEBPACK_IMPORTED_MODULE_0__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        return this.model;\r\n    };\r\n    ConstantVariable.prototype.setValue = function (option) {\r\n        this.variableSrv.setOptionAsCurrent(this, option);\r\n    };\r\n    ConstantVariable.prototype.updateOptions = function () {\r\n        this.options = [{ text: this.query.trim(), value: this.query.trim() }];\r\n        this.setValue(this.options[0]);\r\n        return Promise.resolve();\r\n    };\r\n    ConstantVariable.prototype.dependsOn = function (variable) {\r\n        return false;\r\n    };\r\n    ConstantVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        return this.variableSrv.setOptionFromUrl(this, urlValue);\r\n    };\r\n    ConstantVariable.prototype.getValueForUrl = function () {\r\n        return this.current.value;\r\n    };\r\n    return ConstantVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0__variable__[\"variableTypes\"]['constant'] = {\r\n    name: 'Constant',\r\n    ctor: ConstantVariable,\r\n    description: 'Define a hidden constant variable, useful for metric prefixes in dashboards you want to share',\r\n};\r\n\n\n/***/ }),\n\n/***/ 1411:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AdhocVariable; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__variable__ = __webpack_require__(1306);\n\r\n\r\nvar AdhocVariable = /** @class */ (function () {\r\n    /** @ngInject **/\n    AdhocVariable.$inject = [\"model\"];\r\n    function AdhocVariable(model) {\r\n        this.model = model;\r\n        this.defaults = {\r\n            type: 'adhoc',\r\n            name: '',\r\n            label: '',\r\n            hide: 0,\r\n            datasource: null,\r\n            filters: [],\r\n        };\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this, model, this.defaults);\r\n    }\r\n    AdhocVariable.prototype.setValue = function (option) {\r\n        return Promise.resolve();\r\n    };\r\n    AdhocVariable.prototype.getSaveModel = function () {\r\n        Object(__WEBPACK_IMPORTED_MODULE_1__variable__[\"assignModelProperties\"])(this.model, this, this.defaults);\r\n        return this.model;\r\n    };\r\n    AdhocVariable.prototype.updateOptions = function () {\r\n        return Promise.resolve();\r\n    };\r\n    AdhocVariable.prototype.dependsOn = function (variable) {\r\n        return false;\r\n    };\r\n    AdhocVariable.prototype.setValueFromUrl = function (urlValue) {\r\n        var _this = this;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(urlValue)) {\r\n            urlValue = [urlValue];\r\n        }\r\n        this.filters = urlValue.map(function (item) {\r\n            var values = item.split('|').map(function (value) {\r\n                return _this.unescapeDelimiter(value);\r\n            });\r\n            return {\r\n                key: values[0],\r\n                operator: values[1],\r\n                value: values[2],\r\n            };\r\n        });\r\n        return Promise.resolve();\r\n    };\r\n    AdhocVariable.prototype.getValueForUrl = function () {\r\n        var _this = this;\r\n        return this.filters.map(function (filter) {\r\n            return [filter.key, filter.operator, filter.value].map(function (value) {\r\n                return _this.escapeDelimiter(value);\r\n            }).join('|');\r\n        });\r\n    };\r\n    AdhocVariable.prototype.escapeDelimiter = function (value) {\r\n        return value.replace(/\\|/g, '__gfp__');\r\n    };\r\n    AdhocVariable.prototype.unescapeDelimiter = function (value) {\r\n        return value.replace(/__gfp__/g, '|');\r\n    };\r\n    AdhocVariable.prototype.setFilters = function (filters) {\r\n        this.filters = filters;\r\n    };\r\n    return AdhocVariable;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1__variable__[\"variableTypes\"]['adhoc'] = {\r\n    name: 'Ad hoc filters',\r\n    ctor: AdhocVariable,\r\n    description: 'Add key/value filters on the fly',\r\n};\r\n\n\n/***/ }),\n\n/***/ 1412:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin_edit_ctrl__ = __webpack_require__(1413);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__plugin_page_ctrl__ = __webpack_require__(1414);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__plugin_list_ctrl__ = __webpack_require__(1415);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__import_list_import_list__ = __webpack_require__(1416);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ds_edit_ctrl__ = __webpack_require__(1417);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ds_list_ctrl__ = __webpack_require__(1418);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__datasource_srv__ = __webpack_require__(1419);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__datasource_srv___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__datasource_srv__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__plugin_component__ = __webpack_require__(1540);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1413:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export PluginEditCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable__ = __webpack_require__(469);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_remarkable__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar PluginEditCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    PluginEditCtrl.$inject = [\"$scope\", \"$rootScope\", \"backendSrv\", \"$sce\", \"$routeParams\", \"navModelSrv\"];\r\n    function PluginEditCtrl($scope, $rootScope, backendSrv, $sce, $routeParams, navModelSrv) {\r\n        this.$scope = $scope;\r\n        this.$rootScope = $rootScope;\r\n        this.backendSrv = backendSrv;\r\n        this.$sce = $sce;\r\n        this.navModel = navModelSrv.getPluginsNav();\r\n        this.model = {};\r\n        this.pluginId = $routeParams.pluginId;\r\n        this.tabIndex = 0;\r\n        this.tabs = ['Readme'];\r\n        this.preUpdateHook = function () { return Promise.resolve(); };\r\n        this.postUpdateHook = function () { return Promise.resolve(); };\r\n    }\r\n    PluginEditCtrl.prototype.init = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get(\"/api/plugins/\" + this.pluginId + \"/settings\").then(function (result) {\r\n            _this.model = result;\r\n            _this.pluginIcon = _this.getPluginIcon(_this.model.type);\r\n            _this.model.dependencies.plugins.forEach(function (plug) {\r\n                plug.icon = _this.getPluginIcon(plug.type);\r\n            });\r\n            _this.includes = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(result.includes, function (plug) {\r\n                plug.icon = _this.getPluginIcon(plug.type);\r\n                return plug;\r\n            });\r\n            if (_this.model.type === 'app') {\r\n                _this.hasDashboards = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(result.includes, { type: 'dashboard' });\r\n                if (_this.hasDashboards) {\r\n                    _this.tabs.unshift('Dashboards');\r\n                }\r\n                _this.tabs.unshift('Config');\r\n                _this.tabIndex = 0;\r\n            }\r\n            return _this.initReadme();\r\n        });\r\n    };\r\n    PluginEditCtrl.prototype.initReadme = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get(\"/api/plugins/\" + this.pluginId + \"/markdown/readme\").then(function (res) {\r\n            var md = new __WEBPACK_IMPORTED_MODULE_2_remarkable___default.a();\r\n            _this.readmeHtml = _this.$sce.trustAsHtml(md.render(res));\r\n        });\r\n    };\r\n    PluginEditCtrl.prototype.getPluginIcon = function (type) {\r\n        switch (type) {\r\n            case 'datasource': return 'icon-gf icon-gf-datasources';\r\n            case 'panel': return 'icon-gf icon-gf-panel';\r\n            case 'app': return 'icon-gf icon-gf-apps';\r\n            case 'page': return 'icon-gf icon-gf-endpoint-tiny';\r\n            case 'dashboard': return 'icon-gf icon-gf-dashboard';\r\n            default: return 'icon-gf icon-gf-apps';\r\n        }\r\n    };\r\n    PluginEditCtrl.prototype.update = function () {\r\n        var _this = this;\r\n        this.preUpdateHook().then(function () {\r\n            var updateCmd = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.extend({\r\n                enabled: _this.model.enabled,\r\n                pinned: _this.model.pinned,\r\n                jsonData: _this.model.jsonData,\r\n                secureJsonData: _this.model.secureJsonData,\r\n            }, {});\r\n            return _this.backendSrv.post(\"/api/plugins/\" + _this.pluginId + \"/settings\", updateCmd);\r\n        })\r\n            .then(this.postUpdateHook)\r\n            .then(function (res) {\r\n            window.location.href = window.location.href;\r\n        });\r\n    };\r\n    PluginEditCtrl.prototype.importDashboards = function () {\r\n        return Promise.resolve();\r\n    };\r\n    PluginEditCtrl.prototype.setPreUpdateHook = function (callback) {\r\n        this.preUpdateHook = callback;\r\n    };\r\n    PluginEditCtrl.prototype.setPostUpdateHook = function (callback) {\r\n        this.postUpdateHook = callback;\r\n    };\r\n    PluginEditCtrl.prototype.updateAvailable = function () {\r\n        var modalScope = this.$scope.$new(true);\r\n        modalScope.plugin = this.model;\r\n        this.$rootScope.appEvent('show-modal', {\r\n            src: 'public/app/features/plugins/partials/update_instructions.html',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    PluginEditCtrl.prototype.enable = function () {\r\n        this.model.enabled = true;\r\n        this.model.pinned = true;\r\n        this.update();\r\n    };\r\n    PluginEditCtrl.prototype.disable = function () {\r\n        this.model.enabled = false;\r\n        this.model.pinned = false;\r\n        this.update();\r\n    };\r\n    return PluginEditCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.controllers').controller('PluginEditCtrl', PluginEditCtrl);\r\n\n\n/***/ }),\n\n/***/ 1414:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AppPageCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar pluginInfoCache = {};\r\nvar AppPageCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AppPageCtrl.$inject = [\"backendSrv\", \"$routeParams\", \"$rootScope\"];\r\n    function AppPageCtrl(backendSrv, $routeParams, $rootScope) {\r\n        this.backendSrv = backendSrv;\r\n        this.$routeParams = $routeParams;\r\n        this.$rootScope = $rootScope;\r\n        this.pluginId = $routeParams.pluginId;\r\n        if (pluginInfoCache[this.pluginId]) {\r\n            this.initPage(pluginInfoCache[this.pluginId]);\r\n        }\r\n        else {\r\n            this.loadPluginInfo();\r\n        }\r\n    }\r\n    AppPageCtrl.prototype.initPage = function (app) {\r\n        this.appModel = app;\r\n        this.page = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(app.includes, { slug: this.$routeParams.slug });\r\n        pluginInfoCache[this.pluginId] = app;\r\n        if (!this.page) {\r\n            this.$rootScope.appEvent('alert-error', ['App Page Not Found', '']);\r\n            this.navModel = {\r\n                section: {\r\n                    title: \"Page not found\",\r\n                    url: app.defaultNavUrl,\r\n                    icon: 'icon-gf icon-gf-sadface',\r\n                },\r\n                menu: [],\r\n            };\r\n            return;\r\n        }\r\n        var menu = [];\r\n        for (var _i = 0, _a = app.includes; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.addToNav) {\r\n                if (item.type === 'dashboard') {\r\n                    menu.push({\r\n                        title: item.name,\r\n                        url: 'dashboard/db/' + item.slug,\r\n                        icon: 'fa fa-fw fa-dot-circle-o',\r\n                    });\r\n                }\r\n                if (item.type === 'page') {\r\n                    menu.push({\r\n                        title: item.name,\r\n                        url: \"plugins/\" + app.id + \"/page/\" + item.slug,\r\n                        icon: 'fa fa-fw fa-dot-circle-o',\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        this.navModel = {\r\n            section: {\r\n                title: app.name,\r\n                url: app.defaultNavUrl,\r\n                iconUrl: app.info.logos.small,\r\n            },\r\n            menu: menu,\r\n        };\r\n    };\r\n    AppPageCtrl.prototype.loadPluginInfo = function () {\r\n        var _this = this;\r\n        this.backendSrv.get(\"/api/plugins/\" + this.pluginId + \"/settings\").then(function (app) {\r\n            _this.initPage(app);\r\n        });\r\n    };\r\n    return AppPageCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.controllers').controller('AppPageCtrl', AppPageCtrl);\r\n\n\n/***/ }),\n\n/***/ 1415:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export PluginListCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar PluginListCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    PluginListCtrl.$inject = [\"backendSrv\", \"$location\", \"navModelSrv\"];\r\n    function PluginListCtrl(backendSrv, $location, navModelSrv) {\r\n        var _this = this;\r\n        this.backendSrv = backendSrv;\r\n        this.tabIndex = 0;\r\n        this.navModel = navModelSrv.getPluginsNav();\r\n        var pluginType = $location.search().type || 'panel';\r\n        switch (pluginType) {\r\n            case \"datasource\": {\r\n                this.tabIndex = 1;\r\n                break;\r\n            }\r\n            case \"app\": {\r\n                this.tabIndex = 2;\r\n                break;\r\n            }\r\n            case \"panel\":\r\n            default:\r\n                this.tabIndex = 0;\r\n        }\r\n        this.backendSrv.get('api/plugins', { embedded: 0, type: pluginType }).then(function (plugins) {\r\n            _this.plugins = plugins;\r\n        });\r\n    }\r\n    return PluginListCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.controllers').controller('PluginListCtrl', PluginListCtrl);\r\n\n\n/***/ }),\n\n/***/ 1416:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DashImportListCtrl */\n/* unused harmony export dashboardImportList */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__ = __webpack_require__(53);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar DashImportListCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DashImportListCtrl.$inject = [\"$scope\", \"backendSrv\", \"$rootScope\"];\r\n    function DashImportListCtrl($scope, backendSrv, $rootScope) {\r\n        var _this = this;\r\n        this.backendSrv = backendSrv;\r\n        this.$rootScope = $rootScope;\r\n        this.dashboards = [];\r\n        backendSrv.get(\"/api/plugins/\" + this.plugin.id + \"/dashboards\").then(function (dashboards) {\r\n            _this.dashboards = dashboards;\r\n        });\r\n        __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__[\"a\" /* default */].on('dashboard-list-import-all', this.importAll.bind(this), $scope);\r\n    }\r\n    DashImportListCtrl.prototype.importAll = function (payload) {\r\n        return this.importNext(0).then(function () {\r\n            payload.resolve(\"All dashboards imported\");\r\n        }).catch(function (err) {\r\n            payload.reject(err);\r\n        });\r\n    };\r\n    DashImportListCtrl.prototype.importNext = function (index) {\r\n        var _this = this;\r\n        return this.import(this.dashboards[index], true).then(function () {\r\n            if (index + 1 < _this.dashboards.length) {\r\n                return new Promise(function (resolve) {\r\n                    setTimeout(function () {\r\n                        _this.importNext(index + 1).then(function () {\r\n                            resolve();\r\n                        });\r\n                    }, 500);\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve();\r\n            }\r\n        });\r\n    };\r\n    DashImportListCtrl.prototype.import = function (dash, overwrite) {\r\n        var _this = this;\r\n        var installCmd = {\r\n            pluginId: this.plugin.id,\r\n            path: dash.path,\r\n            overwrite: overwrite,\r\n            inputs: []\r\n        };\r\n        if (this.datasource) {\r\n            installCmd.inputs.push({\r\n                name: '*',\r\n                type: 'datasource',\r\n                pluginId: this.datasource.type,\r\n                value: this.datasource.name\r\n            });\r\n        }\r\n        return this.backendSrv.post(\"/api/dashboards/import\", installCmd).then(function (res) {\r\n            _this.$rootScope.appEvent('alert-success', ['Dashboard Imported', dash.title]);\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(dash, res);\r\n        });\r\n    };\r\n    DashImportListCtrl.prototype.remove = function (dash) {\r\n        var _this = this;\r\n        this.backendSrv.delete('/api/dashboards/' + dash.importedUri).then(function () {\r\n            _this.$rootScope.appEvent('alert-success', ['Dashboard Deleted', dash.title]);\r\n            dash.imported = false;\r\n        });\r\n    };\r\n    return DashImportListCtrl;\r\n}());\r\n\r\nfunction dashboardImportList() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/plugins/import_list/import_list.html',\r\n        controller: DashImportListCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            plugin: \"=\",\r\n            datasource: \"=\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].directive('dashboardImportList', dashboardImportList);\r\n\n\n/***/ }),\n\n/***/ 1417:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DataSourceEditCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar datasourceTypes = [];\r\nvar defaults = {\r\n    name: '',\r\n    type: 'graphite',\r\n    url: '',\r\n    access: 'proxy',\r\n    jsonData: {},\r\n    secureJsonFields: {},\r\n};\r\nvar datasourceCreated = false;\r\nvar DataSourceEditCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DataSourceEditCtrl.$inject = [\"$q\", \"backendSrv\", \"$routeParams\", \"$location\", \"datasourceSrv\", \"navModelSrv\"];\r\n    function DataSourceEditCtrl($q, backendSrv, $routeParams, $location, datasourceSrv, navModelSrv) {\r\n        var _this = this;\r\n        this.$q = $q;\r\n        this.backendSrv = backendSrv;\r\n        this.$routeParams = $routeParams;\r\n        this.$location = $location;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.navModelSrv = navModelSrv;\r\n        this.navModel = this.navModelSrv.getDatasourceNav(0);\r\n        this.isNew = true;\r\n        this.datasources = [];\r\n        this.tabIndex = 0;\r\n        this.loadDatasourceTypes().then(function () {\r\n            if (_this.$routeParams.id) {\r\n                _this.getDatasourceById(_this.$routeParams.id);\r\n            }\r\n            else {\r\n                _this.initNewDatasourceModel();\r\n            }\r\n        });\r\n    }\r\n    DataSourceEditCtrl.prototype.initNewDatasourceModel = function () {\r\n        this.current = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(defaults);\r\n        // We are coming from getting started\r\n        if (this.$location.search().gettingstarted) {\r\n            this.gettingStarted = true;\r\n            this.current.isDefault = true;\r\n        }\r\n        this.typeChanged();\r\n    };\r\n    DataSourceEditCtrl.prototype.loadDatasourceTypes = function () {\r\n        var _this = this;\r\n        if (datasourceTypes.length > 0) {\r\n            this.types = datasourceTypes;\r\n            return this.$q.when(null);\r\n        }\r\n        return this.backendSrv.get('/api/plugins', { enabled: 1, type: 'datasource' }).then(function (plugins) {\r\n            datasourceTypes = plugins;\r\n            _this.types = plugins;\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.getDatasourceById = function (id) {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/datasources/' + id).then(function (ds) {\r\n            _this.isNew = false;\r\n            _this.current = ds;\r\n            if (datasourceCreated) {\r\n                datasourceCreated = false;\r\n                _this.testDatasource();\r\n            }\r\n            return _this.typeChanged();\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.userChangedType = function () {\r\n        // reset model but keep name & default flag\r\n        this.current = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults({\r\n            id: this.current.id,\r\n            name: this.current.name,\r\n            isDefault: this.current.isDefault,\r\n            type: this.current.type,\r\n        }, __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(defaults));\r\n        this.typeChanged();\r\n    };\r\n    DataSourceEditCtrl.prototype.typeChanged = function () {\r\n        var _this = this;\r\n        this.hasDashboards = false;\r\n        return this.backendSrv.get('/api/plugins/' + this.current.type + '/settings').then(function (pluginInfo) {\r\n            _this.datasourceMeta = pluginInfo;\r\n            _this.hasDashboards = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(pluginInfo.includes, { type: 'dashboard' });\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.updateFrontendSettings = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get('/api/frontend/settings').then(function (settings) {\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].datasources = settings.datasources;\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].defaultDatasource = settings.defaultDatasource;\r\n            _this.datasourceSrv.init();\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.testDatasource = function () {\r\n        var _this = this;\r\n        this.datasourceSrv.get(this.current.name).then(function (datasource) {\r\n            if (!datasource.testDatasource) {\r\n                return;\r\n            }\r\n            _this.testing = { done: false, status: 'error' };\r\n            // make test call in no backend cache context\r\n            _this.backendSrv.withNoBackendCache(function () {\r\n                return datasource.testDatasource().then(function (result) {\r\n                    _this.testing.message = result.message;\r\n                    _this.testing.status = result.status;\r\n                }).catch(function (err) {\r\n                    if (err.statusText) {\r\n                        _this.testing.message = 'HTTP Error ' + err.statusText;\r\n                    }\r\n                    else {\r\n                        _this.testing.message = err.message;\r\n                    }\r\n                });\r\n            }).finally(function () {\r\n                _this.testing.done = true;\r\n            });\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.saveChanges = function () {\r\n        var _this = this;\r\n        if (!this.editForm.$valid) {\r\n            return;\r\n        }\r\n        if (this.current.readOnly) {\r\n            return;\r\n        }\r\n        if (this.current.id) {\r\n            return this.backendSrv.put('/api/datasources/' + this.current.id, this.current).then(function (result) {\r\n                _this.current = result.datasource;\r\n                _this.updateFrontendSettings().then(function () {\r\n                    _this.testDatasource();\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            return this.backendSrv.post('/api/datasources', this.current).then(function (result) {\r\n                _this.current = result.datasource;\r\n                _this.updateFrontendSettings();\r\n                datasourceCreated = true;\r\n                _this.$location.path('datasources/edit/' + result.id);\r\n            });\r\n        }\r\n    };\r\n    DataSourceEditCtrl.prototype.confirmDelete = function () {\r\n        var _this = this;\r\n        this.backendSrv.delete('/api/datasources/' + this.current.id).then(function () {\r\n            _this.$location.path('datasources');\r\n        });\r\n    };\r\n    DataSourceEditCtrl.prototype.delete = function (s) {\r\n        var _this = this;\r\n        __WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"appEvents\"].emit('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete this datasource?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-trash\",\r\n            onConfirm: function () {\r\n                _this.confirmDelete();\r\n            }\r\n        });\r\n    };\r\n    return DataSourceEditCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].controller('DataSourceEditCtrl', DataSourceEditCtrl);\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('datasourceHttpSettings', function () {\r\n    return {\r\n        scope: {\r\n            current: \"=\",\r\n            suggestUrl: \"@\",\r\n        },\r\n        templateUrl: 'public/app/features/plugins/partials/ds_http_settings.html',\r\n        link: {\r\n            pre: function ($scope, elem, attrs) {\r\n                $scope.getSuggestUrls = function () {\r\n                    return [$scope.suggestUrl];\r\n                };\r\n            }\r\n        }\r\n    };\r\n});\r\n\n\n/***/ }),\n\n/***/ 1418:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DataSourcesCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar DataSourcesCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    DataSourcesCtrl.$inject = [\"$scope\", \"backendSrv\", \"datasourceSrv\", \"navModelSrv\"];\r\n    function DataSourcesCtrl($scope, backendSrv, datasourceSrv, navModelSrv) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.navModelSrv = navModelSrv;\r\n        this.navModel = this.navModelSrv.getDatasourceNav(0);\r\n        backendSrv.get('/api/datasources').then(function (result) {\r\n            _this.datasources = result;\r\n        });\r\n    }\r\n    DataSourcesCtrl.prototype.removeDataSourceConfirmed = function (ds) {\r\n        var _this = this;\r\n        this.backendSrv.delete('/api/datasources/' + ds.id)\r\n            .then(function () {\r\n            _this.$scope.appEvent('alert-success', ['Datasource deleted', '']);\r\n        }, function () {\r\n            _this.$scope.appEvent('alert-error', ['Unable to delete datasource', '']);\r\n        }).then(function () {\r\n            _this.backendSrv.get('/api/datasources')\r\n                .then(function (result) {\r\n                _this.datasources = result;\r\n            });\r\n            _this.backendSrv.get('/api/frontend/settings')\r\n                .then(function (settings) {\r\n                _this.datasourceSrv.init(settings.datasources);\r\n            });\r\n        });\r\n    };\r\n    DataSourcesCtrl.prototype.removeDataSource = function (ds) {\r\n        var _this = this;\r\n        this.$scope.appEvent('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete datasource ' + ds.name + '?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-trash\",\r\n            onConfirm: function () {\r\n                _this.removeDataSourceConfirmed(ds);\r\n            }\r\n        });\r\n    };\r\n    return DataSourcesCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0__core_core_module__[\"default\"].controller('DataSourcesCtrl', DataSourcesCtrl);\r\n\n\n/***/ }),\n\n/***/ 1419:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(2),\n  __webpack_require__(27),\n  __webpack_require__(1317),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, coreModule, config, pluginLoader) {\n  'use strict';\n\n  config = config.default;\n\n  coreModule.default.service('datasourceSrv', [\"$q\", \"$injector\", \"$rootScope\", \"templateSrv\", function($q, $injector, $rootScope, templateSrv) {\n    var self = this;\n\n    this.init = function() {\n      this.datasources = {};\n    };\n\n    this.get = function(name) {\n      if (!name) {\n        return this.get(config.defaultDatasource);\n      }\n\n      name = templateSrv.replace(name);\n\n      if (name === 'default') {\n        return this.get(config.defaultDatasource);\n      }\n\n      if (this.datasources[name]) {\n        return $q.when(this.datasources[name]);\n      }\n\n      return this.loadDatasource(name);\n    };\n\n    this.loadDatasource = function(name) {\n      var dsConfig = config.datasources[name];\n      if (!dsConfig) {\n        return $q.reject({message: \"Datasource named \" + name + \" was not found\"});\n      }\n\n      var deferred = $q.defer();\n      var pluginDef = dsConfig.meta;\n\n      pluginLoader.importPluginModule(pluginDef.module).then(function(plugin) {\n        // check if its in cache now\n        if (self.datasources[name]) {\n          deferred.resolve(self.datasources[name]);\n          return;\n        }\n\n        // plugin module needs to export a constructor function named Datasource\n        if (!plugin.Datasource) {\n          throw \"Plugin module is missing Datasource constructor\";\n        }\n\n        var instance = $injector.instantiate(plugin.Datasource, {instanceSettings: dsConfig});\n        instance.meta = pluginDef;\n        instance.name = name;\n        self.datasources[name] = instance;\n        deferred.resolve(instance);\n      }).catch(function(err) {\n        $rootScope.appEvent('alert-error', [dsConfig.name + ' plugin failed', err.toString()]);\n      });\n\n      return deferred.promise;\n    };\n\n    this.getAll = function() {\n      return config.datasources;\n    };\n\n    this.getAnnotationSources = function() {\n      var sources = [];\n\n      this.addDataSourceVariables(sources);\n\n      _.each(config.datasources, function(value) {\n        if (value.meta && value.meta.annotations) {\n          sources.push(value);\n        }\n      });\n\n      return sources;\n    };\n\n    this.getMetricSources = function(options) {\n      var metricSources = [];\n\n      _.each(config.datasources, function(value, key) {\n        if (value.meta && value.meta.metrics) {\n          metricSources.push({value: key, name: key, meta: value.meta});\n\n          if (key === config.defaultDatasource) {\n            metricSources.push({value: null, name: 'default', meta: value.meta});\n          }\n        }\n      });\n\n      if (!options || !options.skipVariables) {\n        this.addDataSourceVariables(metricSources);\n      }\n\n      metricSources.sort(function(a, b) {\n        // these two should always be at the bottom\n        if (a.meta.id === \"mixed\" || a.meta.id === \"grafana\") {\n          return 1;\n        }\n        if (b.meta.id === \"mixed\" || b.meta.id === \"grafana\") {\n          return -1;\n        }\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      });\n\n      return metricSources;\n    };\n\n    this.addDataSourceVariables = function(list) {\n      // look for data source variables\n      for (var i = 0; i < templateSrv.variables.length; i++) {\n        var variable = templateSrv.variables[i];\n        if (variable.type !== 'datasource') {\n          continue;\n        }\n\n        var first = variable.current.value;\n        if (first === 'default') {\n          first = config.defaultDatasource;\n        }\n\n        var ds = config.datasources[first];\n\n        if (ds) {\n          list.push({\n            name: '$' + variable.name,\n            value: '$' + variable.name,\n            meta: ds.meta,\n          });\n        }\n      }\n    };\n\n    this.init();\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1420:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer, process, global, __filename) {var require;/*\n * SystemJS v0.20.19 Dev\n */\n!function(){\"use strict\";function e(e){return ut?Symbol():\"@@\"+e}function t(e,t){ot||(t=t.replace(at?/file:\\/\\/\\//g:/file:\\/\\//g,\"\"));var r,n=(e.message||e)+\"\\n  \"+t;r=ft&&e.fileName?new Error(n,e.fileName,e.lineNumber):new Error(n);var o=e.originalErr?e.originalErr.stack:e.stack;return r.stack=it?n+\"\\n  \"+o:o,r.originalErr=e.originalErr||e,r}function r(e,t){throw new RangeError('Unable to resolve \"'+e+'\" to '+t)}function n(e,t){e=e.trim();var n=t&&t.substr(0,t.indexOf(\":\")+1),o=e[0],i=e[1];if(\"/\"===o&&\"/\"===i)return n||r(e,t),n+e;if(\".\"===o&&(\"/\"===i||\".\"===i&&(\"/\"===e[2]||2===e.length&&(e+=\"/\"))||1===e.length&&(e+=\"/\"))||\"/\"===o){var a,s=!n||\"/\"!==t[n.length];if(s?(void 0===t&&r(e,t),a=t):a=\"/\"===t[n.length+1]?\"file:\"!==n?(a=t.substr(n.length+2)).substr(a.indexOf(\"/\")+1):t.substr(8):t.substr(n.length+1),\"/\"===o){if(!s)return t.substr(0,t.length-a.length-1)+e;r(e,t)}for(var u=a.substr(0,a.lastIndexOf(\"/\")+1)+e,l=[],c=-1,f=0;f<u.length;f++)if(-1===c)if(\".\"!==u[f])c=f;else{if(\".\"!==u[f+1]||\"/\"!==u[f+2]&&f+2!==u.length){if(\"/\"!==u[f+1]&&f+1!==u.length){c=f;continue}f+=1}else l.pop(),f+=2;s&&0===l.length&&r(e,t)}else\"/\"===u[f]&&(l.push(u.substring(c,f+1)),c=-1);return-1!==c&&l.push(u.substr(c)),t.substr(0,t.length-a.length)+l.join(\"\")}return-1!==e.indexOf(\":\")?it&&\":\"===e[1]&&\"\\\\\"===e[2]&&e[0].match(/[a-z]/i)?\"file:///\"+e.replace(/\\\\/g,\"/\"):e:void 0}function o(e){if(e.values)return e.values();if(\"undefined\"==typeof Symbol||!Symbol.iterator)throw new Error(\"Symbol.iterator not supported in this browser\");var t={};return t[Symbol.iterator]=function(){var t=Object.keys(e),r=0;return{next:function(){return r<t.length?{value:e[t[r++]],done:!1}:{value:void 0,done:!0}}}},t}function i(){this.registry=new u}function a(e){if(!(e instanceof l))throw new TypeError(\"Module instantiation did not return a valid namespace object.\");return e}function s(e){if(void 0===e)throw new RangeError(\"No resolution found.\");return e}function u(){this[mt]={}}function l(e){Object.defineProperty(this,vt,{value:e}),Object.keys(e).forEach(c,this)}function c(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[vt][e]}})}function f(){i.call(this);var e=this.registry.delete;this.registry.delete=function(r){var n=e.call(this,r);return t.hasOwnProperty(r)&&!t[r].linkRecord&&(delete t[r],n=!0),n};var t={};this[yt]={lastRegister:void 0,records:t},this.trace=!1}function d(e,t,r){return e.records[t]={key:t,registration:r,module:void 0,importerSetters:void 0,loadError:void 0,evalError:void 0,linkRecord:{instantiatePromise:void 0,dependencies:void 0,execute:void 0,executingRequire:!1,moduleObj:void 0,setters:void 0,depsInstantiatePromise:void 0,dependencyInstantiations:void 0}}}function p(e,t,r,n,o){var i=n[t];if(i)return Promise.resolve(i);var a=o.records[t];return a&&!a.module?a.loadError?Promise.reject(a.loadError):h(e,a,a.linkRecord,n,o):e.resolve(t,r).then(function(t){if(i=n[t])return i;if((a=o.records[t])&&!a.module||(a=d(o,t,a&&a.registration)),a.loadError)return Promise.reject(a.loadError);var r=a.linkRecord;return r?h(e,a,r,n,o):a})}function g(e,t,r){return function(){var e=r.lastRegister;return e?(r.lastRegister=void 0,t.registration=e,!0):!!t.registration}}function h(e,r,n,o,i){return n.instantiatePromise||(n.instantiatePromise=(r.registration?Promise.resolve():Promise.resolve().then(function(){return i.lastRegister=void 0,e[bt](r.key,e[bt].length>1&&g(e,r,i))})).then(function(t){if(void 0!==t){if(!(t instanceof l))throw new TypeError(\"Instantiate did not return a valid Module object.\");return delete i.records[r.key],e.trace&&v(e,r,n),o[r.key]=t}var a=r.registration;if(r.registration=void 0,!a)throw new TypeError(\"Module instantiation did not call an anonymous or correctly named System.register.\");return n.dependencies=a[0],r.importerSetters=[],n.moduleObj={},a[2]?(n.moduleObj.default=n.moduleObj.__useDefault={},n.executingRequire=a[1],n.execute=a[2]):y(e,r,n,a[1]),r}).catch(function(e){throw r.linkRecord=void 0,r.loadError=r.loadError||t(e,\"Instantiating \"+r.key)}))}function m(e,t,r,n,o,i){return e.resolve(t,r).then(function(r){i&&(i[t]=r);var a=o.records[r],s=n[r];if(s&&(!a||a.module&&s!==a.module))return s;if(a&&a.loadError)throw a.loadError;(!a||!s&&a.module)&&(a=d(o,r,a&&a.registration));var u=a.linkRecord;return u?h(e,a,u,n,o):a})}function v(e,t,r){e.loads=e.loads||{},e.loads[t.key]={key:t.key,deps:r.dependencies,dynamicDeps:[],depMap:r.depMap||{}}}function y(e,t,r,n){var o=r.moduleObj,i=t.importerSetters,a=!1,s=n.call(st,function(e,t){if(\"object\"==typeof e){var r=!1;for(var n in e)t=e[n],\"__useDefault\"===n||n in o&&o[n]===t||(r=!0,o[n]=t);if(!1===r)return t}else{if((a||e in o)&&o[e]===t)return t;o[e]=t}for(var s=0;s<i.length;s++)i[s](o);return t},new x(e,t.key));r.setters=s.setters,r.execute=s.execute,s.exports&&(r.moduleObj=o=s.exports,a=!0)}function b(e,r,n,o,i){if(n.depsInstantiatePromise)return n.depsInstantiatePromise;for(var a=Array(n.dependencies.length),s=0;s<n.dependencies.length;s++)a[s]=m(e,n.dependencies[s],r.key,o,i,e.trace&&n.depMap||(n.depMap={}));var u=Promise.all(a).then(function(e){if(n.dependencyInstantiations=e,n.setters)for(var t=0;t<e.length;t++){var o=n.setters[t];if(o){var i=e[t];if(i instanceof l)o(i);else{if(i.loadError)throw i.loadError;o(i.module||i.linkRecord.moduleObj),i.importerSetters&&i.importerSetters.push(o)}}}return r});return e.trace&&(u=u.then(function(){return v(e,r,n),r})),(u=u.catch(function(e){throw n.depsInstantiatePromise=void 0,t(e,\"Loading \"+r.key)})).catch(function(){}),n.depsInstantiatePromise=u}function w(e,t,r,n,o){return new Promise(function(r,i){function a(t){var r=t.linkRecord;r&&-1===u.indexOf(t)&&(u.push(t),c++,b(e,t,r,n,o).then(s,i))}function s(e){c--;var t=e.linkRecord;if(t)for(var n=0;n<t.dependencies.length;n++){var o=t.dependencyInstantiations[n];o instanceof l||a(o)}0===c&&r()}var u=[],c=0;a(t)})}function x(e,t){this.loader=e,this.key=this.id=t,this.meta={url:t}}function k(e,t,r,n,o,i){if(t.module)return t.module;if(t.evalError)throw t.evalError;if(i&&-1!==i.indexOf(t))return t.linkRecord.moduleObj;var a=O(e,t,r,n,o,r.setters?[]:i||[]);if(a)throw a;return t.module}function E(e,t,r,n,o,i,a){return function(s){for(var u=0;u<r.length;u++)if(r[u]===s){var c,f=n[u];return c=f instanceof l?f:k(e,f,f.linkRecord,o,i,a),\"__useDefault\"in c?c.__useDefault:c}throw new Error(\"Module \"+s+\" not declared as a System.registerDynamic dependency of \"+t)}}function O(e,r,n,o,i,a){a.push(r);var s;if(n.setters)for(var u,c,f=0;f<n.dependencies.length;f++)if(!((u=n.dependencyInstantiations[f])instanceof l)&&((c=u.linkRecord)&&-1===a.indexOf(u)&&(s=u.evalError?u.evalError:O(e,u,c,o,i,c.setters?a:[])),s))return r.linkRecord=void 0,r.evalError=t(s,\"Evaluating \"+r.key),r.evalError;if(n.execute)if(n.setters)s=S(n.execute);else{var d={id:r.key},p=n.moduleObj;Object.defineProperty(d,\"exports\",{configurable:!0,set:function(e){p.default=p.__useDefault=e},get:function(){return p.__useDefault}});var g=E(e,r.key,n.dependencies,n.dependencyInstantiations,o,i,a);if(!n.executingRequire)for(f=0;f<n.dependencies.length;f++)g(n.dependencies[f]);s=j(n.execute,g,p.default,d),d.exports!==p.__useDefault&&(p.default=p.__useDefault=d.exports);var h=p.default;if(h&&h.__esModule)for(var m in h)Object.hasOwnProperty.call(h,m)&&(p[m]=h[m])}if(r.linkRecord=void 0,s)return r.evalError=t(s,\"Evaluating \"+r.key);if(o[r.key]=r.module=new l(n.moduleObj),!n.setters){if(r.importerSetters)for(f=0;f<r.importerSetters.length;f++)r.importerSetters[f](r.module);r.importerSetters=void 0}}function S(e){try{e.call(wt)}catch(e){return e}}function j(e,t,r,n){try{var o=e.call(st,t,r,n);void 0!==o&&(n.exports=o)}catch(e){return e}}function _(){}function P(e){return e instanceof l?e:new l(e&&e.__esModule?e:{default:e,__useDefault:e})}function M(e){return void 0===xt&&(xt=\"undefined\"!=typeof Symbol&&!!Symbol.toStringTag),e instanceof l||xt&&\"[object Module]\"==Object.prototype.toString.call(e)}function R(e,t){(t||this.warnings&&\"undefined\"!=typeof console&&console.warn)&&console.warn(e)}function C(e,t,r){var n=new Uint8Array(t);return 0===n[0]&&97===n[1]&&115===n[2]?WebAssembly.compile(t).then(function(t){var n=[],o=[],i={};return WebAssembly.Module.imports&&WebAssembly.Module.imports(t).forEach(function(e){var t=e.module;o.push(function(e){i[t]=e}),-1===n.indexOf(t)&&n.push(t)}),e.register(n,function(e){return{setters:o,execute:function(){e(new WebAssembly.Instance(t,i).exports)}}}),r(),!0}):Promise.resolve(!1)}function L(e,t){if(\".\"===e[0])throw new Error(\"Node module \"+e+\" can't be loaded as it is not a package require.\");if(!kt){var r=this._nodeRequire(\"module\"),n=decodeURI(t.substr(at?8:7));(kt=new r(n)).paths=r._nodeModulePaths(n)}return kt.require(e)}function A(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function I(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&void 0===e[r]&&(e[r]=t[r]);return e}function F(e,t,r){for(var n in t)if(Object.hasOwnProperty.call(t,n)){var o=t[n];void 0===e[n]?e[n]=o:o instanceof Array&&e[n]instanceof Array?e[n]=[].concat(r?o:e[n]).concat(r?e[n]:o):\"object\"==typeof o&&null!==o&&\"object\"==typeof e[n]?e[n]=(r?I:A)(A({},e[n]),o):r||(e[n]=o)}}function K(e){if(Pt||Mt){var t=document.createElement(\"link\");Pt?(t.rel=\"preload\",t.as=\"script\"):t.rel=\"prefetch\",t.href=e,document.head.appendChild(t)}else(new Image).src=e}function D(e,t,r){try{importScripts(e)}catch(e){r(e)}t()}function U(e,t,r,n,o){function i(){n(),s()}function a(t){s(),o(new Error(\"Fetching \"+e))}function s(){for(var e=0;e<Rt.length;e++)if(Rt[e].err===a){Rt.splice(e,1);break}u.removeEventListener(\"load\",i,!1),u.removeEventListener(\"error\",a,!1),document.head.removeChild(u)}if(e=e.replace(/#/g,\"%23\"),_t)return D(e,n,o);var u=document.createElement(\"script\");u.type=\"text/javascript\",u.charset=\"utf-8\",u.async=!0,t&&(u.crossOrigin=t),r&&(u.integrity=r),u.addEventListener(\"load\",i,!1),u.addEventListener(\"error\",a,!1),u.src=e,document.head.appendChild(u)}function q(e,t){for(var r=e.split(\".\");r.length;)t=t[r.shift()];return t}function T(e,t,r){var o=N(t,r);if(o){var i=t[o]+r.substr(o.length),a=n(i,nt);return void 0!==a?a:e+i}return-1!==r.indexOf(\":\")?r:e+r}function z(e){var t=this.name;if(t.substr(0,e.length)===e&&(t.length===e.length||\"/\"===t[e.length]||\"/\"===e[e.length-1]||\":\"===e[e.length-1])){var r=e.split(\"/\").length;r>this.len&&(this.match=e,this.len=r)}}function N(e,t){if(Object.hasOwnProperty.call(e,t))return t;var r={name:t,match:void 0,len:0};return Object.keys(e).forEach(z,r),r.match}function J(e,t,r,n){if(\"file:///\"===e.substr(0,8)){if(Ft)return $(e,t,r,n);throw new Error(\"Unable to fetch file URLs in this environment.\")}e=e.replace(/#/g,\"%23\");var o={headers:{Accept:\"application/x-es-module, */*\"}};return r&&(o.integrity=r),t&&(\"string\"==typeof t&&(o.headers.Authorization=t),o.credentials=\"include\"),fetch(e,o).then(function(e){if(e.ok)return n?e.arrayBuffer():e.text();throw new Error(\"Fetch error: \"+e.status+\" \"+e.statusText)})}function $(e,t,r,n){return new Promise(function(r,o){function i(){r(n?s.response:s.responseText)}function a(){o(new Error(\"XHR error: \"+(s.status?\" (\"+s.status+(s.statusText?\" \"+s.statusText:\"\")+\")\":\"\")+\" loading \"+e))}e=e.replace(/#/g,\"%23\");var s=new XMLHttpRequest;n&&(s.responseType=\"arraybuffer\"),s.onreadystatechange=function(){4===s.readyState&&(0==s.status?s.response?i():(s.addEventListener(\"error\",a),s.addEventListener(\"load\",i)):200===s.status?i():a())},s.open(\"GET\",e,!0),s.setRequestHeader&&(s.setRequestHeader(\"Accept\",\"application/x-es-module, */*\"),t&&(\"string\"==typeof t&&s.setRequestHeader(\"Authorization\",t),s.withCredentials=!0)),s.send(null)})}function B(e,t,r,n){return\"file:///\"!=e.substr(0,8)?Promise.reject(new Error('Unable to fetch \"'+e+'\". Only file URLs of the form file:/// supported running in Node.')):(Lt=Lt||__webpack_require__(1426),e=at?e.replace(/\\//g,\"\\\\\").substr(8):e.substr(7),new Promise(function(t,r){Lt.readFile(e,function(e,o){if(e)return r(e);if(n)t(o);else{var i=o+\"\";\"\\ufeff\"===i[0]&&(i=i.substr(1)),t(i)}})}))}function W(){throw new Error(\"No fetch method is defined for this environment.\")}function G(){return{pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0}}function H(e,t,r){var n=G();if(r){var o;t.pluginFirst?-1!==(o=r.lastIndexOf(\"!\"))&&(n.pluginArgument=n.pluginKey=r.substr(0,o)):-1!==(o=r.indexOf(\"!\"))&&(n.pluginArgument=n.pluginKey=r.substr(o+1)),n.packageKey=N(t.packages,r),n.packageKey&&(n.packageConfig=t.packages[n.packageKey])}return n}function Z(e,t){var r=this[St],n=G(),o=H(this,r,t),i=this;return Promise.resolve().then(function(){var r=e.lastIndexOf(\"#?\");if(-1===r)return Promise.resolve(e);var n=he.call(i,e.substr(r+2));return me.call(i,n,t,!0).then(function(t){return t?e.substr(0,r):\"@empty\"})}).then(function(e){var a=ne(r.pluginFirst,e);return a?(n.pluginKey=a.plugin,Promise.all([ee.call(i,r,a.argument,o&&o.pluginArgument||t,n,o,!0),i.resolve(a.plugin,t)]).then(function(e){if(n.pluginArgument=e[0],n.pluginKey=e[1],n.pluginArgument===n.pluginKey)throw new Error(\"Plugin \"+n.pluginArgument+\" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.\");return oe(r.pluginFirst,e[0],e[1])})):ee.call(i,r,e,o&&o.pluginArgument||t,n,o,!1)}).then(function(e){return ve.call(i,e,t,o)}).then(function(e){return re.call(i,r,e,n),n.pluginKey||!n.load.loader?e:i.resolve(n.load.loader,e).then(function(t){return n.pluginKey=t,n.pluginArgument=e,e})}).then(function(e){return i[jt][e]=n,e})}function X(e,t){var r=ne(e.pluginFirst,t);if(r){var n=X.call(this,e,r.plugin);return oe(e.pluginFirst,Q.call(this,e,r.argument,void 0,!1,!1),n)}return Q.call(this,e,t,void 0,!1,!1)}function Y(e,t){var r=this[St],n=G(),o=o||H(this,r,t),i=ne(r.pluginFirst,e);return i?(n.pluginKey=Y.call(this,i.plugin,t),oe(r.pluginFirst,V.call(this,r,i.argument,o.pluginArgument||t,n,o,!!n.pluginKey),n.pluginKey)):V.call(this,r,e,o.pluginArgument||t,n,o,!!n.pluginKey)}function Q(e,t,r,o,i){var a=n(t,r||nt);if(a)return T(e.baseURL,e.paths,a);if(o){var s=N(e.map,t);if(s&&(t=e.map[s]+t.substr(s.length),a=n(t,nt)))return T(e.baseURL,e.paths,a)}if(this.registry.has(t))return t;if(\"@node/\"===t.substr(0,6))return t;var u=i&&\"/\"!==t[t.length-1],l=T(e.baseURL,e.paths,u?t+\"/\":t);return u?l.substr(0,l.length-1):l}function V(e,t,r,n,o,i){if(o&&o.packageConfig&&\".\"!==t[0]){var a=o.packageConfig.map,s=a&&N(a,t);if(s&&\"string\"==typeof a[s]){var u=ue(this,e,o.packageConfig,o.packageKey,s,t,n,i);if(u)return u}}var l=Q.call(this,e,t,r,!0,!0),c=de(e,l);if(n.packageKey=c&&c.packageKey||N(e.packages,l),!n.packageKey)return l;if(-1!==e.packageConfigKeys.indexOf(l))return n.packageKey=void 0,l;n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ee());var f=l.substr(n.packageKey.length+1);return ae(this,e,n.packageConfig,n.packageKey,f,n,i)}function ee(e,t,r,n,o,i){var a=this;return Et.then(function(){if(o&&o.packageConfig&&\"./\"!==t.substr(0,2)){var r=o.packageConfig.map,s=r&&N(r,t);if(s)return ce(a,e,o.packageConfig,o.packageKey,s,t,n,i)}return Et}).then(function(o){if(o)return o;var s=Q.call(a,e,t,r,!0,!0),u=de(e,s);return n.packageKey=u&&u.packageKey||N(e.packages,s),n.packageKey?-1!==e.packageConfigKeys.indexOf(s)?(n.packageKey=void 0,n.load=te(),n.load.format=\"json\",n.load.loader=\"\",Promise.resolve(s)):(n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ee()),(u&&!n.packageConfig.configured?pe(a,e,u.configPath,n):Et).then(function(){var t=s.substr(n.packageKey.length+1);return le(a,e,n.packageConfig,n.packageKey,t,n,i)})):Promise.resolve(s)})}function te(){return{extension:\"\",deps:void 0,format:void 0,loader:void 0,scriptLoad:void 0,globals:void 0,nonce:void 0,integrity:void 0,sourceMap:void 0,exports:void 0,encapsulateGlobal:!1,crossOrigin:void 0,cjsRequireDetection:!0,cjsDeferDepsExecute:!1,esModule:!1}}function re(e,t,r){r.load=r.load||te();var n,o=0;for(var i in e.meta)if(-1!==(n=i.indexOf(\"*\"))&&i.substr(0,n)===t.substr(0,n)&&i.substr(n+1)===t.substr(t.length-i.length+n+1)){var a=i.split(\"/\").length;a>o&&(o=a),F(r.load,e.meta[i],o!==a)}if(e.meta[t]&&F(r.load,e.meta[t],!1),r.packageKey){var s=t.substr(r.packageKey.length+1),u={};if(r.packageConfig.meta){o=0;ge(r.packageConfig.meta,s,function(e,t,r){r>o&&(o=r),F(u,t,r&&o>r)}),F(r.load,u,!1)}!r.packageConfig.format||r.pluginKey||r.load.loader||(r.load.format=r.load.format||r.packageConfig.format)}}function ne(e,t){var r,n,o=e?t.indexOf(\"!\"):t.lastIndexOf(\"!\");if(-1!==o)return e?(r=t.substr(o+1),n=t.substr(0,o)):(r=t.substr(0,o),n=t.substr(o+1)||r.substr(r.lastIndexOf(\".\")+1)),{argument:r,plugin:n}}function oe(e,t,r){return e?r+\"!\"+t:t+\"!\"+r}function ie(e,t,r,n,o){if(!n||!t.defaultExtension||\"/\"===n[n.length-1]||o)return n;var i=!1;if(t.meta&&ge(t.meta,n,function(e,t,r){if(0===r||e.lastIndexOf(\"*\")!==e.length-1)return i=!0}),!i&&e.meta&&ge(e.meta,r+\"/\"+n,function(e,t,r){if(0===r||e.lastIndexOf(\"*\")!==e.length-1)return i=!0}),i)return n;var a=\".\"+t.defaultExtension;return n.substr(n.length-a.length)!==a?n+a:n}function ae(e,t,r,n,o,i,a){if(!o){if(!r.main)return n;o=\"./\"===r.main.substr(0,2)?r.main.substr(2):r.main}if(r.map){var s=\"./\"+o,u=N(r.map,s);if(u||(s=\"./\"+ie(t,r,n,o,a))!==\"./\"+o&&(u=N(r.map,s)),u){var l=ue(e,t,r,n,u,s,i,a);if(l)return l}}return n+\"/\"+ie(t,r,n,o,a)}function se(e,t,r){return!(t.substr(0,e.length)===e&&r.length>e.length)}function ue(e,t,r,n,o,i,a,s){\"/\"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if(\"object\"==typeof u)throw new Error(\"Synchronous conditional normalization not supported sync normalizing \"+o+\" in \"+n);if(se(o,u,i)&&\"string\"==typeof u)return V.call(e,t,u+i.substr(o.length),n+\"/\",a,a,s)}function le(e,t,r,n,o,i,a){if(!o){if(!r.main)return Promise.resolve(n);o=\"./\"===r.main.substr(0,2)?r.main.substr(2):r.main}var s,u;return r.map&&(s=\"./\"+o,(u=N(r.map,s))||(s=\"./\"+ie(t,r,n,o,a))!==\"./\"+o&&(u=N(r.map,s))),(u?ce(e,t,r,n,u,s,i,a):Et).then(function(e){return e?Promise.resolve(e):Promise.resolve(n+\"/\"+ie(t,r,n,o,a))})}function ce(e,t,r,n,o,i,a,s){\"/\"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if(\"string\"==typeof u)return se(o,u,i)?ee.call(e,t,u+i.substr(o.length),n+\"/\",a,a,s).then(function(t){return ve.call(e,t,n+\"/\",a)}):Et;var l=[],c=[];for(var d in u){var p=he(d);c.push({condition:p,map:u[d]}),l.push(f.prototype.import.call(e,p.module,n))}return Promise.all(l).then(function(e){for(var t=0;t<c.length;t++){var r=c[t].condition,n=q(r.prop,\"__useDefault\"in e[t]?e[t].__useDefault:e[t]);if(!r.negate&&n||r.negate&&!n)return c[t].map}}).then(function(r){if(r)return se(o,r,i)?ee.call(e,t,r+i.substr(o.length),n+\"/\",a,a,s).then(function(t){return ve.call(e,t,n+\"/\",a)}):Et})}function fe(e){var t=e.lastIndexOf(\"*\"),r=Math.max(t+1,e.lastIndexOf(\"/\"));return{length:r,regEx:new RegExp(\"^(\"+e.substr(0,r).replace(/[.+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/\\*/g,\"[^\\\\/]+\")+\")(\\\\/|$)\"),wildcard:-1!==t}}function de(e,t){for(var r,n,o=!1,i=0;i<e.packageConfigPaths.length;i++){var a=e.packageConfigPaths[i],s=Dt[a]||(Dt[a]=fe(a));if(!(t.length<s.length)){var u=t.match(s.regEx);!u||r&&(o&&s.wildcard||!(r.length<u[1].length))||(r=u[1],o=!s.wildcard,n=r+a.substr(s.length))}}if(r)return{packageKey:r,configPath:n}}function pe(e,r,n,o,i){var a=e.pluginLoader||e;return-1===r.packageConfigKeys.indexOf(n)&&r.packageConfigKeys.push(n),a.import(n).then(function(e){Oe(o.packageConfig,e,o.packageKey,!0,r),o.packageConfig.configured=!0}).catch(function(e){throw t(e,\"Unable to fetch package configuration file \"+n)})}function ge(e,t,r){var n;for(var o in e){var i=\"./\"===o.substr(0,2)?\"./\":\"\";if(i&&(o=o.substr(2)),-1!==(n=o.indexOf(\"*\"))&&o.substr(0,n)===t.substr(0,n)&&o.substr(n+1)===t.substr(t.length-o.length+n+1)&&r(o,e[i+o],o.split(\"/\").length))return}var a=e[t]&&Object.hasOwnProperty.call(e,t)?e[t]:e[\"./\"+t];a&&r(a,a,0)}function he(e){var t,r,n,o=e.lastIndexOf(\"|\");return-1!==o?(t=e.substr(o+1),r=e.substr(0,o),\"~\"===t[0]&&(n=!0,t=t.substr(1))):(n=\"~\"===e[0],t=\"default\",r=e.substr(n),-1!==Ut.indexOf(r)&&(t=r,r=null)),{module:r||\"@system-env\",prop:t,negate:n}}function me(e,t,r){return f.prototype.import.call(this,e.module,t).then(function(t){var n=q(e.prop,t);if(r&&\"boolean\"!=typeof n)throw new TypeError(\"Condition did not resolve to a boolean.\");return e.negate?!n:n})}function ve(e,t,r){var n=e.match(qt);if(!n)return Promise.resolve(e);var o=he.call(this,n[0].substr(2,n[0].length-3));return me.call(this,o,t,!1).then(function(r){if(\"string\"!=typeof r)throw new TypeError(\"The condition value for \"+e+\" doesn't resolve to a string.\");if(-1!==r.indexOf(\"/\"))throw new TypeError(\"Unabled to interpolate conditional \"+e+(t?\" in \"+t:\"\")+\"\\n\\tThe condition value \"+r+' cannot contain a \"/\" separator.');return e.replace(qt,r)})}function ye(e,t,r){for(var n=0;n<Tt.length;n++){var o=Tt[n];t[o]&&Er[o.substr(0,o.length-6)]&&r(t[o])}}function be(e,t){var r={};for(var n in e){var o=e[n];t>1?o instanceof Array?r[n]=[].concat(o):\"object\"==typeof o?r[n]=be(o,t-1):\"packageConfig\"!==n&&(r[n]=o):r[n]=o}return r}function we(e,t){var r=e[t];return r instanceof Array?e[t].concat([]):\"object\"==typeof r?be(r,3):e[t]}function xe(e){if(e){if(-1!==Or.indexOf(e))return we(this[St],e);throw new Error('\"'+e+'\" is not a valid configuration name. Must be one of '+Or.join(\", \")+\".\")}for(var t={},r=0;r<Or.length;r++){var n=Or[r],o=we(this[St],n);void 0!==o&&(t[n]=o)}return t}function ke(e,t){var r=this,o=this[St];if(\"warnings\"in e&&(o.warnings=e.warnings),\"wasm\"in e&&(o.wasm=\"undefined\"!=typeof WebAssembly&&e.wasm),(\"production\"in e||\"build\"in e)&&tt.call(r,!!e.production,!!(e.build||Er&&Er.build)),!t){var i;ye(r,e,function(e){i=i||e.baseURL}),(i=i||e.baseURL)&&(o.baseURL=n(i,nt)||n(\"./\"+i,nt),\"/\"!==o.baseURL[o.baseURL.length-1]&&(o.baseURL+=\"/\")),e.paths&&A(o.paths,e.paths),ye(r,e,function(e){e.paths&&A(o.paths,e.paths)});for(var a in o.paths)-1!==o.paths[a].indexOf(\"*\")&&(R.call(o,\"Path config \"+a+\" -> \"+o.paths[a]+\" is no longer supported as wildcards are deprecated.\"),delete o.paths[a])}if(e.defaultJSExtensions&&R.call(o,\"The defaultJSExtensions configuration option is deprecated.\\n  Use packages defaultExtension instead.\",!0),\"boolean\"==typeof e.pluginFirst&&(o.pluginFirst=e.pluginFirst),e.map)for(var a in e.map){var s=e.map[a];if(\"string\"==typeof s){var u=Q.call(r,o,s,void 0,!1,!1);\"/\"===u[u.length-1]&&\":\"!==a[a.length-1]&&\"/\"!==a[a.length-1]&&(u=u.substr(0,u.length-1)),o.map[a]=u}else{m=(m=Q.call(r,o,\"/\"!==a[a.length-1]?a+\"/\":a,void 0,!0,!0)).substr(0,m.length-1);var l=o.packages[m];l||((l=o.packages[m]=Ee()).defaultExtension=\"\"),Oe(l,{map:s},m,!1,o)}}if(e.packageConfigPaths){for(var c=[],f=0;f<e.packageConfigPaths.length;f++){var d=e.packageConfigPaths[f],p=Math.max(d.lastIndexOf(\"*\")+1,d.lastIndexOf(\"/\")),g=Q.call(r,o,d.substr(0,p),void 0,!1,!1);c[f]=g+d.substr(p)}o.packageConfigPaths=c}if(e.bundles)for(var a in e.bundles){for(var h=[],f=0;f<e.bundles[a].length;f++)h.push(r.normalizeSync(e.bundles[a][f]));o.bundles[a]=h}if(e.packages)for(var a in e.packages){if(a.match(/^([^\\/]+:)?\\/\\/$/))throw new TypeError('\"'+a+'\" is not a valid package name.');var m=Q.call(r,o,\"/\"!==a[a.length-1]?a+\"/\":a,void 0,!0,!0);m=m.substr(0,m.length-1),Oe(o.packages[m]=o.packages[m]||Ee(),e.packages[a],m,!1,o)}if(e.depCache)for(var a in e.depCache)o.depCache[r.normalizeSync(a)]=[].concat(e.depCache[a]);if(e.meta)for(var a in e.meta)if(\"*\"===a[0])A(o.meta[a]=o.meta[a]||{},e.meta[a]);else{var v=Q.call(r,o,a,void 0,!0,!0);A(o.meta[v]=o.meta[v]||{},e.meta[a])}\"transpiler\"in e&&(o.transpiler=e.transpiler);for(var y in e)-1===Or.indexOf(y)&&-1===Tt.indexOf(y)&&(r[y]=e[y]);ye(r,e,function(e){r.config(e,!0)})}function Ee(){return{defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1}}function Oe(e,t,r,n,o){for(var i in t)\"main\"===i||\"format\"===i||\"defaultExtension\"===i||\"configured\"===i?n&&void 0!==e[i]||(e[i]=t[i]):\"map\"===i?(n?I:A)(e.map=e.map||{},t.map):\"meta\"===i?(n?I:A)(e.meta=e.meta||{},t.meta):Object.hasOwnProperty.call(t,i)&&R.call(o,'\"'+i+'\" is not a valid package configuration option in package '+r);return void 0===e.defaultExtension&&(e.defaultExtension=\"js\"),void 0===e.main&&e.map&&e.map[\".\"]?(e.main=e.map[\".\"],delete e.map[\".\"]):\"object\"==typeof e.main&&(e.map=e.map||{},e.map[\"./@main\"]=e.main,e.main.default=e.main.default||\"./\",e.main=\"@main\"),e}function Se(e){return zt?Wt+new Buffer(e).toString(\"base64\"):\"undefined\"!=typeof btoa?Wt+btoa(unescape(encodeURIComponent(e))):\"\"}function je(e,t,r,n){var o=e.lastIndexOf(\"\\n\");if(t){if(\"object\"!=typeof t)throw new TypeError(\"load.metadata.sourceMap must be set to an object.\");t=JSON.stringify(t)}return(n?\"(function(System, SystemJS) {\":\"\")+e+(n?\"\\n})(System, System);\":\"\")+(\"\\n//# sourceURL=\"!=e.substr(o,15)?\"\\n//# sourceURL=\"+r+(t?\"!transpiled\":\"\"):\"\")+(t&&Se(t)||\"\")}function _e(e,t,r,n,o){Nt||(Nt=document.head||document.body||document.documentElement);var i=document.createElement(\"script\");i.text=je(t,r,n,!1);var a,s=window.onerror;if(window.onerror=function(e){a=addToError(e,\"Evaluating \"+n),s&&s.apply(this,arguments)},Pe(e),o&&i.setAttribute(\"nonce\",o),Nt.appendChild(i),Nt.removeChild(i),Me(),window.onerror=s,a)return a}function Pe(e){0==Gt++&&(Bt=st.System),st.System=st.SystemJS=e}function Me(){0==--Gt&&(st.System=st.SystemJS=Bt)}function Re(e,t,r,n,o,i,a){if(t){if(i&&Ht)return _e(e,t,r,n,i);try{Pe(e),!Jt&&e._nodeRequire&&(Jt=e._nodeRequire(\"vm\"),$t=Jt.runInThisContext(\"typeof System !== 'undefined' && System\")===e),$t?Jt.runInThisContext(je(t,r,n,!a),{filename:n+(r?\"!transpiled\":\"\")}):(0,eval)(je(t,r,n,!a)),Me()}catch(e){return Me(),e}}}function Ce(e){return\"file:///\"===e.substr(0,8)?e.substr(7+!!at):Zt&&e.substr(0,Zt.length)===Zt?e.substr(Zt.length):e}function Le(e,t){return Ce(this.normalizeSync(e,t))}function Ae(e){var t,r=e.lastIndexOf(\"!\"),n=(t=-1!==r?e.substr(0,r):e).split(\"/\");return n.pop(),n=n.join(\"/\"),{filename:Ce(t),dirname:Ce(n)}}function Ie(e){function t(e,t){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index)return!0;return!1}It.lastIndex=tr.lastIndex=rr.lastIndex=0;var r,n=[],o=[],i=[];if(e.length/e.split(\"\\n\").length<200){for(;r=rr.exec(e);)o.push([r.index,r.index+r[0].length]);for(;r=tr.exec(e);)t(o,r)||i.push([r.index+r[1].length,r.index+r[0].length-1])}for(;r=It.exec(e);)if(!t(o,r)&&!t(i,r)){var a=r[1].substr(1,r[1].length-2);if(a.match(/\"|'/))continue;n.push(a)}return n}function Fe(e){if(-1===nr.indexOf(e)){try{var t=st[e]}catch(t){nr.push(e)}this(e,t)}}function Ke(e){if(\"string\"==typeof e)return q(e,st);if(!(e instanceof Array))throw new Error(\"Global exports must be a string or array.\");for(var t={},r=0;r<e.length;r++)t[e[r].split(\".\").pop()]=q(e[r],st);return t}function De(e,t,r,n){var o=st.define;st.define=void 0;var i;if(r){i={};for(var a in r)i[a]=st[a],st[a]=r[a]}return t||(Yt={},Object.keys(st).forEach(Fe,function(e,t){Yt[e]=t})),function(){var e,r=t?Ke(t):{},a=!!t;if(t&&!n||Object.keys(st).forEach(Fe,function(o,i){Yt[o]!==i&&void 0!==i&&(n&&(st[o]=void 0),t||(r[o]=i,void 0!==e?a||e===i||(a=!0):e=i))}),r=a?r:e,i)for(var s in i)st[s]=i[s];return st.define=o,r}}function Ue(e,t){var r=((e=e.replace(tr,\"\")).match(ar)[1].split(\",\")[t]||\"require\").replace(sr,\"\"),n=ur[r]||(ur[r]=new RegExp(or+r+ir,\"g\"));n.lastIndex=0;for(var o,i=[];o=n.exec(e);)i.push(o[2]||o[3]);return i}function qe(e){return function(t,r,n){e(t,r,n),\"object\"!=typeof(r=n.exports)&&\"function\"!=typeof r||\"__esModule\"in r||Object.defineProperty(n.exports,\"__esModule\",{value:!0})}}function Te(e,t){Vt=e,cr=t,Qt=void 0,lr=!1}function ze(e){Qt?e.registerDynamic(Vt?Qt[0].concat(Vt):Qt[0],!1,cr?qe(Qt[1]):Qt[1]):lr&&e.registerDynamic([],!1,_)}function Ne(e,t){!e.load.esModule||\"object\"!=typeof t&&\"function\"!=typeof t||\"__esModule\"in t||Object.defineProperty(t,\"__esModule\",{value:!0})}function Je(e,t){var r=this,n=this[St];return(Be(n,this,e)||Et).then(function(){if(!t()){var o=r[jt][e];if(\"@node/\"===e.substr(0,6)){if(!r._nodeRequire)throw new TypeError(\"Error loading \"+e+\". Can only load node core modules in Node.\");return r.registerDynamic([],!1,function(){return L.call(r,e.substr(6),r.baseURL)}),void t()}return o.load.scriptLoad?!o.load.pluginKey&&fr||(o.load.scriptLoad=!1,R.call(n,'scriptLoad not supported for \"'+e+'\"')):!1!==o.load.scriptLoad&&!o.load.pluginKey&&fr&&(o.load.deps||o.load.globals||!(\"system\"===o.load.format||\"register\"===o.load.format||\"global\"===o.load.format&&o.load.exports)||(o.load.scriptLoad=!0)),o.load.scriptLoad?new Promise(function(n,i){if(\"amd\"===o.load.format&&st.define!==r.amdDefine)throw new Error(\"Loading AMD with scriptLoad requires setting the global `\"+pr+\".define = SystemJS.amdDefine`\");U(e,o.load.crossOrigin,o.load.integrity,function(){if(!t()){o.load.format=\"global\";var e=o.load.exports&&Ke(o.load.exports);r.registerDynamic([],!1,function(){return Ne(o,e),e}),t()}n()},i)}):$e(r,e,o).then(function(){return We(r,e,o,t,n.wasm)})}}).then(function(t){return delete r[jt][e],t})}function $e(e,t,r){return r.pluginKey?e.import(r.pluginKey).then(function(e){r.pluginModule=e,r.pluginLoad={name:t,address:r.pluginArgument,source:void 0,metadata:r.load},r.load.deps=r.load.deps||[]}):Et}function Be(e,t,r){var n=e.depCache[r];if(n)for(a=0;a<n.length;a++)t.normalize(n[a],r).then(K);else{var o=!1;for(var i in e.bundles){for(var a=0;a<e.bundles[i].length;a++){var s=e.bundles[i][a];if(s===r){o=!0;break}if(-1!==s.indexOf(\"*\")){var u=s.split(\"*\");if(2!==u.length){e.bundles[i].splice(a--,1);continue}if(r.substr(0,u[0].length)===u[0]&&r.substr(r.length-u[1].length,u[1].length)===u[1]){o=!0;break}}}if(o)return t.import(i)}}}function We(e,t,r,n,o){return r.load.exports&&!r.load.format&&(r.load.format=\"global\"),Et.then(function(){if(r.pluginModule&&r.pluginModule.locate)return Promise.resolve(r.pluginModule.locate.call(e,r.pluginLoad)).then(function(e){e&&(r.pluginLoad.address=e)})}).then(function(){return r.pluginModule?(o=!1,r.pluginModule.fetch?r.pluginModule.fetch.call(e,r.pluginLoad,function(e){return Kt(e.address,r.load.authorization,r.load.integrity,!1)}):Kt(r.pluginLoad.address,r.load.authorization,r.load.integrity,!1)):Kt(t,r.load.authorization,r.load.integrity,o)}).then(function(i){return o&&\"string\"!=typeof i?C(e,i,n).then(function(o){if(!o){var a=ot?new TextDecoder(\"utf-8\").decode(new Uint8Array(i)):i.toString();return Ge(e,t,a,r,n)}}):Ge(e,t,i,r,n)})}function Ge(e,t,r,n,o){return Promise.resolve(r).then(function(t){return\"detect\"===n.load.format&&(n.load.format=void 0),Ve(t,n),n.pluginModule?(n.pluginLoad.source=t,n.pluginModule.translate?Promise.resolve(n.pluginModule.translate.call(e,n.pluginLoad,n.traceOpts)).then(function(e){if(n.load.sourceMap){if(\"object\"!=typeof n.load.sourceMap)throw new Error(\"metadata.load.sourceMap must be set to an object.\");Xe(n.pluginLoad.address,n.load.sourceMap)}return\"string\"==typeof e?e:n.pluginLoad.source}):t):t}).then(function(r){return n.load.format||'\"bundle\"'!==r.substring(0,8)?\"register\"===n.load.format||!n.load.format&&He(r)?(n.load.format=\"register\",r):\"esm\"===n.load.format||!n.load.format&&r.match(gr)?(n.load.format=\"esm\",Ye(e,r,t,n,o)):r:(n.load.format=\"system\",r)}).then(function(t){if(\"string\"!=typeof t||!n.pluginModule||!n.pluginModule.instantiate)return t;var r=!1;return n.pluginLoad.source=t,Promise.resolve(n.pluginModule.instantiate.call(e,n.pluginLoad,function(e){if(t=e.source,n.load=e.metadata,r)throw new Error(\"Instantiate must only be called once.\");r=!0})).then(function(e){return r?t:P(e)})}).then(function(r){if(\"string\"!=typeof r)return r;n.load.format||(n.load.format=Ze(r));var i=!1;switch(n.load.format){case\"esm\":case\"register\":case\"system\":if(u=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1))throw u;if(!o())return Ot;return;case\"json\":var a=JSON.parse(r);return e.newModule({default:a,__useDefault:a});case\"amd\":var s=st.define;st.define=e.amdDefine,Te(n.load.deps,n.load.esModule);var u=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if((i=o())||(ze(e),i=o()),st.define=s,u)throw u;break;case\"cjs\":var l=n.load.deps,c=(n.load.deps||[]).concat(n.load.cjsRequireDetection?Ie(r):[]);for(var f in n.load.globals)n.load.globals[f]&&c.push(n.load.globals[f]);e.registerDynamic(c,!0,function(o,i,a){if(o.resolve=function(t){return Le.call(e,t,a.id)},a.paths=[],a.require=o,!n.load.cjsDeferDepsExecute&&l)for(var s=0;s<l.length;s++)o(l[s]);var u=Ae(a.id),c={exports:i,args:[o,i,a,u.filename,u.dirname,st,st]},f=\"(function (require, exports, module, __filename, __dirname, global, GLOBAL\";if(n.load.globals)for(var d in n.load.globals)c.args.push(o(n.load.globals[d])),f+=\", \"+d;var p=st.define;st.define=void 0,st.__cjsWrapper=c,r=f+\") {\"+r.replace(yr,\"\")+\"\\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);\";var g=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if(g)throw g;Ne(n,i),st.__cjsWrapper=void 0,st.define=p}),i=o();break;case\"global\":c=n.load.deps||[];for(var f in n.load.globals){var d=n.load.globals[f];d&&c.push(d)}e.registerDynamic(c,!1,function(o,i,a){var s;if(n.load.globals){s={};for(var u in n.load.globals)n.load.globals[u]&&(s[u]=o(n.load.globals[u]))}var l=n.load.exports;l&&(r+=\"\\n\"+pr+'[\"'+l+'\"] = '+l+\";\");var c=De(a.id,l,s,n.load.encapsulateGlobal),f=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!0);if(f)throw f;var d=c();return Ne(n,d),d}),i=o();break;default:throw new TypeError('Unknown module format \"'+n.load.format+'\" for \"'+t+'\".'+(\"es6\"===n.load.format?' Use \"esm\" instead here.':\"\"))}if(!i)throw new Error(\"Module \"+t+\" detected as \"+n.load.format+\" but didn't execute correctly.\")})}function He(e){var t=e.match(hr);return t&&\"System.register\"===e.substr(t[0].length,15)}function Ze(e){return e.match(mr)?\"amd\":(vr.lastIndex=0,It.lastIndex=0,It.exec(e)||vr.exec(e)?\"cjs\":\"global\")}function Xe(e,t){var r=e.split(\"!\")[0];t.file&&t.file!=e||(t.file=r+\"!transpiled\"),(!t.sources||t.sources.length<=1&&(!t.sources[0]||t.sources[0]===e))&&(t.sources=[r])}function Ye(e,r,n,o,i){if(!e.transpiler)throw new TypeError(\"Unable to dynamically transpile ES module\\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: 'transpiler-module' })`.\");if(o.load.deps){for(var a=\"\",s=0;s<o.load.deps.length;s++)a+='import \"'+o.load.deps[s]+'\"; ';r=a+r}return e.import.call(e,e.transpiler).then(function(t){if(!(t=t.__useDefault||t).translate)throw new Error(e.transpiler+\" is not a valid transpiler plugin.\");return t===o.pluginModule?r:(\"string\"==typeof o.load.sourceMap&&(o.load.sourceMap=JSON.parse(o.load.sourceMap)),o.pluginLoad=o.pluginLoad||{name:n,address:n,source:r,metadata:o.load},o.load.deps=o.load.deps||[],Promise.resolve(t.translate.call(e,o.pluginLoad,o.traceOpts)).then(function(e){var t=o.load.sourceMap;return t&&\"object\"==typeof t&&Xe(n,t),\"esm\"===o.load.format&&He(e)&&(o.load.format=\"register\"),e}))},function(e){throw t(e,\"Unable to load transpiler to transpile \"+n)})}function Qe(e,t,r){for(var n,o=t.split(\".\");o.length>1;)e=e[n=o.shift()]=e[n]||{};void 0===e[n=o.shift()]&&(e[n]=r)}function Ve(e,t){var r=e.match(br);if(r)for(var n=r[0].match(wr),o=0;o<n.length;o++){var i=n[o],a=i.length,s=i.substr(0,1);if(\";\"==i.substr(a-1,1)&&a--,'\"'==s||\"'\"==s){var u=i.substr(1,i.length-3),l=u.substr(0,u.indexOf(\" \"));if(l){var c=u.substr(l.length+1,u.length-l.length-1);\"deps\"===l&&(l=\"deps[]\"),\"[]\"===l.substr(l.length-2,2)?(l=l.substr(0,l.length-2),t.load[l]=t.load[l]||[],t.load[l].push(c)):\"use\"!==l&&Qe(t.load,l,c)}else t.load[u]=!0}}}function et(){f.call(this),this._loader={},this[jt]={},this[St]={baseURL:nt,paths:{},packageConfigPaths:[],packageConfigKeys:[],map:{},packages:{},depCache:{},meta:{},bundles:{},production:!1,transpiler:void 0,loadedBundles:{},warnings:!1,pluginFirst:!1,wasm:!1},this.scriptSrc=dr,this._nodeRequire=er,this.registry.set(\"@empty\",Ot),tt.call(this,!1,!1),Xt(this)}function tt(e,t){this[St].production=e,this.registry.set(\"@system-env\",Er=this.newModule({browser:ot,node:!!this._nodeRequire,production:!t&&e,dev:t||!e,build:t,default:!0}))}function rt(e,t){R.call(e[St],\"SystemJS.\"+t+\" is deprecated for SystemJS.registry.\"+t)}var nt,ot=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,it=\"undefined\"!=typeof process&&process.versions&&process.versions.node,at=\"undefined\"!=typeof process&&\"string\"==typeof process.platform&&process.platform.match(/^win/),st=\"undefined\"!=typeof self?self:global,ut=\"undefined\"!=typeof Symbol;if(\"undefined\"!=typeof document&&document.getElementsByTagName){if(!(nt=document.baseURI)){var lt=document.getElementsByTagName(\"base\");nt=lt[0]&&lt[0].href||window.location.href}}else\"undefined\"!=typeof location&&(nt=location.href);if(nt){var ct=(nt=nt.split(\"#\")[0].split(\"?\")[0]).lastIndexOf(\"/\");-1!==ct&&(nt=nt.substr(0,ct+1))}else{if(\"undefined\"==typeof process||!process.cwd)throw new TypeError(\"No environment baseURI\");nt=\"file://\"+(at?\"/\":\"\")+process.cwd(),at&&(nt=nt.replace(/\\\\/g,\"/\"))}\"/\"!==nt[nt.length-1]&&(nt+=\"/\");var ft=\"_\"==new Error(0,\"_\").fileName,dt=Promise.resolve();i.prototype.constructor=i,i.prototype.import=function(e,r){if(\"string\"!=typeof e)throw new TypeError(\"Loader import method must be passed a module key string\");var n=this;return dt.then(function(){return n[gt](e,r)}).then(a).catch(function(n){throw t(n,\"Loading \"+e+(r?\" from \"+r:\"\"))})};var pt=i.resolve=e(\"resolve\"),gt=i.resolveInstantiate=e(\"resolveInstantiate\");i.prototype[gt]=function(e,t){var r=this;return r.resolve(e,t).then(function(e){return r.registry.get(e)})},i.prototype.resolve=function(e,r){var n=this;return dt.then(function(){return n[pt](e,r)}).then(s).catch(function(n){throw t(n,\"Resolving \"+e+(r?\" to \"+r:\"\"))})};var ht=\"undefined\"!=typeof Symbol&&Symbol.iterator,mt=e(\"registry\");ht&&(u.prototype[Symbol.iterator]=function(){return this.entries()[Symbol.iterator]()},u.prototype.entries=function(){var e=this[mt];return o(Object.keys(e).map(function(t){return[t,e[t]]}))}),u.prototype.keys=function(){return o(Object.keys(this[mt]))},u.prototype.values=function(){var e=this[mt];return o(Object.keys(e).map(function(t){return e[t]}))},u.prototype.get=function(e){return this[mt][e]},u.prototype.set=function(e,t){if(!(t instanceof l))throw new Error(\"Registry must be set with an instance of Module Namespace\");return this[mt][e]=t,this},u.prototype.has=function(e){return Object.hasOwnProperty.call(this[mt],e)},u.prototype.delete=function(e){return!!Object.hasOwnProperty.call(this[mt],e)&&(delete this[mt][e],!0)};var vt=e(\"baseObject\");l.prototype=Object.create(null),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l.prototype,Symbol.toStringTag,{value:\"Module\"});var yt=e(\"register-internal\");f.prototype=Object.create(i.prototype),f.prototype.constructor=f;var bt=f.instantiate=e(\"instantiate\");f.prototype[f.resolve=i.resolve]=function(e,t){return n(e,t||nt)},f.prototype[bt]=function(e,t){},f.prototype[i.resolveInstantiate]=function(e,t){var r=this,n=this[yt],o=this.registry[mt];return p(r,e,t,o,n).then(function(e){if(e instanceof l)return e;var t=e.linkRecord;if(!t){if(e.module)return e.module;throw e.evalError}return w(r,e,t,o,n).then(function(){return k(r,e,t,o,n,void 0)})})},f.prototype.register=function(e,t,r){var n=this[yt];void 0===r?n.lastRegister=[e,t,void 0]:(n.records[e]||d(n,e,void 0)).registration=[t,r,void 0]},f.prototype.registerDynamic=function(e,t,r,n){var o=this[yt];\"string\"!=typeof e?o.lastRegister=[e,t,r]:(o.records[e]||d(o,e,void 0)).registration=[t,r,n]},x.prototype.import=function(e){return this.loader.trace&&this.loader.loads[this.key].dynamicDeps.push(e),this.loader.import(e,this.key)};var wt={};Object.freeze&&Object.freeze(wt);var xt,kt,Et=Promise.resolve(),Ot=new l({}),St=e(\"loader-config\"),jt=e(\"metadata\"),_t=\"undefined\"==typeof window&&\"undefined\"!=typeof self&&\"undefined\"!=typeof importScripts,Pt=!1,Mt=!1;if(ot&&function(){var e=document.createElement(\"link\").relList;if(e&&e.supports){Mt=!0;try{Pt=e.supports(\"preload\")}catch(e){}}}(),ot){var Rt=[],Ct=window.onerror;window.onerror=function(e,t){for(var r=0;r<Rt.length;r++)if(Rt[r].src===t)return void Rt[r].err(e);Ct&&Ct.apply(this,arguments)}}var Lt,At,It=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.\"'])require\\s*\\(\\s*(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'|`[^`\\\\]*(?:\\\\.[^`\\\\]*)*`)\\s*\\)/g,Ft=\"undefined\"!=typeof XMLHttpRequest,Kt=At=\"undefined\"!=typeof self&&void 0!==self.fetch?J:Ft?$:\"undefined\"!=\"function\"&&\"undefined\"!=typeof process?B:W,Dt={},Ut=[\"browser\",\"node\",\"dev\",\"build\",\"production\",\"default\"],qt=/#\\{[^\\}]+\\}/,Tt=[\"browserConfig\",\"nodeConfig\",\"devConfig\",\"buildConfig\",\"productionConfig\"],zt=\"undefined\"!=typeof Buffer;try{zt&&\"YQ==\"!==new Buffer(\"a\").toString(\"base64\")&&(zt=!1)}catch(e){zt=!1}var Nt,Jt,$t,Bt,Wt=\"\\n//# sourceMappingURL=data:application/json;base64,\",Gt=0,Ht=!1;ot&&\"undefined\"!=typeof document&&document.getElementsByTagName&&(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\\.js/)||(Ht=!0));var Zt,Xt=function(e){function t(r,n,o,i){if(\"object\"==typeof r&&!(r instanceof Array))return t.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if(\"string\"==typeof r&&\"function\"==typeof n&&(r=[r]),!(r instanceof Array)){if(\"string\"==typeof r){var a=e.decanonicalize(r,i),s=e.get(a);if(!s)throw new Error('Module not already loaded loading \"'+r+'\" as '+a+(i?' from \"'+i+'\".':\".\"));return\"__useDefault\"in s?s.__useDefault:s}throw new TypeError(\"Invalid require\")}for(var u=[],l=0;l<r.length;l++)u.push(e.import(r[l],i));Promise.all(u).then(function(e){n&&n.apply(null,e)},o)}function r(r,n,o){function i(r,i,l){for(var c=[],f=0;f<n.length;f++)c.push(r(n[f]));if(l.uri=l.id,l.config=_,-1!==u&&c.splice(u,0,l),-1!==s&&c.splice(s,0,i),-1!==a){var d=function(n,o,i){return\"string\"==typeof n&&\"function\"!=typeof o?r(n):t.call(e,n,o,i,l.id)};d.toUrl=function(t){return e.normalizeSync(t,l.id)},c.splice(a,0,d)}var p=st.require;st.require=t;var g=o.apply(-1===s?st:i,c);st.require=p,void 0!==g&&(l.exports=g)}\"string\"!=typeof r&&(o=n,n=r,r=null),n instanceof Array||(o=n,n=[\"require\",\"exports\",\"module\"].splice(0,o.length)),\"function\"!=typeof o&&(o=function(e){return function(){return e}}(o)),r||Vt&&(n=n.concat(Vt),Vt=void 0);var a,s,u;-1!==(a=n.indexOf(\"require\"))&&(n.splice(a,1),r||(n=n.concat(Ue(o.toString(),a)))),-1!==(s=n.indexOf(\"exports\"))&&n.splice(s,1),-1!==(u=n.indexOf(\"module\"))&&n.splice(u,1),r?(e.registerDynamic(r,n,!1,i),Qt?(Qt=void 0,lr=!0):lr||(Qt=[n,i])):e.registerDynamic(n,!1,cr?qe(i):i)}e.set(\"@@cjs-helpers\",e.newModule({requireResolve:Le.bind(e),getPathVars:Ae})),e.set(\"@@global-helpers\",e.newModule({prepareGlobal:De})),r.amd={},e.amdDefine=r,e.amdRequire=t};\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.location&&(Zt=location.protocol+\"//\"+location.hostname+(location.port?\":\"+location.port:\"\"));var Yt,Qt,Vt,er,tr=/(^|[^\\\\])(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/gm,rr=/(\"[^\"\\\\\\n\\r]*(\\\\.[^\"\\\\\\n\\r]*)*\"|'[^'\\\\\\n\\r]*(\\\\.[^'\\\\\\n\\r]*)*')/g,nr=[\"_g\",\"sessionStorage\",\"localStorage\",\"clipboardData\",\"frames\",\"frameElement\",\"external\",\"mozAnimationStartTime\",\"webkitStorageInfo\",\"webkitIndexedDB\",\"mozInnerScreenY\",\"mozInnerScreenX\"],or=\"(?:^|[^$_a-zA-Z\\\\xA0-\\\\uFFFF.])\",ir=\"\\\\s*\\\\(\\\\s*(\\\"([^\\\"]+)\\\"|'([^']+)')\\\\s*\\\\)\",ar=/\\(([^\\)]*)\\)/,sr=/^\\s+|\\s+$/g,ur={},lr=!1,cr=!1,fr=(ot||_t)&&\"undefined\"!=typeof navigator&&navigator.userAgent&&!navigator.userAgent.match(/MSIE (9|10).0/);\"undefined\"==\"function\"||\"undefined\"==typeof process||process.browser||(er=require);var dr,pr=\"undefined\"!=typeof self?\"self\":\"global\",gr=/(^\\s*|[}\\);\\n]\\s*)(import\\s*(['\"]|(\\*\\s+as\\s+)?(?!type)([^\"'\\(\\)\\n; ]+)\\s*from\\s*['\"]|\\{)|export\\s+\\*\\s+from\\s+[\"']|export\\s*(\\{|default|function|class|var|const|let|async\\s+function))/,hr=/^(\\s*\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\s*\\/\\/[^\\n]*|\\s*\"[^\"]+\"\\s*;?|\\s*'[^']+'\\s*;?)*\\s*/,mr=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.])define\\s*\\(\\s*(\"[^\"]+\"\\s*,\\s*|'[^']+'\\s*,\\s*)?\\s*(\\[(\\s*((\"[^\"]+\"|'[^']+')\\s*,|\\/\\/.*\\r?\\n|\\/\\*(.|\\s)*?\\*\\/))*(\\s*(\"[^\"]+\"|'[^']+')\\s*,?)?(\\s*(\\/\\/.*\\r?\\n|\\/\\*(.|\\s)*?\\*\\/))*\\s*\\]|function\\s*|{|[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*\\))/,vr=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.])(exports\\s*(\\[['\"]|\\.)|module(\\.exports|\\['exports'\\]|\\[\"exports\"\\])\\s*(\\[['\"]|[=,\\.]))/,yr=/^\\#\\!.*/,br=/^(\\s*\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\s*\\/\\/[^\\n]*|\\s*\"[^\"]+\"\\s*;?|\\s*'[^']+'\\s*;?)+/,wr=/\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\/\\/[^\\n]*|\"[^\"]+\"\\s*;?|'[^']+'\\s*;?/g;if(\"undefined\"==typeof Promise)throw new Error(\"SystemJS needs a Promise polyfill.\");if(\"undefined\"!=typeof document){var xr=document.getElementsByTagName(\"script\"),kr=xr[xr.length-1];document.currentScript&&(kr.defer||kr.async)&&(kr=document.currentScript),dr=kr&&kr.src}else if(\"undefined\"!=typeof importScripts)try{throw new Error(\"_\")}catch(e){e.stack.replace(/(?:at|@).*(http.+):[\\d]+:[\\d]+/,function(e,t){dr=t})}else\"undefined\"!=typeof __filename&&(dr=__filename);var Er;et.prototype=Object.create(f.prototype),et.prototype.constructor=et,et.prototype[et.resolve=f.resolve]=et.prototype.normalize=Z,et.prototype.load=function(e,t){return R.call(this[St],\"System.load is deprecated.\"),this.import(e,t)},et.prototype.decanonicalize=et.prototype.normalizeSync=et.prototype.resolveSync=Y,et.prototype[et.instantiate=f.instantiate]=Je,et.prototype.config=ke,et.prototype.getConfig=xe,et.prototype.global=st,et.prototype.import=function(){return f.prototype.import.apply(this,arguments).then(function(e){return\"__useDefault\"in e?e.__useDefault:e})};for(var Or=[\"baseURL\",\"map\",\"paths\",\"packages\",\"packageConfigPaths\",\"depCache\",\"meta\",\"bundles\",\"transpiler\",\"warnings\",\"pluginFirst\",\"production\",\"wasm\"],Sr=\"undefined\"!=typeof Proxy,jr=0;jr<Or.length;jr++)!function(e){Object.defineProperty(et.prototype,e,{get:function(){var t=we(this[St],e);return Sr&&\"object\"==typeof t&&(t=new Proxy(t,{set:function(t,r){throw new Error(\"Cannot set SystemJS.\"+e+'[\"'+r+'\"] directly. Use SystemJS.config({ '+e+': { \"'+r+'\": ... } }) rather.')}})),t},set:function(t){throw new Error(\"Setting `SystemJS.\"+e+\"` directly is no longer supported. Use `SystemJS.config({ \"+e+\": ... })`.\")}})}(Or[jr]);et.prototype.delete=function(e){return rt(this,\"delete\"),this.registry.delete(e)},et.prototype.get=function(e){return rt(this,\"get\"),this.registry.get(e)},et.prototype.has=function(e){return rt(this,\"has\"),this.registry.has(e)},et.prototype.set=function(e,t){return rt(this,\"set\"),this.registry.set(e,t)},et.prototype.newModule=function(e){return new l(e)},et.prototype.isModule=M,et.prototype.register=function(e,t,r){return\"string\"==typeof e&&(e=X.call(this,this[St],e)),f.prototype.register.call(this,e,t,r)},et.prototype.registerDynamic=function(e,t,r,n){return\"string\"==typeof e&&(e=X.call(this,this[St],e)),f.prototype.registerDynamic.call(this,e,t,r,n)},et.prototype.version=\"0.20.19 Dev\";var _r=new et;(ot||_t)&&(st.SystemJS=st.System=_r),\"undefined\"!=typeof module&&module.exports&&(module.exports=_r)}();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1421).Buffer, __webpack_require__(1425), __webpack_require__(54), \"/index.js\"))\n\n/***/ }),\n\n/***/ 1421:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(1422)\nvar ieee754 = __webpack_require__(1423)\nvar isArray = __webpack_require__(1424)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)))\n\n/***/ }),\n\n/***/ 1422:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n/***/ }),\n\n/***/ 1423:\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n\n/***/ 1424:\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n\n/***/ 1425:\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ 1426:\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n\n/***/ 1427:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MetricsPanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_features_panel_panel_ctrl__ = __webpack_require__(1313);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_utils_rangeutil__ = __webpack_require__(471);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__ = __webpack_require__(467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__metrics_tab__ = __webpack_require__(1428);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MetricsPanelCtrl = /** @class */ (function (_super) {\r\n    __extends(MetricsPanelCtrl, _super);\r\n    function MetricsPanelCtrl($scope, $injector) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        // make metrics tab the default\r\n        _this.editorTabIndex = 1;\r\n        _this.$q = $injector.get('$q');\r\n        _this.datasourceSrv = $injector.get('datasourceSrv');\r\n        _this.timeSrv = $injector.get('timeSrv');\r\n        _this.templateSrv = $injector.get('templateSrv');\r\n        _this.scope = $scope;\r\n        _this.panel.datasource = _this.panel.datasource || null;\r\n        if (!_this.panel.targets) {\r\n            _this.panel.targets = [{}];\r\n        }\r\n        _this.events.on('refresh', _this.onMetricsPanelRefresh.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitMetricsPanelEditMode.bind(_this));\r\n        _this.events.on('panel-teardown', _this.onPanelTearDown.bind(_this));\r\n        return _this;\r\n    }\r\n    MetricsPanelCtrl.prototype.onPanelTearDown = function () {\r\n        if (this.dataSubscription) {\r\n            this.dataSubscription.unsubscribe();\r\n            this.dataSubscription = null;\r\n        }\r\n    };\r\n    MetricsPanelCtrl.prototype.onInitMetricsPanelEditMode = function () {\r\n        this.addEditorTab('Metrics', __WEBPACK_IMPORTED_MODULE_7__metrics_tab__[\"a\" /* metricsTabDirective */]);\r\n        this.addEditorTab('Time range', 'public/app/features/panel/partials/panelTime.html');\r\n    };\r\n    MetricsPanelCtrl.prototype.onMetricsPanelRefresh = function () {\r\n        var _this = this;\r\n        // ignore fetching data if another panel is in fullscreen\r\n        if (this.otherPanelInFullscreenMode()) {\r\n            return;\r\n        }\r\n        // if we have snapshot data use that\r\n        if (this.panel.snapshotData) {\r\n            this.updateTimeRange();\r\n            var data = this.panel.snapshotData;\r\n            // backward compatability\r\n            if (!__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isArray(data)) {\r\n                data = data.data;\r\n            }\r\n            this.events.emit('data-snapshot-load', data);\r\n            return;\r\n        }\r\n        // // ignore if we have data stream\r\n        if (this.dataStream) {\r\n            return;\r\n        }\r\n        // clear loading/error state\r\n        delete this.error;\r\n        this.loading = true;\r\n        // load datasource service\r\n        this.setTimeQueryStart();\r\n        this.datasourceSrv.get(this.panel.datasource)\r\n            .then(this.updateTimeRange.bind(this))\r\n            .then(this.issueQueries.bind(this))\r\n            .then(this.handleQueryResult.bind(this))\r\n            .catch(function (err) {\r\n            // if cancelled  keep loading set to true\r\n            if (err.cancelled) {\r\n                console.log('Panel request cancelled', err);\r\n                return;\r\n            }\r\n            _this.loading = false;\r\n            _this.error = err.message || \"Request Error\";\r\n            _this.inspector = { error: err };\r\n            if (err.data) {\r\n                if (err.data.message) {\r\n                    _this.error = err.data.message;\r\n                }\r\n                if (err.data.error) {\r\n                    _this.error = err.data.error;\r\n                }\r\n            }\r\n            _this.events.emit('data-error', err);\r\n            console.log('Panel data error:', err);\r\n        });\r\n    };\r\n    MetricsPanelCtrl.prototype.setTimeQueryStart = function () {\r\n        this.timing.queryStart = new Date().getTime();\r\n    };\r\n    MetricsPanelCtrl.prototype.setTimeQueryEnd = function () {\r\n        this.timing.queryEnd = new Date().getTime();\r\n    };\r\n    MetricsPanelCtrl.prototype.updateTimeRange = function (datasource) {\r\n        this.datasource = datasource || this.datasource;\r\n        this.range = this.timeSrv.timeRange();\r\n        this.applyPanelTimeOverrides();\r\n        if (this.panel.maxDataPoints) {\r\n            this.resolution = this.panel.maxDataPoints;\r\n        }\r\n        else {\r\n            this.resolution = Math.ceil(__WEBPACK_IMPORTED_MODULE_1_jquery___default()(window).width() * (this.panel.span / 12));\r\n        }\r\n        this.calculateInterval();\r\n        return this.datasource;\r\n    };\r\n    MetricsPanelCtrl.prototype.calculateInterval = function () {\r\n        var intervalOverride = this.panel.interval;\r\n        // if no panel interval check datasource\r\n        if (intervalOverride) {\r\n            intervalOverride = this.templateSrv.replace(intervalOverride, this.panel.scopedVars);\r\n        }\r\n        else if (this.datasource && this.datasource.interval) {\r\n            intervalOverride = this.datasource.interval;\r\n        }\r\n        var res = __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__[\"default\"].calculateInterval(this.range, this.resolution, intervalOverride);\r\n        this.interval = res.interval;\r\n        this.intervalMs = res.intervalMs;\r\n    };\r\n    MetricsPanelCtrl.prototype.applyPanelTimeOverrides = function () {\r\n        this.timeInfo = '';\r\n        // check panel time overrrides\r\n        if (this.panel.timeFrom) {\r\n            var timeFromInterpolated = this.templateSrv.replace(this.panel.timeFrom, this.panel.scopedVars);\r\n            var timeFromInfo = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_rangeutil__[\"a\" /* describeTextRange */](timeFromInterpolated);\r\n            if (timeFromInfo.invalid) {\r\n                this.timeInfo = 'invalid time override';\r\n                return;\r\n            }\r\n            if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isString(this.range.raw.from)) {\r\n                var timeFromDate = __WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__[\"parse\"](timeFromInfo.from);\r\n                this.timeInfo = timeFromInfo.display;\r\n                this.range.from = timeFromDate;\r\n                this.range.to = __WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__[\"parse\"](timeFromInfo.to);\r\n                this.range.raw.from = timeFromInfo.from;\r\n                this.range.raw.to = timeFromInfo.to;\r\n            }\r\n        }\r\n        if (this.panel.timeShift) {\r\n            var timeShiftInterpolated = this.templateSrv.replace(this.panel.timeShift, this.panel.scopedVars);\r\n            var timeShiftInfo = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_rangeutil__[\"a\" /* describeTextRange */](timeShiftInterpolated);\r\n            if (timeShiftInfo.invalid) {\r\n                this.timeInfo = 'invalid timeshift';\r\n                return;\r\n            }\r\n            var timeShift = '-' + timeShiftInterpolated;\r\n            this.timeInfo += ' timeshift ' + timeShift;\r\n            this.range.from = __WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__[\"parseDateMath\"](timeShift, this.range.from, false);\r\n            this.range.to = __WEBPACK_IMPORTED_MODULE_6_app_core_utils_datemath__[\"parseDateMath\"](timeShift, this.range.to, true);\r\n            this.range.raw = { from: this.range.from, to: this.range.to };\r\n        }\r\n        if (this.panel.hideTimeOverride) {\r\n            this.timeInfo = '';\r\n        }\r\n    };\r\n    MetricsPanelCtrl.prototype.issueQueries = function (datasource) {\r\n        this.datasource = datasource;\r\n        if (!this.panel.targets || this.panel.targets.length === 0) {\r\n            return this.$q.when([]);\r\n        }\r\n        // make shallow copy of scoped vars,\r\n        // and add built in variables interval and interval_ms\r\n        var scopedVars = Object.assign({}, this.panel.scopedVars, {\r\n            \"__interval\": { text: this.interval, value: this.interval },\r\n            \"__interval_ms\": { text: this.intervalMs, value: this.intervalMs },\r\n        });\r\n        var metricsQuery = {\r\n            timezone: this.dashboard.getTimezone(),\r\n            panelId: this.panel.id,\r\n            range: this.range,\r\n            rangeRaw: this.range.raw,\r\n            interval: this.interval,\r\n            intervalMs: this.intervalMs,\r\n            targets: this.panel.targets,\r\n            maxDataPoints: this.resolution,\r\n            scopedVars: scopedVars,\r\n            cacheTimeout: this.panel.cacheTimeout\r\n        };\r\n        return datasource.query(metricsQuery);\r\n    };\r\n    MetricsPanelCtrl.prototype.handleQueryResult = function (result) {\r\n        this.setTimeQueryEnd();\r\n        this.loading = false;\r\n        // check for if data source returns subject\r\n        if (result && result.subscribe) {\r\n            this.handleDataStream(result);\r\n            return;\r\n        }\r\n        if (this.dashboard.snapshot) {\r\n            this.panel.snapshotData = result.data;\r\n        }\r\n        if (!result || !result.data) {\r\n            console.log('Data source query result invalid, missing data field:', result);\r\n            result = { data: [] };\r\n        }\r\n        this.events.emit('data-received', result.data);\r\n    };\r\n    MetricsPanelCtrl.prototype.handleDataStream = function (stream) {\r\n        var _this = this;\r\n        // if we already have a connection\r\n        if (this.dataStream) {\r\n            console.log('two stream observables!');\r\n            return;\r\n        }\r\n        this.dataStream = stream;\r\n        this.dataSubscription = stream.subscribe({\r\n            next: function (data) {\r\n                console.log('dataSubject next!');\r\n                if (data.range) {\r\n                    _this.range = data.range;\r\n                }\r\n                _this.events.emit('data-received', data.data);\r\n            },\r\n            error: function (error) {\r\n                _this.events.emit('data-error', error);\r\n                console.log('panel: observer got error');\r\n            },\r\n            complete: function () {\r\n                console.log('panel: observer got complete');\r\n                _this.dataStream = null;\r\n            }\r\n        });\r\n    };\r\n    MetricsPanelCtrl.prototype.setDatasource = function (datasource) {\r\n        var _this = this;\r\n        // switching to mixed\r\n        if (datasource.meta.mixed) {\r\n            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(this.panel.targets, function (target) {\r\n                target.datasource = _this.panel.datasource;\r\n                if (!target.datasource) {\r\n                    target.datasource = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].defaultDatasource;\r\n                }\r\n            });\r\n        }\r\n        else if (this.datasource && this.datasource.meta.mixed) {\r\n            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(this.panel.targets, function (target) {\r\n                delete target.datasource;\r\n            });\r\n        }\r\n        this.panel.datasource = datasource.value;\r\n        this.datasourceName = datasource.name;\r\n        this.datasource = null;\r\n        this.refresh();\r\n    };\r\n    MetricsPanelCtrl.prototype.addQuery = function (target) {\r\n        target.refId = this.dashboard.getNextQueryLetter(this.panel);\r\n        this.panel.targets.push(target);\r\n        this.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\r\n    };\r\n    MetricsPanelCtrl.prototype.removeQuery = function (target) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.indexOf(this.panel.targets, target);\r\n        this.panel.targets.splice(index, 1);\r\n        this.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\r\n        this.refresh();\r\n    };\r\n    MetricsPanelCtrl.prototype.moveQuery = function (target, direction) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.indexOf(this.panel.targets, target);\r\n        __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.move(this.panel.targets, index, index + direction);\r\n    };\r\n    return MetricsPanelCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_4_app_features_panel_panel_ctrl__[\"a\" /* PanelCtrl */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1428:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export MetricsTabCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = metricsTabDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_remarkable__ = __webpack_require__(469);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_remarkable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_remarkable__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar MetricsTabCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    MetricsTabCtrl.$inject = [\"$scope\", \"$sce\", \"datasourceSrv\", \"backendSrv\"];\r\n    function MetricsTabCtrl($scope, $sce, datasourceSrv, backendSrv) {\r\n        this.$sce = $sce;\r\n        this.backendSrv = backendSrv;\r\n        this.panelCtrl = $scope.ctrl;\r\n        $scope.ctrl = this;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.dashboard = this.panelCtrl.dashboard;\r\n        this.datasources = datasourceSrv.getMetricSources();\r\n        this.panelDsValue = this.panelCtrl.panel.datasource;\r\n        for (var _i = 0, _a = this.datasources; _i < _a.length; _i++) {\r\n            var ds = _a[_i];\r\n            if (ds.value === this.panelDsValue) {\r\n                this.datasourceInstance = ds;\r\n            }\r\n        }\r\n        this.addQueryDropdown = { text: 'Add Query', value: null, fake: true };\r\n        // update next ref id\r\n        this.panelCtrl.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\r\n        this.updateDatasourceOptions();\r\n    }\r\n    MetricsTabCtrl.prototype.updateDatasourceOptions = function () {\r\n        if (this.datasourceInstance) {\r\n            this.hasQueryHelp = this.datasourceInstance.meta.hasQueryHelp;\r\n            this.queryOptions = this.datasourceInstance.meta.queryOptions;\r\n        }\r\n    };\r\n    MetricsTabCtrl.prototype.getOptions = function (includeBuiltin) {\r\n        return Promise.resolve(this.datasources.filter(function (value) {\r\n            return includeBuiltin || !value.meta.builtIn;\r\n        }).map(function (ds) {\r\n            return { value: ds.value, text: ds.name, datasource: ds };\r\n        }));\r\n    };\r\n    MetricsTabCtrl.prototype.datasourceChanged = function (option) {\r\n        if (!option) {\r\n            return;\r\n        }\r\n        this.datasourceInstance = option.datasource;\r\n        this.panelCtrl.setDatasource(option.datasource);\r\n        this.updateDatasourceOptions();\r\n    };\r\n    MetricsTabCtrl.prototype.addMixedQuery = function (option) {\r\n        if (!option) {\r\n            return;\r\n        }\r\n        this.panelCtrl.addQuery({ isNew: true, datasource: option.datasource.name });\r\n        this.addQueryDropdown = { text: 'Add Query', value: null, fake: true };\r\n    };\r\n    MetricsTabCtrl.prototype.addQuery = function () {\r\n        this.panelCtrl.addQuery({ isNew: true });\r\n    };\r\n    MetricsTabCtrl.prototype.toggleHelp = function () {\r\n        var _this = this;\r\n        this.optionsOpen = false;\r\n        this.queryTroubleshooterOpen = false;\r\n        this.helpOpen = !this.helpOpen;\r\n        this.backendSrv.get(\"/api/plugins/\" + this.datasourceInstance.meta.id + \"/markdown/query_help\").then(function (res) {\r\n            var md = new __WEBPACK_IMPORTED_MODULE_0_remarkable___default.a();\r\n            _this.helpHtml = _this.$sce.trustAsHtml(md.render(res));\r\n        });\r\n    };\r\n    MetricsTabCtrl.prototype.toggleOptions = function () {\r\n        this.helpOpen = false;\r\n        this.queryTroubleshooterOpen = false;\r\n        this.optionsOpen = !this.optionsOpen;\r\n    };\r\n    MetricsTabCtrl.prototype.toggleQueryTroubleshooter = function () {\r\n        this.helpOpen = false;\r\n        this.optionsOpen = false;\r\n        this.queryTroubleshooterOpen = !this.queryTroubleshooterOpen;\r\n    };\r\n    return MetricsTabCtrl;\r\n}());\r\n\r\n/** @ngInject **/\r\nfunction metricsTabDirective() {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/features/panel/partials/metrics_tab.html',\r\n        controller: MetricsTabCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1429:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AlertTabCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = alertTab;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__threshold_mapper__ = __webpack_require__(1430);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_components_query_part_query_part__ = __webpack_require__(1308);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__alert_def__ = __webpack_require__(1307);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_app_events__ = __webpack_require__(53);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AlertTabCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AlertTabCtrl.$inject = [\"$scope\", \"backendSrv\", \"dashboardSrv\", \"uiSegmentSrv\", \"$q\", \"datasourceSrv\"];\r\n    function AlertTabCtrl($scope, backendSrv, dashboardSrv, uiSegmentSrv, $q, datasourceSrv) {\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.dashboardSrv = dashboardSrv;\r\n        this.uiSegmentSrv = uiSegmentSrv;\r\n        this.$q = $q;\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.$scope.ctrl = this;\r\n        this.subTabIndex = 0;\r\n        this.evalFunctions = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].evalFunctions;\r\n        this.evalOperators = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].evalOperators;\r\n        this.conditionTypes = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].conditionTypes;\r\n        this.noDataModes = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].noDataModes;\r\n        this.executionErrorModes = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].executionErrorModes;\r\n        this.appSubUrl = __WEBPACK_IMPORTED_MODULE_4_app_core_config__[\"default\"].appSubUrl;\r\n    }\r\n    AlertTabCtrl.prototype.$onInit = function () {\r\n        var _this = this;\r\n        this.addNotificationSegment = this.uiSegmentSrv.newPlusButton();\r\n        // subscribe to graph threshold handle changes\r\n        var thresholdChangedEventHandler = this.graphThresholdChanged.bind(this);\r\n        this.panelCtrl.events.on('threshold-changed', thresholdChangedEventHandler);\r\n        // set panel alert edit mode\r\n        this.$scope.$on(\"$destroy\", function () {\r\n            _this.panelCtrl.events.off(\"threshold-changed\", thresholdChangedEventHandler);\r\n            _this.panelCtrl.editingThresholds = false;\r\n            _this.panelCtrl.render();\r\n        });\r\n        // build notification model\r\n        this.notifications = [];\r\n        this.alertNotifications = [];\r\n        this.alertHistory = [];\r\n        return this.backendSrv.get('/api/alert-notifications').then(function (res) {\r\n            _this.notifications = res;\r\n            _this.initModel();\r\n            _this.validateModel();\r\n        });\r\n    };\r\n    AlertTabCtrl.prototype.getAlertHistory = function () {\r\n        var _this = this;\r\n        this.backendSrv.get(\"/api/annotations?dashboardId=\" + this.panelCtrl.dashboard.id + \"&panelId=\" + this.panel.id + \"&limit=50\").then(function (res) {\r\n            _this.alertHistory = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (ah) {\r\n                ah.time = _this.dashboardSrv.getCurrent().formatDate(ah.time, 'MMM D, YYYY HH:mm:ss');\r\n                ah.stateModel = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].getStateDisplayModel(ah.newState);\r\n                ah.info = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].getAlertAnnotationInfo(ah);\r\n                return ah;\r\n            });\r\n        });\r\n    };\r\n    AlertTabCtrl.prototype.getNotificationIcon = function (type) {\r\n        switch (type) {\r\n            case \"email\": return \"fa fa-envelope\";\r\n            case \"slack\": return \"fa fa-slack\";\r\n            case \"victorops\": return \"fa fa-pagelines\";\r\n            case \"webhook\": return \"fa fa-cubes\";\r\n            case \"pagerduty\": return \"fa fa-bullhorn\";\r\n            case \"opsgenie\": return \"fa fa-bell\";\r\n            case \"hipchat\": return \"fa fa-mail-forward\";\r\n            case \"pushover\": return \"fa fa-mobile\";\r\n            case \"kafka\": return \"fa fa-random\";\r\n        }\r\n        return 'fa fa-bell';\r\n    };\r\n    AlertTabCtrl.prototype.getNotifications = function () {\r\n        var _this = this;\r\n        return Promise.resolve(this.notifications.map(function (item) {\r\n            return _this.uiSegmentSrv.newSegment(item.name);\r\n        }));\r\n    };\r\n    AlertTabCtrl.prototype.changeTabIndex = function (newTabIndex) {\r\n        this.subTabIndex = newTabIndex;\r\n        if (this.subTabIndex === 2) {\r\n            this.getAlertHistory();\r\n        }\r\n    };\r\n    AlertTabCtrl.prototype.notificationAdded = function () {\r\n        var model = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.notifications, { name: this.addNotificationSegment.value });\r\n        if (!model) {\r\n            return;\r\n        }\r\n        this.alertNotifications.push({\r\n            name: model.name,\r\n            iconClass: this.getNotificationIcon(model.type),\r\n            isDefault: false\r\n        });\r\n        this.alert.notifications.push({ id: model.id });\r\n        // reset plus button\r\n        this.addNotificationSegment.value = this.uiSegmentSrv.newPlusButton().value;\r\n        this.addNotificationSegment.html = this.uiSegmentSrv.newPlusButton().html;\r\n    };\r\n    AlertTabCtrl.prototype.removeNotification = function (index) {\r\n        this.alert.notifications.splice(index, 1);\r\n        this.alertNotifications.splice(index, 1);\r\n    };\r\n    AlertTabCtrl.prototype.initModel = function () {\r\n        var _this = this;\r\n        var alert = this.alert = this.panel.alert;\r\n        if (!alert) {\r\n            return;\r\n        }\r\n        alert.conditions = alert.conditions || [];\r\n        if (alert.conditions.length === 0) {\r\n            alert.conditions.push(this.buildDefaultCondition());\r\n        }\r\n        alert.noDataState = alert.noDataState || 'no_data';\r\n        alert.executionErrorState = alert.executionErrorState || 'alerting';\r\n        alert.frequency = alert.frequency || '60s';\r\n        alert.handler = alert.handler || 1;\r\n        alert.notifications = alert.notifications || [];\r\n        var defaultName = this.panel.title + ' alert';\r\n        alert.name = alert.name || defaultName;\r\n        this.conditionModels = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(alert.conditions, function (memo, value) {\r\n            memo.push(_this.buildConditionModel(value));\r\n            return memo;\r\n        }, []);\r\n        __WEBPACK_IMPORTED_MODULE_1__threshold_mapper__[\"a\" /* ThresholdMapper */].alertToGraphThresholds(this.panel);\r\n        for (var _i = 0, _a = alert.notifications; _i < _a.length; _i++) {\r\n            var addedNotification = _a[_i];\r\n            var model = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.notifications, { id: addedNotification.id });\r\n            if (model && model.isDefault === false) {\r\n                model.iconClass = this.getNotificationIcon(model.type);\r\n                this.alertNotifications.push(model);\r\n            }\r\n        }\r\n        for (var _b = 0, _c = this.notifications; _b < _c.length; _b++) {\r\n            var notification = _c[_b];\r\n            if (notification.isDefault) {\r\n                notification.iconClass = this.getNotificationIcon(notification.type);\r\n                notification.bgColor = \"#00678b\";\r\n                this.alertNotifications.push(notification);\r\n            }\r\n        }\r\n        this.panelCtrl.editingThresholds = true;\r\n        this.panelCtrl.render();\r\n    };\r\n    AlertTabCtrl.prototype.graphThresholdChanged = function (evt) {\r\n        for (var _i = 0, _a = this.alert.conditions; _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (condition.type === 'query') {\r\n                condition.evaluator.params[evt.handleIndex] = evt.threshold.value;\r\n                this.evaluatorParamsChanged();\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    AlertTabCtrl.prototype.buildDefaultCondition = function () {\r\n        return {\r\n            type: 'query',\r\n            query: { params: ['A', '5m', 'now'] },\r\n            reducer: { type: 'avg', params: [] },\r\n            evaluator: { type: 'gt', params: [null] },\r\n            operator: { type: 'and' },\r\n        };\r\n    };\r\n    AlertTabCtrl.prototype.validateModel = function () {\r\n        var _this = this;\r\n        if (!this.alert) {\r\n            return;\r\n        }\r\n        var firstTarget;\r\n        var fixed = false;\r\n        var foundTarget = null;\r\n        for (var _i = 0, _a = this.alert.conditions; _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (condition.type !== 'query') {\r\n                continue;\r\n            }\r\n            for (var _b = 0, _c = this.panel.targets; _b < _c.length; _b++) {\r\n                var target = _c[_b];\r\n                if (!firstTarget) {\r\n                    firstTarget = target;\r\n                }\r\n                if (condition.query.params[0] === target.refId) {\r\n                    foundTarget = target;\r\n                    break;\r\n                }\r\n            }\r\n            if (!foundTarget) {\r\n                if (firstTarget) {\r\n                    condition.query.params[0] = firstTarget.refId;\r\n                    foundTarget = firstTarget;\r\n                    fixed = true;\r\n                }\r\n                else {\r\n                    this.error = \"Could not find any metric queries\";\r\n                }\r\n            }\r\n            var datasourceName = foundTarget.datasource || this.panel.datasource;\r\n            this.datasourceSrv.get(datasourceName).then(function (ds) {\r\n                if (!ds.meta.alerting) {\r\n                    _this.error = 'The datasource does not support alerting queries';\r\n                }\r\n                else if (ds.targetContainsTemplate(foundTarget)) {\r\n                    _this.error = 'Template variables are not supported in alert queries';\r\n                }\r\n                else {\r\n                    _this.error = '';\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AlertTabCtrl.prototype.buildConditionModel = function (source) {\r\n        var cm = { source: source, type: source.type };\r\n        cm.queryPart = new __WEBPACK_IMPORTED_MODULE_2_app_core_components_query_part_query_part__[\"a\" /* QueryPart */](source.query, __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].alertQueryDef);\r\n        cm.reducerPart = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].createReducerPart(source.reducer);\r\n        cm.evaluator = source.evaluator;\r\n        cm.operator = source.operator;\r\n        return cm;\r\n    };\r\n    AlertTabCtrl.prototype.handleQueryPartEvent = function (conditionModel, evt) {\r\n        var _this = this;\r\n        switch (evt.name) {\r\n            case \"action-remove-part\": {\r\n                break;\r\n            }\r\n            case \"get-part-actions\": {\r\n                return this.$q.when([]);\r\n            }\r\n            case \"part-param-changed\": {\r\n                this.validateModel();\r\n            }\r\n            case \"get-param-options\": {\r\n                var result = this.panel.targets.map(function (target) {\r\n                    return _this.uiSegmentSrv.newSegment({ value: target.refId });\r\n                });\r\n                return this.$q.when(result);\r\n            }\r\n        }\r\n    };\r\n    AlertTabCtrl.prototype.handleReducerPartEvent = function (conditionModel, evt) {\r\n        switch (evt.name) {\r\n            case \"action\": {\r\n                conditionModel.source.reducer.type = evt.action.value;\r\n                conditionModel.reducerPart = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].createReducerPart(conditionModel.source.reducer);\r\n                break;\r\n            }\r\n            case \"get-part-actions\": {\r\n                var result = [];\r\n                for (var _i = 0, _a = __WEBPACK_IMPORTED_MODULE_3__alert_def__[\"a\" /* default */].reducerTypes; _i < _a.length; _i++) {\r\n                    var type = _a[_i];\r\n                    if (type.value !== conditionModel.source.reducer.type) {\r\n                        result.push(type);\r\n                    }\r\n                }\r\n                return this.$q.when(result);\r\n            }\r\n        }\r\n    };\r\n    AlertTabCtrl.prototype.addCondition = function (type) {\r\n        var condition = this.buildDefaultCondition();\r\n        // add to persited model\r\n        this.alert.conditions.push(condition);\r\n        // add to view model\r\n        this.conditionModels.push(this.buildConditionModel(condition));\r\n    };\r\n    AlertTabCtrl.prototype.removeCondition = function (index) {\r\n        this.alert.conditions.splice(index, 1);\r\n        this.conditionModels.splice(index, 1);\r\n    };\r\n    AlertTabCtrl.prototype.delete = function () {\r\n        var _this = this;\r\n        __WEBPACK_IMPORTED_MODULE_5_app_core_app_events__[\"a\" /* default */].emit('confirm-modal', {\r\n            title: 'Delete Alert',\r\n            text: 'Are you sure you want to delete this alert rule?',\r\n            text2: 'You need to save dashboard for the delete to take effect',\r\n            icon: 'fa-trash',\r\n            yesText: 'Delete',\r\n            onConfirm: function () {\r\n                delete _this.panel.alert;\r\n                _this.alert = null;\r\n                _this.panel.thresholds = [];\r\n                _this.conditionModels = [];\r\n                _this.panelCtrl.alertState = null;\r\n                _this.panelCtrl.render();\r\n            }\r\n        });\r\n    };\r\n    AlertTabCtrl.prototype.enable = function () {\r\n        this.panel.alert = {};\r\n        this.initModel();\r\n    };\r\n    AlertTabCtrl.prototype.evaluatorParamsChanged = function () {\r\n        __WEBPACK_IMPORTED_MODULE_1__threshold_mapper__[\"a\" /* ThresholdMapper */].alertToGraphThresholds(this.panel);\r\n        this.panelCtrl.render();\r\n    };\r\n    AlertTabCtrl.prototype.evaluatorTypeChanged = function (evaluator) {\r\n        // ensure params array is correct length\r\n        switch (evaluator.type) {\r\n            case \"lt\":\r\n            case \"gt\": {\r\n                evaluator.params = [evaluator.params[0]];\r\n                break;\r\n            }\r\n            case \"within_range\":\r\n            case \"outside_range\": {\r\n                evaluator.params = [evaluator.params[0], evaluator.params[1]];\r\n                break;\r\n            }\r\n            case \"no_value\": {\r\n                evaluator.params = [];\r\n            }\r\n        }\r\n        this.evaluatorParamsChanged();\r\n    };\r\n    AlertTabCtrl.prototype.clearHistory = function () {\r\n        var _this = this;\r\n        __WEBPACK_IMPORTED_MODULE_5_app_core_app_events__[\"a\" /* default */].emit('confirm-modal', {\r\n            title: 'Delete Alert History',\r\n            text: 'Are you sure you want to remove all history & annotations for this alert?',\r\n            icon: 'fa-trash',\r\n            yesText: 'Yes',\r\n            onConfirm: function () {\r\n                _this.backendSrv.post('/api/annotations/mass-delete', {\r\n                    dashboardId: _this.panelCtrl.dashboard.id,\r\n                    panelId: _this.panel.id,\r\n                }).then(function (res) {\r\n                    _this.alertHistory = [];\r\n                    _this.panelCtrl.refresh();\r\n                });\r\n            }\r\n        });\r\n    };\r\n    AlertTabCtrl.prototype.test = function () {\r\n        var _this = this;\r\n        this.testing = true;\r\n        this.testResult = false;\r\n        var payload = {\r\n            dashboard: this.dashboardSrv.getCurrent().getSaveModelClone(),\r\n            panelId: this.panelCtrl.panel.id,\r\n        };\r\n        return this.backendSrv.post('/api/alerts/test', payload).then(function (res) {\r\n            _this.testResult = res;\r\n            _this.testing = false;\r\n        });\r\n    };\r\n    return AlertTabCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction alertTab() {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/features/alerting/partials/alert_tab.html',\r\n        controller: AlertTabCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1430:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ThresholdMapper; });\nvar ThresholdMapper = /** @class */ (function () {\r\n    function ThresholdMapper() {\r\n    }\r\n    ThresholdMapper.alertToGraphThresholds = function (panel) {\r\n        if (panel.type !== 'graph') {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < panel.alert.conditions.length; i++) {\r\n            var condition = panel.alert.conditions[i];\r\n            if (condition.type !== 'query') {\r\n                continue;\r\n            }\r\n            var evaluator = condition.evaluator;\r\n            var thresholds = panel.thresholds = [];\r\n            switch (evaluator.type) {\r\n                case \"gt\": {\r\n                    var value = evaluator.params[0];\r\n                    thresholds.push({ value: value, op: 'gt' });\r\n                    break;\r\n                }\r\n                case \"lt\": {\r\n                    var value = evaluator.params[0];\r\n                    thresholds.push({ value: value, op: 'lt' });\r\n                    break;\r\n                }\r\n                case \"outside_range\": {\r\n                    var value1 = evaluator.params[0];\r\n                    var value2 = evaluator.params[1];\r\n                    if (value1 > value2) {\r\n                        thresholds.push({ value: value1, op: 'gt' });\r\n                        thresholds.push({ value: value2, op: 'lt' });\r\n                    }\r\n                    else {\r\n                        thresholds.push({ value: value1, op: 'lt' });\r\n                        thresholds.push({ value: value2, op: 'gt' });\r\n                    }\r\n                    break;\r\n                }\r\n                case \"within_range\": {\r\n                    var value1 = evaluator.params[0];\r\n                    var value2 = evaluator.params[1];\r\n                    if (value1 > value2) {\r\n                        thresholds.push({ value: value1, op: 'lt' });\r\n                        thresholds.push({ value: value2, op: 'gt' });\r\n                    }\r\n                    else {\r\n                        thresholds.push({ value: value1, op: 'gt' });\r\n                        thresholds.push({ value: value2, op: 'lt' });\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        for (var _i = 0, _a = panel.thresholds; _i < _a.length; _i++) {\r\n            var t = _a[_i];\r\n            t.fill = true;\r\n            t.line = true;\r\n            t.colorMode = 'critical';\r\n        }\r\n        var updated = true;\r\n        return updated;\r\n    };\r\n    return ThresholdMapper;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1431:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_plugins_datasource_graphite_module__ = __webpack_require__(1432);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_datasource_cloudwatch_module__ = __webpack_require__(1441);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_plugins_datasource_elasticsearch_module__ = __webpack_require__(1445);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_plugins_datasource_opentsdb_module__ = __webpack_require__(1454);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_plugins_datasource_grafana_module__ = __webpack_require__(1458);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_plugins_datasource_influxdb_module__ = __webpack_require__(1460);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_plugins_datasource_mixed_module__ = __webpack_require__(1465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_plugins_datasource_mysql_module__ = __webpack_require__(1467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_plugins_datasource_postgres_module__ = __webpack_require__(1471);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_app_plugins_datasource_prometheus_module__ = __webpack_require__(1475);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_app_plugins_panel_text_module__ = __webpack_require__(1482);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_app_plugins_panel_graph_module__ = __webpack_require__(1483);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_app_plugins_panel_dashlist_module__ = __webpack_require__(1494);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_app_plugins_panel_pluginlist_module__ = __webpack_require__(1495);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_app_plugins_panel_alertlist_module__ = __webpack_require__(1496);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_app_plugins_panel_heatmap_module__ = __webpack_require__(1497);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16_app_plugins_panel_table_module__ = __webpack_require__(1504);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_app_plugins_panel_singlestat_module__ = __webpack_require__(1508);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18_app_plugins_panel_gettingstarted_module__ = __webpack_require__(1510);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19_app_plugins_app_testdata_module__ = __webpack_require__(1511);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20_app_plugins_app_testdata_datasource_module__ = __webpack_require__(1512);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar builtInPlugins = {\r\n    \"app/plugins/datasource/graphite/module\": __WEBPACK_IMPORTED_MODULE_0_app_plugins_datasource_graphite_module__,\r\n    \"app/plugins/datasource/cloudwatch/module\": __WEBPACK_IMPORTED_MODULE_1_app_plugins_datasource_cloudwatch_module__,\r\n    \"app/plugins/datasource/elasticsearch/module\": __WEBPACK_IMPORTED_MODULE_2_app_plugins_datasource_elasticsearch_module__,\r\n    \"app/plugins/datasource/opentsdb/module\": __WEBPACK_IMPORTED_MODULE_3_app_plugins_datasource_opentsdb_module__,\r\n    \"app/plugins/datasource/grafana/module\": __WEBPACK_IMPORTED_MODULE_4_app_plugins_datasource_grafana_module__,\r\n    \"app/plugins/datasource/influxdb/module\": __WEBPACK_IMPORTED_MODULE_5_app_plugins_datasource_influxdb_module__,\r\n    \"app/plugins/datasource/mixed/module\": __WEBPACK_IMPORTED_MODULE_6_app_plugins_datasource_mixed_module__,\r\n    \"app/plugins/datasource/mysql/module\": __WEBPACK_IMPORTED_MODULE_7_app_plugins_datasource_mysql_module__,\r\n    \"app/plugins/datasource/postgres/module\": __WEBPACK_IMPORTED_MODULE_8_app_plugins_datasource_postgres_module__,\r\n    \"app/plugins/datasource/prometheus/module\": __WEBPACK_IMPORTED_MODULE_9_app_plugins_datasource_prometheus_module__,\r\n    \"app/plugins/app/testdata/module\": __WEBPACK_IMPORTED_MODULE_19_app_plugins_app_testdata_module__,\r\n    \"app/plugins/app/testdata/datasource/module\": __WEBPACK_IMPORTED_MODULE_20_app_plugins_app_testdata_datasource_module__,\r\n    \"app/plugins/panel/text/module\": __WEBPACK_IMPORTED_MODULE_10_app_plugins_panel_text_module__,\r\n    \"app/plugins/panel/graph/module\": __WEBPACK_IMPORTED_MODULE_11_app_plugins_panel_graph_module__,\r\n    \"app/plugins/panel/dashlist/module\": __WEBPACK_IMPORTED_MODULE_12_app_plugins_panel_dashlist_module__,\r\n    \"app/plugins/panel/pluginlist/module\": __WEBPACK_IMPORTED_MODULE_13_app_plugins_panel_pluginlist_module__,\r\n    \"app/plugins/panel/alertlist/module\": __WEBPACK_IMPORTED_MODULE_14_app_plugins_panel_alertlist_module__,\r\n    \"app/plugins/panel/heatmap/module\": __WEBPACK_IMPORTED_MODULE_15_app_plugins_panel_heatmap_module__,\r\n    \"app/plugins/panel/table/module\": __WEBPACK_IMPORTED_MODULE_16_app_plugins_panel_table_module__,\r\n    \"app/plugins/panel/singlestat/module\": __WEBPACK_IMPORTED_MODULE_17_app_plugins_panel_singlestat_module__,\r\n    \"app/plugins/panel/gettingstarted/module\": __WEBPACK_IMPORTED_MODULE_18_app_plugins_panel_gettingstarted_module__,\r\n};\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (builtInPlugins);\r\n\n\n/***/ }),\n\n/***/ 1432:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return AnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1433);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1434);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_ctrl__ = __webpack_require__(1440);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_2__config_ctrl__[\"a\"]; });\n\r\n\r\n\r\nvar AnnotationsQueryCtrl = /** @class */ (function () {\r\n    function AnnotationsQueryCtrl() {\r\n    }\r\n    AnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return AnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1433:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ \nGraphiteDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\"];__webpack_exports__[\"a\"] = GraphiteDatasource;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__ = __webpack_require__(467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_version__ = __webpack_require__(1329);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n/** @ngInject */\r\nfunction GraphiteDatasource(instanceSettings, $q, backendSrv, templateSrv) {\r\n    var _this = this;\r\n    this.basicAuth = instanceSettings.basicAuth;\r\n    this.url = instanceSettings.url;\r\n    this.name = instanceSettings.name;\r\n    this.graphiteVersion = instanceSettings.jsonData.graphiteVersion || '0.9';\r\n    this.supportsTags = supportsTags(this.graphiteVersion);\r\n    this.cacheTimeout = instanceSettings.cacheTimeout;\r\n    this.withCredentials = instanceSettings.withCredentials;\r\n    this.render_method = instanceSettings.render_method || 'POST';\r\n    this.getQueryOptionsInfo = function () {\r\n        return {\r\n            \"maxDataPoints\": true,\r\n            \"cacheTimeout\": true,\r\n            \"links\": [\r\n                {\r\n                    text: \"Help\",\r\n                    url: \"http://docs.grafana.org/features/datasources/graphite/#using-graphite-in-grafana\"\r\n                }\r\n            ]\r\n        };\r\n    };\r\n    this.query = function (options) {\r\n        var graphOptions = {\r\n            from: this.translateTime(options.rangeRaw.from, false),\r\n            until: this.translateTime(options.rangeRaw.to, true),\r\n            targets: options.targets,\r\n            format: options.format,\r\n            cacheTimeout: options.cacheTimeout || this.cacheTimeout,\r\n            maxDataPoints: options.maxDataPoints,\r\n        };\r\n        var params = this.buildGraphiteParams(graphOptions, options.scopedVars);\r\n        if (params.length === 0) {\r\n            return $q.when({ data: [] });\r\n        }\r\n        var httpOptions = {\r\n            method: 'POST',\r\n            url: '/render',\r\n            data: params.join('&'),\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n        };\r\n        if (options.panelId) {\r\n            httpOptions.requestId = this.name + '.panelId.' + options.panelId;\r\n        }\r\n        return this.doGraphiteRequest(httpOptions).then(this.convertDataPointsToMs);\r\n    };\r\n    this.convertDataPointsToMs = function (result) {\r\n        if (!result || !result.data) {\r\n            return [];\r\n        }\r\n        for (var i = 0; i < result.data.length; i++) {\r\n            var series = result.data[i];\r\n            for (var y = 0; y < series.datapoints.length; y++) {\r\n                series.datapoints[y][1] *= 1000;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    this.parseTags = function (tagString) {\r\n        var tags = [];\r\n        tags = tagString.split(',');\r\n        if (tags.length === 1) {\r\n            tags = tagString.split(' ');\r\n            if (tags[0] === '') {\r\n                tags = [];\r\n            }\r\n        }\r\n        return tags;\r\n    };\r\n    this.annotationQuery = function (options) {\r\n        var _this = this;\r\n        // Graphite metric as annotation\r\n        if (options.annotation.target) {\r\n            var target = templateSrv.replace(options.annotation.target, {}, 'glob');\r\n            var graphiteQuery = {\r\n                rangeRaw: options.rangeRaw,\r\n                targets: [{ target: target }],\r\n                format: 'json',\r\n                maxDataPoints: 100\r\n            };\r\n            return this.query(graphiteQuery).then(function (result) {\r\n                var list = [];\r\n                for (var i = 0; i < result.data.length; i++) {\r\n                    var target = result.data[i];\r\n                    for (var y = 0; y < target.datapoints.length; y++) {\r\n                        var datapoint = target.datapoints[y];\r\n                        if (!datapoint[0]) {\r\n                            continue;\r\n                        }\r\n                        list.push({\r\n                            annotation: options.annotation,\r\n                            time: datapoint[1],\r\n                            title: target.target\r\n                        });\r\n                    }\r\n                }\r\n                return list;\r\n            });\r\n        }\r\n        else {\r\n            // Graphite event as annotation\r\n            var tags = templateSrv.replace(options.annotation.tags);\r\n            return this.events({ range: options.rangeRaw, tags: tags }).then(function (results) {\r\n                var list = [];\r\n                for (var i = 0; i < results.data.length; i++) {\r\n                    var e = results.data[i];\r\n                    var tags = e.tags;\r\n                    if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(e.tags)) {\r\n                        tags = _this.parseTags(e.tags);\r\n                    }\r\n                    list.push({\r\n                        annotation: options.annotation,\r\n                        time: e.when * 1000,\r\n                        title: e.what,\r\n                        tags: tags,\r\n                        text: e.data\r\n                    });\r\n                }\r\n                return list;\r\n            });\r\n        }\r\n    };\r\n    this.events = function (options) {\r\n        try {\r\n            var tags = '';\r\n            if (options.tags) {\r\n                tags = '&tags=' + options.tags;\r\n            }\r\n            return this.doGraphiteRequest({\r\n                method: 'GET',\r\n                url: '/events/get_data?from=' + this.translateTime(options.range.from, false) +\r\n                    '&until=' + this.translateTime(options.range.to, true) + tags,\r\n            });\r\n        }\r\n        catch (err) {\r\n            return $q.reject(err);\r\n        }\r\n    };\r\n    this.targetContainsTemplate = function (target) {\r\n        return templateSrv.variableExists(target.target);\r\n    };\r\n    this.translateTime = function (date, roundUp) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(date)) {\r\n            if (date === 'now') {\r\n                return 'now';\r\n            }\r\n            else if (date.indexOf('now-') >= 0 && date.indexOf('/') === -1) {\r\n                date = date.substring(3);\r\n                date = date.replace('m', 'min');\r\n                date = date.replace('M', 'mon');\r\n                return date;\r\n            }\r\n            date = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__[\"parse\"](date, roundUp);\r\n        }\r\n        // graphite' s from filter is exclusive\r\n        // here we step back one minute in order\r\n        // to guarantee that we get all the data that\r\n        // exists for the specified range\r\n        if (roundUp) {\r\n            if (date.get('s')) {\r\n                date.add(1, 'm');\r\n            }\r\n        }\r\n        else if (roundUp === false) {\r\n            if (date.get('s')) {\r\n                date.subtract(1, 'm');\r\n            }\r\n        }\r\n        return date.unix();\r\n    };\r\n    this.metricFindQuery = function (query, optionalOptions) {\r\n        var options = optionalOptions || {};\r\n        var interpolatedQuery = templateSrv.replace(query);\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/metrics/find',\r\n            params: {\r\n                query: interpolatedQuery\r\n            },\r\n            // for cancellations\r\n            requestId: options.requestId,\r\n        };\r\n        if (options && options.range) {\r\n            httpOptions.params.from = this.translateTime(options.range.from, false);\r\n            httpOptions.params.until = this.translateTime(options.range.to, true);\r\n        }\r\n        return this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results.data, function (metric) {\r\n                return {\r\n                    text: metric.text,\r\n                    expandable: metric.expandable ? true : false\r\n                };\r\n            });\r\n        });\r\n    };\r\n    this.getTags = function (optionalOptions) {\r\n        var options = optionalOptions || {};\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/tags',\r\n            // for cancellations\r\n            requestId: options.requestId,\r\n        };\r\n        if (options && options.range) {\r\n            httpOptions.params.from = this.translateTime(options.range.from, false);\r\n            httpOptions.params.until = this.translateTime(options.range.to, true);\r\n        }\r\n        return this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results.data, function (tag) {\r\n                return {\r\n                    text: tag.tag,\r\n                    id: tag.id\r\n                };\r\n            });\r\n        });\r\n    };\r\n    this.getTagValues = function (tag, optionalOptions) {\r\n        var options = optionalOptions || {};\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/tags/' + tag,\r\n            // for cancellations\r\n            requestId: options.requestId,\r\n        };\r\n        if (options && options.range) {\r\n            httpOptions.params.from = this.translateTime(options.range.from, false);\r\n            httpOptions.params.until = this.translateTime(options.range.to, true);\r\n        }\r\n        return this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            if (results.data && results.data.values) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results.data.values, function (value) {\r\n                    return {\r\n                        text: value.value,\r\n                        id: value.id\r\n                    };\r\n                });\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    };\r\n    this.getTagsAutoComplete = function (expression, tagPrefix) {\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/tags/autoComplete/tags',\r\n            params: {\r\n                expr: expression\r\n            }\r\n        };\r\n        if (tagPrefix) {\r\n            httpOptions.params.tagPrefix = tagPrefix;\r\n        }\r\n        return _this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            if (results.data) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results.data, function (tag) {\r\n                    return { text: tag };\r\n                });\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    };\r\n    this.getTagValuesAutoComplete = function (expression, tag, valuePrefix) {\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/tags/autoComplete/values',\r\n            params: {\r\n                expr: expression,\r\n                tag: tag\r\n            }\r\n        };\r\n        if (valuePrefix) {\r\n            httpOptions.params.valuePrefix = valuePrefix;\r\n        }\r\n        return _this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            if (results.data) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(results.data, function (value) {\r\n                    return { text: value };\r\n                });\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n        });\r\n    };\r\n    this.getVersion = function () {\r\n        var httpOptions = {\r\n            method: 'GET',\r\n            url: '/version/_',\r\n        };\r\n        return this.doGraphiteRequest(httpOptions).then(function (results) {\r\n            if (results.data) {\r\n                var semver = new __WEBPACK_IMPORTED_MODULE_2_app_core_utils_version__[\"a\" /* SemVersion */](results.data);\r\n                return semver.isValid() ? results.data : '';\r\n            }\r\n            return '';\r\n        }).catch(function () {\r\n            return '';\r\n        });\r\n    };\r\n    this.testDatasource = function () {\r\n        return this.metricFindQuery('*').then(function () {\r\n            return { status: \"success\", message: \"Data source is working\" };\r\n        });\r\n    };\r\n    this.doGraphiteRequest = function (options) {\r\n        if (this.basicAuth || this.withCredentials) {\r\n            options.withCredentials = true;\r\n        }\r\n        if (this.basicAuth) {\r\n            options.headers = options.headers || {};\r\n            options.headers.Authorization = this.basicAuth;\r\n        }\r\n        options.url = this.url + options.url;\r\n        options.inspect = { type: 'graphite' };\r\n        return backendSrv.datasourceRequest(options);\r\n    };\r\n    this._seriesRefLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    this.buildGraphiteParams = function (options, scopedVars) {\r\n        var graphite_options = ['from', 'until', 'rawData', 'format', 'maxDataPoints', 'cacheTimeout'];\r\n        var clean_options = [], targets = {};\r\n        var target, targetValue, i;\r\n        var regex = /\\#([A-Z])/g;\r\n        var intervalFormatFixRegex = /'(\\d+)m'/gi;\r\n        var hasTargets = false;\r\n        options['format'] = 'json';\r\n        function fixIntervalFormat(match) {\r\n            return match.replace('m', 'min').replace('M', 'mon');\r\n        }\r\n        for (i = 0; i < options.targets.length; i++) {\r\n            target = options.targets[i];\r\n            if (!target.target) {\r\n                continue;\r\n            }\r\n            if (!target.refId) {\r\n                target.refId = this._seriesRefLetters[i];\r\n            }\r\n            targetValue = templateSrv.replace(target.target, scopedVars);\r\n            targetValue = targetValue.replace(intervalFormatFixRegex, fixIntervalFormat);\r\n            targets[target.refId] = targetValue;\r\n        }\r\n        function nestedSeriesRegexReplacer(match, g1) {\r\n            return targets[g1] || match;\r\n        }\r\n        for (i = 0; i < options.targets.length; i++) {\r\n            target = options.targets[i];\r\n            if (!target.target) {\r\n                continue;\r\n            }\r\n            targetValue = targets[target.refId];\r\n            targetValue = targetValue.replace(regex, nestedSeriesRegexReplacer);\r\n            targets[target.refId] = targetValue;\r\n            if (!target.hide) {\r\n                hasTargets = true;\r\n                clean_options.push(\"target=\" + encodeURIComponent(targetValue));\r\n            }\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(options, function (value, key) {\r\n            if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(graphite_options, key) === -1) {\r\n                return;\r\n            }\r\n            if (value) {\r\n                clean_options.push(key + \"=\" + encodeURIComponent(value));\r\n            }\r\n        });\r\n        if (!hasTargets) {\r\n            return [];\r\n        }\r\n        return clean_options;\r\n    };\r\n}\r\nfunction supportsTags(version) {\r\n    return Object(__WEBPACK_IMPORTED_MODULE_2_app_core_utils_version__[\"b\" /* isVersionGtOrEq */])(version, '1.1');\r\n}\r\n\n\n/***/ }),\n\n/***/ 1434:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GraphiteQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__add_graphite_func__ = __webpack_require__(1435);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__add_graphite_func___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__add_graphite_func__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__func_editor__ = __webpack_require__(1436);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__func_editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__func_editor__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__gfunc__ = __webpack_require__(1318);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__graphite_query__ = __webpack_require__(1437);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_core_app_events__ = __webpack_require__(53);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar GRAPHITE_TAG_OPERATORS = ['=', '!=', '=~', '!=~'];\r\nvar TAG_PREFIX = 'tag: ';\r\nvar GraphiteQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(GraphiteQueryCtrl, _super);\r\n    /** @ngInject **/\n    GraphiteQueryCtrl.$inject = [\"$scope\", \"$injector\", \"uiSegmentSrv\", \"templateSrv\"];\r\n    function GraphiteQueryCtrl($scope, $injector, uiSegmentSrv, templateSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.uiSegmentSrv = uiSegmentSrv;\r\n        _this.templateSrv = templateSrv;\r\n        _this.supportsTags = _this.datasource.supportsTags;\r\n        if (_this.target) {\r\n            _this.target.target = _this.target.target || '';\r\n            _this.queryModel = new __WEBPACK_IMPORTED_MODULE_4__graphite_query__[\"a\" /* default */](_this.target, templateSrv);\r\n            _this.buildSegments();\r\n        }\r\n        _this.removeTagValue = '-- remove tag --';\r\n        return _this;\r\n    }\r\n    GraphiteQueryCtrl.prototype.parseTarget = function () {\r\n        this.queryModel.parseTarget();\r\n        this.buildSegments();\r\n    };\r\n    GraphiteQueryCtrl.prototype.toggleEditorMode = function () {\r\n        this.target.textEditor = !this.target.textEditor;\r\n        this.parseTarget();\r\n    };\r\n    GraphiteQueryCtrl.prototype.buildSegments = function () {\r\n        var _this = this;\r\n        this.segments = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(this.queryModel.segments, function (segment) {\r\n            return _this.uiSegmentSrv.newSegment(segment);\r\n        });\r\n        var checkOtherSegmentsIndex = this.queryModel.checkOtherSegmentsIndex || 0;\r\n        this.checkOtherSegments(checkOtherSegmentsIndex);\r\n        if (this.queryModel.seriesByTagUsed) {\r\n            this.fixTagSegments();\r\n        }\r\n    };\r\n    GraphiteQueryCtrl.prototype.addSelectMetricSegment = function () {\r\n        this.queryModel.addSelectMetricSegment();\r\n        this.segments.push(this.uiSegmentSrv.newSelectMetric());\r\n    };\r\n    GraphiteQueryCtrl.prototype.checkOtherSegments = function (fromIndex) {\r\n        var _this = this;\r\n        if (fromIndex === 0) {\r\n            this.addSelectMetricSegment();\r\n            return;\r\n        }\r\n        var path = this.queryModel.getSegmentPathUpTo(fromIndex + 1);\r\n        if (path === \"\") {\r\n            return Promise.resolve();\r\n        }\r\n        return this.datasource.metricFindQuery(path).then(function (segments) {\r\n            if (segments.length === 0) {\r\n                if (path !== '') {\r\n                    _this.queryModel.segments = _this.queryModel.segments.splice(0, fromIndex);\r\n                    _this.segments = _this.segments.splice(0, fromIndex);\r\n                    _this.addSelectMetricSegment();\r\n                }\r\n            }\r\n            else if (segments[0].expandable) {\r\n                if (_this.segments.length === fromIndex) {\r\n                    _this.addSelectMetricSegment();\r\n                }\r\n                else {\r\n                    return _this.checkOtherSegments(fromIndex + 1);\r\n                }\r\n            }\r\n        }).catch(function (err) {\r\n            __WEBPACK_IMPORTED_MODULE_6_app_core_app_events__[\"a\" /* default */].emit('alert-error', ['Error', err]);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.setSegmentFocus = function (segmentIndex) {\r\n        __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(this.segments, function (segment, index) {\r\n            segment.focus = segmentIndex === index;\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.getAltSegments = function (index) {\r\n        var _this = this;\r\n        var query = index === 0 ? '*' : this.queryModel.getSegmentPathUpTo(index) + '.*';\r\n        var options = { range: this.panelCtrl.range, requestId: \"get-alt-segments\" };\r\n        return this.datasource.metricFindQuery(query, options).then(function (segments) {\r\n            var altSegments = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(segments, function (segment) {\r\n                return _this.uiSegmentSrv.newSegment({ value: segment.text, expandable: segment.expandable });\r\n            });\r\n            if (altSegments.length === 0) {\r\n                return altSegments;\r\n            }\r\n            // add template variables\r\n            __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.each(_this.templateSrv.variables, function (variable) {\r\n                altSegments.unshift(_this.uiSegmentSrv.newSegment({\r\n                    type: 'template',\r\n                    value: '$' + variable.name,\r\n                    expandable: true,\r\n                }));\r\n            });\r\n            // add wildcard option\r\n            altSegments.unshift(_this.uiSegmentSrv.newSegment('*'));\r\n            if (_this.supportsTags && index === 0) {\r\n                _this.removeTaggedEntry(altSegments);\r\n                return _this.addAltTagSegments(index, altSegments);\r\n            }\r\n            else {\r\n                return altSegments;\r\n            }\r\n        }).catch(function (err) {\r\n            return [];\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.addAltTagSegments = function (index, altSegments) {\r\n        return this.getTagsAsSegments().then(function (tagSegments) {\r\n            tagSegments = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(tagSegments, function (segment) {\r\n                segment.value = TAG_PREFIX + segment.value;\r\n                return segment;\r\n            });\r\n            return altSegments.concat.apply(altSegments, tagSegments);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.removeTaggedEntry = function (altSegments) {\r\n        altSegments = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.remove(altSegments, function (s) { return s.value === '_tagged'; });\r\n    };\r\n    GraphiteQueryCtrl.prototype.segmentValueChanged = function (segment, segmentIndex) {\r\n        var _this = this;\r\n        this.error = null;\r\n        this.queryModel.updateSegmentValue(segment, segmentIndex);\r\n        if (this.queryModel.functions.length > 0 && this.queryModel.functions[0].def.fake) {\r\n            this.queryModel.functions = [];\r\n        }\r\n        if (segment.type === 'tag') {\r\n            var tag = removeTagPrefix(segment.value);\r\n            this.addSeriesByTagFunc(tag);\r\n            return;\r\n        }\r\n        if (segment.expandable) {\r\n            return this.checkOtherSegments(segmentIndex + 1).then(function () {\r\n                _this.setSegmentFocus(segmentIndex + 1);\r\n                _this.targetChanged();\r\n            });\r\n        }\r\n        else {\r\n            this.spliceSegments(segmentIndex + 1);\r\n        }\r\n        this.setSegmentFocus(segmentIndex + 1);\r\n        this.targetChanged();\r\n    };\r\n    GraphiteQueryCtrl.prototype.spliceSegments = function (index) {\r\n        this.segments = this.segments.splice(0, index);\r\n        this.queryModel.segments = this.queryModel.segments.splice(0, index);\r\n    };\r\n    GraphiteQueryCtrl.prototype.emptySegments = function () {\r\n        this.queryModel.segments = [];\r\n        this.segments = [];\r\n    };\r\n    GraphiteQueryCtrl.prototype.targetTextChanged = function () {\r\n        this.updateModelTarget();\r\n        this.refresh();\r\n    };\r\n    GraphiteQueryCtrl.prototype.updateModelTarget = function () {\r\n        this.queryModel.updateModelTarget(this.panelCtrl.panel.targets);\r\n    };\r\n    GraphiteQueryCtrl.prototype.targetChanged = function () {\r\n        if (this.queryModel.error) {\r\n            return;\r\n        }\r\n        var oldTarget = this.queryModel.target.target;\r\n        this.updateModelTarget();\r\n        if (this.queryModel.target !== oldTarget) {\r\n            var lastSegment = this.segments.length > 0 ? this.segments[this.segments.length - 1] : {};\r\n            if (lastSegment.value !== 'select metric') {\r\n                this.panelCtrl.refresh();\r\n            }\r\n        }\r\n    };\r\n    GraphiteQueryCtrl.prototype.addFunction = function (funcDef) {\r\n        var newFunc = __WEBPACK_IMPORTED_MODULE_3__gfunc__[\"default\"].createFuncInstance(funcDef, { withDefaultParams: true });\r\n        newFunc.added = true;\r\n        this.queryModel.addFunction(newFunc);\r\n        this.smartlyHandleNewAliasByNode(newFunc);\r\n        if (this.segments.length === 1 && this.segments[0].fake) {\r\n            this.emptySegments();\r\n        }\r\n        if (!newFunc.params.length && newFunc.added) {\r\n            this.targetChanged();\r\n        }\r\n        if (newFunc.def.name === 'seriesByTag') {\r\n            this.parseTarget();\r\n        }\r\n    };\r\n    GraphiteQueryCtrl.prototype.removeFunction = function (func) {\r\n        this.queryModel.removeFunction(func);\r\n        this.targetChanged();\r\n    };\r\n    GraphiteQueryCtrl.prototype.addSeriesByTagFunc = function (tag) {\r\n        var funcDef = __WEBPACK_IMPORTED_MODULE_3__gfunc__[\"default\"].getFuncDef('seriesByTag');\r\n        var newFunc = __WEBPACK_IMPORTED_MODULE_3__gfunc__[\"default\"].createFuncInstance(funcDef, { withDefaultParams: false });\r\n        var tagParam = tag + \"=select tag value\";\r\n        newFunc.params = [tagParam];\r\n        this.queryModel.addFunction(newFunc);\r\n        newFunc.added = true;\r\n        this.emptySegments();\r\n        this.targetChanged();\r\n        this.parseTarget();\r\n    };\r\n    GraphiteQueryCtrl.prototype.smartlyHandleNewAliasByNode = function (func) {\r\n        if (func.def.name !== 'aliasByNode') {\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.segments.length; i++) {\r\n            if (this.segments[i].value.indexOf('*') >= 0) {\r\n                func.params[0] = i;\r\n                func.added = false;\r\n                this.targetChanged();\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    GraphiteQueryCtrl.prototype.getAllTags = function () {\r\n        var _this = this;\r\n        return this.datasource.getTags().then(function (values) {\r\n            var altTags = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(values, 'text');\r\n            altTags.splice(0, 0, _this.removeTagValue);\r\n            return mapToDropdownOptions(altTags);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.getTags = function (index, tagPrefix) {\r\n        var _this = this;\r\n        var tagExpressions = this.queryModel.renderTagExpressions(index);\r\n        return this.datasource.getTagsAutoComplete(tagExpressions, tagPrefix)\r\n            .then(function (values) {\r\n            var altTags = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(values, 'text');\r\n            altTags.splice(0, 0, _this.removeTagValue);\r\n            return mapToDropdownOptions(altTags);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.getTagsAsSegments = function () {\r\n        var _this = this;\r\n        var tagExpressions = this.queryModel.renderTagExpressions();\r\n        return this.datasource.getTagsAutoComplete(tagExpressions)\r\n            .then(function (values) {\r\n            return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(values, function (val) {\r\n                return _this.uiSegmentSrv.newSegment({ value: val.text, type: 'tag', expandable: false });\r\n            });\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.getTagOperators = function () {\r\n        return mapToDropdownOptions(GRAPHITE_TAG_OPERATORS);\r\n    };\r\n    GraphiteQueryCtrl.prototype.getAllTagValues = function (tag) {\r\n        var tagKey = tag.key;\r\n        return this.datasource.getTagValues(tagKey).then(function (values) {\r\n            var altValues = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(values, 'text');\r\n            return mapToDropdownOptions(altValues);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.getTagValues = function (tag, index, valuePrefix) {\r\n        var tagExpressions = this.queryModel.renderTagExpressions(index);\r\n        var tagKey = tag.key;\r\n        return this.datasource.getTagValuesAutoComplete(tagExpressions, tagKey, valuePrefix).then(function (values) {\r\n            var altValues = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(values, 'text');\r\n            return mapToDropdownOptions(altValues);\r\n        });\r\n    };\r\n    GraphiteQueryCtrl.prototype.tagChanged = function (tag, tagIndex) {\r\n        this.queryModel.updateTag(tag, tagIndex);\r\n        this.targetChanged();\r\n    };\r\n    GraphiteQueryCtrl.prototype.addNewTag = function (segment) {\r\n        var newTagKey = segment.value;\r\n        var newTag = { key: newTagKey, operator: '=', value: 'select tag value' };\r\n        this.queryModel.addTag(newTag);\r\n        this.targetChanged();\r\n        this.fixTagSegments();\r\n    };\r\n    GraphiteQueryCtrl.prototype.removeTag = function (index) {\r\n        this.queryModel.removeTag(index);\r\n        this.targetChanged();\r\n    };\r\n    GraphiteQueryCtrl.prototype.fixTagSegments = function () {\r\n        // Adding tag with the same name as just removed works incorrectly if single segment is used (instead of array)\r\n        this.addTagSegments = [this.uiSegmentSrv.newPlusButton()];\r\n    };\r\n    GraphiteQueryCtrl.prototype.showDelimiter = function (index) {\r\n        return index !== this.queryModel.tags.length - 1;\r\n    };\r\n    GraphiteQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return GraphiteQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\nfunction mapToDropdownOptions(results) {\r\n    return __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(results, function (value) {\r\n        return { text: value, value: value };\r\n    });\r\n}\r\nfunction removeTagPrefix(value) {\r\n    return value.replace(TAG_PREFIX, '');\r\n}\r\n\n\n/***/ }),\n\n/***/ 1435:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(13),\n  __webpack_require__(1318),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, $, gfunc) {\n  'use strict';\n\n  gfunc = gfunc.default;\n\n  angular\n    .module('grafana.directives')\n    .directive('graphiteAddFunc', [\"$compile\", function($compile) {\n      var inputTemplate = '<input type=\"text\"'+\n                            ' class=\"gf-form-input\"' +\n                            ' spellcheck=\"false\" style=\"display:none\"></input>';\n\n      var buttonTemplate = '<a  class=\"gf-form-label query-part dropdown-toggle\"' +\n                              ' tabindex=\"1\" gf-dropdown=\"functionMenu\" data-toggle=\"dropdown\">' +\n                              '<i class=\"fa fa-plus\"></i></a>';\n\n      return {\n        link: function($scope, elem) {\n          var ctrl = $scope.ctrl;\n          var graphiteVersion = ctrl.datasource.graphiteVersion;\n          var categories = gfunc.getCategories(graphiteVersion);\n          var allFunctions = getAllFunctionNames(categories);\n\n          $scope.functionMenu = createFunctionDropDownMenu(categories);\n\n          var $input = $(inputTemplate);\n          var $button = $(buttonTemplate);\n          $input.appendTo(elem);\n          $button.appendTo(elem);\n\n          $input.attr('data-provide', 'typeahead');\n          $input.typeahead({\n            source: allFunctions,\n            minLength: 1,\n            items: 10,\n            updater: function (value) {\n              var funcDef = gfunc.getFuncDef(value);\n              if (!funcDef) {\n                // try find close match\n                value = value.toLowerCase();\n                funcDef = _.find(allFunctions, function(funcName) {\n                  return funcName.toLowerCase().indexOf(value) === 0;\n                });\n\n                if (!funcDef) { return; }\n              }\n\n              $scope.$apply(function() {\n                ctrl.addFunction(funcDef);\n              });\n\n              $input.trigger('blur');\n              return '';\n            }\n          });\n\n          $button.click(function() {\n            $button.hide();\n            $input.show();\n            $input.focus();\n          });\n\n          $input.keyup(function() {\n            elem.toggleClass('open', $input.val() === '');\n          });\n\n          $input.blur(function() {\n            // clicking the function dropdown menu wont\n            // work if you remove class at once\n            setTimeout(function() {\n              $input.val('');\n              $input.hide();\n              $button.show();\n              elem.removeClass('open');\n            }, 200);\n          });\n\n          $compile(elem.contents())($scope);\n        }\n      };\n    }]);\n\n  function getAllFunctionNames(categories) {\n    return _.reduce(categories, function(list, category) {\n      _.each(category, function(func) {\n        list.push(func.name);\n      });\n      return list;\n    }, []);\n  }\n\n  function createFunctionDropDownMenu(categories) {\n    return _.map(categories, function(list, category) {\n      var submenu = _.map(list, function(value) {\n        return {\n          text: value.name,\n          click: \"ctrl.addFunction('\" + value.name + \"')\",\n        };\n      });\n\n      return {\n        text: category,\n        submenu: submenu\n      };\n    });\n  }\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1436:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(13),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, $) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('graphiteFuncEditor', [\"$compile\", \"templateSrv\", function($compile, templateSrv) {\n\n      var funcSpanTemplate = '<a ng-click=\"\">{{func.def.name}}</a><span>(</span>';\n      var paramTemplate = '<input type=\"text\" style=\"display:none\"' +\n                          ' class=\"input-mini tight-form-func-param\"></input>';\n\n      var funcControlsTemplate =\n         '<div class=\"tight-form-func-controls\">' +\n           '<span class=\"pointer fa fa-arrow-left\"></span>' +\n           '<span class=\"pointer fa fa-question-circle\"></span>' +\n           '<span class=\"pointer fa fa-remove\" ></span>' +\n           '<span class=\"pointer fa fa-arrow-right\"></span>' +\n         '</div>';\n\n      return {\n        restrict: 'A',\n        link: function postLink($scope, elem) {\n          var $funcLink = $(funcSpanTemplate);\n          var $funcControls = $(funcControlsTemplate);\n          var ctrl = $scope.ctrl;\n          var func = $scope.func;\n          var funcDef = func.def;\n          var scheduledRelink = false;\n          var paramCountAtLink = 0;\n\n          function clickFuncParam(paramIndex) {\n            /*jshint validthis:true */\n\n            var $link = $(this);\n            var $input = $link.next();\n\n            $input.val(func.params[paramIndex]);\n            $input.css('width', ($link.width() + 16) + 'px');\n\n            $link.hide();\n            $input.show();\n            $input.focus();\n            $input.select();\n\n            var typeahead = $input.data('typeahead');\n            if (typeahead) {\n              $input.val('');\n              typeahead.lookup();\n            }\n          }\n\n          function scheduledRelinkIfNeeded() {\n            if (paramCountAtLink === func.params.length) {\n              return;\n            }\n\n            if (!scheduledRelink) {\n              scheduledRelink = true;\n              setTimeout(function() {\n                relink();\n                scheduledRelink = false;\n              }, 200);\n            }\n          }\n\n          function inputBlur(paramIndex) {\n            /*jshint validthis:true */\n            var $input = $(this);\n            var $link = $input.prev();\n            var newValue = $input.val();\n\n            if (newValue !== '' || func.def.params[paramIndex].optional) {\n              $link.html(templateSrv.highlightVariablesAsHtml(newValue));\n\n              func.updateParam($input.val(), paramIndex);\n              scheduledRelinkIfNeeded();\n\n              $scope.$apply(function() {\n                ctrl.targetChanged();\n              });\n\n              $input.hide();\n              $link.show();\n            }\n          }\n\n          function inputKeyPress(paramIndex, e) {\n            /*jshint validthis:true */\n            if(e.which === 13) {\n              inputBlur.call(this, paramIndex);\n            }\n          }\n\n          function inputKeyDown() {\n            /*jshint validthis:true */\n            this.style.width = (3 + this.value.length) * 8 + 'px';\n          }\n\n          function addTypeahead($input, paramIndex) {\n            $input.attr('data-provide', 'typeahead');\n\n            var options = funcDef.params[paramIndex].options;\n            if (funcDef.params[paramIndex].type === 'int') {\n              options = _.map(options, function(val) { return val.toString(); });\n            }\n\n            $input.typeahead({\n              source: options,\n              minLength: 0,\n              items: 20,\n              updater: function (value) {\n                setTimeout(function() {\n                  inputBlur.call($input[0], paramIndex);\n                }, 0);\n                return value;\n              }\n            });\n\n            var typeahead = $input.data('typeahead');\n            typeahead.lookup = function () {\n              this.query = this.$element.val() || '';\n              return this.process(this.source);\n            };\n          }\n\n          function toggleFuncControls() {\n            var targetDiv = elem.closest('.tight-form');\n\n            if (elem.hasClass('show-function-controls')) {\n              elem.removeClass('show-function-controls');\n              targetDiv.removeClass('has-open-function');\n              $funcControls.hide();\n              return;\n            }\n\n            elem.addClass('show-function-controls');\n            targetDiv.addClass('has-open-function');\n\n            $funcControls.show();\n          }\n\n          function addElementsAndCompile() {\n            $funcControls.appendTo(elem);\n            $funcLink.appendTo(elem);\n\n            _.each(funcDef.params, function(param, index) {\n              if (param.optional && func.params.length <= index) {\n                return;\n              }\n\n              if (index > 0) {\n                $('<span>, </span>').appendTo(elem);\n              }\n\n              var paramValue = templateSrv.highlightVariablesAsHtml(func.params[index]);\n              var $paramLink = $('<a ng-click=\"\" class=\"graphite-func-param-link\">' + paramValue + '</a>');\n              var $input = $(paramTemplate);\n\n              paramCountAtLink++;\n\n              $paramLink.appendTo(elem);\n              $input.appendTo(elem);\n\n              $input.blur(_.partial(inputBlur, index));\n              $input.keyup(inputKeyDown);\n              $input.keypress(_.partial(inputKeyPress, index));\n              $paramLink.click(_.partial(clickFuncParam, index));\n\n              if (funcDef.params[index].options) {\n                addTypeahead($input, index);\n              }\n\n            });\n\n            $('<span>)</span>').appendTo(elem);\n\n            $compile(elem.contents())($scope);\n          }\n\n          function ifJustAddedFocusFistParam() {\n            if ($scope.func.added) {\n              $scope.func.added = false;\n              setTimeout(function() {\n                elem.find('.graphite-func-param-link').first().click();\n              }, 10);\n            }\n          }\n\n          function registerFuncControlsToggle() {\n            $funcLink.click(toggleFuncControls);\n          }\n\n          function registerFuncControlsActions() {\n            $funcControls.click(function(e) {\n              var $target = $(e.target);\n              if ($target.hasClass('fa-remove')) {\n                toggleFuncControls();\n                $scope.$apply(function() {\n                  ctrl.removeFunction($scope.func);\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-arrow-left')) {\n                $scope.$apply(function() {\n                  _.move(ctrl.functions, $scope.$index, $scope.$index - 1);\n                  ctrl.targetChanged();\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-arrow-right')) {\n                $scope.$apply(function() {\n                  _.move(ctrl.functions, $scope.$index, $scope.$index + 1);\n                  ctrl.targetChanged();\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-question-circle')) {\n                window.open(\"http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions.\" + funcDef.name,'_blank');\n                return;\n              }\n            });\n          }\n\n          function relink() {\n            elem.children().remove();\n\n            addElementsAndCompile();\n            ifJustAddedFocusFistParam();\n            registerFuncControlsToggle();\n            registerFuncControlsActions();\n          }\n\n          relink();\n        }\n      };\n\n    }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1437:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__gfunc__ = __webpack_require__(1318);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__parser__ = __webpack_require__(1438);\n\r\n\r\n\r\nvar GraphiteQuery = /** @class */ (function () {\r\n    /** @ngInject */\n    GraphiteQuery.$inject = [\"target\", \"templateSrv\", \"scopedVars\"];\r\n    function GraphiteQuery(target, templateSrv, scopedVars) {\r\n        this.target = target;\r\n        this.parseTarget();\r\n        this.removeTagValue = '-- remove tag --';\r\n    }\r\n    GraphiteQuery.prototype.parseTarget = function () {\r\n        this.functions = [];\r\n        this.segments = [];\r\n        this.tags = [];\r\n        this.error = null;\r\n        if (this.target.textEditor) {\r\n            return;\r\n        }\r\n        var parser = new __WEBPACK_IMPORTED_MODULE_2__parser__[\"a\" /* Parser */](this.target.target);\r\n        var astNode = parser.getAst();\r\n        if (astNode === null) {\r\n            this.checkOtherSegmentsIndex = 0;\r\n            return;\r\n        }\r\n        if (astNode.type === 'error') {\r\n            this.error = astNode.message + \" at position: \" + astNode.pos;\r\n            this.target.textEditor = true;\r\n            return;\r\n        }\r\n        try {\r\n            this.parseTargetRecursive(astNode, null, 0);\r\n        }\r\n        catch (err) {\r\n            console.log('error parsing target:', err.message);\r\n            this.error = err.message;\r\n            this.target.textEditor = true;\r\n        }\r\n        this.checkOtherSegmentsIndex = this.segments.length - 1;\r\n        this.checkForSeriesByTag();\r\n    };\r\n    GraphiteQuery.prototype.checkForSeriesByTag = function () {\r\n        var seriesByTagFunc = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.functions, function (func) { return func.def.name === 'seriesByTag'; });\r\n        if (seriesByTagFunc) {\r\n            this.seriesByTagUsed = true;\r\n            seriesByTagFunc.hidden = true;\r\n            var tags = this.splitSeriesByTagParams(seriesByTagFunc);\r\n            this.tags = tags;\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.getSegmentPathUpTo = function (index) {\r\n        var arr = this.segments.slice(0, index);\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(arr, function (result, segment) {\r\n            return result ? (result + \".\" + segment.value) : segment.value;\r\n        }, \"\");\r\n    };\r\n    GraphiteQuery.prototype.parseTargetRecursive = function (astNode, func, index) {\r\n        var _this = this;\r\n        if (astNode === null) {\r\n            return null;\r\n        }\r\n        switch (astNode.type) {\r\n            case 'function':\r\n                var innerFunc = __WEBPACK_IMPORTED_MODULE_1__gfunc__[\"default\"].createFuncInstance(astNode.name, { withDefaultParams: false });\r\n                __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(astNode.params, function (param, index) {\r\n                    _this.parseTargetRecursive(param, innerFunc, index);\r\n                });\r\n                innerFunc.updateText();\r\n                this.functions.push(innerFunc);\r\n                break;\r\n            case 'series-ref':\r\n                this.addFunctionParameter(func, astNode.value, index, this.segments.length > 0);\r\n                break;\r\n            case 'bool':\r\n            case 'string':\r\n            case 'number':\r\n                if ((index - 1) >= func.def.params.length) {\r\n                    throw { message: 'invalid number of parameters to method ' + func.def.name };\r\n                }\r\n                var shiftBack = this.isShiftParamsBack(func);\r\n                this.addFunctionParameter(func, astNode.value, index, shiftBack);\r\n                break;\r\n            case 'metric':\r\n                if (this.segments.length > 0) {\r\n                    if (astNode.segments.length !== 1) {\r\n                        throw { message: 'Multiple metric params not supported, use text editor.' };\r\n                    }\r\n                    this.addFunctionParameter(func, astNode.segments[0].value, index, true);\r\n                    break;\r\n                }\r\n                this.segments = astNode.segments;\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.isShiftParamsBack = function (func) {\r\n        return func.def.name !== 'seriesByTag';\r\n    };\r\n    GraphiteQuery.prototype.updateSegmentValue = function (segment, index) {\r\n        this.segments[index].value = segment.value;\r\n    };\r\n    GraphiteQuery.prototype.addSelectMetricSegment = function () {\r\n        this.segments.push({ value: \"select metric\" });\r\n    };\r\n    GraphiteQuery.prototype.addFunction = function (newFunc) {\r\n        this.functions.push(newFunc);\r\n        this.moveAliasFuncLast();\r\n    };\r\n    GraphiteQuery.prototype.moveAliasFuncLast = function () {\r\n        var aliasFunc = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.functions, function (func) {\r\n            return func.def.name === 'alias' ||\r\n                func.def.name === 'aliasByNode' ||\r\n                func.def.name === 'aliasByMetric';\r\n        });\r\n        if (aliasFunc) {\r\n            this.functions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.without(this.functions, aliasFunc);\r\n            this.functions.push(aliasFunc);\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.addFunctionParameter = function (func, value, index, shiftBack) {\r\n        if (shiftBack) {\r\n            index = Math.max(index - 1, 0);\r\n        }\r\n        func.params[index] = value;\r\n    };\r\n    GraphiteQuery.prototype.removeFunction = function (func) {\r\n        this.functions = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.without(this.functions, func);\r\n    };\r\n    GraphiteQuery.prototype.updateModelTarget = function (targets) {\r\n        // render query\r\n        if (!this.target.textEditor) {\r\n            var metricPath = this.getSegmentPathUpTo(this.segments.length);\r\n            this.target.target = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(this.functions, wrapFunction, metricPath);\r\n        }\r\n        this.updateRenderedTarget(this.target, targets);\r\n        // loop through other queries and update targetFull as needed\r\n        for (var _i = 0, _a = targets || []; _i < _a.length; _i++) {\r\n            var target = _a[_i];\r\n            if (target.refId !== this.target.refId) {\r\n                this.updateRenderedTarget(target, targets);\r\n            }\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.updateRenderedTarget = function (target, targets) {\r\n        // render nested query\r\n        var targetsByRefId = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keyBy(targets, 'refId');\r\n        // no references to self\r\n        delete targetsByRefId[target.refId];\r\n        var nestedSeriesRefRegex = /\\#([A-Z])/g;\r\n        var targetWithNestedQueries = target.target;\r\n        // Keep interpolating until there are no query references\r\n        // The reason for the loop is that the referenced query might contain another reference to another query\r\n        while (targetWithNestedQueries.match(nestedSeriesRefRegex)) {\r\n            var updated = targetWithNestedQueries.replace(nestedSeriesRefRegex, function (match, g1) {\r\n                var t = targetsByRefId[g1];\r\n                if (!t) {\r\n                    return match;\r\n                }\r\n                // no circular references\r\n                delete targetsByRefId[g1];\r\n                return t.target;\r\n            });\r\n            if (updated === targetWithNestedQueries) {\r\n                break;\r\n            }\r\n            targetWithNestedQueries = updated;\r\n        }\r\n        delete target.targetFull;\r\n        if (target.target !== targetWithNestedQueries) {\r\n            target.targetFull = targetWithNestedQueries;\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.splitSeriesByTagParams = function (func) {\r\n        var tagPattern = /([^\\!=~]+)([\\!=~]+)([^\\!=~]+)/;\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.flatten(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(func.params, function (param) {\r\n            var matches = tagPattern.exec(param);\r\n            if (matches) {\r\n                var tag = matches.slice(1);\r\n                if (tag.length === 3) {\r\n                    return {\r\n                        key: tag[0],\r\n                        operator: tag[1],\r\n                        value: tag[2]\r\n                    };\r\n                }\r\n            }\r\n            return [];\r\n        }));\r\n    };\r\n    GraphiteQuery.prototype.getSeriesByTagFuncIndex = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.findIndex(this.functions, function (func) { return func.def.name === 'seriesByTag'; });\r\n    };\r\n    GraphiteQuery.prototype.getSeriesByTagFunc = function () {\r\n        var seriesByTagFuncIndex = this.getSeriesByTagFuncIndex();\r\n        if (seriesByTagFuncIndex >= 0) {\r\n            return this.functions[seriesByTagFuncIndex];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    GraphiteQuery.prototype.addTag = function (tag) {\r\n        var newTagParam = renderTagString(tag);\r\n        this.getSeriesByTagFunc().params.push(newTagParam);\r\n        this.tags.push(tag);\r\n    };\r\n    GraphiteQuery.prototype.removeTag = function (index) {\r\n        this.getSeriesByTagFunc().params.splice(index, 1);\r\n        this.tags.splice(index, 1);\r\n    };\r\n    GraphiteQuery.prototype.updateTag = function (tag, tagIndex) {\r\n        this.error = null;\r\n        if (tag.key === this.removeTagValue) {\r\n            this.removeTag(tagIndex);\r\n            return;\r\n        }\r\n        var newTagParam = renderTagString(tag);\r\n        this.getSeriesByTagFunc().params[tagIndex] = newTagParam;\r\n        this.tags[tagIndex] = tag;\r\n    };\r\n    GraphiteQuery.prototype.renderTagExpressions = function (excludeIndex) {\r\n        if (excludeIndex === void 0) { excludeIndex = -1; }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.compact(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.tags, function (tagExpr, index) {\r\n            // Don't render tag that we want to lookup\r\n            if (index !== excludeIndex) {\r\n                return tagExpr.key + tagExpr.operator + tagExpr.value;\r\n            }\r\n        }));\r\n    };\r\n    return GraphiteQuery;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (GraphiteQuery);\r\nfunction wrapFunction(target, func) {\r\n    return func.render(target);\r\n}\r\nfunction renderTagString(tag) {\r\n    return tag.key + tag.operator + tag.value;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Parser;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lexer__ = __webpack_require__(1439);\n\r\nfunction Parser(expression) {\r\n    this.expression = expression;\r\n    this.lexer = new __WEBPACK_IMPORTED_MODULE_0__lexer__[\"a\" /* Lexer */](expression);\r\n    this.tokens = this.lexer.tokenize();\r\n    this.index = 0;\r\n}\r\nParser.prototype = {\r\n    getAst: function () {\r\n        return this.start();\r\n    },\r\n    start: function () {\r\n        try {\r\n            return this.functionCall() || this.metricExpression();\r\n        }\r\n        catch (e) {\r\n            return {\r\n                type: 'error',\r\n                message: e.message,\r\n                pos: e.pos\r\n            };\r\n        }\r\n    },\r\n    curlyBraceSegment: function () {\r\n        if (this.match('identifier', '{') || this.match('{')) {\r\n            var curlySegment = \"\";\r\n            while (!this.match('') && !this.match('}')) {\r\n                curlySegment += this.consumeToken().value;\r\n            }\r\n            if (!this.match('}')) {\r\n                this.errorMark(\"Expected closing '}'\");\r\n            }\r\n            curlySegment += this.consumeToken().value;\r\n            // if curly segment is directly followed by identifier\r\n            // include it in the segment\r\n            if (this.match('identifier')) {\r\n                curlySegment += this.consumeToken().value;\r\n            }\r\n            return {\r\n                type: 'segment',\r\n                value: curlySegment\r\n            };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n    metricSegment: function () {\r\n        var curly = this.curlyBraceSegment();\r\n        if (curly) {\r\n            return curly;\r\n        }\r\n        if (this.match('identifier') || this.match('number')) {\r\n            // hack to handle float numbers in metric segments\r\n            var parts = this.consumeToken().value.split('.');\r\n            if (parts.length === 2) {\r\n                this.tokens.splice(this.index, 0, { type: '.' });\r\n                this.tokens.splice(this.index + 1, 0, { type: 'number', value: parts[1] });\r\n            }\r\n            return {\r\n                type: 'segment',\r\n                value: parts[0]\r\n            };\r\n        }\r\n        if (!this.match('templateStart')) {\r\n            this.errorMark('Expected metric identifier');\r\n        }\r\n        this.consumeToken();\r\n        if (!this.match('identifier')) {\r\n            this.errorMark('Expected identifier after templateStart');\r\n        }\r\n        var node = {\r\n            type: 'template',\r\n            value: this.consumeToken().value\r\n        };\r\n        if (!this.match('templateEnd')) {\r\n            this.errorMark('Expected templateEnd');\r\n        }\r\n        this.consumeToken();\r\n        return node;\r\n    },\r\n    metricExpression: function () {\r\n        if (!this.match('templateStart') && !this.match('identifier') && !this.match('number') && !this.match('{')) {\r\n            return null;\r\n        }\r\n        var node = {\r\n            type: 'metric',\r\n            segments: []\r\n        };\r\n        node.segments.push(this.metricSegment());\r\n        while (this.match('.')) {\r\n            this.consumeToken();\r\n            var segment = this.metricSegment();\r\n            if (!segment) {\r\n                this.errorMark('Expected metric identifier');\r\n            }\r\n            node.segments.push(segment);\r\n        }\r\n        return node;\r\n    },\r\n    functionCall: function () {\r\n        if (!this.match('identifier', '(')) {\r\n            return null;\r\n        }\r\n        var node = {\r\n            type: 'function',\r\n            name: this.consumeToken().value,\r\n        };\r\n        // consume left parenthesis\r\n        this.consumeToken();\r\n        node.params = this.functionParameters();\r\n        if (!this.match(')')) {\r\n            this.errorMark('Expected closing parenthesis');\r\n        }\r\n        this.consumeToken();\r\n        return node;\r\n    },\r\n    boolExpression: function () {\r\n        if (!this.match('bool')) {\r\n            return null;\r\n        }\r\n        return {\r\n            type: 'bool',\r\n            value: this.consumeToken().value === 'true',\r\n        };\r\n    },\r\n    functionParameters: function () {\r\n        if (this.match(')') || this.match('')) {\r\n            return [];\r\n        }\r\n        var param = this.functionCall() ||\r\n            this.numericLiteral() ||\r\n            this.seriesRefExpression() ||\r\n            this.boolExpression() ||\r\n            this.metricExpression() ||\r\n            this.stringLiteral();\r\n        if (!this.match(',')) {\r\n            return [param];\r\n        }\r\n        this.consumeToken();\r\n        return [param].concat(this.functionParameters());\r\n    },\r\n    seriesRefExpression: function () {\r\n        if (!this.match('identifier')) {\r\n            return null;\r\n        }\r\n        var value = this.tokens[this.index].value;\r\n        if (!value.match(/\\#[A-Z]/)) {\r\n            return null;\r\n        }\r\n        var token = this.consumeToken();\r\n        return {\r\n            type: 'series-ref',\r\n            value: token.value\r\n        };\r\n    },\r\n    numericLiteral: function () {\r\n        if (!this.match('number')) {\r\n            return null;\r\n        }\r\n        return {\r\n            type: 'number',\r\n            value: parseFloat(this.consumeToken().value)\r\n        };\r\n    },\r\n    stringLiteral: function () {\r\n        if (!this.match('string')) {\r\n            return null;\r\n        }\r\n        var token = this.consumeToken();\r\n        if (token.isUnclosed) {\r\n            throw { message: 'Unclosed string parameter', pos: token.pos };\r\n        }\r\n        return {\r\n            type: 'string',\r\n            value: token.value\r\n        };\r\n    },\r\n    errorMark: function (text) {\r\n        var currentToken = this.tokens[this.index];\r\n        var type = currentToken ? currentToken.type : 'end of string';\r\n        throw {\r\n            message: text + \" instead found \" + type,\r\n            pos: currentToken ? currentToken.pos : this.lexer.char\r\n        };\r\n    },\r\n    // returns token value and incre\r\n    consumeToken: function () {\r\n        this.index++;\r\n        return this.tokens[this.index - 1];\r\n    },\r\n    matchToken: function (type, index) {\r\n        var token = this.tokens[this.index + index];\r\n        return (token === undefined && type === '') ||\r\n            token && token.type === type;\r\n    },\r\n    match: function (token1, token2) {\r\n        return this.matchToken(token1, 0) &&\r\n            (!token2 || this.matchToken(token2, 1));\r\n    },\r\n};\r\n\n\n/***/ }),\n\n/***/ 1439:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Lexer;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n// This is auto generated from the unicode tables.\r\n// The tables are at:\r\n// http://www.fileformat.info/info/unicode/category/Lu/list.htm\r\n// http://www.fileformat.info/info/unicode/category/Ll/list.htm\r\n// http://www.fileformat.info/info/unicode/category/Lt/list.htm\r\n// http://www.fileformat.info/info/unicode/category/Lm/list.htm\r\n// http://www.fileformat.info/info/unicode/category/Lo/list.htm\r\n// http://www.fileformat.info/info/unicode/category/Nl/list.htm\r\nvar unicodeLetterTable = [\r\n    170, 170, 181, 181, 186, 186, 192, 214,\r\n    216, 246, 248, 705, 710, 721, 736, 740, 748, 748, 750, 750,\r\n    880, 884, 886, 887, 890, 893, 902, 902, 904, 906, 908, 908,\r\n    910, 929, 931, 1013, 1015, 1153, 1162, 1319, 1329, 1366,\r\n    1369, 1369, 1377, 1415, 1488, 1514, 1520, 1522, 1568, 1610,\r\n    1646, 1647, 1649, 1747, 1749, 1749, 1765, 1766, 1774, 1775,\r\n    1786, 1788, 1791, 1791, 1808, 1808, 1810, 1839, 1869, 1957,\r\n    1969, 1969, 1994, 2026, 2036, 2037, 2042, 2042, 2048, 2069,\r\n    2074, 2074, 2084, 2084, 2088, 2088, 2112, 2136, 2308, 2361,\r\n    2365, 2365, 2384, 2384, 2392, 2401, 2417, 2423, 2425, 2431,\r\n    2437, 2444, 2447, 2448, 2451, 2472, 2474, 2480, 2482, 2482,\r\n    2486, 2489, 2493, 2493, 2510, 2510, 2524, 2525, 2527, 2529,\r\n    2544, 2545, 2565, 2570, 2575, 2576, 2579, 2600, 2602, 2608,\r\n    2610, 2611, 2613, 2614, 2616, 2617, 2649, 2652, 2654, 2654,\r\n    2674, 2676, 2693, 2701, 2703, 2705, 2707, 2728, 2730, 2736,\r\n    2738, 2739, 2741, 2745, 2749, 2749, 2768, 2768, 2784, 2785,\r\n    2821, 2828, 2831, 2832, 2835, 2856, 2858, 2864, 2866, 2867,\r\n    2869, 2873, 2877, 2877, 2908, 2909, 2911, 2913, 2929, 2929,\r\n    2947, 2947, 2949, 2954, 2958, 2960, 2962, 2965, 2969, 2970,\r\n    2972, 2972, 2974, 2975, 2979, 2980, 2984, 2986, 2990, 3001,\r\n    3024, 3024, 3077, 3084, 3086, 3088, 3090, 3112, 3114, 3123,\r\n    3125, 3129, 3133, 3133, 3160, 3161, 3168, 3169, 3205, 3212,\r\n    3214, 3216, 3218, 3240, 3242, 3251, 3253, 3257, 3261, 3261,\r\n    3294, 3294, 3296, 3297, 3313, 3314, 3333, 3340, 3342, 3344,\r\n    3346, 3386, 3389, 3389, 3406, 3406, 3424, 3425, 3450, 3455,\r\n    3461, 3478, 3482, 3505, 3507, 3515, 3517, 3517, 3520, 3526,\r\n    3585, 3632, 3634, 3635, 3648, 3654, 3713, 3714, 3716, 3716,\r\n    3719, 3720, 3722, 3722, 3725, 3725, 3732, 3735, 3737, 3743,\r\n    3745, 3747, 3749, 3749, 3751, 3751, 3754, 3755, 3757, 3760,\r\n    3762, 3763, 3773, 3773, 3776, 3780, 3782, 3782, 3804, 3805,\r\n    3840, 3840, 3904, 3911, 3913, 3948, 3976, 3980, 4096, 4138,\r\n    4159, 4159, 4176, 4181, 4186, 4189, 4193, 4193, 4197, 4198,\r\n    4206, 4208, 4213, 4225, 4238, 4238, 4256, 4293, 4304, 4346,\r\n    4348, 4348, 4352, 4680, 4682, 4685, 4688, 4694, 4696, 4696,\r\n    4698, 4701, 4704, 4744, 4746, 4749, 4752, 4784, 4786, 4789,\r\n    4792, 4798, 4800, 4800, 4802, 4805, 4808, 4822, 4824, 4880,\r\n    4882, 4885, 4888, 4954, 4992, 5007, 5024, 5108, 5121, 5740,\r\n    5743, 5759, 5761, 5786, 5792, 5866, 5870, 5872, 5888, 5900,\r\n    5902, 5905, 5920, 5937, 5952, 5969, 5984, 5996, 5998, 6000,\r\n    6016, 6067, 6103, 6103, 6108, 6108, 6176, 6263, 6272, 6312,\r\n    6314, 6314, 6320, 6389, 6400, 6428, 6480, 6509, 6512, 6516,\r\n    6528, 6571, 6593, 6599, 6656, 6678, 6688, 6740, 6823, 6823,\r\n    6917, 6963, 6981, 6987, 7043, 7072, 7086, 7087, 7104, 7141,\r\n    7168, 7203, 7245, 7247, 7258, 7293, 7401, 7404, 7406, 7409,\r\n    7424, 7615, 7680, 7957, 7960, 7965, 7968, 8005, 8008, 8013,\r\n    8016, 8023, 8025, 8025, 8027, 8027, 8029, 8029, 8031, 8061,\r\n    8064, 8116, 8118, 8124, 8126, 8126, 8130, 8132, 8134, 8140,\r\n    8144, 8147, 8150, 8155, 8160, 8172, 8178, 8180, 8182, 8188,\r\n    8305, 8305, 8319, 8319, 8336, 8348, 8450, 8450, 8455, 8455,\r\n    8458, 8467, 8469, 8469, 8473, 8477, 8484, 8484, 8486, 8486,\r\n    8488, 8488, 8490, 8493, 8495, 8505, 8508, 8511, 8517, 8521,\r\n    8526, 8526, 8544, 8584, 11264, 11310, 11312, 11358,\r\n    11360, 11492, 11499, 11502, 11520, 11557, 11568, 11621,\r\n    11631, 11631, 11648, 11670, 11680, 11686, 11688, 11694,\r\n    11696, 11702, 11704, 11710, 11712, 11718, 11720, 11726,\r\n    11728, 11734, 11736, 11742, 11823, 11823, 12293, 12295,\r\n    12321, 12329, 12337, 12341, 12344, 12348, 12353, 12438,\r\n    12445, 12447, 12449, 12538, 12540, 12543, 12549, 12589,\r\n    12593, 12686, 12704, 12730, 12784, 12799, 13312, 13312,\r\n    19893, 19893, 19968, 19968, 40907, 40907, 40960, 42124,\r\n    42192, 42237, 42240, 42508, 42512, 42527, 42538, 42539,\r\n    42560, 42606, 42623, 42647, 42656, 42735, 42775, 42783,\r\n    42786, 42888, 42891, 42894, 42896, 42897, 42912, 42921,\r\n    43002, 43009, 43011, 43013, 43015, 43018, 43020, 43042,\r\n    43072, 43123, 43138, 43187, 43250, 43255, 43259, 43259,\r\n    43274, 43301, 43312, 43334, 43360, 43388, 43396, 43442,\r\n    43471, 43471, 43520, 43560, 43584, 43586, 43588, 43595,\r\n    43616, 43638, 43642, 43642, 43648, 43695, 43697, 43697,\r\n    43701, 43702, 43705, 43709, 43712, 43712, 43714, 43714,\r\n    43739, 43741, 43777, 43782, 43785, 43790, 43793, 43798,\r\n    43808, 43814, 43816, 43822, 43968, 44002, 44032, 44032,\r\n    55203, 55203, 55216, 55238, 55243, 55291, 63744, 64045,\r\n    64048, 64109, 64112, 64217, 64256, 64262, 64275, 64279,\r\n    64285, 64285, 64287, 64296, 64298, 64310, 64312, 64316,\r\n    64318, 64318, 64320, 64321, 64323, 64324, 64326, 64433,\r\n    64467, 64829, 64848, 64911, 64914, 64967, 65008, 65019,\r\n    65136, 65140, 65142, 65276, 65313, 65338, 65345, 65370,\r\n    65382, 65470, 65474, 65479, 65482, 65487, 65490, 65495,\r\n    65498, 65500, 65536, 65547, 65549, 65574, 65576, 65594,\r\n    65596, 65597, 65599, 65613, 65616, 65629, 65664, 65786,\r\n    65856, 65908, 66176, 66204, 66208, 66256, 66304, 66334,\r\n    66352, 66378, 66432, 66461, 66464, 66499, 66504, 66511,\r\n    66513, 66517, 66560, 66717, 67584, 67589, 67592, 67592,\r\n    67594, 67637, 67639, 67640, 67644, 67644, 67647, 67669,\r\n    67840, 67861, 67872, 67897, 68096, 68096, 68112, 68115,\r\n    68117, 68119, 68121, 68147, 68192, 68220, 68352, 68405,\r\n    68416, 68437, 68448, 68466, 68608, 68680, 69635, 69687,\r\n    69763, 69807, 73728, 74606, 74752, 74850, 77824, 78894,\r\n    92160, 92728, 110592, 110593, 119808, 119892, 119894, 119964,\r\n    119966, 119967, 119970, 119970, 119973, 119974, 119977, 119980,\r\n    119982, 119993, 119995, 119995, 119997, 120003, 120005, 120069,\r\n    120071, 120074, 120077, 120084, 120086, 120092, 120094, 120121,\r\n    120123, 120126, 120128, 120132, 120134, 120134, 120138, 120144,\r\n    120146, 120485, 120488, 120512, 120514, 120538, 120540, 120570,\r\n    120572, 120596, 120598, 120628, 120630, 120654, 120656, 120686,\r\n    120688, 120712, 120714, 120744, 120746, 120770, 120772, 120779,\r\n    131072, 131072, 173782, 173782, 173824, 173824, 177972, 177972,\r\n    177984, 177984, 178205, 178205, 194560, 195101\r\n];\r\nvar identifierStartTable = [];\r\nfor (var i = 0; i < 128; i++) {\r\n    identifierStartTable[i] =\r\n        i >= 48 && i <= 57 || // 0-9\r\n            i === 36 || // $\r\n            i === 126 || // ~\r\n            i === 124 || // |\r\n            i >= 65 && i <= 90 || // A-Z\r\n            i === 95 || // _\r\n            i === 45 || // -\r\n            i === 42 || // *\r\n            i === 58 || // :\r\n            i === 91 || // templateStart [\r\n            i === 93 || // templateEnd ]\r\n            i === 63 || // ?\r\n            i === 37 || // %\r\n            i === 35 || // #\r\n            i === 61 || // =\r\n            i >= 97 && i <= 122; // a-z\r\n}\r\nvar identifierPartTable = identifierStartTable;\r\nfunction Lexer(expression) {\r\n    this.input = expression;\r\n    this.char = 1;\r\n    this.from = 1;\r\n}\r\nLexer.prototype = {\r\n    peek: function (i) {\r\n        return this.input.charAt(i || 0);\r\n    },\r\n    skip: function (i) {\r\n        i = i || 1;\r\n        this.char += i;\r\n        this.input = this.input.slice(i);\r\n    },\r\n    tokenize: function () {\r\n        var list = [];\r\n        var token;\r\n        while (token = this.next()) {\r\n            list.push(token);\r\n        }\r\n        return list;\r\n    },\r\n    next: function () {\r\n        this.from = this.char;\r\n        // Move to the next non-space character.\r\n        var start;\r\n        if (/\\s/.test(this.peek())) {\r\n            start = this.char;\r\n            while (/\\s/.test(this.peek())) {\r\n                this.from += 1;\r\n                this.skip();\r\n            }\r\n            if (this.peek() === \"\") {\r\n                return null;\r\n            }\r\n        }\r\n        var match = this.scanStringLiteral();\r\n        if (match) {\r\n            return match;\r\n        }\r\n        match =\r\n            this.scanPunctuator() ||\r\n                this.scanNumericLiteral() ||\r\n                this.scanIdentifier() ||\r\n                this.scanTemplateSequence();\r\n        if (match) {\r\n            this.skip(match.value.length);\r\n            return match;\r\n        }\r\n        // No token could be matched, give up.\r\n        return null;\r\n    },\r\n    scanTemplateSequence: function () {\r\n        if (this.peek() === '[' && this.peek(1) === '[') {\r\n            return {\r\n                type: 'templateStart',\r\n                value: '[[',\r\n                pos: this.char\r\n            };\r\n        }\r\n        if (this.peek() === ']' && this.peek(1) === ']') {\r\n            return {\r\n                type: 'templateEnd',\r\n                value: '[[',\r\n                pos: this.char\r\n            };\r\n        }\r\n        return null;\r\n    },\r\n    /*\r\n     * Extract a JavaScript identifier out of the next sequence of\r\n     * characters or return 'null' if its not possible. In addition,\r\n     * to Identifier this method can also produce BooleanLiteral\r\n     * (true/false) and NullLiteral (null).\r\n     */\r\n    scanIdentifier: function () {\r\n        var id = \"\";\r\n        var index = 0;\r\n        var type, char;\r\n        // Detects any character in the Unicode categories \"Uppercase\r\n        // letter (Lu)\", \"Lowercase letter (Ll)\", \"Titlecase letter\r\n        // (Lt)\", \"Modifier letter (Lm)\", \"Other letter (Lo)\", or\r\n        // \"Letter number (Nl)\".\r\n        //\r\n        // Both approach and unicodeLetterTable were borrowed from\r\n        // Google's Traceur.\r\n        function isUnicodeLetter(code) {\r\n            for (var i = 0; i < unicodeLetterTable.length;) {\r\n                if (code < unicodeLetterTable[i++]) {\r\n                    return false;\r\n                }\r\n                if (code <= unicodeLetterTable[i++]) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        function isHexDigit(str) {\r\n            return (/^[0-9a-fA-F]$/).test(str);\r\n        }\r\n        var readUnicodeEscapeSequence = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.bind(function () {\r\n            /*jshint validthis:true */\r\n            index += 1;\r\n            if (this.peek(index) !== \"u\") {\r\n                return null;\r\n            }\r\n            var ch1 = this.peek(index + 1);\r\n            var ch2 = this.peek(index + 2);\r\n            var ch3 = this.peek(index + 3);\r\n            var ch4 = this.peek(index + 4);\r\n            var code;\r\n            if (isHexDigit(ch1) && isHexDigit(ch2) && isHexDigit(ch3) && isHexDigit(ch4)) {\r\n                code = parseInt(ch1 + ch2 + ch3 + ch4, 16);\r\n                if (isUnicodeLetter(code)) {\r\n                    index += 5;\r\n                    return \"\\\\u\" + ch1 + ch2 + ch3 + ch4;\r\n                }\r\n                return null;\r\n            }\r\n            return null;\r\n        }, this);\r\n        var getIdentifierStart = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.bind(function () {\r\n            /*jshint validthis:true */\r\n            var chr = this.peek(index);\r\n            var code = chr.charCodeAt(0);\r\n            if (chr === '*') {\r\n                index += 1;\r\n                return chr;\r\n            }\r\n            if (code === 92) {\r\n                return readUnicodeEscapeSequence();\r\n            }\r\n            if (code < 128) {\r\n                if (identifierStartTable[code]) {\r\n                    index += 1;\r\n                    return chr;\r\n                }\r\n                return null;\r\n            }\r\n            if (isUnicodeLetter(code)) {\r\n                index += 1;\r\n                return chr;\r\n            }\r\n            return null;\r\n        }, this);\r\n        var getIdentifierPart = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.bind(function () {\r\n            /*jshint validthis:true */\r\n            var chr = this.peek(index);\r\n            var code = chr.charCodeAt(0);\r\n            if (code === 92) {\r\n                return readUnicodeEscapeSequence();\r\n            }\r\n            if (code < 128) {\r\n                if (identifierPartTable[code]) {\r\n                    index += 1;\r\n                    return chr;\r\n                }\r\n                return null;\r\n            }\r\n            if (isUnicodeLetter(code)) {\r\n                index += 1;\r\n                return chr;\r\n            }\r\n            return null;\r\n        }, this);\r\n        char = getIdentifierStart();\r\n        if (char === null) {\r\n            return null;\r\n        }\r\n        id = char;\r\n        for (;;) {\r\n            char = getIdentifierPart();\r\n            if (char === null) {\r\n                break;\r\n            }\r\n            id += char;\r\n        }\r\n        switch (id) {\r\n            case 'true': {\r\n                type = 'bool';\r\n                break;\r\n            }\r\n            case 'false': {\r\n                type = 'bool';\r\n                break;\r\n            }\r\n            default:\r\n                type = \"identifier\";\r\n        }\r\n        return {\r\n            type: type,\r\n            value: id,\r\n            pos: this.char\r\n        };\r\n    },\r\n    /*\r\n     * Extract a numeric literal out of the next sequence of\r\n     * characters or return 'null' if its not possible. This method\r\n     * supports all numeric literals described in section 7.8.3\r\n     * of the EcmaScript 5 specification.\r\n     *\r\n     * This method's implementation was heavily influenced by the\r\n     * scanNumericLiteral function in the Esprima parser's source code.\r\n     */\r\n    scanNumericLiteral: function () {\r\n        var index = 0;\r\n        var value = \"\";\r\n        var length = this.input.length;\r\n        var char = this.peek(index);\r\n        var bad;\r\n        function isDecimalDigit(str) {\r\n            return (/^[0-9]$/).test(str);\r\n        }\r\n        function isOctalDigit(str) {\r\n            return (/^[0-7]$/).test(str);\r\n        }\r\n        function isHexDigit(str) {\r\n            return (/^[0-9a-fA-F]$/).test(str);\r\n        }\r\n        function isIdentifierStart(ch) {\r\n            return (ch === \"$\") || (ch === \"_\") || (ch === \"\\\\\") ||\r\n                (ch >= \"a\" && ch <= \"z\") || (ch >= \"A\" && ch <= \"Z\");\r\n        }\r\n        // handle negative num literals\r\n        if (char === '-') {\r\n            value += char;\r\n            index += 1;\r\n            char = this.peek(index);\r\n        }\r\n        // Numbers must start either with a decimal digit or a point.\r\n        if (char !== \".\" && !isDecimalDigit(char)) {\r\n            return null;\r\n        }\r\n        if (char !== \".\") {\r\n            value += this.peek(index);\r\n            index += 1;\r\n            char = this.peek(index);\r\n            if (value === \"0\") {\r\n                // Base-16 numbers.\r\n                if (char === \"x\" || char === \"X\") {\r\n                    index += 1;\r\n                    value += char;\r\n                    while (index < length) {\r\n                        char = this.peek(index);\r\n                        if (!isHexDigit(char)) {\r\n                            break;\r\n                        }\r\n                        value += char;\r\n                        index += 1;\r\n                    }\r\n                    if (value.length <= 2) {\r\n                        return {\r\n                            type: 'number',\r\n                            value: value,\r\n                            isMalformed: true,\r\n                            pos: this.char\r\n                        };\r\n                    }\r\n                    if (index < length) {\r\n                        char = this.peek(index);\r\n                        if (isIdentifierStart(char)) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                    return {\r\n                        type: 'number',\r\n                        value: value,\r\n                        base: 16,\r\n                        isMalformed: false,\r\n                        pos: this.char\r\n                    };\r\n                }\r\n                // Base-8 numbers.\r\n                if (isOctalDigit(char)) {\r\n                    index += 1;\r\n                    value += char;\r\n                    bad = false;\r\n                    while (index < length) {\r\n                        char = this.peek(index);\r\n                        // Numbers like '019' (note the 9) are not valid octals\r\n                        // but we still parse them and mark as malformed.\r\n                        if (isDecimalDigit(char)) {\r\n                            bad = true;\r\n                        }\r\n                        if (!isOctalDigit(char)) {\r\n                            // if the char is a non punctuator then its not a valid number\r\n                            if (!this.isPunctuator(char)) {\r\n                                return null;\r\n                            }\r\n                            break;\r\n                        }\r\n                        value += char;\r\n                        index += 1;\r\n                    }\r\n                    if (index < length) {\r\n                        char = this.peek(index);\r\n                        if (isIdentifierStart(char)) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                    return {\r\n                        type: 'number',\r\n                        value: value,\r\n                        base: 8,\r\n                        isMalformed: bad\r\n                    };\r\n                }\r\n                // Decimal numbers that start with '0' such as '09' are illegal\r\n                // but we still parse them and return as malformed.\r\n                if (isDecimalDigit(char)) {\r\n                    index += 1;\r\n                    value += char;\r\n                }\r\n            }\r\n            while (index < length) {\r\n                char = this.peek(index);\r\n                if (!isDecimalDigit(char)) {\r\n                    break;\r\n                }\r\n                value += char;\r\n                index += 1;\r\n            }\r\n        }\r\n        // Decimal digits.\r\n        if (char === \".\") {\r\n            value += char;\r\n            index += 1;\r\n            while (index < length) {\r\n                char = this.peek(index);\r\n                if (!isDecimalDigit(char)) {\r\n                    break;\r\n                }\r\n                value += char;\r\n                index += 1;\r\n            }\r\n        }\r\n        // Exponent part.\r\n        if (char === \"e\" || char === \"E\") {\r\n            value += char;\r\n            index += 1;\r\n            char = this.peek(index);\r\n            if (char === \"+\" || char === \"-\") {\r\n                value += this.peek(index);\r\n                index += 1;\r\n            }\r\n            char = this.peek(index);\r\n            if (isDecimalDigit(char)) {\r\n                value += char;\r\n                index += 1;\r\n                while (index < length) {\r\n                    char = this.peek(index);\r\n                    if (!isDecimalDigit(char)) {\r\n                        break;\r\n                    }\r\n                    value += char;\r\n                    index += 1;\r\n                }\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        if (index < length) {\r\n            char = this.peek(index);\r\n            if (!this.isPunctuator(char)) {\r\n                return null;\r\n            }\r\n        }\r\n        return {\r\n            type: 'number',\r\n            value: value,\r\n            base: 10,\r\n            pos: this.char,\r\n            isMalformed: !isFinite(+value)\r\n        };\r\n    },\r\n    isPunctuator: function (ch1) {\r\n        switch (ch1) {\r\n            case \".\":\r\n            case \"(\":\r\n            case \")\":\r\n            case \",\":\r\n            case \"{\":\r\n            case \"}\":\r\n                return true;\r\n        }\r\n        return false;\r\n    },\r\n    scanPunctuator: function () {\r\n        var ch1 = this.peek();\r\n        if (this.isPunctuator(ch1)) {\r\n            return {\r\n                type: ch1,\r\n                value: ch1,\r\n                pos: this.char\r\n            };\r\n        }\r\n        return null;\r\n    },\r\n    /*\r\n     * Extract a string out of the next sequence of characters and/or\r\n     * lines or return 'null' if its not possible. Since strings can\r\n     * span across multiple lines this method has to move the char\r\n     * pointer.\r\n     *\r\n     * This method recognizes pseudo-multiline JavaScript strings:\r\n     *\r\n     *   var str = \"hello\\\r\n     *   world\";\r\n     */\r\n    scanStringLiteral: function () {\r\n        /*jshint loopfunc:true */\r\n        var quote = this.peek();\r\n        // String must start with a quote.\r\n        if (quote !== \"\\\"\" && quote !== \"'\") {\r\n            return null;\r\n        }\r\n        var value = \"\";\r\n        this.skip();\r\n        while (this.peek() !== quote) {\r\n            if (this.peek() === \"\") {\r\n                return {\r\n                    type: 'string',\r\n                    value: value,\r\n                    isUnclosed: true,\r\n                    quote: quote,\r\n                    pos: this.char\r\n                };\r\n            }\r\n            var char = this.peek();\r\n            var jump = 1; // A length of a jump, after we're done\r\n            // parsing this character.\r\n            value += char;\r\n            this.skip(jump);\r\n        }\r\n        this.skip();\r\n        return {\r\n            type: 'string',\r\n            value: value,\r\n            isUnclosed: false,\r\n            quote: quote,\r\n            pos: this.char\r\n        };\r\n    },\r\n};\r\n\n\n/***/ }),\n\n/***/ 1440:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GraphiteConfigCtrl; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar GraphiteConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    GraphiteConfigCtrl.$inject = [\"$scope\", \"datasourceSrv\"];\r\n    function GraphiteConfigCtrl($scope, datasourceSrv) {\r\n        this.graphiteVersions = [\r\n            { name: '0.9.x', value: '0.9' },\r\n            { name: '1.0.x', value: '1.0' },\r\n            { name: '1.1.x', value: '1.1' },\r\n        ];\r\n        this.datasourceSrv = datasourceSrv;\r\n        this.current.jsonData = this.current.jsonData || {};\r\n        this.current.jsonData.graphiteVersion = this.current.jsonData.graphiteVersion || '0.9';\r\n        this.autoDetectGraphiteVersion();\r\n    }\r\n    GraphiteConfigCtrl.prototype.autoDetectGraphiteVersion = function () {\r\n        var _this = this;\r\n        this.datasourceSrv.loadDatasource(this.current.name)\r\n            .then(function (ds) {\r\n            return ds.getVersion();\r\n        }).then(function (version) {\r\n            _this.graphiteVersions.push({ name: version, value: version });\r\n            _this.current.jsonData.graphiteVersion = version;\r\n        });\r\n    };\r\n    GraphiteConfigCtrl.templateUrl = 'public/app/plugins/datasource/graphite/partials/config.html';\r\n    return GraphiteConfigCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1441:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return CloudWatchAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl__ = __webpack_require__(1330);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datasource__ = __webpack_require__(1442);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__datasource___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__datasource__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__query_ctrl__ = __webpack_require__(1443);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config_ctrl__ = __webpack_require__(1444);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_1__datasource___default.a; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_2__query_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_3__config_ctrl__[\"a\"]; });\n\r\n\r\n\r\n\r\nvar CloudWatchAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function CloudWatchAnnotationsQueryCtrl() {\r\n    }\r\n    CloudWatchAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return CloudWatchAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1442:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(1),\n  __webpack_require__(467),\n  __webpack_require__(464),\n  __webpack_require__(1306),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, moment, dateMath, kbn, templatingVariable) {\n  'use strict';\n\n  CloudWatchDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\", \"timeSrv\"];\n  kbn = kbn.default;\n\n  /** @ngInject */\n  function CloudWatchDatasource(instanceSettings, $q, backendSrv, templateSrv, timeSrv) {\n    this.type = 'cloudwatch';\n    this.name = instanceSettings.name;\n    this.supportMetrics = true;\n    this.proxyUrl = instanceSettings.url;\n    this.defaultRegion = instanceSettings.jsonData.defaultRegion;\n    this.instanceSettings = instanceSettings;\n    this.standardStatistics = [\n      'Average',\n      'Maximum',\n      'Minimum',\n      'Sum',\n      'SampleCount'\n    ];\n\n    var self = this;\n    this.query = function(options) {\n      options = angular.copy(options);\n      options.targets = this.expandTemplateVariable(options.targets, options.scopedVars, templateSrv);\n\n      var queries = _.filter(options.targets, function (item) {\n        return item.hide !== true &&\n          !!item.region &&\n          !!item.namespace &&\n          !!item.metricName &&\n          !_.isEmpty(item.statistics);\n      }).map(function (item) {\n        item.region = templateSrv.replace(item.region, options.scopedVars);\n        item.namespace = templateSrv.replace(item.namespace, options.scopedVars);\n        item.metricName = templateSrv.replace(item.metricName, options.scopedVars);\n        item.dimensions = self.convertDimensionFormat(item.dimensions, options.scopeVars);\n        item.period = String(self.getPeriod(item, options)); // use string format for period in graph query, and alerting\n\n        return _.extend({\n          refId: item.refId,\n          intervalMs: options.intervalMs,\n          maxDataPoints: options.maxDataPoints,\n          datasourceId: self.instanceSettings.id,\n          type: 'timeSeriesQuery',\n        }, item);\n      });\n\n      // No valid targets, return the empty result to save a round trip.\n      if (_.isEmpty(queries)) {\n        var d = $q.defer();\n        d.resolve({ data: [] });\n        return d.promise;\n      }\n\n      var request = {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: queries\n      };\n\n      return this.performTimeSeriesQuery(request);\n    };\n\n    this.getPeriod = function(target, options, now) {\n      var start = this.convertToCloudWatchTime(options.range.from, false);\n      var end = this.convertToCloudWatchTime(options.range.to, true);\n      now = Math.round((now || Date.now()) / 1000);\n\n      var period;\n      var range = end - start;\n\n      var hourSec = 60 * 60;\n      var daySec = hourSec * 24;\n      var periodUnit = 60;\n      if (!target.period) {\n        if (now - start <= (daySec * 15)) { // until 15 days ago\n          if (target.namespace === 'AWS/EC2') {\n            periodUnit = period = 300;\n          } else {\n            periodUnit = period = 60;\n          }\n        } else if (now - start <= (daySec * 63)) { // until 63 days ago\n          periodUnit = period = 60 * 5;\n        } else if (now - start <= (daySec * 455)) { // until 455 days ago\n          periodUnit = period = 60 * 60;\n        } else { // over 455 days, should return error, but try to long period\n          periodUnit = period = 60 * 60;\n        }\n      } else {\n        if (/^\\d+$/.test(target.period)) {\n          period = parseInt(target.period, 10);\n        } else {\n          period = kbn.interval_to_seconds(templateSrv.replace(target.period, options.scopedVars));\n        }\n      }\n      if (period < 1) {\n        period = 1;\n      }\n      if (range / period >= 1440) {\n        period = Math.ceil(range / 1440 / periodUnit) * periodUnit;\n      }\n\n      return period;\n    };\n\n    this.performTimeSeriesQuery = function(request) {\n      return backendSrv.post('/api/tsdb/query', request).then(function (res) {\n        var data = [];\n\n        if (res.results) {\n          _.forEach(res.results, function (queryRes) {\n            _.forEach(queryRes.series, function (series) {\n              data.push({target: series.name, datapoints: series.points});\n            });\n          });\n        }\n\n        return {data: data};\n      });\n    };\n\n    function transformSuggestDataFromTable(suggestData) {\n      return _.map(suggestData.results['metricFindQuery'].tables[0].rows, function (v) {\n        return {\n          text: v[0],\n          value: v[1]\n        };\n      });\n    }\n\n    this.doMetricQueryRequest = function (subtype, parameters) {\n      var range = timeSrv.timeRange();\n      return backendSrv.post('/api/tsdb/query', {\n        from: range.from.valueOf().toString(),\n        to: range.to.valueOf().toString(),\n        queries: [\n          _.extend({\n            refId: 'metricFindQuery',\n            intervalMs: 1, // dummy\n            maxDataPoints: 1, // dummy\n            datasourceId: this.instanceSettings.id,\n            type: 'metricFindQuery',\n            subtype: subtype\n          }, parameters)\n        ]\n      }).then(function (r) { return transformSuggestDataFromTable(r); });\n    };\n\n    this.getRegions = function () {\n      return this.doMetricQueryRequest('regions', null);\n    };\n\n    this.getNamespaces = function() {\n      return this.doMetricQueryRequest('namespaces', null);\n    };\n\n    this.getMetrics = function (namespace, region) {\n      return this.doMetricQueryRequest('metrics', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace)\n      });\n    };\n\n    this.getDimensionKeys = function(namespace, region) {\n      return this.doMetricQueryRequest('dimension_keys', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace)\n      });\n    };\n\n    this.getDimensionValues = function(region, namespace, metricName, dimensionKey, filterDimensions) {\n      return this.doMetricQueryRequest('dimension_values', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace),\n        metricName: templateSrv.replace(metricName),\n        dimensionKey: templateSrv.replace(dimensionKey),\n        dimensions: this.convertDimensionFormat(filterDimensions, {}),\n      });\n    };\n\n    this.getEbsVolumeIds = function(region, instanceId) {\n      return this.doMetricQueryRequest('ebs_volume_ids', {\n        region: templateSrv.replace(region),\n        instanceId: templateSrv.replace(instanceId)\n      });\n    };\n\n    this.getEc2InstanceAttribute = function(region, attributeName, filters) {\n      return this.doMetricQueryRequest('ec2_instance_attribute', {\n        region: templateSrv.replace(region),\n        attributeName: templateSrv.replace(attributeName),\n        filters: filters\n      });\n    };\n\n    this.metricFindQuery = function(query) {\n      var region;\n      var namespace;\n      var metricName;\n\n      var regionQuery = query.match(/^regions\\(\\)/);\n      if (regionQuery) {\n        return this.getRegions();\n      }\n\n      var namespaceQuery = query.match(/^namespaces\\(\\)/);\n      if (namespaceQuery) {\n        return this.getNamespaces();\n      }\n\n      var metricNameQuery = query.match(/^metrics\\(([^\\)]+?)(,\\s?([^,]+?))?\\)/);\n      if (metricNameQuery) {\n        namespace = metricNameQuery[1];\n        region = metricNameQuery[3];\n        return this.getMetrics(namespace, region);\n      }\n\n      var dimensionKeysQuery = query.match(/^dimension_keys\\(([^\\)]+?)(,\\s?([^,]+?))?\\)/);\n      if (dimensionKeysQuery) {\n        namespace = dimensionKeysQuery[1];\n        region = dimensionKeysQuery[3];\n        return this.getDimensionKeys(namespace, region);\n      }\n\n      var dimensionValuesQuery = query.match(/^dimension_values\\(([^,]+?),\\s?([^,]+?),\\s?([^,]+?),\\s?([^,]+?)\\)/);\n      if (dimensionValuesQuery) {\n        region = dimensionValuesQuery[1];\n        namespace = dimensionValuesQuery[2];\n        metricName = dimensionValuesQuery[3];\n        var dimensionKey = dimensionValuesQuery[4];\n\n        return this.getDimensionValues(region, namespace, metricName, dimensionKey, {});\n      }\n\n      var ebsVolumeIdsQuery = query.match(/^ebs_volume_ids\\(([^,]+?),\\s?([^,]+?)\\)/);\n      if (ebsVolumeIdsQuery) {\n        region = ebsVolumeIdsQuery[1];\n        var instanceId = ebsVolumeIdsQuery[2];\n        return this.getEbsVolumeIds(region, instanceId);\n      }\n\n      var ec2InstanceAttributeQuery = query.match(/^ec2_instance_attribute\\(([^,]+?),\\s?([^,]+?),\\s?(.+?)\\)/);\n      if (ec2InstanceAttributeQuery) {\n        region = ec2InstanceAttributeQuery[1];\n        var targetAttributeName = ec2InstanceAttributeQuery[2];\n        var filterJson = JSON.parse(templateSrv.replace(ec2InstanceAttributeQuery[3]));\n        return this.getEc2InstanceAttribute(region, targetAttributeName, filterJson);\n      }\n\n      return $q.when([]);\n    };\n\n    this.annotationQuery = function (options) {\n      var annotation = options.annotation;\n      var statistics = _.map(annotation.statistics, function (s) { return templateSrv.replace(s); });\n      var defaultPeriod = annotation.prefixMatching ? '' : '300';\n      var period = annotation.period || defaultPeriod;\n      period = parseInt(period, 10);\n      var parameters = {\n        prefixMatching: annotation.prefixMatching,\n        region: templateSrv.replace(annotation.region),\n        namespace: templateSrv.replace(annotation.namespace),\n        metricName: templateSrv.replace(annotation.metricName),\n        dimensions: this.convertDimensionFormat(annotation.dimensions, {}),\n        statistics: statistics,\n        period: period,\n        actionPrefix: annotation.actionPrefix || '',\n        alarmNamePrefix: annotation.alarmNamePrefix || ''\n      };\n\n      return backendSrv.post('/api/tsdb/query', {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: [\n          _.extend({\n            refId: 'annotationQuery',\n            intervalMs: 1, // dummy\n            maxDataPoints: 1, // dummy\n            datasourceId: this.instanceSettings.id,\n            type: 'annotationQuery'\n          }, parameters)\n        ]\n      }).then(function (r) {\n        return _.map(r.results['annotationQuery'].tables[0].rows, function (v) {\n          return {\n            annotation: annotation,\n            time: Date.parse(v[0]),\n            title: v[1],\n            tags: [v[2]],\n            text: v[3]\n          };\n        });\n      });\n    };\n\n    this.targetContainsTemplate = function(target) {\n      return templateSrv.variableExists(target.region) ||\n      templateSrv.variableExists(target.namespace) ||\n      templateSrv.variableExists(target.metricName) ||\n      _.find(target.dimensions, function(v, k) {\n        return templateSrv.variableExists(k) || templateSrv.variableExists(v);\n      });\n    };\n\n    this.testDatasource = function() {\n      /* use billing metrics for test */\n      var region = this.defaultRegion;\n      var namespace = 'AWS/Billing';\n      var metricName = 'EstimatedCharges';\n      var dimensions = {};\n\n      return this.getDimensionValues(region, namespace, metricName, 'ServiceName', dimensions).then(function () {\n        return { status: 'success', message: 'Data source is working' };\n      }, function (err) {\n        return { status: 'error', message: err.message };\n      });\n    };\n\n    this.awsRequest = function(data) {\n      var options = {\n        method: 'POST',\n        url: this.proxyUrl,\n        data: data\n      };\n\n      return backendSrv.datasourceRequest(options).then(function(result) {\n        return result.data;\n      });\n    };\n\n    this.getDefaultRegion = function() {\n      return this.defaultRegion;\n    };\n\n    this.getExpandedVariables = function(target, dimensionKey, variable, templateSrv) {\n      /* if the all checkbox is marked we should add all values to the targets */\n      var allSelected = _.find(variable.options, {'selected': true, 'text': 'All'});\n      return _.chain(variable.options)\n      .filter(function(v) {\n        if (allSelected) {\n          return v.text !== 'All';\n        } else {\n          return v.selected;\n        }\n      })\n      .map(function(v) {\n        var t = angular.copy(target);\n        var scopedVar = {};\n        scopedVar[variable.name] = v;\n        t.refId = target.refId + '_' + v.value;\n        t.dimensions[dimensionKey] = templateSrv.replace(t.dimensions[dimensionKey], scopedVar);\n        return t;\n      }).value();\n    };\n\n    this.expandTemplateVariable = function(targets, scopedVars, templateSrv) {\n      var self = this;\n      return _.chain(targets)\n      .map(function(target) {\n        var dimensionKey = _.findKey(target.dimensions, function(v) {\n          return templateSrv.variableExists(v) && !_.has(scopedVars, templateSrv.getVariableName(v));\n        });\n\n        if (dimensionKey) {\n          var multiVariable = _.find(templateSrv.variables, function(variable) {\n            return templatingVariable.containsVariable(target.dimensions[dimensionKey], variable.name) && variable.multi;\n          });\n          var variable = _.find(templateSrv.variables, function(variable) {\n            return templatingVariable.containsVariable(target.dimensions[dimensionKey], variable.name);\n          });\n          return self.getExpandedVariables(target, dimensionKey, multiVariable || variable, templateSrv);\n        } else {\n          return [target];\n        }\n      }).flatten().value();\n    };\n\n    this.convertToCloudWatchTime = function(date, roundUp) {\n      if (_.isString(date)) {\n        date = dateMath.parse(date, roundUp);\n      }\n      return Math.round(date.valueOf() / 1000);\n    };\n\n    this.convertDimensionFormat = function(dimensions, scopedVars) {\n      var convertedDimensions = {};\n      _.each(dimensions, function (value, key) {\n        convertedDimensions[templateSrv.replace(key, scopedVars)] = templateSrv.replace(value, scopedVars);\n      });\n      return convertedDimensions;\n    };\n\n  }\n\n  return CloudWatchDatasource;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1443:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CloudWatchQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl__ = __webpack_require__(1330);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__query_parameter_ctrl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar CloudWatchQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(CloudWatchQueryCtrl, _super);\r\n    /** @ngInject **/\n    CloudWatchQueryCtrl.$inject = [\"$scope\", \"$injector\"];\r\n    function CloudWatchQueryCtrl($scope, $injector) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.aliasSyntax = '{{metric}} {{stat}} {{namespace}} {{region}} {{<dimension name>}}';\r\n        return _this;\r\n    }\r\n    CloudWatchQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return CloudWatchQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1444:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CloudWatchConfigCtrl; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar CloudWatchConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    CloudWatchConfigCtrl.$inject = [\"$scope\"];\r\n    function CloudWatchConfigCtrl($scope) {\r\n        this.accessKeyExist = false;\r\n        this.secretKeyExist = false;\r\n        this.authTypes = [\r\n            { name: 'Access & secret key', value: 'keys' },\r\n            { name: 'Credentials file', value: 'credentials' },\r\n            { name: 'ARN', value: 'arn' },\r\n        ];\r\n        this.indexPatternTypes = [\r\n            { name: 'No pattern', value: undefined },\r\n            { name: 'Hourly', value: 'Hourly', example: '[logstash-]YYYY.MM.DD.HH' },\r\n            { name: 'Daily', value: 'Daily', example: '[logstash-]YYYY.MM.DD' },\r\n            { name: 'Weekly', value: 'Weekly', example: '[logstash-]GGGG.WW' },\r\n            { name: 'Monthly', value: 'Monthly', example: '[logstash-]YYYY.MM' },\r\n            { name: 'Yearly', value: 'Yearly', example: '[logstash-]YYYY' },\r\n        ];\r\n        this.current.jsonData.timeField = this.current.jsonData.timeField || '@timestamp';\r\n        this.current.jsonData.authType = this.current.jsonData.authType || 'credentials';\r\n        this.accessKeyExist = this.current.secureJsonFields.accessKey;\r\n        this.secretKeyExist = this.current.secureJsonFields.secretKey;\r\n    }\r\n    CloudWatchConfigCtrl.prototype.resetAccessKey = function () {\r\n        this.accessKeyExist = false;\r\n    };\r\n    CloudWatchConfigCtrl.prototype.resetSecretKey = function () {\r\n        this.secretKeyExist = false;\r\n    };\r\n    CloudWatchConfigCtrl.templateUrl = 'partials/config.html';\r\n    return CloudWatchConfigCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1445:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryOptionsCtrl\", function() { return ElasticQueryOptionsCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return ElasticAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1446);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1450);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_ctrl__ = __webpack_require__(1453);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_2__config_ctrl__[\"a\"]; });\n\r\n\r\n\r\nvar ElasticQueryOptionsCtrl = /** @class */ (function () {\r\n    function ElasticQueryOptionsCtrl() {\r\n    }\r\n    ElasticQueryOptionsCtrl.templateUrl = 'partials/query.options.html';\r\n    return ElasticQueryOptionsCtrl;\r\n}());\r\nvar ElasticAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function ElasticAnnotationsQueryCtrl() {\r\n    }\r\n    ElasticAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return ElasticAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1446:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ElasticDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__query_builder__ = __webpack_require__(1447);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__index_pattern__ = __webpack_require__(1448);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__elastic_response__ = __webpack_require__(1449);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ElasticDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    ElasticDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\", \"timeSrv\"];\r\n    function ElasticDatasource(instanceSettings, $q, backendSrv, templateSrv, timeSrv) {\r\n        this.$q = $q;\r\n        this.backendSrv = backendSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.timeSrv = timeSrv;\r\n        this.basicAuth = instanceSettings.basicAuth;\r\n        this.withCredentials = instanceSettings.withCredentials;\r\n        this.url = instanceSettings.url;\r\n        this.name = instanceSettings.name;\r\n        this.index = instanceSettings.index;\r\n        this.timeField = instanceSettings.jsonData.timeField;\r\n        this.esVersion = instanceSettings.jsonData.esVersion;\r\n        this.indexPattern = new __WEBPACK_IMPORTED_MODULE_4__index_pattern__[\"a\" /* IndexPattern */](instanceSettings.index, instanceSettings.jsonData.interval);\r\n        this.interval = instanceSettings.jsonData.timeInterval;\r\n        this.queryBuilder = new __WEBPACK_IMPORTED_MODULE_3__query_builder__[\"a\" /* ElasticQueryBuilder */]({\r\n            timeField: this.timeField,\r\n            esVersion: this.esVersion,\r\n        });\r\n    }\r\n    ElasticDatasource.prototype.request = function (method, url, data) {\r\n        var options = {\r\n            url: this.url + \"/\" + url,\r\n            method: method,\r\n            data: data\r\n        };\r\n        if (this.basicAuth || this.withCredentials) {\r\n            options.withCredentials = true;\r\n        }\r\n        if (this.basicAuth) {\r\n            options.headers = {\r\n                \"Authorization\": this.basicAuth\r\n            };\r\n        }\r\n        return this.backendSrv.datasourceRequest(options);\r\n    };\r\n    ElasticDatasource.prototype.get = function (url) {\r\n        var range = this.timeSrv.timeRange();\r\n        var index_list = this.indexPattern.getIndexList(range.from.valueOf(), range.to.valueOf());\r\n        if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isArray(index_list) && index_list.length) {\r\n            return this.request('GET', index_list[0] + url).then(function (results) {\r\n                results.data.$$config = results.config;\r\n                return results.data;\r\n            });\r\n        }\r\n        else {\r\n            return this.request('GET', this.indexPattern.getIndexForToday() + url).then(function (results) {\r\n                results.data.$$config = results.config;\r\n                return results.data;\r\n            });\r\n        }\r\n    };\r\n    ElasticDatasource.prototype.post = function (url, data) {\r\n        return this.request('POST', url, data).then(function (results) {\r\n            results.data.$$config = results.config;\r\n            return results.data;\r\n        }).catch(function (err) {\r\n            if (err.data && err.data.error) {\r\n                throw { message: 'Elasticsearch error: ' + err.data.error.reason, error: err.data.error };\r\n            }\r\n            throw err;\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.annotationQuery = function (options) {\r\n        var annotation = options.annotation;\r\n        var timeField = annotation.timeField || '@timestamp';\r\n        var queryString = annotation.query || '*';\r\n        var tagsField = annotation.tagsField || 'tags';\r\n        var textField = annotation.textField || null;\r\n        var range = {};\r\n        range[timeField] = {\r\n            from: options.range.from.valueOf(),\r\n            to: options.range.to.valueOf(),\r\n            format: \"epoch_millis\",\r\n        };\r\n        var queryInterpolated = this.templateSrv.replace(queryString, {}, 'lucene');\r\n        var query = {\r\n            \"bool\": {\r\n                \"filter\": [\r\n                    { \"range\": range },\r\n                    {\r\n                        \"query_string\": {\r\n                            \"query\": queryInterpolated\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n        var data = {\r\n            \"query\": query,\r\n            \"size\": 10000\r\n        };\r\n        // fields field not supported on ES 5.x\r\n        if (this.esVersion < 5) {\r\n            data[\"fields\"] = [timeField, \"_source\"];\r\n        }\r\n        var header = { search_type: \"query_then_fetch\", \"ignore_unavailable\": true };\r\n        // old elastic annotations had index specified on them\r\n        if (annotation.index) {\r\n            header.index = annotation.index;\r\n        }\r\n        else {\r\n            header.index = this.indexPattern.getIndexList(options.range.from, options.range.to);\r\n        }\r\n        var payload = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(header) + '\\n' + __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(data) + '\\n';\r\n        return this.post('_msearch', payload).then(function (res) {\r\n            var list = [];\r\n            var hits = res.responses[0].hits.hits;\r\n            var getFieldFromSource = function (source, fieldName) {\r\n                if (!fieldName) {\r\n                    return;\r\n                }\r\n                var fieldNames = fieldName.split('.');\r\n                var fieldValue = source;\r\n                for (var i = 0; i < fieldNames.length; i++) {\r\n                    fieldValue = fieldValue[fieldNames[i]];\r\n                    if (!fieldValue) {\r\n                        console.log('could not find field in annotation: ', fieldName);\r\n                        return '';\r\n                    }\r\n                }\r\n                return fieldValue;\r\n            };\r\n            for (var i = 0; i < hits.length; i++) {\r\n                var source = hits[i]._source;\r\n                var time = source[timeField];\r\n                if (typeof hits[i].fields !== 'undefined') {\r\n                    var fields = hits[i].fields;\r\n                    if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(fields[timeField]) || __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isNumber(fields[timeField])) {\r\n                        time = fields[timeField];\r\n                    }\r\n                }\r\n                var event = {\r\n                    annotation: annotation,\r\n                    time: __WEBPACK_IMPORTED_MODULE_2_moment___default.a.utc(time).valueOf(),\r\n                    text: getFieldFromSource(source, textField),\r\n                    tags: getFieldFromSource(source, tagsField),\r\n                };\r\n                // legacy support for title tield\r\n                if (annotation.titleField) {\r\n                    var title = getFieldFromSource(source, annotation.titleField);\r\n                    if (title) {\r\n                        event.text = title + '\\n' + event.text;\r\n                    }\r\n                }\r\n                if (typeof event.tags === 'string') {\r\n                    event.tags = event.tags.split(',');\r\n                }\r\n                list.push(event);\r\n            }\r\n            return list;\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.testDatasource = function () {\r\n        this.timeSrv.setTime({ from: 'now-1m', to: 'now' }, true);\r\n        // validate that the index exist and has date field\r\n        return this.getFields({ type: 'date' }).then(function (dateFields) {\r\n            var timeField = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(dateFields, { text: this.timeField });\r\n            if (!timeField) {\r\n                return { status: \"error\", message: \"No date field named \" + this.timeField + ' found' };\r\n            }\r\n            return { status: \"success\", message: \"Index OK. Time field name OK.\" };\r\n        }.bind(this), function (err) {\r\n            console.log(err);\r\n            if (err.data && err.data.error) {\r\n                var message = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(err.data.error);\r\n                if (err.data.error.reason) {\r\n                    message = err.data.error.reason;\r\n                }\r\n                return { status: \"error\", message: message };\r\n            }\r\n            else {\r\n                return { status: \"error\", message: err.status };\r\n            }\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.getQueryHeader = function (searchType, timeFrom, timeTo) {\r\n        return __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson({\r\n            search_type: searchType,\r\n            \"ignore_unavailable\": true,\r\n            index: this.indexPattern.getIndexList(timeFrom, timeTo),\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.query = function (options) {\r\n        var payload = \"\";\r\n        var target;\r\n        var sentTargets = [];\r\n        // add global adhoc filters to timeFilter\r\n        var adhocFilters = this.templateSrv.getAdhocFilters(this.name);\r\n        for (var i = 0; i < options.targets.length; i++) {\r\n            target = options.targets[i];\r\n            if (target.hide) {\r\n                continue;\r\n            }\r\n            var queryString = this.templateSrv.replace(target.query || '*', options.scopedVars, 'lucene');\r\n            var queryObj = this.queryBuilder.build(target, adhocFilters, queryString);\r\n            var esQuery = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(queryObj);\r\n            var searchType = (queryObj.size === 0 && this.esVersion < 5) ? 'count' : 'query_then_fetch';\r\n            var header = this.getQueryHeader(searchType, options.range.from, options.range.to);\r\n            payload += header + '\\n';\r\n            payload += esQuery + '\\n';\r\n            sentTargets.push(target);\r\n        }\r\n        if (sentTargets.length === 0) {\r\n            return this.$q.when([]);\r\n        }\r\n        payload = payload.replace(/\\$timeFrom/g, options.range.from.valueOf());\r\n        payload = payload.replace(/\\$timeTo/g, options.range.to.valueOf());\r\n        payload = this.templateSrv.replace(payload, options.scopedVars);\r\n        return this.post('_msearch', payload).then(function (res) {\r\n            return new __WEBPACK_IMPORTED_MODULE_5__elastic_response__[\"a\" /* ElasticResponse */](sentTargets, res).getTimeSeries();\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.getFields = function (query) {\r\n        return this.get('/_mapping').then(function (result) {\r\n            var typeMap = {\r\n                'float': 'number',\r\n                'double': 'number',\r\n                'integer': 'number',\r\n                'long': 'number',\r\n                'date': 'date',\r\n                'string': 'string',\r\n                'text': 'string',\r\n                'scaled_float': 'number',\r\n                'nested': 'nested'\r\n            };\r\n            function shouldAddField(obj, key, query) {\r\n                if (key[0] === '_') {\r\n                    return false;\r\n                }\r\n                if (!query.type) {\r\n                    return true;\r\n                }\r\n                // equal query type filter, or via typemap translation\r\n                return query.type === obj.type || query.type === typeMap[obj.type];\r\n            }\r\n            // Store subfield names: [system, process, cpu, total] -> system.process.cpu.total\r\n            var fieldNameParts = [];\r\n            var fields = {};\r\n            function getFieldsRecursively(obj) {\r\n                for (var key in obj) {\r\n                    var subObj = obj[key];\r\n                    // Check mapping field for nested fields\r\n                    if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isObject(subObj.properties)) {\r\n                        fieldNameParts.push(key);\r\n                        getFieldsRecursively(subObj.properties);\r\n                    }\r\n                    if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isObject(subObj.fields)) {\r\n                        fieldNameParts.push(key);\r\n                        getFieldsRecursively(subObj.fields);\r\n                    }\r\n                    if (__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isString(subObj.type)) {\r\n                        var fieldName = fieldNameParts.concat(key).join('.');\r\n                        // Hide meta-fields and check field type\r\n                        if (shouldAddField(subObj, key, query)) {\r\n                            fields[fieldName] = {\r\n                                text: fieldName,\r\n                                type: subObj.type\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n                fieldNameParts.pop();\r\n            }\r\n            for (var indexName in result) {\r\n                var index = result[indexName];\r\n                if (index && index.mappings) {\r\n                    var mappings = index.mappings;\r\n                    for (var typeName in mappings) {\r\n                        var properties = mappings[typeName].properties;\r\n                        getFieldsRecursively(properties);\r\n                    }\r\n                }\r\n            }\r\n            // transform to array\r\n            return __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(fields, function (value) {\r\n                return value;\r\n            });\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.getTerms = function (queryDef) {\r\n        var range = this.timeSrv.timeRange();\r\n        var searchType = this.esVersion >= 5 ? 'query_then_fetch' : 'count';\r\n        var header = this.getQueryHeader(searchType, range.from, range.to);\r\n        var esQuery = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.toJson(this.queryBuilder.getTermsQuery(queryDef));\r\n        esQuery = esQuery.replace(/\\$timeFrom/g, range.from.valueOf());\r\n        esQuery = esQuery.replace(/\\$timeTo/g, range.to.valueOf());\r\n        esQuery = header + '\\n' + esQuery + '\\n';\r\n        return this.post('_msearch?search_type=' + searchType, esQuery).then(function (res) {\r\n            if (!res.responses[0].aggregations) {\r\n                return [];\r\n            }\r\n            var buckets = res.responses[0].aggregations[\"1\"].buckets;\r\n            return __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(buckets, function (bucket) {\r\n                return {\r\n                    text: bucket.key_as_string || bucket.key,\r\n                    value: bucket.key\r\n                };\r\n            });\r\n        });\r\n    };\r\n    ElasticDatasource.prototype.metricFindQuery = function (query) {\r\n        query = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.fromJson(query);\r\n        if (!query) {\r\n            return this.$q.when([]);\r\n        }\r\n        if (query.find === 'fields') {\r\n            query.field = this.templateSrv.replace(query.field, {}, 'lucene');\r\n            return this.getFields(query);\r\n        }\r\n        if (query.find === 'terms') {\r\n            query.query = this.templateSrv.replace(query.query || '*', {}, 'lucene');\r\n            return this.getTerms(query);\r\n        }\r\n    };\r\n    ElasticDatasource.prototype.getTagKeys = function () {\r\n        return this.getFields({});\r\n    };\r\n    ElasticDatasource.prototype.getTagValues = function (options) {\r\n        return this.getTerms({ field: options.key, query: '*' });\r\n    };\r\n    return ElasticDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1447:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ElasticQueryBuilder; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query_def__ = __webpack_require__(1311);\n\r\nvar ElasticQueryBuilder = /** @class */ (function () {\r\n    function ElasticQueryBuilder(options) {\r\n        this.timeField = options.timeField;\r\n        this.esVersion = options.esVersion;\r\n    }\r\n    ElasticQueryBuilder.prototype.getRangeFilter = function () {\r\n        var filter = {};\r\n        filter[this.timeField] = {\r\n            gte: \"$timeFrom\",\r\n            lte: \"$timeTo\",\r\n            format: \"epoch_millis\",\r\n        };\r\n        return filter;\r\n    };\r\n    ElasticQueryBuilder.prototype.buildTermsAgg = function (aggDef, queryNode, target) {\r\n        var metricRef, metric, y;\r\n        queryNode.terms = { \"field\": aggDef.field };\r\n        if (!aggDef.settings) {\r\n            return queryNode;\r\n        }\r\n        queryNode.terms.size = parseInt(aggDef.settings.size, 10) === 0 ? 500 : parseInt(aggDef.settings.size, 10);\r\n        if (aggDef.settings.orderBy !== void 0) {\r\n            queryNode.terms.order = {};\r\n            queryNode.terms.order[aggDef.settings.orderBy] = aggDef.settings.order;\r\n            // if metric ref, look it up and add it to this agg level\r\n            metricRef = parseInt(aggDef.settings.orderBy, 10);\r\n            if (!isNaN(metricRef)) {\r\n                for (y = 0; y < target.metrics.length; y++) {\r\n                    metric = target.metrics[y];\r\n                    if (metric.id === aggDef.settings.orderBy) {\r\n                        queryNode.aggs = {};\r\n                        queryNode.aggs[metric.id] = {};\r\n                        queryNode.aggs[metric.id][metric.type] = { field: metric.field };\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (aggDef.settings.min_doc_count !== void 0) {\r\n            queryNode.terms.min_doc_count = parseInt(aggDef.settings.min_doc_count, 10);\r\n        }\r\n        if (aggDef.settings.missing) {\r\n            queryNode.terms.missing = aggDef.settings.missing;\r\n        }\r\n        return queryNode;\r\n    };\r\n    ElasticQueryBuilder.prototype.getDateHistogramAgg = function (aggDef) {\r\n        var esAgg = {};\r\n        var settings = aggDef.settings || {};\r\n        esAgg.interval = settings.interval;\r\n        esAgg.field = this.timeField;\r\n        esAgg.min_doc_count = settings.min_doc_count || 0;\r\n        esAgg.extended_bounds = { min: \"$timeFrom\", max: \"$timeTo\" };\r\n        esAgg.format = \"epoch_millis\";\r\n        if (esAgg.interval === 'auto') {\r\n            esAgg.interval = \"$__interval\";\r\n        }\r\n        if (settings.missing) {\r\n            esAgg.missing = settings.missing;\r\n        }\r\n        return esAgg;\r\n    };\r\n    ElasticQueryBuilder.prototype.getHistogramAgg = function (aggDef) {\r\n        var esAgg = {};\r\n        var settings = aggDef.settings || {};\r\n        esAgg.interval = settings.interval;\r\n        esAgg.field = aggDef.field;\r\n        esAgg.min_doc_count = settings.min_doc_count || 0;\r\n        if (settings.missing) {\r\n            esAgg.missing = settings.missing;\r\n        }\r\n        return esAgg;\r\n    };\r\n    ElasticQueryBuilder.prototype.getFiltersAgg = function (aggDef) {\r\n        var filterObj = {};\r\n        for (var i = 0; i < aggDef.settings.filters.length; i++) {\r\n            var query = aggDef.settings.filters[i].query;\r\n            var label = aggDef.settings.filters[i].label;\r\n            label = label === '' || label === undefined ? query : label;\r\n            filterObj[label] = {\r\n                query_string: {\r\n                    query: query,\r\n                    analyze_wildcard: true\r\n                }\r\n            };\r\n        }\r\n        return filterObj;\r\n    };\r\n    ElasticQueryBuilder.prototype.documentQuery = function (query, size) {\r\n        query.size = size;\r\n        query.sort = {};\r\n        query.sort[this.timeField] = { order: 'desc', unmapped_type: 'boolean' };\r\n        // fields field not supported on ES 5.x\r\n        if (this.esVersion < 5) {\r\n            query.fields = [\"*\", \"_source\"];\r\n        }\r\n        query.script_fields = {};\r\n        if (this.esVersion < 5) {\r\n            query.fielddata_fields = [this.timeField];\r\n        }\r\n        else {\r\n            query.docvalue_fields = [this.timeField];\r\n        }\r\n        return query;\r\n    };\r\n    ElasticQueryBuilder.prototype.addAdhocFilters = function (query, adhocFilters) {\r\n        if (!adhocFilters) {\r\n            return;\r\n        }\r\n        var i, filter, condition, queryCondition;\r\n        for (i = 0; i < adhocFilters.length; i++) {\r\n            filter = adhocFilters[i];\r\n            condition = {};\r\n            condition[filter.key] = filter.value;\r\n            queryCondition = {};\r\n            queryCondition[filter.key] = { query: filter.value };\r\n            switch (filter.operator) {\r\n                case \"=\":\r\n                    if (!query.query.bool.must) {\r\n                        query.query.bool.must = [];\r\n                    }\r\n                    query.query.bool.must.push({ match_phrase: queryCondition });\r\n                    break;\r\n                case \"!=\":\r\n                    if (!query.query.bool.must_not) {\r\n                        query.query.bool.must_not = [];\r\n                    }\r\n                    query.query.bool.must_not.push({ match_phrase: queryCondition });\r\n                    break;\r\n                case \"<\":\r\n                    condition[filter.key] = { \"lt\": filter.value };\r\n                    query.query.bool.filter.push({ \"range\": condition });\r\n                    break;\r\n                case \">\":\r\n                    condition[filter.key] = { \"gt\": filter.value };\r\n                    query.query.bool.filter.push({ \"range\": condition });\r\n                    break;\r\n                case \"=~\":\r\n                    query.query.bool.filter.push({ \"regexp\": condition });\r\n                    break;\r\n                case \"!~\":\r\n                    query.query.bool.filter.push({ \"bool\": { \"must_not\": { \"regexp\": condition } } });\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    ElasticQueryBuilder.prototype.build = function (target, adhocFilters, queryString) {\r\n        // make sure query has defaults;\r\n        target.metrics = target.metrics || [{ type: 'count', id: '1' }];\r\n        target.dsType = 'elasticsearch';\r\n        target.bucketAggs = target.bucketAggs || [{ type: 'date_histogram', id: '2', settings: { interval: 'auto' } }];\r\n        target.timeField = this.timeField;\r\n        var i, nestedAggs, metric;\r\n        var query = {\r\n            \"size\": 0,\r\n            \"query\": {\r\n                \"bool\": {\r\n                    \"filter\": [\r\n                        { \"range\": this.getRangeFilter() },\r\n                        {\r\n                            \"query_string\": {\r\n                                \"analyze_wildcard\": true,\r\n                                \"query\": queryString,\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        };\r\n        this.addAdhocFilters(query, adhocFilters);\r\n        // handle document query\r\n        if (target.bucketAggs.length === 0) {\r\n            metric = target.metrics[0];\r\n            if (!metric || metric.type !== 'raw_document') {\r\n                throw { message: 'Invalid query' };\r\n            }\r\n            var size = (metric.settings && metric.settings.size) || 500;\r\n            return this.documentQuery(query, size);\r\n        }\r\n        nestedAggs = query;\r\n        for (i = 0; i < target.bucketAggs.length; i++) {\r\n            var aggDef = target.bucketAggs[i];\r\n            var esAgg = {};\r\n            switch (aggDef.type) {\r\n                case 'date_histogram': {\r\n                    esAgg[\"date_histogram\"] = this.getDateHistogramAgg(aggDef);\r\n                    break;\r\n                }\r\n                case 'histogram': {\r\n                    esAgg[\"histogram\"] = this.getHistogramAgg(aggDef);\r\n                    break;\r\n                }\r\n                case 'filters': {\r\n                    esAgg[\"filters\"] = { filters: this.getFiltersAgg(aggDef) };\r\n                    break;\r\n                }\r\n                case 'terms': {\r\n                    this.buildTermsAgg(aggDef, esAgg, target);\r\n                    break;\r\n                }\r\n                case 'geohash_grid': {\r\n                    esAgg['geohash_grid'] = { field: aggDef.field, precision: aggDef.settings.precision };\r\n                    break;\r\n                }\r\n            }\r\n            nestedAggs.aggs = nestedAggs.aggs || {};\r\n            nestedAggs.aggs[aggDef.id] = esAgg;\r\n            nestedAggs = esAgg;\r\n        }\r\n        nestedAggs.aggs = {};\r\n        for (i = 0; i < target.metrics.length; i++) {\r\n            metric = target.metrics[i];\r\n            if (metric.type === 'count') {\r\n                continue;\r\n            }\r\n            var aggField = {};\r\n            var metricAgg = null;\r\n            if (__WEBPACK_IMPORTED_MODULE_0__query_def__[\"isPipelineAgg\"](metric.type)) {\r\n                if (metric.pipelineAgg && /^\\d*$/.test(metric.pipelineAgg)) {\r\n                    metricAgg = { buckets_path: metric.pipelineAgg };\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            }\r\n            else {\r\n                metricAgg = { field: metric.field };\r\n            }\r\n            for (var prop in metric.settings) {\r\n                if (metric.settings.hasOwnProperty(prop) && metric.settings[prop] !== null) {\r\n                    metricAgg[prop] = metric.settings[prop];\r\n                }\r\n            }\r\n            aggField[metric.type] = metricAgg;\r\n            nestedAggs.aggs[metric.id] = aggField;\r\n        }\r\n        return query;\r\n    };\r\n    ElasticQueryBuilder.prototype.getTermsQuery = function (queryDef) {\r\n        var query = {\r\n            \"size\": 0,\r\n            \"query\": {\r\n                \"bool\": {\r\n                    \"filter\": [{ \"range\": this.getRangeFilter() }]\r\n                }\r\n            }\r\n        };\r\n        if (queryDef.query) {\r\n            query.query.bool.filter.push({\r\n                \"query_string\": {\r\n                    \"analyze_wildcard\": true,\r\n                    \"query\": queryDef.query,\r\n                }\r\n            });\r\n        }\r\n        var size = 500;\r\n        if (queryDef.size) {\r\n            size = queryDef.size;\r\n        }\r\n        query.aggs = {\r\n            \"1\": {\r\n                \"terms\": {\r\n                    \"field\": queryDef.field,\r\n                    \"size\": size,\r\n                    \"order\": {\r\n                        \"_term\": \"asc\"\r\n                    }\r\n                },\r\n            }\r\n        };\r\n        return query;\r\n    };\r\n    return ElasticQueryBuilder;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1448:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return IndexPattern; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_moment__);\n\r\nvar intervalMap = {\r\n    \"Hourly\": { startOf: 'hour', amount: 'hours' },\r\n    \"Daily\": { startOf: 'day', amount: 'days' },\r\n    \"Weekly\": { startOf: 'isoWeek', amount: 'weeks' },\r\n    \"Monthly\": { startOf: 'month', amount: 'months' },\r\n    \"Yearly\": { startOf: 'year', amount: 'years' },\r\n};\r\nvar IndexPattern = /** @class */ (function () {\r\n    function IndexPattern(pattern, interval) {\r\n        this.pattern = pattern;\r\n        this.interval = interval;\r\n    }\r\n    IndexPattern.prototype.getIndexForToday = function () {\r\n        if (this.interval) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_moment___default.a.utc().format(this.pattern);\r\n        }\r\n        else {\r\n            return this.pattern;\r\n        }\r\n    };\r\n    IndexPattern.prototype.getIndexList = function (from, to) {\r\n        if (!this.interval) {\r\n            return this.pattern;\r\n        }\r\n        var intervalInfo = intervalMap[this.interval];\r\n        var start = __WEBPACK_IMPORTED_MODULE_0_moment___default()(from).utc().startOf(intervalInfo.startOf);\r\n        var endEpoch = __WEBPACK_IMPORTED_MODULE_0_moment___default()(to).utc().startOf(intervalInfo.startOf).valueOf();\r\n        var indexList = [];\r\n        while (start.valueOf() <= endEpoch) {\r\n            indexList.push(start.format(this.pattern));\r\n            start.add(1, intervalInfo.amount);\r\n        }\r\n        return indexList;\r\n    };\r\n    return IndexPattern;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1449:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ElasticResponse; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_def__ = __webpack_require__(1311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_table_model__ = __webpack_require__(1310);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar ElasticResponse = /** @class */ (function () {\r\n    function ElasticResponse(targets, response) {\r\n        this.targets = targets;\r\n        this.response = response;\r\n        this.targets = targets;\r\n        this.response = response;\r\n    }\r\n    ElasticResponse.prototype.processMetrics = function (esAgg, target, seriesList, props) {\r\n        var metric, y, i, newSeries, bucket, value;\r\n        for (y = 0; y < target.metrics.length; y++) {\r\n            metric = target.metrics[y];\r\n            if (metric.hide) {\r\n                continue;\r\n            }\r\n            switch (metric.type) {\r\n                case 'count': {\r\n                    newSeries = { datapoints: [], metric: 'count', props: props };\r\n                    for (i = 0; i < esAgg.buckets.length; i++) {\r\n                        bucket = esAgg.buckets[i];\r\n                        value = bucket.doc_count;\r\n                        newSeries.datapoints.push([value, bucket.key]);\r\n                    }\r\n                    seriesList.push(newSeries);\r\n                    break;\r\n                }\r\n                case 'percentiles': {\r\n                    if (esAgg.buckets.length === 0) {\r\n                        break;\r\n                    }\r\n                    var firstBucket = esAgg.buckets[0];\r\n                    var percentiles = firstBucket[metric.id].values;\r\n                    for (var percentileName in percentiles) {\r\n                        newSeries = { datapoints: [], metric: 'p' + percentileName, props: props, field: metric.field };\r\n                        for (i = 0; i < esAgg.buckets.length; i++) {\r\n                            bucket = esAgg.buckets[i];\r\n                            var values = bucket[metric.id].values;\r\n                            newSeries.datapoints.push([values[percentileName], bucket.key]);\r\n                        }\r\n                        seriesList.push(newSeries);\r\n                    }\r\n                    break;\r\n                }\r\n                case 'extended_stats': {\r\n                    for (var statName in metric.meta) {\r\n                        if (!metric.meta[statName]) {\r\n                            continue;\r\n                        }\r\n                        newSeries = { datapoints: [], metric: statName, props: props, field: metric.field };\r\n                        for (i = 0; i < esAgg.buckets.length; i++) {\r\n                            bucket = esAgg.buckets[i];\r\n                            var stats = bucket[metric.id];\r\n                            // add stats that are in nested obj to top level obj\r\n                            stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;\r\n                            stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;\r\n                            newSeries.datapoints.push([stats[statName], bucket.key]);\r\n                        }\r\n                        seriesList.push(newSeries);\r\n                    }\r\n                    break;\r\n                }\r\n                default: {\r\n                    newSeries = { datapoints: [], metric: metric.type, field: metric.field, props: props };\r\n                    for (i = 0; i < esAgg.buckets.length; i++) {\r\n                        bucket = esAgg.buckets[i];\r\n                        value = bucket[metric.id];\r\n                        if (value !== undefined) {\r\n                            if (value.normalized_value) {\r\n                                newSeries.datapoints.push([value.normalized_value, bucket.key]);\r\n                            }\r\n                            else {\r\n                                newSeries.datapoints.push([value.value, bucket.key]);\r\n                            }\r\n                        }\r\n                    }\r\n                    seriesList.push(newSeries);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ElasticResponse.prototype.processAggregationDocs = function (esAgg, aggDef, target, table, props) {\r\n        // add columns\r\n        if (table.columns.length === 0) {\r\n            for (var _i = 0, _a = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keys(props); _i < _a.length; _i++) {\r\n                var propKey = _a[_i];\r\n                table.addColumn({ text: propKey, filterable: true });\r\n            }\r\n            table.addColumn({ text: aggDef.field, filterable: true });\r\n        }\r\n        // helper func to add values to value array\r\n        var addMetricValue = function (values, metricName, value) {\r\n            table.addColumn({ text: metricName });\r\n            values.push(value);\r\n        };\r\n        for (var _b = 0, _c = esAgg.buckets; _b < _c.length; _b++) {\r\n            var bucket = _c[_b];\r\n            var values = [];\r\n            for (var _d = 0, _e = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.values(props); _d < _e.length; _d++) {\r\n                var propValues = _e[_d];\r\n                values.push(propValues);\r\n            }\r\n            // add bucket key (value)\r\n            values.push(bucket.key);\r\n            for (var _f = 0, _g = target.metrics; _f < _g.length; _f++) {\r\n                var metric = _g[_f];\r\n                switch (metric.type) {\r\n                    case \"count\": {\r\n                        addMetricValue(values, this.getMetricName(metric.type), bucket.doc_count);\r\n                        break;\r\n                    }\r\n                    case 'extended_stats': {\r\n                        for (var statName in metric.meta) {\r\n                            if (!metric.meta[statName]) {\r\n                                continue;\r\n                            }\r\n                            var stats = bucket[metric.id];\r\n                            // add stats that are in nested obj to top level obj\r\n                            stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;\r\n                            stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;\r\n                            addMetricValue(values, this.getMetricName(statName), stats[statName]);\r\n                        }\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        var metricName = this.getMetricName(metric.type);\r\n                        var otherMetrics = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(target.metrics, { type: metric.type });\r\n                        // if more of the same metric type include field field name in property\r\n                        if (otherMetrics.length > 1) {\r\n                            metricName += ' ' + metric.field;\r\n                        }\r\n                        addMetricValue(values, metricName, bucket[metric.id].value);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            table.rows.push(values);\r\n        }\r\n    };\r\n    // This is quite complex\r\n    // neeed to recurise down the nested buckets to build series\r\n    ElasticResponse.prototype.processBuckets = function (aggs, target, seriesList, table, props, depth) {\r\n        var bucket, aggDef, esAgg, aggId;\r\n        var maxDepth = target.bucketAggs.length - 1;\r\n        for (aggId in aggs) {\r\n            aggDef = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(target.bucketAggs, { id: aggId });\r\n            esAgg = aggs[aggId];\r\n            if (!aggDef) {\r\n                continue;\r\n            }\r\n            if (depth === maxDepth) {\r\n                if (aggDef.type === 'date_histogram') {\r\n                    this.processMetrics(esAgg, target, seriesList, props);\r\n                }\r\n                else {\r\n                    this.processAggregationDocs(esAgg, aggDef, target, table, props);\r\n                }\r\n            }\r\n            else {\r\n                for (var nameIndex in esAgg.buckets) {\r\n                    bucket = esAgg.buckets[nameIndex];\r\n                    props = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(props);\r\n                    if (bucket.key !== void 0) {\r\n                        props[aggDef.field] = bucket.key;\r\n                    }\r\n                    else {\r\n                        props[\"filter\"] = nameIndex;\r\n                    }\r\n                    if (bucket.key_as_string) {\r\n                        props[aggDef.field] = bucket.key_as_string;\r\n                    }\r\n                    this.processBuckets(bucket, target, seriesList, table, props, depth + 1);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ElasticResponse.prototype.getMetricName = function (metric) {\r\n        var metricDef = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(__WEBPACK_IMPORTED_MODULE_1__query_def__[\"metricAggTypes\"], { value: metric });\r\n        if (!metricDef) {\r\n            metricDef = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(__WEBPACK_IMPORTED_MODULE_1__query_def__[\"extendedStats\"], { value: metric });\r\n        }\r\n        return metricDef ? metricDef.text : metric;\r\n    };\r\n    ElasticResponse.prototype.getSeriesName = function (series, target, metricTypeCount) {\r\n        var metricName = this.getMetricName(series.metric);\r\n        if (target.alias) {\r\n            var regex = /\\{\\{([\\s\\S]+?)\\}\\}/g;\r\n            return target.alias.replace(regex, function (match, g1, g2) {\r\n                var group = g1 || g2;\r\n                if (group.indexOf('term ') === 0) {\r\n                    return series.props[group.substring(5)];\r\n                }\r\n                if (series.props[group] !== void 0) {\r\n                    return series.props[group];\r\n                }\r\n                if (group === 'metric') {\r\n                    return metricName;\r\n                }\r\n                if (group === 'field') {\r\n                    return series.field;\r\n                }\r\n                return match;\r\n            });\r\n        }\r\n        if (series.field && __WEBPACK_IMPORTED_MODULE_1__query_def__[\"isPipelineAgg\"](series.metric)) {\r\n            var appliedAgg = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(target.metrics, { id: series.field });\r\n            if (appliedAgg) {\r\n                metricName += ' ' + __WEBPACK_IMPORTED_MODULE_1__query_def__[\"describeMetric\"](appliedAgg);\r\n            }\r\n            else {\r\n                metricName = 'Unset';\r\n            }\r\n        }\r\n        else if (series.field) {\r\n            metricName += ' ' + series.field;\r\n        }\r\n        var propKeys = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keys(series.props);\r\n        if (propKeys.length === 0) {\r\n            return metricName;\r\n        }\r\n        var name = '';\r\n        for (var propName in series.props) {\r\n            name += series.props[propName] + ' ';\r\n        }\r\n        if (metricTypeCount === 1) {\r\n            return name.trim();\r\n        }\r\n        return name.trim() + ' ' + metricName;\r\n    };\r\n    ElasticResponse.prototype.nameSeries = function (seriesList, target) {\r\n        var metricTypeCount = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniq(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(seriesList, 'metric')).length;\r\n        for (var i = 0; i < seriesList.length; i++) {\r\n            var series = seriesList[i];\r\n            series.target = this.getSeriesName(series, target, metricTypeCount);\r\n        }\r\n    };\r\n    ElasticResponse.prototype.processHits = function (hits, seriesList) {\r\n        var series = { target: 'docs', type: 'docs', datapoints: [], total: hits.total, filterable: true };\r\n        var propName, hit, doc, i;\r\n        for (i = 0; i < hits.hits.length; i++) {\r\n            hit = hits.hits[i];\r\n            doc = {\r\n                _id: hit._id,\r\n                _type: hit._type,\r\n                _index: hit._index\r\n            };\r\n            if (hit._source) {\r\n                for (propName in hit._source) {\r\n                    doc[propName] = hit._source[propName];\r\n                }\r\n            }\r\n            for (propName in hit.fields) {\r\n                doc[propName] = hit.fields[propName];\r\n            }\r\n            series.datapoints.push(doc);\r\n        }\r\n        seriesList.push(series);\r\n    };\r\n    ElasticResponse.prototype.trimDatapoints = function (aggregations, target) {\r\n        var histogram = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(target.bucketAggs, { type: 'date_histogram' });\r\n        var shouldDropFirstAndLast = histogram && histogram.settings && histogram.settings.trimEdges;\r\n        if (shouldDropFirstAndLast) {\r\n            var trim = histogram.settings.trimEdges;\r\n            for (var prop in aggregations) {\r\n                var points = aggregations[prop];\r\n                if (points.datapoints.length > trim * 2) {\r\n                    points.datapoints = points.datapoints.slice(trim, points.datapoints.length - trim);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ElasticResponse.prototype.getErrorFromElasticResponse = function (response, err) {\r\n        var result = {};\r\n        result.data = JSON.stringify(err, null, 4);\r\n        if (err.root_cause && err.root_cause.length > 0 && err.root_cause[0].reason) {\r\n            result.message = err.root_cause[0].reason;\r\n        }\r\n        else {\r\n            result.message = err.reason || 'Unkown elatic error response';\r\n        }\r\n        if (response.$$config) {\r\n            result.config = response.$$config;\r\n        }\r\n        return result;\r\n    };\r\n    ElasticResponse.prototype.getTimeSeries = function () {\r\n        var seriesList = [];\r\n        for (var i = 0; i < this.response.responses.length; i++) {\r\n            var response = this.response.responses[i];\r\n            if (response.error) {\r\n                throw this.getErrorFromElasticResponse(this.response, response.error);\r\n            }\r\n            if (response.hits && response.hits.hits.length > 0) {\r\n                this.processHits(response.hits, seriesList);\r\n            }\r\n            if (response.aggregations) {\r\n                var aggregations = response.aggregations;\r\n                var target = this.targets[i];\r\n                var tmpSeriesList = [];\r\n                var table = new __WEBPACK_IMPORTED_MODULE_2_app_core_table_model__[\"default\"]();\r\n                this.processBuckets(aggregations, target, tmpSeriesList, table, {}, 0);\r\n                this.trimDatapoints(tmpSeriesList, target);\r\n                this.nameSeries(tmpSeriesList, target);\r\n                for (var y = 0; y < tmpSeriesList.length; y++) {\r\n                    seriesList.push(tmpSeriesList[y]);\r\n                }\r\n                if (table.rows.length > 0) {\r\n                    seriesList.push(table);\r\n                }\r\n            }\r\n        }\r\n        return { data: seriesList };\r\n    };\r\n    return ElasticResponse;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1450:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ElasticQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bucket_agg__ = __webpack_require__(1451);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bucket_agg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__bucket_agg__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__metric_agg__ = __webpack_require__(1452);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__metric_agg___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__metric_agg__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__query_def__ = __webpack_require__(1311);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ElasticQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(ElasticQueryCtrl, _super);\r\n    /** @ngInject **/\n    ElasticQueryCtrl.$inject = [\"$scope\", \"$injector\", \"$rootScope\", \"uiSegmentSrv\"];\r\n    function ElasticQueryCtrl($scope, $injector, $rootScope, uiSegmentSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.$rootScope = $rootScope;\r\n        _this.uiSegmentSrv = uiSegmentSrv;\r\n        _this.esVersion = _this.datasource.esVersion;\r\n        _this.queryUpdated();\r\n        return _this;\r\n    }\r\n    ElasticQueryCtrl.prototype.getFields = function (type) {\r\n        var jsonStr = __WEBPACK_IMPORTED_MODULE_2_angular___default.a.toJson({ find: 'fields', type: type });\r\n        return this.datasource.metricFindQuery(jsonStr)\r\n            .then(this.uiSegmentSrv.transformToSegments(false))\r\n            .catch(this.handleQueryError.bind(this));\r\n    };\r\n    ElasticQueryCtrl.prototype.queryUpdated = function () {\r\n        var newJson = __WEBPACK_IMPORTED_MODULE_2_angular___default.a.toJson(this.datasource.queryBuilder.build(this.target), true);\r\n        if (this.rawQueryOld && newJson !== this.rawQueryOld) {\r\n            this.refresh();\r\n        }\r\n        this.rawQueryOld = newJson;\r\n        this.$rootScope.appEvent('elastic-query-updated');\r\n    };\r\n    ElasticQueryCtrl.prototype.getCollapsedText = function () {\r\n        var metricAggs = this.target.metrics;\r\n        var bucketAggs = this.target.bucketAggs;\r\n        var metricAggTypes = __WEBPACK_IMPORTED_MODULE_4__query_def__[\"getMetricAggTypes\"](this.esVersion);\r\n        var bucketAggTypes = __WEBPACK_IMPORTED_MODULE_4__query_def__[\"bucketAggTypes\"];\r\n        var text = '';\r\n        if (this.target.query) {\r\n            text += 'Query: ' + this.target.query + ', ';\r\n        }\r\n        text += 'Metrics: ';\r\n        __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(metricAggs, function (metric, index) {\r\n            var aggDef = __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.find(metricAggTypes, { value: metric.type });\r\n            text += aggDef.text + '(';\r\n            if (aggDef.requiresField) {\r\n                text += metric.field;\r\n            }\r\n            text += '), ';\r\n        });\r\n        __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.each(bucketAggs, function (bucketAgg, index) {\r\n            if (index === 0) {\r\n                text += ' Group by: ';\r\n            }\r\n            var aggDef = __WEBPACK_IMPORTED_MODULE_3_lodash___default.a.find(bucketAggTypes, { value: bucketAgg.type });\r\n            text += aggDef.text + '(';\r\n            if (aggDef.requiresField) {\r\n                text += bucketAgg.field;\r\n            }\r\n            text += '), ';\r\n        });\r\n        if (this.target.alias) {\r\n            text += 'Alias: ' + this.target.alias;\r\n        }\r\n        return text;\r\n    };\r\n    ElasticQueryCtrl.prototype.handleQueryError = function (err) {\r\n        this.error = err.message || 'Failed to issue metric query';\r\n        return [];\r\n    };\r\n    ElasticQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return ElasticQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1451:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(1311),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, queryDef) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('elasticBucketAgg', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html',\n      controller: 'ElasticBucketAggCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        index: \"=\",\n        onChange: \"&\",\n        getFields: \"&\",\n      }\n    };\n  });\n\n  module.controller('ElasticBucketAggCtrl', [\"$scope\", \"uiSegmentSrv\", \"$q\", \"$rootScope\", function($scope, uiSegmentSrv, $q, $rootScope) {\n    var bucketAggs = $scope.target.bucketAggs;\n\n    $scope.orderByOptions = [];\n\n    $scope.getBucketAggTypes = function() {\n      return queryDef.bucketAggTypes;\n    };\n\n    $scope.getOrderOptions = function() {\n      return queryDef.orderOptions;\n    };\n\n    $scope.getSizeOptions = function() {\n      return queryDef.sizeOptions;\n    };\n\n    $rootScope.onAppEvent('elastic-query-updated', function() {\n      $scope.validateModel();\n    }, $scope);\n\n    $scope.init = function() {\n      $scope.agg = bucketAggs[$scope.index];\n      $scope.validateModel();\n    };\n\n    $scope.onChangeInternal = function() {\n      $scope.onChange();\n    };\n\n    $scope.onTypeChanged = function() {\n      $scope.agg.settings = {};\n      $scope.showOptions = false;\n\n      switch($scope.agg.type) {\n        case 'date_histogram':\n        case 'histogram':\n        case 'terms':  {\n          delete $scope.agg.query;\n          $scope.agg.field = 'select field';\n          break;\n        }\n        case 'filters': {\n          delete $scope.agg.field;\n          $scope.agg.query = '*';\n          break;\n        }\n        case 'geohash_grid': {\n          $scope.agg.settings.precision = 3;\n          break;\n        }\n      }\n\n      $scope.validateModel();\n      $scope.onChange();\n    };\n\n    $scope.validateModel = function() {\n      $scope.index = _.indexOf(bucketAggs, $scope.agg);\n      $scope.isFirst = $scope.index === 0;\n      $scope.bucketAggCount = bucketAggs.length;\n\n      var settingsLinkText = \"\";\n      var settings = $scope.agg.settings || {};\n\n      switch($scope.agg.type) {\n        case 'terms': {\n          settings.order = settings.order || \"desc\";\n          settings.size = settings.size || \"10\";\n          settings.min_doc_count = settings.min_doc_count || 1;\n          settings.orderBy = settings.orderBy || \"_term\";\n\n          if (settings.size !== '0') {\n            settingsLinkText = queryDef.describeOrder(settings.order) + ' ' + settings.size + ', ';\n          }\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += 'Min Doc Count: ' + settings.min_doc_count + ', ';\n          }\n\n          settingsLinkText += 'Order by: ' + queryDef.describeOrderBy(settings.orderBy, $scope.target);\n\n          if (settings.size === '0') {\n            settingsLinkText += ' (' + settings.order + ')';\n          }\n\n          break;\n        }\n        case 'filters': {\n          settings.filters = settings.filters || [{query: '*'}];\n          settingsLinkText = _.reduce(settings.filters, function(memo, value, index) {\n            memo += 'Q' + (index + 1) + '  = ' + value.query + ' ';\n            return memo;\n          }, '');\n          if (settingsLinkText.length > 50) {\n            settingsLinkText = settingsLinkText.substr(0, 50) + \"...\";\n          }\n          settingsLinkText = 'Filter Queries (' + settings.filters.length + ')';\n          break;\n        }\n        case 'date_histogram': {\n          settings.interval = settings.interval || 'auto';\n          settings.min_doc_count = settings.min_doc_count || 0;\n          $scope.agg.field = $scope.target.timeField;\n          settingsLinkText = 'Interval: ' + settings.interval;\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += ', Min Doc Count: ' + settings.min_doc_count;\n          }\n\n          if (settings.trimEdges === undefined || settings.trimEdges < 0) {\n            settings.trimEdges = 0;\n          }\n\n          if (settings.trimEdges && settings.trimEdges > 0) {\n            settingsLinkText += ', Trim edges: ' + settings.trimEdges;\n          }\n          break;\n        }\n        case 'histogram': {\n          settings.interval = settings.interval || 1000;\n          settings.min_doc_count = _.defaultTo(settings.min_doc_count, 1);\n          settingsLinkText = 'Interval: ' + settings.interval;\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += ', Min Doc Count: ' + settings.min_doc_count;\n          }\n          break;\n        }\n        case 'geohash_grid': {\n          // limit precision to 7\n          settings.precision = Math.max(Math.min(settings.precision, 7), 1);\n          settingsLinkText = 'Precision: ' + settings.precision;\n          break;\n        }\n      }\n\n      $scope.settingsLinkText = settingsLinkText;\n      $scope.agg.settings = settings;\n      return true;\n    };\n\n    $scope.addFiltersQuery = function() {\n      $scope.agg.settings.filters.push({query: '*'});\n    };\n\n    $scope.removeFiltersQuery = function(filter) {\n      $scope.agg.settings.filters = _.without($scope.agg.settings.filters, filter);\n    };\n\n    $scope.toggleOptions = function() {\n      $scope.showOptions = !$scope.showOptions;\n    };\n\n    $scope.getOrderByOptions = function() {\n      return queryDef.getOrderByOptions($scope.target);\n    };\n\n    $scope.getFieldsInternal = function() {\n      if ($scope.agg.type === 'date_histogram') {\n        return $scope.getFields({$fieldType: 'date'});\n      } else {\n        return $scope.getFields();\n      }\n    };\n\n    $scope.getIntervalOptions = function() {\n      return $q.when(uiSegmentSrv.transformToSegments(true, 'interval')(queryDef.intervalOptions));\n    };\n\n    $scope.addBucketAgg = function() {\n      // if last is date histogram add it before\n      var lastBucket = bucketAggs[bucketAggs.length - 1];\n      var addIndex = bucketAggs.length - 1;\n\n      if (lastBucket && lastBucket.type === 'date_histogram') {\n        addIndex - 1;\n      }\n\n      var id = _.reduce($scope.target.bucketAggs.concat($scope.target.metrics), function(max, val) {\n        return parseInt(val.id) > max ? parseInt(val.id) : max;\n      }, 0);\n\n      bucketAggs.splice(addIndex, 0, {type: \"terms\", field: \"select field\", id: (id+1).toString(), fake: true});\n      $scope.onChange();\n    };\n\n    $scope.removeBucketAgg = function() {\n      bucketAggs.splice($scope.index, 1);\n      $scope.onChange();\n    };\n\n    $scope.init();\n\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1452:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(1311)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, queryDef) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('elasticMetricAgg', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/elasticsearch/partials/metric_agg.html',\n      controller: 'ElasticMetricAggCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        index: \"=\",\n        onChange: \"&\",\n        getFields: \"&\",\n        esVersion: '='\n      }\n    };\n  });\n\n  module.controller('ElasticMetricAggCtrl', [\"$scope\", \"uiSegmentSrv\", \"$q\", \"$rootScope\", function($scope, uiSegmentSrv, $q, $rootScope) {\n    var metricAggs = $scope.target.metrics;\n\n    $scope.metricAggTypes = queryDef.getMetricAggTypes($scope.esVersion);\n    $scope.extendedStats = queryDef.extendedStats;\n    $scope.pipelineAggOptions = [];\n    $scope.modelSettingsValues = {};\n\n    $scope.init = function() {\n      $scope.agg = metricAggs[$scope.index];\n      $scope.validateModel();\n      $scope.updatePipelineAggOptions();\n    };\n\n    $scope.updatePipelineAggOptions = function() {\n      $scope.pipelineAggOptions = queryDef.getPipelineAggOptions($scope.target);\n    };\n\n    $rootScope.onAppEvent('elastic-query-updated', function() {\n      $scope.index = _.indexOf(metricAggs, $scope.agg);\n      $scope.updatePipelineAggOptions();\n      $scope.validateModel();\n    }, $scope);\n\n    $scope.validateModel = function() {\n      $scope.isFirst = $scope.index === 0;\n      $scope.isSingle = metricAggs.length === 1;\n      $scope.settingsLinkText = '';\n      $scope.aggDef = _.find($scope.metricAggTypes, {value: $scope.agg.type});\n\n      if (queryDef.isPipelineAgg($scope.agg.type)) {\n        $scope.agg.pipelineAgg = $scope.agg.pipelineAgg || 'select metric';\n        $scope.agg.field = $scope.agg.pipelineAgg;\n\n        var pipelineOptions = queryDef.getPipelineOptions($scope.agg);\n        if (pipelineOptions.length > 0) {\n          _.each(pipelineOptions, function(opt) {\n            $scope.agg.settings[opt.text] = $scope.agg.settings[opt.text] || opt.default;\n          });\n          $scope.settingsLinkText = 'Options';\n        }\n      } else if (!$scope.agg.field) {\n        $scope.agg.field = 'select field';\n      }\n      switch($scope.agg.type) {\n        case 'cardinality': {\n          var precision_threshold = $scope.agg.settings.precision_threshold || '';\n          $scope.settingsLinkText = 'Precision threshold: ' + precision_threshold;\n          break;\n        }\n        case 'percentiles': {\n          $scope.agg.settings.percents = $scope.agg.settings.percents || [25,50,75,95,99];\n          $scope.settingsLinkText = 'Values: ' + $scope.agg.settings.percents.join(',');\n          break;\n        }\n        case 'extended_stats': {\n          if (_.keys($scope.agg.meta).length === 0)  {\n            $scope.agg.meta.std_deviation_bounds_lower = true;\n            $scope.agg.meta.std_deviation_bounds_upper = true;\n          }\n\n          var stats = _.reduce($scope.agg.meta, function(memo, val, key) {\n            if (val) {\n              var def = _.find($scope.extendedStats, {value: key});\n              memo.push(def.text);\n            }\n            return memo;\n          }, []);\n\n          $scope.settingsLinkText = 'Stats: ' + stats.join(', ');\n          break;\n        }\n        case 'moving_avg': {\n          $scope.movingAvgModelTypes = queryDef.movingAvgModelOptions;\n          $scope.modelSettings = queryDef.getMovingAvgSettings($scope.agg.settings.model, true);\n          $scope.updateMovingAvgModelSettings();\n          break;\n        }\n        case 'raw_document': {\n          $scope.agg.settings.size = $scope.agg.settings.size || 500;\n          $scope.settingsLinkText = 'Size: ' + $scope.agg.settings.size ;\n          $scope.target.metrics.splice(0,$scope.target.metrics.length, $scope.agg);\n\n          $scope.target.bucketAggs = [];\n          break;\n        }\n      }\n      if ($scope.aggDef.supportsInlineScript) {\n        // I know this stores the inline script twice\n        // but having it like this simplifes the query_builder\n        var inlineScript = $scope.agg.inlineScript;\n        if (inlineScript) {\n          $scope.agg.settings.script = {inline: inlineScript};\n        } else {\n          delete $scope.agg.settings.script;\n        }\n\n        if ($scope.settingsLinkText === '') {\n          $scope.settingsLinkText = 'Options';\n        }\n      }\n    };\n\n    $scope.toggleOptions = function() {\n      $scope.showOptions = !$scope.showOptions;\n      $scope.updatePipelineAggOptions();\n    };\n\n    $scope.onChangeInternal = function() {\n      $scope.onChange();\n    };\n\n    $scope.updateMovingAvgModelSettings = function () {\n      var modelSettingsKeys = [];\n      var modelSettings = queryDef.getMovingAvgSettings($scope.agg.settings.model, false);\n      for (var i=0; i < modelSettings.length; i++) {\n        modelSettingsKeys.push(modelSettings[i].value);\n      }\n\n      for (var key in $scope.agg.settings.settings) {\n        if (($scope.agg.settings.settings[key] === null) || (modelSettingsKeys.indexOf(key) === -1)) {\n          delete $scope.agg.settings.settings[key];\n        }\n      }\n    };\n\n    $scope.onChangeClearInternal = function() {\n      delete $scope.agg.settings.minimize;\n      $scope.onChange();\n    };\n\n    $scope.onTypeChange = function() {\n      $scope.agg.settings = {};\n      $scope.agg.meta = {};\n      $scope.showOptions = false;\n      $scope.updatePipelineAggOptions();\n      $scope.onChange();\n    };\n\n    $scope.getFieldsInternal = function() {\n      if ($scope.agg.type === 'cardinality') {\n        return $scope.getFields();\n      }\n      return $scope.getFields({$fieldType: 'number'});\n    };\n\n    $scope.addMetricAgg = function() {\n      var addIndex = metricAggs.length;\n\n      var id = _.reduce($scope.target.bucketAggs.concat($scope.target.metrics), function(max, val) {\n        return parseInt(val.id) > max ? parseInt(val.id) : max;\n      }, 0);\n\n      metricAggs.splice(addIndex, 0, {type: \"count\", field: \"select field\", id: (id+1).toString()});\n      $scope.onChange();\n    };\n\n    $scope.removeMetricAgg = function() {\n      metricAggs.splice($scope.index, 1);\n      $scope.onChange();\n    };\n\n    $scope.toggleShowMetric = function() {\n      $scope.agg.hide = !$scope.agg.hide;\n      if (!$scope.agg.hide) {\n        delete $scope.agg.hide;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1453:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ElasticConfigCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nvar ElasticConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    ElasticConfigCtrl.$inject = [\"$scope\"];\r\n    function ElasticConfigCtrl($scope) {\r\n        this.indexPatternTypes = [\r\n            { name: 'No pattern', value: undefined },\r\n            { name: 'Hourly', value: 'Hourly', example: '[logstash-]YYYY.MM.DD.HH' },\r\n            { name: 'Daily', value: 'Daily', example: '[logstash-]YYYY.MM.DD' },\r\n            { name: 'Weekly', value: 'Weekly', example: '[logstash-]GGGG.WW' },\r\n            { name: 'Monthly', value: 'Monthly', example: '[logstash-]YYYY.MM' },\r\n            { name: 'Yearly', value: 'Yearly', example: '[logstash-]YYYY' },\r\n        ];\r\n        this.esVersions = [\r\n            { name: '2.x', value: 2 },\r\n            { name: '5.x', value: 5 },\r\n        ];\r\n        this.current.jsonData.timeField = this.current.jsonData.timeField || '@timestamp';\r\n        this.current.jsonData.esVersion = this.current.jsonData.esVersion || 5;\r\n    }\r\n    ElasticConfigCtrl.prototype.indexPatternTypeChanged = function () {\r\n        var def = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.indexPatternTypes, { value: this.current.jsonData.interval });\r\n        this.current.database = def.example || 'es-index-name';\r\n    };\r\n    ElasticConfigCtrl.templateUrl = 'public/app/plugins/datasource/elasticsearch/partials/config.html';\r\n    return ElasticConfigCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1454:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return AnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1455);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__datasource__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1456);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__config_ctrl__ = __webpack_require__(1457);\n/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource___default.a; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_2__config_ctrl__[\"a\"]; });\n\r\n\r\n\r\nvar AnnotationsQueryCtrl = /** @class */ (function () {\r\n    function AnnotationsQueryCtrl() {\r\n    }\r\n    AnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return AnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1455:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(467),\n  __webpack_require__(1),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, dateMath) {\n  'use strict';\n\n  /** @ngInject */\n  OpenTsDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\"];\n  function OpenTsDatasource(instanceSettings, $q, backendSrv, templateSrv) {\n    this.type = 'opentsdb';\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.basicAuth = instanceSettings.basicAuth;\n    instanceSettings.jsonData = instanceSettings.jsonData || {};\n    this.tsdbVersion = instanceSettings.jsonData.tsdbVersion || 1;\n    this.tsdbResolution = instanceSettings.jsonData.tsdbResolution || 1;\n    this.supportMetrics = true;\n    this.tagKeys = {};\n\n    //console.info(res);\n    this.cnMap={\n      'env.air.beichen':'大气监测站点',\n      'env.power.beichen':'企业电力监测站点',\n      'env.video.beichen':'视频监控站点',\n      'env':'环境',\n      'env.air':'空气',\n      'env.water':'水质',\n      'env.gas':'废气',\n      'public':'公共',\n      'private':'私有',\n      'env.device':'设备',\n      'etc':'其他',\n      'evn':'evn',\n      'swm':'swm',\n      'swm.flowmeter':'流量计',\n      'swm.pressuremeter':'压力计',\n      'swm.watermeter':'水表',\n      'site':'站点',\n      'city':'城市',\n      'DT':'设备温度',\n      'PRESSURE':'压力',\n      'FLOW':'流量',\n      'TOTAL_FLOW_L':'大管总流量',\n      'TOTAL_FLOW_S':'小管总流量',\n      'TEMPERATURE':'温度',\n      'HUMIDITY':'湿度',\n      'epa':'市环保局监测信息系统',\n      'company':'国控市控重点企业监管系统',//重点企业电力电量负荷监测系统\n      'town':'镇级空气环境质量监测系统',\n      //'private':'空气网格化监测系统',\n      'odour':'恶臭污染物连续监测系统',\n      'police':'公安高清视频监控',\n      'straw':'监测秸秆焚烧的高架监控系统',\n      'SPEED':'风速',\n      'DIRECTION':'风向',\n      'CURRENT':'电流',\n      'POWER':'电量',\n      'SOC':'剩余电流',\n      'VOLTAGE'\t:'电压',\n\n\n    };\n    this.air=['AQI','PM25','PM10','O3','SO2','NO2','CO','TEMPERATURE','HUMIDITY'];\n    this.water=['PH','DO','COD','FTU','CT','TEMPERATURE','TOTAL_P','NH3_N'];\n    this.gas=['CL2','ETO','HCL','NH3','C6H6','H2S','C7H8','TEMPERATURE','HUMIDITY'];\n\n    // Called once per panel (graph)\n    this.query = function(options) {\n      var start = convertToTSDBTime(options.rangeRaw.from, false);\n      var end = convertToTSDBTime(options.rangeRaw.to, true);\n      var qs = [];\n\n      _.each(options.targets, function(target) {\n        if (!target.metric) { return; }\n        qs.push(convertTargetToQuery(target, options, this.tsdbVersion));\n      }.bind(this));\n\n      var queries = _.compact(qs);\n\n      // No valid targets, return the empty result to save a round trip.\n      if (_.isEmpty(queries)) {\n        var d = $q.defer();\n        d.resolve({ data: [] });\n        return d.promise;\n      }\n\n      var groupByTags = {};\n      _.each(queries, function(query) {\n        if (query.filters && query.filters.length > 0) {\n          _.each(query.filters, function(val) {\n            groupByTags[val.tagk] = true;\n          });\n        } else {\n          _.each(query.tags, function(val, key) {\n            groupByTags[key] = true;\n          });\n        }\n      });\n\n      options.targets = _.filter(options.targets, function(query) {\n        return query.hide !== true;\n      });\n\n      return this.performTimeSeriesQuery(queries, start, end).then(function(response) {\n        var metricToTargetMapping = mapMetricsToTargets(response.data, options, this.tsdbVersion);\n        var result = _.map(response.data, function(metricData, index) {\n          index = metricToTargetMapping[index];\n          if (index === -1) {\n            index = 0;\n          }\n          this._saveTagKeys(metricData);\n\n          return transformMetricData(metricData, groupByTags, options.targets[index], options, this.tsdbResolution);\n        }.bind(this));\n        return { data: result };\n      }.bind(this));\n    };\n\n    this.annotationQuery = function(options) {\n      var start = convertToTSDBTime(options.rangeRaw.from, false);\n      var end = convertToTSDBTime(options.rangeRaw.to, true);\n      var qs = [];\n      var eventList = [];\n\n      qs.push({ aggregator:\"sum\", metric:options.annotation.target });\n\n      var queries = _.compact(qs);\n\n      return this.performTimeSeriesQuery(queries, start, end).then(function(results) {\n        if(results.data[0]) {\n          var annotationObject = results.data[0].annotations;\n          if(options.annotation.isGlobal){\n            annotationObject = results.data[0].globalAnnotations;\n          }\n          if(annotationObject) {\n            _.each(annotationObject, function(annotation) {\n              var event = {\n                text: annotation.description,\n                time: Math.floor(annotation.startTime) * 1000,\n                annotation: options.annotation\n              };\n\n              eventList.push(event);\n            });\n          }\n        }\n        return eventList;\n\n      }.bind(this));\n    };\n\n    this.targetContainsTemplate = function(target) {\n      if (target.filters && target.filters.length > 0) {\n        for (var i = 0; i < target.filters.length; i++) {\n          if (templateSrv.variableExists(target.filters[i].filter)) {\n            return true;\n          }\n        }\n      }\n\n      if (target.tags && Object.keys(target.tags).length > 0) {\n        for (var tagKey in target.tags) {\n          if (templateSrv.variableExists(target.tags[tagKey])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n\n    this.performTimeSeriesQuery = function(queries, start, end) {\n      var msResolution = false;\n      if (this.tsdbResolution === 2) {\n        msResolution = true;\n      }\n      var reqBody = {\n        start: start,\n        queries: queries,\n        msResolution: msResolution,\n        globalAnnotations: true\n      };\n      if (this.tsdbVersion === 3) {\n        reqBody.showQuery = true;\n      }\n\n      // Relative queries (e.g. last hour) don't include an end time\n      if (end) {\n        reqBody.end = end;\n      }\n\n      var options = {\n        method: 'POST',\n        url: this.url + '/api/query',\n        data: reqBody\n      };\n\n      this._addCredentialOptions(options);\n      return backendSrv.datasourceRequest(options);\n    };\n\n    this.suggestTagKeys = function(metric) {\n      return $q.when(this.tagKeys[metric] || []);\n    };\n\n    this._saveTagKeys = function(metricData) {\n      var tagKeys = Object.keys(metricData.tags);\n      _.each(metricData.aggregateTags, function(tag) {\n        tagKeys.push(tag);\n      });\n\n      this.tagKeys[metricData.metric] = tagKeys;\n    };\n\n    this._performSuggestQuery = function(query, type) {\n      return this._get('/api/suggest', {type: type, q: query, max: 1000}).then(function(result) {\n        return result.data;\n      });\n    };\n\n    this._performMetricKeyValueLookup = function(metric, keys) {\n\n      if(!metric || !keys) {\n        return $q.when([]);\n      }\n\n      var keysArray = keys.split(\",\").map(function(key) {\n        return key.trim();\n      });\n      var key = keysArray[0];\n      var keysQuery = key + \"=*\";\n\n      if (keysArray.length > 1) {\n        keysQuery += \",\" + keysArray.splice(1).join(\",\");\n      }\n\n      var m = metric + \"{\" + keysQuery + \"}\";\n\n      return this._get('/api/search/lookup', {m: m, limit: 3000}).then(function(result) {\n        result = result.data.results;\n        var tagvs = [];\n        _.each(result, function(r) {\n          if (tagvs.indexOf(r.tags[key]) === -1) {\n            tagvs.push(r.tags[key]);\n          }\n        });\n        return tagvs;\n      });\n    };\n\n    this._performMetricKeyLookup = function(metric) {\n      if(!metric) { return $q.when([]); }\n\n      return this._get('/api/search/lookup', {m: metric, limit: 1000}).then(function(result) {\n        result = result.data.results;\n        var tagks = [];\n        _.each(result, function(r) {\n          _.each(r.tags, function(tagv, tagk) {\n            if(tagks.indexOf(tagk) === -1) {\n              tagks.push(tagk);\n            }\n          });\n        });\n        return tagks;\n      });\n    };\n\n    this._get = function(relativeUrl, params) {\n      var options = {\n        method: 'GET',\n        url: this.url + relativeUrl,\n        params: params,\n      };\n\n      this._addCredentialOptions(options);\n\n      return backendSrv.datasourceRequest(options);\n    };\n\n    this._addCredentialOptions = function(options) {\n      if (this.basicAuth || this.withCredentials) {\n        options.withCredentials = true;\n      }\n      if (this.basicAuth) {\n        options.headers = {\"Authorization\": this.basicAuth};\n      }\n    };\n\n    this.metricFindQuery = function(query,options) {\n      if (!query) { return $q.when([]); }\n\n      var interpolated;\n      try {\n        interpolated = templateSrv.replace(query, {}, 'distributed');\n      }\n      catch (err) {\n        return $q.reject(err);\n      }\n      var ds=this;\n      var responseTransform = function(result)\n      {\n        //排序\n        if(tag_values_query)\n        {\n          //console.log(tag_values_query)\n          var keysArray = tag_values_query[2].split(\",\").map(function(key) {\n            return key.trim();\n          });\n          var key = keysArray[0];\n          if(key==='index')\n          {\n            if(tag_values_query[1]==='env.air')\n            {\n              /*for(let i=0;i<result.length;i++)\n              {\n                let item=result[i];\n                let index=ds.air.indexOf(item);\n\n                result.splice(i,1);\n                result.splice()\n              }*/\n              result=ds.air;\n\n            }else if(tag_values_query[1]==='env.gas')\n            {\n              result=ds.gas;\n            }else if(tag_values_query[1]==='env.water')\n            {\n              result=ds.water;\n            }\n          }\n          if(key==='host')\n          {\n            if(options)\n            {\n              //console.info(options.variable.cnData);\n              var hostMap={};\n              _.map(options.variable.cnData,function (item) {\n                hostMap[item.key]=item.name;\n                return item;\n              });\n              return _.map(result, function(value) {\n                return {text: value,cn:hostMap[value]};\n              });\n            }\n\n          }\n          if(key==='source')\n          {\n\n            if(options)\n            {\n              //console.info(options.variable.cnData);\n              var hostMap={};\n              _.map(options.variable.cnData,function (item) {\n                hostMap[item.key]=item.name;\n                return item;\n              });\n              return _.map(result, function(value) {\n                if(tag_values_query[1]==='env.air.beichen'&&key=='source'&&value=='private')\n                  return {text: value,cn:'空气网格化监测系统'};\n                if(tag_values_query[1]==='env.power.beichen'&&key=='source'&&value=='company')\n                  return {text: value,cn:'重点企业电力电量负荷监测系统'};\n                return {text: value,cn:ds.cnMap[value]};\n                return {text: value,cn:hostMap[value]};\n              });\n            }\n\n          }\n\n        }\n\n        return _.map(result, function(value) {\n          return {text: value,cn:ds.cnMap[value]};\n        });\n      };\n\n      var metrics_regex = /metrics\\((.*)\\)/;\n      var tag_names_regex = /tag_names\\((.*)\\)/;\n      var tag_values_regex = /tag_values\\((.*?),\\s?(.*)\\)/;\n      var tag_names_suggest_regex = /suggest_tagk\\((.*)\\)/;\n      var tag_values_suggest_regex = /suggest_tagv\\((.*)\\)/;\n\n\n\n      var metrics_query = interpolated.match(metrics_regex);\n      //console.info(metrics_query);\n      if (metrics_query) {\n        return this._performSuggestQuery(metrics_query[1], 'metrics').then(responseTransform);\n      }\n\n      var tag_names_query = interpolated.match(tag_names_regex);\n      if (tag_names_query) {\n        return this._performMetricKeyLookup(tag_names_query[1]).then(responseTransform);\n      }\n\n      var tag_values_query = interpolated.match(tag_values_regex);\n      //console.info(interpolated);\n      console.info(tag_values_query);\n      if (tag_values_query) {\n        return this._performMetricKeyValueLookup(tag_values_query[1], tag_values_query[2]).then(responseTransform);\n      }\n\n      var tag_names_suggest_query = interpolated.match(tag_names_suggest_regex);\n      if (tag_names_suggest_query) {\n        return this._performSuggestQuery(tag_names_suggest_query[1], 'tagk').then(responseTransform);\n      }\n\n      var tag_values_suggest_query = interpolated.match(tag_values_suggest_regex);\n      if (tag_values_suggest_query) {\n        return this._performSuggestQuery(tag_values_suggest_query[1], 'tagv').then(responseTransform);\n      }\n\n      return $q.when([]);\n    };\n\n    this.testDatasource = function() {\n      return this._performSuggestQuery('cpu', 'metrics').then(function () {\n        return { status: \"success\", message: \"Data source is working\" };\n      });\n    };\n\n    var aggregatorsPromise = null;\n    this.getAggregators = function() {\n      if (aggregatorsPromise) { return aggregatorsPromise; }\n\n      aggregatorsPromise = this._get('/api/aggregators').then(function(result) {\n        if (result.data && _.isArray(result.data)) {\n          return result.data.sort();\n        }\n        return [];\n      });\n      return aggregatorsPromise;\n    };\n\n    var filterTypesPromise = null;\n    this.getFilterTypes = function() {\n      if (filterTypesPromise) { return filterTypesPromise; }\n\n      filterTypesPromise = this._get('/api/config/filters').then(function(result) {\n        if (result.data) {\n          return Object.keys(result.data).sort();\n        }\n        return [];\n      });\n      return filterTypesPromise;\n    };\n\n    function transformMetricData(md, groupByTags, target, options, tsdbResolution) {\n      var metricLabel = createMetricLabel(md, target, groupByTags, options);\n      var dps = [];\n\n      // TSDB returns datapoints has a hash of ts => value.\n      // Can't use _.pairs(invert()) because it stringifies keys/values\n      _.each(md.dps, function (v, k) {\n        if (tsdbResolution === 2) {\n          dps.push([v, k * 1]);\n        } else {\n          dps.push([v, k * 1000]);\n        }\n      });\n\n      return { target: metricLabel, datapoints: dps };\n    }\n\n    function createMetricLabel(md, target, groupByTags, options) {\n      if (target.alias) {\n        var scopedVars = _.clone(options.scopedVars || {});\n        _.each(md.tags, function(value, key) {\n          scopedVars['tag_' + key] = {value: value};\n        });\n        return templateSrv.replace(target.alias, scopedVars);\n      }\n\n      var label = md.metric;\n      var tagData = [];\n\n      if (!_.isEmpty(md.tags)) {\n        _.each(_.toPairs(md.tags), function(tag) {\n          if (_.has(groupByTags, tag[0])) {\n            tagData.push(tag[0] + \"=\" + tag[1]);\n          }\n        });\n      }\n\n      if (!_.isEmpty(tagData)) {\n        label += \"{\" + tagData.join(\", \") + \"}\";\n      }\n\n      return label;\n    }\n\n    function convertTargetToQuery(target, options, tsdbVersion) {\n      if (!target.metric || target.hide) {\n        return null;\n      }\n\n      var query = {\n        metric: templateSrv.replace(target.metric, options.scopedVars, 'pipe'),\n        aggregator: \"avg\"\n      };\n\n      if (target.aggregator) {\n        query.aggregator = templateSrv.replace(target.aggregator);\n      }\n\n      if (target.shouldComputeRate) {\n        query.rate = true;\n        query.rateOptions = {\n          counter: !!target.isCounter\n        };\n\n        if (target.counterMax && target.counterMax.length) {\n          query.rateOptions.counterMax = parseInt(target.counterMax);\n        }\n\n        if (target.counterResetValue && target.counterResetValue.length) {\n          query.rateOptions.resetValue = parseInt(target.counterResetValue);\n        }\n\n        if(tsdbVersion >= 2) {\n          query.rateOptions.dropResets = !query.rateOptions.counterMax &&\n                (!query.rateOptions.ResetValue || query.rateOptions.ResetValue === 0);\n        }\n      }\n\n      if (!target.disableDownsampling) {\n        var interval =  templateSrv.replace(target.downsampleInterval || options.interval);\n\n        if (interval.match(/\\.[0-9]+s/)) {\n          interval = parseFloat(interval)*1000 + \"ms\";\n        }\n\n        query.downsample = interval + \"-\" + target.downsampleAggregator;\n\n        if (target.downsampleFillPolicy && target.downsampleFillPolicy !== \"none\") {\n          query.downsample += \"-\" + target.downsampleFillPolicy;\n        }\n      }\n\n      if (target.filters && target.filters.length > 0) {\n        query.filters = angular.copy(target.filters);\n        if (query.filters){\n          for (var filter_key in query.filters) {\n            query.filters[filter_key].filter = templateSrv.replace(query.filters[filter_key].filter, options.scopedVars, 'pipe');\n          }\n        }\n      } else {\n        query.tags = angular.copy(target.tags);\n        if (query.tags){\n          for (var tag_key in query.tags) {\n            query.tags[tag_key] = templateSrv.replace(query.tags[tag_key], options.scopedVars, 'pipe');\n          }\n        }\n      }\n\n      if (target.explicitTags) {\n        query.explicitTags = true;\n      }\n\n      return query;\n    }\n\n    function mapMetricsToTargets(metrics, options, tsdbVersion) {\n      var interpolatedTagValue, arrTagV;\n      return _.map(metrics, function(metricData) {\n        if (tsdbVersion === 3) {\n          return metricData.query.index;\n        } else {\n          return _.findIndex(options.targets, function(target) {\n            if (target.filters && target.filters.length > 0) {\n              return target.metric === metricData.metric;\n            } else {\n              return target.metric === metricData.metric &&\n              _.every(target.tags, function(tagV, tagK) {\n                interpolatedTagValue = templateSrv.replace(tagV, options.scopedVars, 'pipe');\n                arrTagV = interpolatedTagValue.split('|');\n                return _.includes(arrTagV, metricData.tags[tagK]) || interpolatedTagValue === \"*\";\n              });\n            }\n          });\n        }\n      });\n    }\n\n    function convertToTSDBTime(date, roundUp) {\n      if (date === 'now') {\n        return null;\n      }\n\n      date = dateMath.parse(date, roundUp);\n      return date.valueOf();\n    }\n  }\n\n  return OpenTsDatasource;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1456:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OpenTsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar OpenTsQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(OpenTsQueryCtrl, _super);\r\n    /** @ngInject **/\n    OpenTsQueryCtrl.$inject = [\"$scope\", \"$injector\"];\r\n    function OpenTsQueryCtrl($scope, $injector) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.errors = _this.validateTarget();\r\n        _this.aggregators = ['avg', 'sum', 'min', 'max', 'dev', 'zimsum', 'mimmin', 'mimmax'];\r\n        _this.fillPolicies = ['none', 'nan', 'null', 'zero'];\r\n        _this.filterTypes = ['wildcard', 'iliteral_or', 'not_iliteral_or', 'not_literal_or', 'iwildcard', 'literal_or', 'regexp'];\r\n        _this.tsdbVersion = _this.datasource.tsdbVersion;\r\n        if (!_this.target.aggregator) {\r\n            _this.target.aggregator = 'sum';\r\n        }\r\n        if (!_this.target.downsampleAggregator) {\r\n            _this.target.downsampleAggregator = 'avg';\r\n        }\r\n        if (!_this.target.downsampleFillPolicy) {\r\n            _this.target.downsampleFillPolicy = 'none';\r\n        }\r\n        _this.datasource.getAggregators().then(function (aggs) {\r\n            if (aggs.length !== 0) {\r\n                _this.aggregators = aggs;\r\n            }\r\n        });\r\n        _this.datasource.getFilterTypes().then(function (filterTypes) {\r\n            if (filterTypes.length !== 0) {\r\n                _this.filterTypes = filterTypes;\r\n            }\r\n        });\r\n        // needs to be defined here as it is called from typeahead\r\n        _this.suggestMetrics = function (query, callback) {\r\n            _this.datasource.metricFindQuery('metrics(' + query + ')')\r\n                .then(_this.getTextValues)\r\n                .then(callback);\r\n        };\r\n        _this.suggestTagKeys = function (query, callback) {\r\n            _this.datasource.suggestTagKeys(_this.target.metric).then(callback);\r\n        };\r\n        _this.suggestTagValues = function (query, callback) {\r\n            _this.datasource.metricFindQuery('suggest_tagv(' + query + ')')\r\n                .then(_this.getTextValues)\r\n                .then(callback);\r\n        };\r\n        return _this;\r\n    }\r\n    OpenTsQueryCtrl.prototype.targetBlur = function () {\r\n        this.errors = this.validateTarget();\r\n        this.refresh();\r\n    };\r\n    OpenTsQueryCtrl.prototype.getTextValues = function (metricFindResult) {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(metricFindResult, function (value) { return value.text; });\r\n    };\r\n    OpenTsQueryCtrl.prototype.addTag = function () {\r\n        if (this.target.filters && this.target.filters.length > 0) {\r\n            this.errors.tags = \"Please remove filters to use tags, tags and filters are mutually exclusive.\";\r\n        }\r\n        if (!this.addTagMode) {\r\n            this.addTagMode = true;\r\n            return;\r\n        }\r\n        if (!this.target.tags) {\r\n            this.target.tags = {};\r\n        }\r\n        this.errors = this.validateTarget();\r\n        if (!this.errors.tags) {\r\n            this.target.tags[this.target.currentTagKey] = this.target.currentTagValue;\r\n            this.target.currentTagKey = '';\r\n            this.target.currentTagValue = '';\r\n            this.targetBlur();\r\n        }\r\n        this.addTagMode = false;\r\n    };\r\n    OpenTsQueryCtrl.prototype.removeTag = function (key) {\r\n        delete this.target.tags[key];\r\n        this.targetBlur();\r\n    };\r\n    OpenTsQueryCtrl.prototype.editTag = function (key, value) {\r\n        this.removeTag(key);\r\n        this.target.currentTagKey = key;\r\n        this.target.currentTagValue = value;\r\n        this.addTag();\r\n    };\r\n    OpenTsQueryCtrl.prototype.closeAddTagMode = function () {\r\n        this.addTagMode = false;\r\n        return;\r\n    };\r\n    OpenTsQueryCtrl.prototype.addFilter = function () {\r\n        if (this.target.tags && __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.size(this.target.tags) > 0) {\r\n            this.errors.filters = \"Please remove tags to use filters, tags and filters are mutually exclusive.\";\r\n        }\r\n        if (!this.addFilterMode) {\r\n            this.addFilterMode = true;\r\n            return;\r\n        }\r\n        if (!this.target.filters) {\r\n            this.target.filters = [];\r\n        }\r\n        if (!this.target.currentFilterType) {\r\n            this.target.currentFilterType = 'iliteral_or';\r\n        }\r\n        if (!this.target.currentFilterGroupBy) {\r\n            this.target.currentFilterGroupBy = false;\r\n        }\r\n        this.errors = this.validateTarget();\r\n        if (!this.errors.filters) {\r\n            var currentFilter = {\r\n                type: this.target.currentFilterType,\r\n                tagk: this.target.currentFilterKey,\r\n                filter: this.target.currentFilterValue,\r\n                groupBy: this.target.currentFilterGroupBy\r\n            };\r\n            this.target.filters.push(currentFilter);\r\n            this.target.currentFilterType = 'literal_or';\r\n            this.target.currentFilterKey = '';\r\n            this.target.currentFilterValue = '';\r\n            this.target.currentFilterGroupBy = false;\r\n            this.targetBlur();\r\n        }\r\n        this.addFilterMode = false;\r\n    };\r\n    OpenTsQueryCtrl.prototype.removeFilter = function (index) {\r\n        this.target.filters.splice(index, 1);\r\n        this.targetBlur();\r\n    };\r\n    OpenTsQueryCtrl.prototype.editFilter = function (fil, index) {\r\n        this.removeFilter(index);\r\n        this.target.currentFilterKey = fil.tagk;\r\n        this.target.currentFilterValue = fil.filter;\r\n        this.target.currentFilterType = fil.type;\r\n        this.target.currentFilterGroupBy = fil.groupBy;\r\n        this.addFilter();\r\n    };\r\n    OpenTsQueryCtrl.prototype.closeAddFilterMode = function () {\r\n        this.addFilterMode = false;\r\n        return;\r\n    };\r\n    OpenTsQueryCtrl.prototype.validateTarget = function () {\r\n        var errs = {};\r\n        if (this.target.shouldDownsample) {\r\n            try {\r\n                if (this.target.downsampleInterval) {\r\n                    __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].describe_interval(this.target.downsampleInterval);\r\n                }\r\n                else {\r\n                    errs.downsampleInterval = \"You must supply a downsample interval (e.g. '1m' or '1h').\";\r\n                }\r\n            }\r\n            catch (err) {\r\n                errs.downsampleInterval = err.message;\r\n            }\r\n        }\r\n        if (this.target.tags && __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.has(this.target.tags, this.target.currentTagKey)) {\r\n            errs.tags = \"Duplicate tag key '\" + this.target.currentTagKey + \"'.\";\r\n        }\r\n        return errs;\r\n    };\r\n    OpenTsQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return OpenTsQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1457:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return OpenTsConfigCtrl; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar OpenTsConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    OpenTsConfigCtrl.$inject = [\"$scope\"];\r\n    function OpenTsConfigCtrl($scope) {\r\n        this.tsdbVersions = [\r\n            { name: '<=2.1', value: 1 },\r\n            { name: '==2.2', value: 2 },\r\n            { name: '==2.3', value: 3 },\r\n        ];\r\n        this.tsdbResolutions = [\r\n            { name: 'second', value: 1 },\r\n            { name: 'millisecond', value: 2 },\r\n        ];\r\n        this.current.jsonData = this.current.jsonData || {};\r\n        this.current.jsonData.tsdbVersion = this.current.jsonData.tsdbVersion || 1;\r\n        this.current.jsonData.tsdbResolution = this.current.jsonData.tsdbResolution || 1;\r\n    }\r\n    OpenTsConfigCtrl.templateUrl = 'public/app/plugins/datasource/opentsdb/partials/config.html';\r\n    return OpenTsConfigCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1458:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return GrafanaQueryCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return GrafanaAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1459);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"GrafanaDatasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar GrafanaQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(GrafanaQueryCtrl, _super);\r\n    function GrafanaQueryCtrl() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GrafanaQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return GrafanaQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"QueryCtrl\"]));\r\nvar GrafanaAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function GrafanaAnnotationsQueryCtrl() {\r\n        this.types = [\r\n            { text: 'Dashboard', value: 'dashboard' },\r\n            { text: 'Tags', value: 'tags' }\r\n        ];\r\n        this.annotation.type = this.annotation.type || 'tags';\r\n        this.annotation.limit = this.annotation.limit || 100;\r\n    }\r\n    GrafanaAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return GrafanaAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1459:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GrafanaDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nvar GrafanaDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    GrafanaDatasource.$inject = [\"backendSrv\", \"$q\"];\r\n    function GrafanaDatasource(backendSrv, $q) {\r\n        this.backendSrv = backendSrv;\r\n        this.$q = $q;\r\n    }\r\n    GrafanaDatasource.prototype.query = function (options) {\r\n        return this.backendSrv\r\n            .get('/api/tsdb/testdata/random-walk', {\r\n            from: options.range.from.valueOf(),\r\n            to: options.range.to.valueOf(),\r\n            intervalMs: options.intervalMs,\r\n            maxDataPoints: options.maxDataPoints,\r\n        })\r\n            .then(function (res) {\r\n            var data = [];\r\n            if (res.results) {\r\n                __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(res.results, function (queryRes) {\r\n                    for (var _i = 0, _a = queryRes.series; _i < _a.length; _i++) {\r\n                        var series = _a[_i];\r\n                        data.push({\r\n                            target: series.name,\r\n                            datapoints: series.points,\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            return { data: data };\r\n        });\r\n    };\r\n    GrafanaDatasource.prototype.metricFindQuery = function (options) {\r\n        return this.$q.when({ data: [] });\r\n    };\r\n    GrafanaDatasource.prototype.annotationQuery = function (options) {\r\n        var params = {\r\n            from: options.range.from.valueOf(),\r\n            to: options.range.to.valueOf(),\r\n            limit: options.annotation.limit,\r\n            tags: options.annotation.tags,\r\n        };\r\n        if (options.annotation.type === 'dashboard') {\r\n            // if no dashboard id yet return\r\n            if (!options.dashboard.id) {\r\n                return this.$q.when([]);\r\n            }\r\n            // filter by dashboard id\r\n            params.dashboardId = options.dashboard.id;\r\n            // remove tags filter if any\r\n            delete params.tags;\r\n        }\r\n        else {\r\n            // require at least one tag\r\n            if (!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(options.annotation.tags) || options.annotation.tags.length === 0) {\r\n                return this.$q.when([]);\r\n            }\r\n        }\r\n        return this.backendSrv.get('/api/annotations', params);\r\n    };\r\n    return GrafanaDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1460:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return InfluxConfigCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return InfluxAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1461);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1464);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n\r\n\r\nvar InfluxConfigCtrl = /** @class */ (function () {\r\n    function InfluxConfigCtrl() {\r\n    }\r\n    InfluxConfigCtrl.templateUrl = 'partials/config.html';\r\n    return InfluxConfigCtrl;\r\n}());\r\nvar InfluxAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function InfluxAnnotationsQueryCtrl() {\r\n    }\r\n    InfluxAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return InfluxAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1461:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__ = __webpack_require__(467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__influx_series__ = __webpack_require__(1462);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__influx_series___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__influx_series__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__influx_query__ = __webpack_require__(1331);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__response_parser__ = __webpack_require__(1463);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__query_builder__ = __webpack_require__(1333);\n\r\n\r\n\r\n\r\n\r\n\r\nvar InfluxDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    InfluxDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\"];\r\n    function InfluxDatasource(instanceSettings, $q, backendSrv, templateSrv) {\r\n        this.$q = $q;\r\n        this.backendSrv = backendSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.type = 'influxdb';\r\n        this.urls = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(instanceSettings.url.split(','), function (url) {\r\n            return url.trim();\r\n        });\r\n        this.username = instanceSettings.username;\r\n        this.password = instanceSettings.password;\r\n        this.name = instanceSettings.name;\r\n        this.database = instanceSettings.database;\r\n        this.basicAuth = instanceSettings.basicAuth;\r\n        this.withCredentials = instanceSettings.withCredentials;\r\n        this.interval = (instanceSettings.jsonData || {}).timeInterval;\r\n        this.supportAnnotations = true;\r\n        this.supportMetrics = true;\r\n        this.responseParser = new __WEBPACK_IMPORTED_MODULE_4__response_parser__[\"a\" /* default */]();\r\n    }\r\n    InfluxDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var timeFilter = this.getTimeFilter(options);\r\n        var scopedVars = options.scopedVars;\r\n        var targets = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(options.targets);\r\n        var queryTargets = [];\r\n        var queryModel;\r\n        var i, y;\r\n        var allQueries = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(targets, function (target) {\r\n            if (target.hide) {\r\n                return \"\";\r\n            }\r\n            queryTargets.push(target);\r\n            // backward compatability\r\n            scopedVars.interval = scopedVars.__interval;\r\n            queryModel = new __WEBPACK_IMPORTED_MODULE_3__influx_query__[\"a\" /* default */](target, _this.templateSrv, scopedVars);\r\n            return queryModel.render(true);\r\n        }).reduce(function (acc, current) {\r\n            if (current !== \"\") {\r\n                acc += \";\" + current;\r\n            }\r\n            return acc;\r\n        });\r\n        if (allQueries === '') {\r\n            return this.$q.when({ data: [] });\r\n        }\r\n        // add global adhoc filters to timeFilter\r\n        var adhocFilters = this.templateSrv.getAdhocFilters(this.name);\r\n        if (adhocFilters.length > 0) {\r\n            timeFilter += ' AND ' + queryModel.renderAdhocFilters(adhocFilters);\r\n        }\r\n        // replace grafana variables\r\n        scopedVars.timeFilter = { value: timeFilter };\r\n        // replace templated variables\r\n        allQueries = this.templateSrv.replace(allQueries, scopedVars);\r\n        return this._seriesQuery(allQueries).then(function (data) {\r\n            if (!data || !data.results) {\r\n                return [];\r\n            }\r\n            var seriesList = [];\r\n            for (i = 0; i < data.results.length; i++) {\r\n                var result = data.results[i];\r\n                if (!result || !result.series) {\r\n                    continue;\r\n                }\r\n                var target = queryTargets[i];\r\n                var alias = target.alias;\r\n                if (alias) {\r\n                    alias = _this.templateSrv.replace(target.alias, options.scopedVars);\r\n                }\r\n                var influxSeries = new __WEBPACK_IMPORTED_MODULE_2__influx_series___default.a({ series: data.results[i].series, alias: alias });\r\n                switch (target.resultFormat) {\r\n                    case 'table': {\r\n                        seriesList.push(influxSeries.getTable());\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        var timeSeries = influxSeries.getTimeSeries();\r\n                        for (y = 0; y < timeSeries.length; y++) {\r\n                            seriesList.push(timeSeries[y]);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return { data: seriesList };\r\n        });\r\n    };\r\n    InfluxDatasource.prototype.annotationQuery = function (options) {\r\n        if (!options.annotation.query) {\r\n            return this.$q.reject({ message: 'Query missing in annotation definition' });\r\n        }\r\n        var timeFilter = this.getTimeFilter({ rangeRaw: options.rangeRaw });\r\n        var query = options.annotation.query.replace('$timeFilter', timeFilter);\r\n        query = this.templateSrv.replace(query, null, 'regex');\r\n        return this._seriesQuery(query).then(function (data) {\r\n            if (!data || !data.results || !data.results[0]) {\r\n                throw { message: 'No results in response from InfluxDB' };\r\n            }\r\n            return new __WEBPACK_IMPORTED_MODULE_2__influx_series___default.a({ series: data.results[0].series, annotation: options.annotation }).getAnnotations();\r\n        });\r\n    };\r\n    InfluxDatasource.prototype.targetContainsTemplate = function (target) {\r\n        for (var _i = 0, _a = target.groupBy; _i < _a.length; _i++) {\r\n            var group = _a[_i];\r\n            for (var _b = 0, _c = group.params; _b < _c.length; _b++) {\r\n                var param = _c[_b];\r\n                if (this.templateSrv.variableExists(param)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        for (var i in target.tags) {\r\n            if (this.templateSrv.variableExists(target.tags[i].value)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    InfluxDatasource.prototype.metricFindQuery = function (query) {\r\n        var interpolated = this.templateSrv.replace(query, null, 'regex');\r\n        return this._seriesQuery(interpolated)\r\n            .then(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.curry(this.responseParser.parse)(query));\r\n    };\r\n    InfluxDatasource.prototype.getTagKeys = function (options) {\r\n        var queryBuilder = new __WEBPACK_IMPORTED_MODULE_5__query_builder__[\"a\" /* InfluxQueryBuilder */]({ measurement: '', tags: [] }, this.database);\r\n        var query = queryBuilder.buildExploreQuery('TAG_KEYS');\r\n        return this.metricFindQuery(query);\r\n    };\r\n    InfluxDatasource.prototype.getTagValues = function (options) {\r\n        var queryBuilder = new __WEBPACK_IMPORTED_MODULE_5__query_builder__[\"a\" /* InfluxQueryBuilder */]({ measurement: '', tags: [] }, this.database);\r\n        var query = queryBuilder.buildExploreQuery('TAG_VALUES', options.key);\r\n        return this.metricFindQuery(query);\r\n    };\r\n    InfluxDatasource.prototype._seriesQuery = function (query) {\r\n        if (!query) {\r\n            return this.$q.when({ results: [] });\r\n        }\r\n        return this._influxRequest('GET', '/query', { q: query, epoch: 'ms' });\r\n    };\r\n    InfluxDatasource.prototype.serializeParams = function (params) {\r\n        if (!params) {\r\n            return '';\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reduce(params, function (memo, value, key) {\r\n            if (value === null || value === undefined) {\r\n                return memo;\r\n            }\r\n            memo.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n            return memo;\r\n        }, []).join(\"&\");\r\n    };\r\n    InfluxDatasource.prototype.testDatasource = function () {\r\n        var _this = this;\r\n        return this.metricFindQuery('SHOW DATABASES').then(function (res) {\r\n            var found = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(res, { text: _this.database });\r\n            if (!found) {\r\n                return { status: \"error\", message: \"Could not find the specified database name.\" };\r\n            }\r\n            return { status: \"success\", message: \"Data source is working\" };\r\n        }).catch(function (err) {\r\n            return { status: \"error\", message: err.message };\r\n        });\r\n    };\r\n    InfluxDatasource.prototype._influxRequest = function (method, url, data) {\r\n        var self = this;\r\n        var currentUrl = self.urls.shift();\r\n        self.urls.push(currentUrl);\r\n        var params = {};\r\n        if (self.username) {\r\n            params.u = self.username;\r\n            params.p = self.password;\r\n        }\r\n        if (self.database) {\r\n            params.db = self.database;\r\n        }\r\n        if (method === 'GET') {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend(params, data);\r\n            data = null;\r\n        }\r\n        var options = {\r\n            method: method,\r\n            url: currentUrl + url,\r\n            params: params,\r\n            data: data,\r\n            precision: \"ms\",\r\n            inspect: { type: 'influxdb' },\r\n            paramSerializer: this.serializeParams,\r\n        };\r\n        options.headers = options.headers || {};\r\n        if (this.basicAuth || this.withCredentials) {\r\n            options.withCredentials = true;\r\n        }\r\n        if (self.basicAuth) {\r\n            options.headers.Authorization = self.basicAuth;\r\n        }\r\n        return this.backendSrv.datasourceRequest(options).then(function (result) {\r\n            return result.data;\r\n        }, function (err) {\r\n            if (err.status !== 0 || err.status >= 300) {\r\n                if (err.data && err.data.error) {\r\n                    throw { message: 'InfluxDB Error: ' + err.data.error, data: err.data, config: err.config };\r\n                }\r\n                else {\r\n                    throw { message: 'Network Error: ' + err.statusText + '(' + err.status + ')', data: err.data, config: err.config };\r\n                }\r\n            }\r\n        });\r\n    };\r\n    InfluxDatasource.prototype.getTimeFilter = function (options) {\r\n        var from = this.getInfluxTime(options.rangeRaw.from, false);\r\n        var until = this.getInfluxTime(options.rangeRaw.to, true);\r\n        var fromIsAbsolute = from[from.length - 1] === 'ms';\r\n        if (until === 'now()' && !fromIsAbsolute) {\r\n            return 'time >= ' + from;\r\n        }\r\n        return 'time >= ' + from + ' and time <= ' + until;\r\n    };\r\n    InfluxDatasource.prototype.getInfluxTime = function (date, roundUp) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(date)) {\r\n            if (date === 'now') {\r\n                return 'now()';\r\n            }\r\n            var parts = /^now-(\\d+)([d|h|m|s])$/.exec(date);\r\n            if (parts) {\r\n                var amount = parseInt(parts[1]);\r\n                var unit = parts[2];\r\n                return 'now() - ' + amount + unit;\r\n            }\r\n            date = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_datemath__[\"parse\"](date, roundUp);\r\n        }\r\n        return date.valueOf() + 'ms';\r\n    };\r\n    return InfluxDatasource;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (InfluxDatasource);\r\n\n\n/***/ }),\n\n/***/ 1462:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(7),\n  __webpack_require__(1310),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (_, TableModel) {\n  'use strict';\n\n  function InfluxSeries(options) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n  }\n\n  var p = InfluxSeries.prototype;\n\n  p.getTimeSeries = function() {\n    var output = [];\n    var self = this;\n    var i, j;\n\n    if (self.series.length === 0) {\n      return output;\n    }\n\n    _.each(self.series, function(series) {\n      var columns = series.columns.length;\n      var tags = _.map(series.tags, function(value, key) {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        var seriesName = series.name;\n        var columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (self.alias) {\n          seriesName = self._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        var datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({ target: seriesName, datapoints: datapoints});\n      }\n    });\n\n    return output;\n  };\n\n  p._getSeriesName = function(series, index) {\n    var regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    var segments = series.name.split('.');\n\n    return this.alias.replace(regex, function(match, g1, g2) {\n      var group = g1 || g2;\n      var segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') { return series.name; }\n      if (group === 'col') { return series.columns[index]; }\n      if (!isNaN(segIndex)) { return segments[segIndex]; }\n      if (group.indexOf('tag_') !== 0) { return match; }\n\n      var tag = group.replace('tag_', '');\n      if (!series.tags) { return match; }\n      return series.tags[tag];\n    });\n  };\n\n  p.getAnnotations = function () {\n    var list = [];\n    var self = this;\n\n    _.each(this.series, function (series) {\n      var titleCol = null;\n      var timeCol = null;\n      var tagsCol = [];\n      var textCol = null;\n\n      _.each(series.columns, function(column, index) {\n        if (column === 'time') { timeCol = index; return; }\n        if (column === 'sequence_number') { return; }\n        if (!titleCol) { titleCol = index; }\n        if (column === self.annotation.titleColumn) { titleCol = index; return; }\n        if (_.includes((self.annotation.tagsColumn || '').replace(' ', '').split(\",\"), column)) { tagsCol.push(index); return; }\n        if (column === self.annotation.textColumn) { textCol = index; return; }\n      });\n\n      _.each(series.values, function (value) {\n        var data = {\n          annotation: self.annotation,\n          time: + new Date(value[timeCol]),\n          title: value[titleCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: _.flatten(tagsCol.filter(function (t) { return value[t]; }).map(function(t) { return value[t].split(\",\"); })),\n          text: value[textCol]\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  };\n\n  p.getTable = function() {\n    var table = new TableModel.default();\n    var self = this;\n    var i, j;\n\n    if (self.series.length === 0) {\n      return table;\n    }\n\n    _.each(self.series, function(series, seriesIndex) {\n\n      if (seriesIndex === 0) {\n        table.columns.push({text: 'Time', type: 'time'});\n        _.each(_.keys(series.tags), function(key) {\n          table.columns.push({text: key});\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({text: series.columns[j]});\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          var values = series.values[i];\n          var reordered = [values[0]];\n          if (series.tags) {\n            for (var key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  };\n\n  return InfluxSeries;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1463:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar ResponseParser = /** @class */ (function () {\r\n    function ResponseParser() {\r\n    }\r\n    ResponseParser.prototype.parse = function (query, results) {\r\n        if (!results || results.results.length === 0) {\r\n            return [];\r\n        }\r\n        var influxResults = results.results[0];\r\n        if (!influxResults.series) {\r\n            return [];\r\n        }\r\n        var influxdb11format = query.toLowerCase().indexOf('show tag values') >= 0;\r\n        var res = {};\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(influxResults.series, function (serie) {\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(serie.values, function (value) {\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(value)) {\r\n                    if (influxdb11format) {\r\n                        addUnique(res, value[1] || value[0]);\r\n                    }\r\n                    else {\r\n                        addUnique(res, value[0]);\r\n                    }\r\n                }\r\n                else {\r\n                    addUnique(res, value);\r\n                }\r\n            });\r\n        });\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (value) {\r\n            return { text: value };\r\n        });\r\n    };\r\n    return ResponseParser;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ResponseParser);\r\nfunction addUnique(arr, value) {\r\n    arr[value] = value;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1464:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return InfluxQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__query_builder__ = __webpack_require__(1333);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__influx_query__ = __webpack_require__(1331);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__query_part__ = __webpack_require__(1332);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__ = __webpack_require__(1305);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar InfluxQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(InfluxQueryCtrl, _super);\r\n    /** @ngInject **/\n    InfluxQueryCtrl.$inject = [\"$scope\", \"$injector\", \"templateSrv\", \"$q\", \"uiSegmentSrv\"];\r\n    function InfluxQueryCtrl($scope, $injector, templateSrv, $q, uiSegmentSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.templateSrv = templateSrv;\r\n        _this.$q = $q;\r\n        _this.uiSegmentSrv = uiSegmentSrv;\r\n        _this.target = _this.target;\r\n        _this.queryModel = new __WEBPACK_IMPORTED_MODULE_3__influx_query__[\"a\" /* default */](_this.target, templateSrv, _this.panel.scopedVars);\r\n        _this.queryBuilder = new __WEBPACK_IMPORTED_MODULE_2__query_builder__[\"a\" /* InfluxQueryBuilder */](_this.target, _this.datasource.database);\r\n        _this.groupBySegment = _this.uiSegmentSrv.newPlusButton();\r\n        _this.resultFormats = [\r\n            { text: 'Time series', value: 'time_series' },\r\n            { text: 'Table', value: 'table' },\r\n        ];\r\n        _this.policySegment = uiSegmentSrv.newSegment(_this.target.policy);\r\n        if (!_this.target.measurement) {\r\n            _this.measurementSegment = uiSegmentSrv.newSelectMeasurement();\r\n        }\r\n        else {\r\n            _this.measurementSegment = uiSegmentSrv.newSegment(_this.target.measurement);\r\n        }\r\n        _this.tagSegments = [];\r\n        for (var _i = 0, _a = _this.target.tags; _i < _a.length; _i++) {\r\n            var tag = _a[_i];\r\n            if (!tag.operator) {\r\n                if (/^\\/.*\\/$/.test(tag.value)) {\r\n                    tag.operator = \"=~\";\r\n                }\r\n                else {\r\n                    tag.operator = '=';\r\n                }\r\n            }\r\n            if (tag.condition) {\r\n                _this.tagSegments.push(uiSegmentSrv.newCondition(tag.condition));\r\n            }\r\n            _this.tagSegments.push(uiSegmentSrv.newKey(tag.key));\r\n            _this.tagSegments.push(uiSegmentSrv.newOperator(tag.operator));\r\n            _this.tagSegments.push(uiSegmentSrv.newKeyValue(tag.value));\r\n        }\r\n        _this.fixTagSegments();\r\n        _this.buildSelectMenu();\r\n        _this.removeTagFilterSegment = uiSegmentSrv.newSegment({ fake: true, value: '-- remove tag filter --' });\r\n        return _this;\r\n    }\r\n    InfluxQueryCtrl.prototype.removeOrderByTime = function () {\r\n        this.target.orderByTime = 'ASC';\r\n    };\r\n    InfluxQueryCtrl.prototype.buildSelectMenu = function () {\r\n        var categories = __WEBPACK_IMPORTED_MODULE_4__query_part__[\"a\" /* default */].getCategories();\r\n        this.selectMenu = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.reduce(categories, function (memo, cat, key) {\r\n            var menu = {\r\n                text: key,\r\n                submenu: cat.map(function (item) {\r\n                    return { text: item.type, value: item.type };\r\n                }),\r\n            };\r\n            memo.push(menu);\r\n            return memo;\r\n        }, []);\r\n    };\r\n    InfluxQueryCtrl.prototype.getGroupByOptions = function () {\r\n        var _this = this;\r\n        var query = this.queryBuilder.buildExploreQuery('TAG_KEYS');\r\n        return this.datasource.metricFindQuery(query).then(function (tags) {\r\n            var options = [];\r\n            if (!_this.queryModel.hasFill()) {\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'fill(null)' }));\r\n            }\r\n            if (!_this.target.limit) {\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'LIMIT' }));\r\n            }\r\n            if (!_this.target.slimit) {\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'SLIMIT' }));\r\n            }\r\n            if (_this.target.orderByTime === 'ASC') {\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'ORDER BY time DESC' }));\r\n            }\r\n            if (!_this.queryModel.hasGroupByTime()) {\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'time($interval)' }));\r\n            }\r\n            for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\r\n                var tag = tags_1[_i];\r\n                options.push(_this.uiSegmentSrv.newSegment({ value: 'tag(' + tag.text + ')' }));\r\n            }\r\n            return options;\r\n        }).catch(this.handleQueryError.bind(this));\r\n    };\r\n    InfluxQueryCtrl.prototype.groupByAction = function () {\r\n        switch (this.groupBySegment.value) {\r\n            case 'LIMIT': {\r\n                this.target.limit = 10;\r\n                break;\r\n            }\r\n            case 'SLIMIT': {\r\n                this.target.slimit = 10;\r\n                break;\r\n            }\r\n            case 'ORDER BY time DESC': {\r\n                this.target.orderByTime = 'DESC';\r\n                break;\r\n            }\r\n            default: {\r\n                this.queryModel.addGroupBy(this.groupBySegment.value);\r\n            }\r\n        }\r\n        var plusButton = this.uiSegmentSrv.newPlusButton();\r\n        this.groupBySegment.value = plusButton.value;\r\n        this.groupBySegment.html = plusButton.html;\r\n        this.panelCtrl.refresh();\r\n    };\r\n    InfluxQueryCtrl.prototype.addSelectPart = function (selectParts, cat, subitem) {\r\n        this.queryModel.addSelectPart(selectParts, subitem.value);\r\n        this.panelCtrl.refresh();\r\n    };\r\n    InfluxQueryCtrl.prototype.handleSelectPartEvent = function (selectParts, part, evt) {\r\n        switch (evt.name) {\r\n            case \"get-param-options\": {\r\n                var fieldsQuery = this.queryBuilder.buildExploreQuery('FIELDS');\r\n                return this.datasource.metricFindQuery(fieldsQuery)\r\n                    .then(this.transformToSegments(true))\r\n                    .catch(this.handleQueryError.bind(this));\r\n            }\r\n            case \"part-param-changed\": {\r\n                this.panelCtrl.refresh();\r\n                break;\r\n            }\r\n            case \"action\": {\r\n                this.queryModel.removeSelectPart(selectParts, part);\r\n                this.panelCtrl.refresh();\r\n                break;\r\n            }\r\n            case \"get-part-actions\": {\r\n                return this.$q.when([{ text: 'Remove', value: 'remove-part' }]);\r\n            }\r\n        }\r\n    };\r\n    InfluxQueryCtrl.prototype.handleGroupByPartEvent = function (part, index, evt) {\r\n        switch (evt.name) {\r\n            case \"get-param-options\": {\r\n                var tagsQuery = this.queryBuilder.buildExploreQuery('TAG_KEYS');\r\n                return this.datasource.metricFindQuery(tagsQuery)\r\n                    .then(this.transformToSegments(true))\r\n                    .catch(this.handleQueryError.bind(this));\r\n            }\r\n            case \"part-param-changed\": {\r\n                this.panelCtrl.refresh();\r\n                break;\r\n            }\r\n            case \"action\": {\r\n                this.queryModel.removeGroupByPart(part, index);\r\n                this.panelCtrl.refresh();\r\n                break;\r\n            }\r\n            case \"get-part-actions\": {\r\n                return this.$q.when([{ text: 'Remove', value: 'remove-part' }]);\r\n            }\r\n        }\r\n    };\r\n    InfluxQueryCtrl.prototype.fixTagSegments = function () {\r\n        var count = this.tagSegments.length;\r\n        var lastSegment = this.tagSegments[Math.max(count - 1, 0)];\r\n        if (!lastSegment || lastSegment.type !== 'plus-button') {\r\n            this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\r\n        }\r\n    };\r\n    InfluxQueryCtrl.prototype.measurementChanged = function () {\r\n        this.target.measurement = this.measurementSegment.value;\r\n        this.panelCtrl.refresh();\r\n    };\r\n    InfluxQueryCtrl.prototype.getPolicySegments = function () {\r\n        var policiesQuery = this.queryBuilder.buildExploreQuery('RETENTION POLICIES');\r\n        return this.datasource.metricFindQuery(policiesQuery)\r\n            .then(this.transformToSegments(false))\r\n            .catch(this.handleQueryError.bind(this));\r\n    };\r\n    InfluxQueryCtrl.prototype.policyChanged = function () {\r\n        this.target.policy = this.policySegment.value;\r\n        this.panelCtrl.refresh();\r\n    };\r\n    InfluxQueryCtrl.prototype.toggleEditorMode = function () {\r\n        try {\r\n            this.target.query = this.queryModel.render(false);\r\n        }\r\n        catch (err) {\r\n            console.log('query render error');\r\n        }\r\n        this.target.rawQuery = !this.target.rawQuery;\r\n    };\r\n    InfluxQueryCtrl.prototype.getMeasurements = function (measurementFilter) {\r\n        var query = this.queryBuilder.buildExploreQuery('MEASUREMENTS', undefined, measurementFilter);\r\n        return this.datasource.metricFindQuery(query)\r\n            .then(this.transformToSegments(true))\r\n            .catch(this.handleQueryError.bind(this));\r\n    };\r\n    InfluxQueryCtrl.prototype.handleQueryError = function (err) {\r\n        this.error = err.message || 'Failed to issue metric query';\r\n        return [];\r\n    };\r\n    InfluxQueryCtrl.prototype.transformToSegments = function (addTemplateVars) {\r\n        var _this = this;\r\n        return function (results) {\r\n            var segments = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(results, function (segment) {\r\n                return _this.uiSegmentSrv.newSegment({ value: segment.text, expandable: segment.expandable });\r\n            });\r\n            if (addTemplateVars) {\r\n                for (var _i = 0, _a = _this.templateSrv.variables; _i < _a.length; _i++) {\r\n                    var variable = _a[_i];\r\n                    segments.unshift(_this.uiSegmentSrv.newSegment({ type: 'template', value: '/^$' + variable.name + '$/', expandable: true }));\r\n                }\r\n            }\r\n            return segments;\r\n        };\r\n    };\r\n    InfluxQueryCtrl.prototype.getTagsOrValues = function (segment, index) {\r\n        var _this = this;\r\n        if (segment.type === 'condition') {\r\n            return this.$q.when([this.uiSegmentSrv.newSegment('AND'), this.uiSegmentSrv.newSegment('OR')]);\r\n        }\r\n        if (segment.type === 'operator') {\r\n            var nextValue = this.tagSegments[index + 1].value;\r\n            if (/^\\/.*\\/$/.test(nextValue)) {\r\n                return this.$q.when(this.uiSegmentSrv.newOperators(['=~', '!~']));\r\n            }\r\n            else {\r\n                return this.$q.when(this.uiSegmentSrv.newOperators(['=', '!=', '<>', '<', '>']));\r\n            }\r\n        }\r\n        var query, addTemplateVars;\r\n        if (segment.type === 'key' || segment.type === 'plus-button') {\r\n            query = this.queryBuilder.buildExploreQuery('TAG_KEYS');\r\n            addTemplateVars = false;\r\n        }\r\n        else if (segment.type === 'value') {\r\n            query = this.queryBuilder.buildExploreQuery('TAG_VALUES', this.tagSegments[index - 2].value);\r\n            addTemplateVars = true;\r\n        }\r\n        return this.datasource.metricFindQuery(query)\r\n            .then(this.transformToSegments(addTemplateVars))\r\n            .then(function (results) {\r\n            if (segment.type === 'key') {\r\n                results.splice(0, 0, __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(_this.removeTagFilterSegment));\r\n            }\r\n            return results;\r\n        })\r\n            .catch(this.handleQueryError.bind(this));\r\n    };\r\n    InfluxQueryCtrl.prototype.getFieldSegments = function () {\r\n        var fieldsQuery = this.queryBuilder.buildExploreQuery('FIELDS');\r\n        return this.datasource.metricFindQuery(fieldsQuery)\r\n            .then(this.transformToSegments(false))\r\n            .catch(this.handleQueryError);\r\n    };\r\n    InfluxQueryCtrl.prototype.tagSegmentUpdated = function (segment, index) {\r\n        this.tagSegments[index] = segment;\r\n        // handle remove tag condition\r\n        if (segment.value === this.removeTagFilterSegment.value) {\r\n            this.tagSegments.splice(index, 3);\r\n            if (this.tagSegments.length === 0) {\r\n                this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\r\n            }\r\n            else if (this.tagSegments.length > 2) {\r\n                this.tagSegments.splice(Math.max(index - 1, 0), 1);\r\n                if (this.tagSegments[this.tagSegments.length - 1].type !== 'plus-button') {\r\n                    this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (segment.type === 'plus-button') {\r\n                if (index > 2) {\r\n                    this.tagSegments.splice(index, 0, this.uiSegmentSrv.newCondition('AND'));\r\n                }\r\n                this.tagSegments.push(this.uiSegmentSrv.newOperator('='));\r\n                this.tagSegments.push(this.uiSegmentSrv.newFake('select tag value', 'value', 'query-segment-value'));\r\n                segment.type = 'key';\r\n                segment.cssClass = 'query-segment-key';\r\n            }\r\n            if ((index + 1) === this.tagSegments.length) {\r\n                this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\r\n            }\r\n        }\r\n        this.rebuildTargetTagConditions();\r\n    };\r\n    InfluxQueryCtrl.prototype.rebuildTargetTagConditions = function () {\r\n        var _this = this;\r\n        var tags = [];\r\n        var tagIndex = 0;\r\n        var tagOperator = \"\";\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(this.tagSegments, function (segment2, index) {\r\n            if (segment2.type === 'key') {\r\n                if (tags.length === 0) {\r\n                    tags.push({});\r\n                }\r\n                tags[tagIndex].key = segment2.value;\r\n            }\r\n            else if (segment2.type === 'value') {\r\n                tagOperator = _this.getTagValueOperator(segment2.value, tags[tagIndex].operator);\r\n                if (tagOperator) {\r\n                    _this.tagSegments[index - 1] = _this.uiSegmentSrv.newOperator(tagOperator);\r\n                    tags[tagIndex].operator = tagOperator;\r\n                }\r\n                tags[tagIndex].value = segment2.value;\r\n            }\r\n            else if (segment2.type === 'condition') {\r\n                tags.push({ condition: segment2.value });\r\n                tagIndex += 1;\r\n            }\r\n            else if (segment2.type === 'operator') {\r\n                tags[tagIndex].operator = segment2.value;\r\n            }\r\n        });\r\n        this.target.tags = tags;\r\n        this.panelCtrl.refresh();\r\n    };\r\n    InfluxQueryCtrl.prototype.getTagValueOperator = function (tagValue, tagOperator) {\r\n        if (tagOperator !== '=~' && tagOperator !== '!~' && /^\\/.*\\/$/.test(tagValue)) {\r\n            return '=~';\r\n        }\r\n        else if ((tagOperator === '=~' || tagOperator === '!~') && /^(?!\\/.*\\/$)/.test(tagValue)) {\r\n            return '=';\r\n        }\r\n        return null;\r\n    };\r\n    InfluxQueryCtrl.prototype.getCollapsedText = function () {\r\n        return this.queryModel.render(false);\r\n    };\r\n    InfluxQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return InfluxQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_5_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1465:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1466);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MixedDatasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1466:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MixedDatasource; });\n/* unused harmony export Datasource */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar MixedDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    MixedDatasource.$inject = [\"$q\", \"datasourceSrv\"];\r\n    function MixedDatasource($q, datasourceSrv) {\r\n        this.$q = $q;\r\n        this.datasourceSrv = datasourceSrv;\r\n    }\r\n    MixedDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var sets = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.groupBy(options.targets, 'datasource');\r\n        var promises = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(sets, function (targets) {\r\n            var dsName = targets[0].datasource;\r\n            if (dsName === '-- Mixed --') {\r\n                return _this.$q([]);\r\n            }\r\n            return _this.datasourceSrv.get(dsName).then(function (ds) {\r\n                var opt = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(options);\r\n                opt.targets = targets;\r\n                return ds.query(opt);\r\n            });\r\n        });\r\n        return this.$q.all(promises).then(function (results) {\r\n            return { data: __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.flatten(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(results, 'data')) };\r\n        });\r\n    };\r\n    return MixedDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1467:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return MysqlConfigCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return MysqlAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1468);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1470);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MysqlDatasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar MysqlConfigCtrl = /** @class */ (function () {\r\n    function MysqlConfigCtrl() {\r\n    }\r\n    MysqlConfigCtrl.templateUrl = 'partials/config.html';\r\n    return MysqlConfigCtrl;\r\n}());\r\nvar defaultQuery = \"SELECT\\n    UNIX_TIMESTAMP(<time_column>) as time_sec,\\n    <text_column> as text,\\n    <tags_column> as tags\\n  FROM <table name>\\n  WHERE $__timeFilter(time_column)\\n  ORDER BY <time_column> ASC\\n  LIMIT 100\\n  \";\r\nvar MysqlAnnotationsQueryCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\r\n    function MysqlAnnotationsQueryCtrl() {\r\n        this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\r\n    }\r\n    MysqlAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return MysqlAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1468:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MysqlDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__response_parser__ = __webpack_require__(1469);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar MysqlDatasource = /** @class */ (function () {\r\n    /** @ngInject **/\n    MysqlDatasource.$inject = [\"instanceSettings\", \"backendSrv\", \"$q\", \"templateSrv\"];\r\n    function MysqlDatasource(instanceSettings, backendSrv, $q, templateSrv) {\r\n        this.backendSrv = backendSrv;\r\n        this.$q = $q;\r\n        this.templateSrv = templateSrv;\r\n        this.name = instanceSettings.name;\r\n        this.id = instanceSettings.id;\r\n        this.responseParser = new __WEBPACK_IMPORTED_MODULE_1__response_parser__[\"a\" /* default */](this.$q);\r\n    }\r\n    MysqlDatasource.prototype.interpolateVariable = function (value, variable) {\r\n        if (typeof value === 'string') {\r\n            if (variable.multi || variable.includeAll) {\r\n                return '\\'' + value + '\\'';\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        if (typeof value === 'number') {\r\n            return value;\r\n        }\r\n        var quotedValues = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(value, function (val) {\r\n            if (typeof value === 'number') {\r\n                return value;\r\n            }\r\n            return '\\'' + val + '\\'';\r\n        });\r\n        return quotedValues.join(',');\r\n    };\r\n    MysqlDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var queries = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(options.targets, function (item) {\r\n            return item.hide !== true;\r\n        }).map(function (item) {\r\n            return {\r\n                refId: item.refId,\r\n                intervalMs: options.intervalMs,\r\n                maxDataPoints: options.maxDataPoints,\r\n                datasourceId: _this.id,\r\n                rawSql: _this.templateSrv.replace(item.rawSql, options.scopedVars, _this.interpolateVariable),\r\n                format: item.format,\r\n            };\r\n        });\r\n        if (queries.length === 0) {\r\n            return this.$q.when({ data: [] });\r\n        }\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: options.range.from.valueOf().toString(),\r\n                to: options.range.to.valueOf().toString(),\r\n                queries: queries,\r\n            }\r\n        }).then(this.responseParser.processQueryResult);\r\n    };\r\n    MysqlDatasource.prototype.annotationQuery = function (options) {\r\n        var _this = this;\r\n        if (!options.annotation.rawQuery) {\r\n            return this.$q.reject({ message: 'Query missing in annotation definition' });\r\n        }\r\n        var query = {\r\n            refId: options.annotation.name,\r\n            datasourceId: this.id,\r\n            rawSql: this.templateSrv.replace(options.annotation.rawQuery, options.scopedVars, this.interpolateVariable),\r\n            format: 'table',\r\n        };\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: options.range.from.valueOf().toString(),\r\n                to: options.range.to.valueOf().toString(),\r\n                queries: [query],\r\n            }\r\n        }).then(function (data) { return _this.responseParser.transformAnnotationResponse(options, data); });\r\n    };\r\n    MysqlDatasource.prototype.metricFindQuery = function (query, optionalOptions) {\r\n        var _this = this;\r\n        var refId = 'tempvar';\r\n        if (optionalOptions && optionalOptions.variable && optionalOptions.variable.name) {\r\n            refId = optionalOptions.variable.name;\r\n        }\r\n        var interpolatedQuery = {\r\n            refId: refId,\r\n            datasourceId: this.id,\r\n            rawSql: this.templateSrv.replace(query, {}, this.interpolateVariable),\r\n            format: 'table',\r\n        };\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                queries: [interpolatedQuery],\r\n            }\r\n        })\r\n            .then(function (data) { return _this.responseParser.parseMetricFindQueryResult(refId, data); });\r\n    };\r\n    MysqlDatasource.prototype.testDatasource = function () {\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: '5m',\r\n                to: 'now',\r\n                queries: [{\r\n                        refId: 'A',\r\n                        intervalMs: 1,\r\n                        maxDataPoints: 1,\r\n                        datasourceId: this.id,\r\n                        rawSql: \"SELECT 1\",\r\n                        format: 'table',\r\n                    }],\r\n            }\r\n        }).then(function (res) {\r\n            return { status: \"success\", message: \"Database Connection OK\" };\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n            if (err.data && err.data.message) {\r\n                return { status: \"error\", message: err.data.message };\r\n            }\r\n            else {\r\n                return { status: \"error\", message: err.status };\r\n            }\r\n        });\r\n    };\r\n    return MysqlDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1469:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar ResponseParser = /** @class */ (function () {\r\n    function ResponseParser($q) {\r\n        this.$q = $q;\r\n    }\r\n    ResponseParser.prototype.processQueryResult = function (res) {\r\n        var data = [];\r\n        if (!res.data.results) {\r\n            return { data: data };\r\n        }\r\n        for (var key in res.data.results) {\r\n            var queryRes = res.data.results[key];\r\n            if (queryRes.series) {\r\n                for (var _i = 0, _a = queryRes.series; _i < _a.length; _i++) {\r\n                    var series = _a[_i];\r\n                    data.push({\r\n                        target: series.name,\r\n                        datapoints: series.points,\r\n                        refId: queryRes.refId,\r\n                        meta: queryRes.meta,\r\n                    });\r\n                }\r\n            }\r\n            if (queryRes.tables) {\r\n                for (var _b = 0, _c = queryRes.tables; _b < _c.length; _b++) {\r\n                    var table = _c[_b];\r\n                    table.type = 'table';\r\n                    table.refId = queryRes.refId;\r\n                    table.meta = queryRes.meta;\r\n                    data.push(table);\r\n                }\r\n            }\r\n        }\r\n        return { data: data };\r\n    };\r\n    ResponseParser.prototype.parseMetricFindQueryResult = function (refId, results) {\r\n        if (!results || results.data.length === 0 || results.data.results[refId].meta.rowCount === 0) {\r\n            return [];\r\n        }\r\n        var columns = results.data.results[refId].tables[0].columns;\r\n        var rows = results.data.results[refId].tables[0].rows;\r\n        var textColIndex = this.findColIndex(columns, '__text');\r\n        var valueColIndex = this.findColIndex(columns, '__value');\r\n        if (columns.length === 2 && textColIndex !== -1 && valueColIndex !== -1) {\r\n            return this.transformToKeyValueList(rows, textColIndex, valueColIndex);\r\n        }\r\n        return this.transformToSimpleList(rows);\r\n    };\r\n    ResponseParser.prototype.transformToKeyValueList = function (rows, textColIndex, valueColIndex) {\r\n        var res = [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            if (!this.containsKey(res, rows[i][textColIndex])) {\r\n                res.push({ text: rows[i][textColIndex], value: rows[i][valueColIndex] });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    ResponseParser.prototype.transformToSimpleList = function (rows) {\r\n        var res = [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            for (var j = 0; j < rows[i].length; j++) {\r\n                var value = rows[i][j];\r\n                if (res.indexOf(value) === -1) {\r\n                    res.push(value);\r\n                }\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (value) {\r\n            return { text: value };\r\n        });\r\n    };\r\n    ResponseParser.prototype.findColIndex = function (columns, colName) {\r\n        for (var i = 0; i < columns.length; i++) {\r\n            if (columns[i].text === colName) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    ResponseParser.prototype.containsKey = function (res, key) {\r\n        for (var i = 0; i < res.length; i++) {\r\n            if (res[i].text === key) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ResponseParser.prototype.transformAnnotationResponse = function (options, data) {\r\n        var table = data.data.results[options.annotation.name].tables[0];\r\n        var timeColumnIndex = -1;\r\n        var textColumnIndex = -1;\r\n        var tagsColumnIndex = -1;\r\n        for (var i = 0; i < table.columns.length; i++) {\r\n            if (table.columns[i].text === 'time_sec') {\r\n                timeColumnIndex = i;\r\n            }\r\n            else if (table.columns[i].text === 'title') {\r\n                return this.$q.reject({ message: 'The title column for annotations is deprecated, now only a column named text is returned' });\r\n            }\r\n            else if (table.columns[i].text === 'text') {\r\n                textColumnIndex = i;\r\n            }\r\n            else if (table.columns[i].text === 'tags') {\r\n                tagsColumnIndex = i;\r\n            }\r\n        }\r\n        if (timeColumnIndex === -1) {\r\n            return this.$q.reject({ message: 'Missing mandatory time column (with time_sec column alias) in annotation query.' });\r\n        }\r\n        var list = [];\r\n        for (var i = 0; i < table.rows.length; i++) {\r\n            var row = table.rows[i];\r\n            list.push({\r\n                annotation: options.annotation,\r\n                time: Math.floor(row[timeColumnIndex]) * 1000,\r\n                text: row[textColumnIndex],\r\n                tags: row[tagsColumnIndex] ? row[tagsColumnIndex].trim().split(/\\s*,\\s*/) : []\r\n            });\r\n        }\r\n        return list;\r\n    };\r\n    return ResponseParser;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ResponseParser);\r\n\n\n/***/ }),\n\n/***/ 1470:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return MysqlQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar defaultQuery = \"SELECT\\n  UNIX_TIMESTAMP(<time_column>) as time_sec,\\n  <value column> as value,\\n  <series name column> as metric\\nFROM <table name>\\nWHERE $__timeFilter(time_column)\\nORDER BY <time_column> ASC\\n\";\r\nvar MysqlQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(MysqlQueryCtrl, _super);\r\n    /** @ngInject **/\n    MysqlQueryCtrl.$inject = [\"$scope\", \"$injector\"];\r\n    function MysqlQueryCtrl($scope, $injector) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.target.format = _this.target.format || 'time_series';\r\n        _this.target.alias = \"\";\r\n        _this.formats = [\r\n            { text: 'Time series', value: 'time_series' },\r\n            { text: 'Table', value: 'table' },\r\n        ];\r\n        if (!_this.target.rawSql) {\r\n            // special handling when in table panel\r\n            if (_this.panelCtrl.panel.type === 'table') {\r\n                _this.target.format = 'table';\r\n                _this.target.rawSql = \"SELECT 1\";\r\n            }\r\n            else {\r\n                _this.target.rawSql = defaultQuery;\r\n            }\r\n        }\r\n        _this.panelCtrl.events.on('data-received', _this.onDataReceived.bind(_this), $scope);\r\n        _this.panelCtrl.events.on('data-error', _this.onDataError.bind(_this), $scope);\r\n        return _this;\r\n    }\r\n    MysqlQueryCtrl.prototype.onDataReceived = function (dataList) {\r\n        this.lastQueryMeta = null;\r\n        this.lastQueryError = null;\r\n        var anySeriesFromQuery = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(dataList, { refId: this.target.refId });\r\n        if (anySeriesFromQuery) {\r\n            this.lastQueryMeta = anySeriesFromQuery.meta;\r\n        }\r\n    };\r\n    MysqlQueryCtrl.prototype.onDataError = function (err) {\r\n        if (err.data && err.data.results) {\r\n            var queryRes = err.data.results[this.target.refId];\r\n            if (queryRes) {\r\n                this.lastQueryMeta = queryRes.meta;\r\n                this.lastQueryError = queryRes.error;\r\n            }\r\n        }\r\n    };\r\n    MysqlQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return MysqlQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1471:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return PostgresConfigCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return PostgresAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1472);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1474);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PostgresDatasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar PostgresConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    PostgresConfigCtrl.$inject = [\"$scope\"];\r\n    function PostgresConfigCtrl($scope) {\r\n        this.current.jsonData.sslmode = this.current.jsonData.sslmode || 'require';\r\n    }\r\n    PostgresConfigCtrl.templateUrl = 'partials/config.html';\r\n    return PostgresConfigCtrl;\r\n}());\r\nvar defaultQuery = \"SELECT\\n  extract(epoch from time_column) AS time,\\n  text_column as text,\\n  tags_column as tags\\nFROM\\n  metric_table\\nWHERE\\n  $__timeFilter(time_column)\\n\";\r\nvar PostgresAnnotationsQueryCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\r\n    function PostgresAnnotationsQueryCtrl() {\r\n        this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\r\n    }\r\n    PostgresAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return PostgresAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1472:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PostgresDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__response_parser__ = __webpack_require__(1473);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar PostgresDatasource = /** @class */ (function () {\r\n    /** @ngInject **/\n    PostgresDatasource.$inject = [\"instanceSettings\", \"backendSrv\", \"$q\", \"templateSrv\"];\r\n    function PostgresDatasource(instanceSettings, backendSrv, $q, templateSrv) {\r\n        this.backendSrv = backendSrv;\r\n        this.$q = $q;\r\n        this.templateSrv = templateSrv;\r\n        this.name = instanceSettings.name;\r\n        this.id = instanceSettings.id;\r\n        this.responseParser = new __WEBPACK_IMPORTED_MODULE_1__response_parser__[\"a\" /* default */](this.$q);\r\n    }\r\n    PostgresDatasource.prototype.interpolateVariable = function (value, variable) {\r\n        if (typeof value === 'string') {\r\n            if (variable.multi || variable.includeAll) {\r\n                return '\\'' + value + '\\'';\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        if (typeof value === 'number') {\r\n            return value;\r\n        }\r\n        var quotedValues = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(value, function (val) {\r\n            return '\\'' + val + '\\'';\r\n        });\r\n        return quotedValues.join(',');\r\n    };\r\n    PostgresDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var queries = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(options.targets, function (item) {\r\n            return item.hide !== true;\r\n        }).map(function (item) {\r\n            return {\r\n                refId: item.refId,\r\n                intervalMs: options.intervalMs,\r\n                maxDataPoints: options.maxDataPoints,\r\n                datasourceId: _this.id,\r\n                rawSql: _this.templateSrv.replace(item.rawSql, options.scopedVars, _this.interpolateVariable),\r\n                format: item.format,\r\n            };\r\n        });\r\n        if (queries.length === 0) {\r\n            return this.$q.when({ data: [] });\r\n        }\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: options.range.from.valueOf().toString(),\r\n                to: options.range.to.valueOf().toString(),\r\n                queries: queries,\r\n            }\r\n        }).then(this.responseParser.processQueryResult);\r\n    };\r\n    PostgresDatasource.prototype.annotationQuery = function (options) {\r\n        var _this = this;\r\n        if (!options.annotation.rawQuery) {\r\n            return this.$q.reject({ message: 'Query missing in annotation definition' });\r\n        }\r\n        var query = {\r\n            refId: options.annotation.name,\r\n            datasourceId: this.id,\r\n            rawSql: this.templateSrv.replace(options.annotation.rawQuery, options.scopedVars, this.interpolateVariable),\r\n            format: 'table',\r\n        };\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: options.range.from.valueOf().toString(),\r\n                to: options.range.to.valueOf().toString(),\r\n                queries: [query],\r\n            }\r\n        }).then(function (data) { return _this.responseParser.transformAnnotationResponse(options, data); });\r\n    };\r\n    PostgresDatasource.prototype.metricFindQuery = function (query, optionalOptions) {\r\n        var _this = this;\r\n        var refId = 'tempvar';\r\n        if (optionalOptions && optionalOptions.variable && optionalOptions.variable.name) {\r\n            refId = optionalOptions.variable.name;\r\n        }\r\n        var interpolatedQuery = {\r\n            refId: refId,\r\n            datasourceId: this.id,\r\n            rawSql: this.templateSrv.replace(query, {}, this.interpolateVariable),\r\n            format: 'table',\r\n        };\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                queries: [interpolatedQuery],\r\n            }\r\n        })\r\n            .then(function (data) { return _this.responseParser.parseMetricFindQueryResult(refId, data); });\r\n    };\r\n    PostgresDatasource.prototype.testDatasource = function () {\r\n        return this.backendSrv.datasourceRequest({\r\n            url: '/api/tsdb/query',\r\n            method: 'POST',\r\n            data: {\r\n                from: '5m',\r\n                to: 'now',\r\n                queries: [{\r\n                        refId: 'A',\r\n                        intervalMs: 1,\r\n                        maxDataPoints: 1,\r\n                        datasourceId: this.id,\r\n                        rawSql: \"SELECT 1\",\r\n                        format: 'table',\r\n                    }],\r\n            }\r\n        }).then(function (res) {\r\n            return { status: \"success\", message: \"Database Connection OK\" };\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n            if (err.data && err.data.message) {\r\n                return { status: \"error\", message: err.data.message };\r\n            }\r\n            else {\r\n                return { status: \"error\", message: err.status };\r\n            }\r\n        });\r\n    };\r\n    return PostgresDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1473:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar ResponseParser = /** @class */ (function () {\r\n    function ResponseParser($q) {\r\n        this.$q = $q;\r\n    }\r\n    ResponseParser.prototype.processQueryResult = function (res) {\r\n        var data = [];\r\n        if (!res.data.results) {\r\n            return { data: data };\r\n        }\r\n        for (var key in res.data.results) {\r\n            var queryRes = res.data.results[key];\r\n            if (queryRes.series) {\r\n                for (var _i = 0, _a = queryRes.series; _i < _a.length; _i++) {\r\n                    var series = _a[_i];\r\n                    data.push({\r\n                        target: series.name,\r\n                        datapoints: series.points,\r\n                        refId: queryRes.refId,\r\n                        meta: queryRes.meta,\r\n                    });\r\n                }\r\n            }\r\n            if (queryRes.tables) {\r\n                for (var _b = 0, _c = queryRes.tables; _b < _c.length; _b++) {\r\n                    var table = _c[_b];\r\n                    table.type = 'table';\r\n                    table.refId = queryRes.refId;\r\n                    table.meta = queryRes.meta;\r\n                    data.push(table);\r\n                }\r\n            }\r\n        }\r\n        return { data: data };\r\n    };\r\n    ResponseParser.prototype.parseMetricFindQueryResult = function (refId, results) {\r\n        if (!results || results.data.length === 0 || results.data.results[refId].meta.rowCount === 0) {\r\n            return [];\r\n        }\r\n        var columns = results.data.results[refId].tables[0].columns;\r\n        var rows = results.data.results[refId].tables[0].rows;\r\n        var textColIndex = this.findColIndex(columns, '__text');\r\n        var valueColIndex = this.findColIndex(columns, '__value');\r\n        if (columns.length === 2 && textColIndex !== -1 && valueColIndex !== -1) {\r\n            return this.transformToKeyValueList(rows, textColIndex, valueColIndex);\r\n        }\r\n        return this.transformToSimpleList(rows);\r\n    };\r\n    ResponseParser.prototype.transformToKeyValueList = function (rows, textColIndex, valueColIndex) {\r\n        var res = [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            if (!this.containsKey(res, rows[i][textColIndex])) {\r\n                res.push({ text: rows[i][textColIndex], value: rows[i][valueColIndex] });\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    ResponseParser.prototype.transformToSimpleList = function (rows) {\r\n        var res = [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            for (var j = 0; j < rows[i].length; j++) {\r\n                var value = rows[i][j];\r\n                if (res.indexOf(value) === -1) {\r\n                    res.push(value);\r\n                }\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (value) {\r\n            return { text: value };\r\n        });\r\n    };\r\n    ResponseParser.prototype.findColIndex = function (columns, colName) {\r\n        for (var i = 0; i < columns.length; i++) {\r\n            if (columns[i].text === colName) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    ResponseParser.prototype.containsKey = function (res, key) {\r\n        for (var i = 0; i < res.length; i++) {\r\n            if (res[i].text === key) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ResponseParser.prototype.transformAnnotationResponse = function (options, data) {\r\n        var table = data.data.results[options.annotation.name].tables[0];\r\n        var timeColumnIndex = -1;\r\n        var titleColumnIndex = -1;\r\n        var textColumnIndex = -1;\r\n        var tagsColumnIndex = -1;\r\n        for (var i = 0; i < table.columns.length; i++) {\r\n            if (table.columns[i].text === 'time') {\r\n                timeColumnIndex = i;\r\n            }\r\n            else if (table.columns[i].text === 'text') {\r\n                textColumnIndex = i;\r\n            }\r\n            else if (table.columns[i].text === 'tags') {\r\n                tagsColumnIndex = i;\r\n            }\r\n        }\r\n        if (timeColumnIndex === -1) {\r\n            return this.$q.reject({ message: 'Missing mandatory time column in annotation query.' });\r\n        }\r\n        var list = [];\r\n        for (var i = 0; i < table.rows.length; i++) {\r\n            var row = table.rows[i];\r\n            list.push({\r\n                annotation: options.annotation,\r\n                time: Math.floor(row[timeColumnIndex]) * 1000,\r\n                title: row[titleColumnIndex],\r\n                text: row[textColumnIndex],\r\n                tags: row[tagsColumnIndex] ? row[tagsColumnIndex].trim().split(/\\s*,\\s*/) : []\r\n            });\r\n        }\r\n        return list;\r\n    };\r\n    return ResponseParser;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (ResponseParser);\r\n\n\n/***/ }),\n\n/***/ 1474:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PostgresQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar defaultQuery = \"SELECT\\n  $__time(time_column),\\n  value1\\nFROM\\n  metric_table\\nWHERE\\n  $__timeFilter(time_column)\\n\";\r\nvar PostgresQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(PostgresQueryCtrl, _super);\r\n    /** @ngInject **/\n    PostgresQueryCtrl.$inject = [\"$scope\", \"$injector\"];\r\n    function PostgresQueryCtrl($scope, $injector) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.target.format = _this.target.format || 'time_series';\r\n        _this.target.alias = \"\";\r\n        _this.formats = [\r\n            { text: 'Time series', value: 'time_series' },\r\n            { text: 'Table', value: 'table' },\r\n        ];\r\n        if (!_this.target.rawSql) {\r\n            // special handling when in table panel\r\n            if (_this.panelCtrl.panel.type === 'table') {\r\n                _this.target.format = 'table';\r\n                _this.target.rawSql = \"SELECT 1\";\r\n            }\r\n            else {\r\n                _this.target.rawSql = defaultQuery;\r\n            }\r\n        }\r\n        _this.panelCtrl.events.on('data-received', _this.onDataReceived.bind(_this), $scope);\r\n        _this.panelCtrl.events.on('data-error', _this.onDataError.bind(_this), $scope);\r\n        return _this;\r\n    }\r\n    PostgresQueryCtrl.prototype.onDataReceived = function (dataList) {\r\n        this.lastQueryMeta = null;\r\n        this.lastQueryError = null;\r\n        var anySeriesFromQuery = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(dataList, { refId: this.target.refId });\r\n        if (anySeriesFromQuery) {\r\n            this.lastQueryMeta = anySeriesFromQuery.meta;\r\n        }\r\n    };\r\n    PostgresQueryCtrl.prototype.onDataError = function (err) {\r\n        if (err.data && err.data.results) {\r\n            var queryRes = err.data.results[this.target.refId];\r\n            if (queryRes) {\r\n                this.lastQueryMeta = queryRes.meta;\r\n                this.lastQueryError = queryRes.error;\r\n            }\r\n        }\r\n    };\r\n    PostgresQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return PostgresQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1475:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return PrometheusConfigCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return PrometheusAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1476);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1478);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n\r\n\r\nvar PrometheusConfigCtrl = /** @class */ (function () {\r\n    function PrometheusConfigCtrl() {\r\n    }\r\n    PrometheusConfigCtrl.templateUrl = 'partials/config.html';\r\n    return PrometheusConfigCtrl;\r\n}());\r\nvar PrometheusAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function PrometheusAnnotationsQueryCtrl() {\r\n    }\r\n    PrometheusAnnotationsQueryCtrl.templateUrl = 'partials/annotations.editor.html';\r\n    return PrometheusAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1476:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PrometheusDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_datemath__ = __webpack_require__(467);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__metric_find_query__ = __webpack_require__(1477);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__metric_find_query___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__metric_find_query__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_table_model__ = __webpack_require__(1310);\n\r\n\r\n\r\n\r\n\r\nfunction prometheusSpecialRegexEscape(value) {\r\n    return value.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\\\\\$&');\r\n}\r\nvar PrometheusDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    PrometheusDatasource.$inject = [\"instanceSettings\", \"$q\", \"backendSrv\", \"templateSrv\", \"timeSrv\"];\r\n    function PrometheusDatasource(instanceSettings, $q, backendSrv, templateSrv, timeSrv) {\r\n        this.$q = $q;\r\n        this.backendSrv = backendSrv;\r\n        this.templateSrv = templateSrv;\r\n        this.timeSrv = timeSrv;\r\n        this.type = 'prometheus';\r\n        this.editorSrc = 'app/features/prometheus/partials/query.editor.html';\r\n        this.name = instanceSettings.name;\r\n        this.supportMetrics = true;\r\n        this.url = instanceSettings.url;\r\n        this.directUrl = instanceSettings.directUrl;\r\n        this.basicAuth = instanceSettings.basicAuth;\r\n        this.withCredentials = instanceSettings.withCredentials;\r\n        this.interval = instanceSettings.jsonData.timeInterval || '15s';\r\n    }\r\n    PrometheusDatasource.prototype._request = function (method, url, requestId) {\r\n        var options = {\r\n            url: this.url + url,\r\n            method: method,\r\n            requestId: requestId,\r\n        };\r\n        if (this.basicAuth || this.withCredentials) {\r\n            options.withCredentials = true;\r\n        }\r\n        if (this.basicAuth) {\r\n            options.headers = {\r\n                \"Authorization\": this.basicAuth\r\n            };\r\n        }\r\n        return this.backendSrv.datasourceRequest(options);\r\n    };\r\n    PrometheusDatasource.prototype.interpolateQueryExpr = function (value, variable, defaultFormatFn) {\r\n        // if no multi or include all do not regexEscape\r\n        if (!variable.multi && !variable.includeAll) {\r\n            return value;\r\n        }\r\n        if (typeof value === 'string') {\r\n            return prometheusSpecialRegexEscape(value);\r\n        }\r\n        var escapedValues = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(value, prometheusSpecialRegexEscape);\r\n        return escapedValues.join('|');\r\n    };\r\n    PrometheusDatasource.prototype.targetContainsTemplate = function (target) {\r\n        return this.templateSrv.variableExists(target.expr);\r\n    };\r\n    PrometheusDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var self = this;\r\n        var start = this.getPrometheusTime(options.range.from, false);\r\n        var end = this.getPrometheusTime(options.range.to, true);\r\n        var range = Math.ceil(end - start);\r\n        var queries = [];\r\n        var activeTargets = [];\r\n        options = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.clone(options);\r\n        for (var _i = 0, _a = options.targets; _i < _a.length; _i++) {\r\n            var target = _a[_i];\r\n            if (!target.expr || target.hide) {\r\n                continue;\r\n            }\r\n            activeTargets.push(target);\r\n            queries.push(this.createQuery(target, options, range));\r\n        }\r\n        // No valid targets, return the empty result to save a round trip.\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(queries)) {\r\n            return this.$q.when({ data: [] });\r\n        }\r\n        var allQueryPromise = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(queries, function (query) {\r\n            if (!query.instant) {\r\n                return _this.performTimeSeriesQuery(query, start, end);\r\n            }\r\n            else {\r\n                return _this.performInstantQuery(query, end);\r\n            }\r\n        });\r\n        return this.$q.all(allQueryPromise).then(function (responseList) {\r\n            var result = [];\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(responseList, function (response, index) {\r\n                if (response.status === 'error') {\r\n                    throw response.error;\r\n                }\r\n                if (activeTargets[index].format === \"table\") {\r\n                    result.push(self.transformMetricDataToTable(response.data.data.result));\r\n                }\r\n                else {\r\n                    for (var _i = 0, _a = response.data.data.result; _i < _a.length; _i++) {\r\n                        var metricData = _a[_i];\r\n                        if (response.data.data.resultType === 'matrix') {\r\n                            result.push(self.transformMetricData(metricData, activeTargets[index], start, end, queries[index].step));\r\n                        }\r\n                        else if (response.data.data.resultType === 'vector') {\r\n                            result.push(self.transformInstantMetricData(metricData, activeTargets[index]));\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            return { data: result };\r\n        });\r\n    };\r\n    PrometheusDatasource.prototype.createQuery = function (target, options, range) {\r\n        var query = {};\r\n        query.instant = target.instant;\r\n        var interval = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].interval_to_seconds(options.interval);\r\n        // Minimum interval (\"Min step\"), if specified for the query. or same as interval otherwise\r\n        var minInterval = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].interval_to_seconds(this.templateSrv.replace(target.interval, options.scopedVars) || options.interval);\r\n        var intervalFactor = target.intervalFactor || 1;\r\n        // Adjust the interval to take into account any specified minimum and interval factor plus Prometheus limits\r\n        var adjustedInterval = this.adjustInterval(interval, minInterval, range, intervalFactor);\r\n        var scopedVars = options.scopedVars;\r\n        // If the interval was adjusted, make a shallow copy of scopedVars with updated interval vars\r\n        if (interval !== adjustedInterval) {\r\n            interval = adjustedInterval;\r\n            scopedVars = Object.assign({}, options.scopedVars, {\r\n                \"__interval\": { text: interval + \"s\", value: interval + \"s\" },\r\n                \"__interval_ms\": { text: interval * 1000, value: interval * 1000 },\r\n            });\r\n        }\r\n        query.step = interval;\r\n        // Only replace vars in expression after having (possibly) updated interval vars\r\n        query.expr = this.templateSrv.replace(target.expr, scopedVars, this.interpolateQueryExpr);\r\n        query.requestId = options.panelId + target.refId;\r\n        return query;\r\n    };\r\n    PrometheusDatasource.prototype.adjustInterval = function (interval, minInterval, range, intervalFactor) {\r\n        // Prometheus will drop queries that might return more than 11000 data points.\r\n        // Calibrate interval if it is too small.\r\n        if (interval !== 0 && range / intervalFactor / interval > 11000) {\r\n            interval = Math.ceil(range / intervalFactor / 11000);\r\n        }\r\n        return Math.max(interval * intervalFactor, minInterval, 1);\r\n    };\r\n    PrometheusDatasource.prototype.performTimeSeriesQuery = function (query, start, end) {\r\n        if (start > end) {\r\n            throw { message: 'Invalid time range' };\r\n        }\r\n        var url = '/api/v1/query_range?query=' + encodeURIComponent(query.expr) + '&start=' + start + '&end=' + end + '&step=' + query.step;\r\n        return this._request('GET', url, query.requestId);\r\n    };\r\n    PrometheusDatasource.prototype.performInstantQuery = function (query, time) {\r\n        var url = '/api/v1/query?query=' + encodeURIComponent(query.expr) + '&time=' + time;\r\n        return this._request('GET', url, query.requestId);\r\n    };\r\n    PrometheusDatasource.prototype.performSuggestQuery = function (query, cache) {\r\n        var _this = this;\r\n        if (cache === void 0) { cache = false; }\r\n        var url = '/api/v1/label/__name__/values';\r\n        if (cache && this.metricsNameCache && this.metricsNameCache.expire > Date.now()) {\r\n            return this.$q.when(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(this.metricsNameCache.data, function (metricName) {\r\n                return metricName.indexOf(query) !== 1;\r\n            }));\r\n        }\r\n        return this._request('GET', url).then(function (result) {\r\n            _this.metricsNameCache = {\r\n                data: result.data.data,\r\n                expire: Date.now() + (60 * 1000)\r\n            };\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(result.data.data, function (metricName) {\r\n                return metricName.indexOf(query) !== 1;\r\n            });\r\n        });\r\n    };\r\n    PrometheusDatasource.prototype.metricFindQuery = function (query) {\r\n        if (!query) {\r\n            return this.$q.when([]);\r\n        }\r\n        var interpolated = this.templateSrv.replace(query, {}, this.interpolateQueryExpr);\r\n        var metricFindQuery = new __WEBPACK_IMPORTED_MODULE_3__metric_find_query___default.a(this, interpolated, this.timeSrv);\r\n        return metricFindQuery.process();\r\n    };\r\n    PrometheusDatasource.prototype.annotationQuery = function (options) {\r\n        var annotation = options.annotation;\r\n        var expr = annotation.expr || '';\r\n        var tagKeys = annotation.tagKeys || '';\r\n        var titleFormat = annotation.titleFormat || '';\r\n        var textFormat = annotation.textFormat || '';\r\n        if (!expr) {\r\n            return this.$q.when([]);\r\n        }\r\n        var interpolated = this.templateSrv.replace(expr, {}, this.interpolateQueryExpr);\r\n        var step = '60s';\r\n        if (annotation.step) {\r\n            step = this.templateSrv.replace(annotation.step);\r\n        }\r\n        var start = this.getPrometheusTime(options.range.from, false);\r\n        var end = this.getPrometheusTime(options.range.to, true);\r\n        var query = {\r\n            expr: interpolated,\r\n            step: this.adjustInterval(__WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].interval_to_seconds(step), 0, Math.ceil(end - start), 1) + 's'\r\n        };\r\n        var self = this;\r\n        return this.performTimeSeriesQuery(query, start, end).then(function (results) {\r\n            var eventList = [];\r\n            tagKeys = tagKeys.split(',');\r\n            __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(results.data.data.result, function (series) {\r\n                var tags = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.chain(series.metric)\r\n                    .filter(function (v, k) {\r\n                    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.includes(tagKeys, k);\r\n                }).value();\r\n                for (var _i = 0, _a = series.values; _i < _a.length; _i++) {\r\n                    var value = _a[_i];\r\n                    if (value[1] === '1') {\r\n                        var event = {\r\n                            annotation: annotation,\r\n                            time: Math.floor(parseFloat(value[0])) * 1000,\r\n                            title: self.renderTemplate(titleFormat, series.metric),\r\n                            tags: tags,\r\n                            text: self.renderTemplate(textFormat, series.metric)\r\n                        };\r\n                        eventList.push(event);\r\n                    }\r\n                }\r\n            });\r\n            return eventList;\r\n        });\r\n    };\r\n    PrometheusDatasource.prototype.testDatasource = function () {\r\n        return this.metricFindQuery('metrics(.*)').then(function () {\r\n            return { status: 'success', message: 'Data source is working' };\r\n        });\r\n    };\r\n    PrometheusDatasource.prototype.transformMetricData = function (md, options, start, end, step) {\r\n        var dps = [], metricLabel = null;\r\n        metricLabel = this.createMetricLabel(md.metric, options);\r\n        var stepMs = step * 1000;\r\n        var baseTimestamp = start * 1000;\r\n        for (var _i = 0, _a = md.values; _i < _a.length; _i++) {\r\n            var value = _a[_i];\r\n            var dp_value = parseFloat(value[1]);\r\n            if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNaN(dp_value)) {\r\n                dp_value = null;\r\n            }\r\n            var timestamp = parseFloat(value[0]) * 1000;\r\n            for (var t = baseTimestamp; t < timestamp; t += stepMs) {\r\n                dps.push([null, t]);\r\n            }\r\n            baseTimestamp = timestamp + stepMs;\r\n            dps.push([dp_value, timestamp]);\r\n        }\r\n        var endTimestamp = end * 1000;\r\n        for (var t = baseTimestamp; t <= endTimestamp; t += stepMs) {\r\n            dps.push([null, t]);\r\n        }\r\n        return { target: metricLabel, datapoints: dps };\r\n    };\r\n    PrometheusDatasource.prototype.transformMetricDataToTable = function (md) {\r\n        var table = new __WEBPACK_IMPORTED_MODULE_4_app_core_table_model__[\"default\"]();\r\n        var i, j;\r\n        var metricLabels = {};\r\n        if (md.length === 0) {\r\n            return table;\r\n        }\r\n        // Collect all labels across all metrics\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(md, function (series) {\r\n            for (var label in series.metric) {\r\n                if (!metricLabels.hasOwnProperty(label)) {\r\n                    metricLabels[label] = 1;\r\n                }\r\n            }\r\n        });\r\n        // Sort metric labels, create columns for them and record their index\r\n        var sortedLabels = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.keys(metricLabels).sort();\r\n        table.columns.push({ text: 'Time', type: 'time' });\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(sortedLabels, function (label, labelIndex) {\r\n            metricLabels[label] = labelIndex + 1;\r\n            table.columns.push({ text: label });\r\n        });\r\n        table.columns.push({ text: 'Value' });\r\n        // Populate rows, set value to empty string when label not present.\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.each(md, function (series) {\r\n            if (series.value) {\r\n                series.values = [series.value];\r\n            }\r\n            if (series.values) {\r\n                for (i = 0; i < series.values.length; i++) {\r\n                    var values = series.values[i];\r\n                    var reordered = [values[0] * 1000];\r\n                    if (series.metric) {\r\n                        for (j = 0; j < sortedLabels.length; j++) {\r\n                            var label = sortedLabels[j];\r\n                            if (series.metric.hasOwnProperty(label)) {\r\n                                reordered.push(series.metric[label]);\r\n                            }\r\n                            else {\r\n                                reordered.push('');\r\n                            }\r\n                        }\r\n                    }\r\n                    reordered.push(parseFloat(values[1]));\r\n                    table.rows.push(reordered);\r\n                }\r\n            }\r\n        });\r\n        return table;\r\n    };\r\n    PrometheusDatasource.prototype.transformInstantMetricData = function (md, options) {\r\n        var dps = [], metricLabel = null;\r\n        metricLabel = this.createMetricLabel(md.metric, options);\r\n        dps.push([parseFloat(md.value[1]), md.value[0] * 1000]);\r\n        return { target: metricLabel, datapoints: dps };\r\n    };\r\n    PrometheusDatasource.prototype.createMetricLabel = function (labelData, options) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isUndefined(options) || __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(options.legendFormat)) {\r\n            return this.getOriginalMetricName(labelData);\r\n        }\r\n        return this.renderTemplate(this.templateSrv.replace(options.legendFormat), labelData) || '{}';\r\n    };\r\n    PrometheusDatasource.prototype.renderTemplate = function (aliasPattern, aliasData) {\r\n        var aliasRegex = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\r\n        return aliasPattern.replace(aliasRegex, function (match, g1) {\r\n            if (aliasData[g1]) {\r\n                return aliasData[g1];\r\n            }\r\n            return g1;\r\n        });\r\n    };\r\n    PrometheusDatasource.prototype.getOriginalMetricName = function (labelData) {\r\n        var metricName = labelData.__name__ || '';\r\n        delete labelData.__name__;\r\n        var labelPart = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.toPairs(labelData), function (label) {\r\n            return label[0] + '=\"' + label[1] + '\"';\r\n        }).join(',');\r\n        return metricName + '{' + labelPart + '}';\r\n    };\r\n    PrometheusDatasource.prototype.getPrometheusTime = function (date, roundUp) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(date)) {\r\n            date = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_datemath__[\"parse\"](date, roundUp);\r\n        }\r\n        return Math.ceil(date.valueOf() / 1000);\r\n    };\r\n    return PrometheusDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1477:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(7)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (_) {\n  'use strict';\n\n  function PrometheusMetricFindQuery(datasource, query, timeSrv) {\n    this.datasource = datasource;\n    this.query = query;\n    this.range = timeSrv.timeRange();\n  }\n\n  PrometheusMetricFindQuery.prototype.process = function() {\n    var label_values_regex = /^label_values\\((?:(.+),\\s*)?([a-zA-Z_][a-zA-Z0-9_]+)\\)$/;\n    var metric_names_regex = /^metrics\\((.+)\\)$/;\n    var query_result_regex = /^query_result\\((.+)\\)$/;\n\n    var label_values_query = this.query.match(label_values_regex);\n    if (label_values_query) {\n      if (label_values_query[1]) {\n        return this.labelValuesQuery(label_values_query[2], label_values_query[1]);\n      } else {\n        return this.labelValuesQuery(label_values_query[2], null);\n      }\n    }\n\n    var metric_names_query = this.query.match(metric_names_regex);\n    if (metric_names_query) {\n      return this.metricNameQuery(metric_names_query[1]);\n    }\n\n    var query_result_query = this.query.match(query_result_regex);\n    if (query_result_query) {\n      return this.queryResultQuery(query_result_query[1]);\n    }\n\n    // if query contains full metric name, return metric name and label list\n    return this.metricNameAndLabelsQuery(this.query);\n  };\n\n  PrometheusMetricFindQuery.prototype.labelValuesQuery = function(label, metric) {\n    var url;\n\n    if (!metric) {\n      // return label values globally\n      url = '/api/v1/label/' + label + '/values';\n\n      return this.datasource._request('GET', url).then(function(result) {\n        return _.map(result.data.data, function(value) {\n          return {text: value};\n        });\n      });\n    } else {\n      var start = this.datasource.getPrometheusTime(this.range.from, false);\n      var end = this.datasource.getPrometheusTime(this.range.to, true);\n      url = '/api/v1/series?match[]=' + encodeURIComponent(metric)\n        + '&start=' + start\n        + '&end=' + end;\n\n      return this.datasource._request('GET', url)\n      .then(function(result) {\n        var _labels = _.map(result.data.data, function(metric) {\n          return metric[label];\n        });\n\n        return _.uniq(_labels).map(function(metric) {\n          return {\n            text: metric,\n            expandable: true\n          };\n        });\n      });\n    }\n  };\n\n  PrometheusMetricFindQuery.prototype.metricNameQuery = function(metricFilterPattern) {\n    var url = '/api/v1/label/__name__/values';\n\n    return this.datasource._request('GET', url)\n    .then(function(result) {\n      return _.chain(result.data.data)\n      .filter(function(metricName) {\n        var r = new RegExp(metricFilterPattern);\n        return r.test(metricName);\n      })\n      .map(function(matchedMetricName) {\n        return {\n          text: matchedMetricName,\n          expandable: true\n        };\n      })\n      .value();\n    });\n  };\n\n  PrometheusMetricFindQuery.prototype.queryResultQuery = function(query) {\n    var end = this.datasource.getPrometheusTime(this.range.to, true);\n    return this.datasource.performInstantQuery({ expr: query }, end)\n    .then(function(result) {\n      return _.map(result.data.data.result, function(metricData) {\n        var text = metricData.metric.__name__ || '';\n        delete metricData.metric.__name__;\n        text += '{' +\n                _.map(metricData.metric, function(v, k) { return k + '=\"' + v + '\"'; }).join(',') +\n                '}';\n        text += ' ' + metricData.value[1] + ' ' + metricData.value[0] * 1000;\n\n        return {\n          text: text,\n          expandable: true\n        };\n      });\n    });\n  };\n\n  PrometheusMetricFindQuery.prototype.metricNameAndLabelsQuery = function(query) {\n    var start = this.datasource.getPrometheusTime(this.range.from, false);\n    var end = this.datasource.getPrometheusTime(this.range.to, true);\n    var url = '/api/v1/series?match[]=' + encodeURIComponent(query)\n      + '&start=' + start\n      + '&end=' + end;\n\n    var self = this;\n    return this.datasource._request('GET', url)\n    .then(function(result) {\n      return _.map(result.data.data, function(metric) {\n        return {\n          text: self.datasource.getOriginalMetricName(metric),\n          expandable: true\n        };\n      });\n    });\n  };\n\n  return PrometheusMetricFindQuery;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1478:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PrometheusQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__completer__ = __webpack_require__(1479);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mode_prometheus__ = __webpack_require__(1480);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mode_prometheus___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__mode_prometheus__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__snippets_prometheus__ = __webpack_require__(1481);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__snippets_prometheus___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__snippets_prometheus__);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PrometheusQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(PrometheusQueryCtrl, _super);\r\n    /** @ngInject */\n    PrometheusQueryCtrl.$inject = [\"$scope\", \"$injector\", \"templateSrv\"];\r\n    function PrometheusQueryCtrl($scope, $injector, templateSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.templateSrv = templateSrv;\r\n        var target = _this.target;\r\n        target.expr = target.expr || '';\r\n        target.intervalFactor = target.intervalFactor || 2;\r\n        target.format = target.format || _this.getDefaultFormat();\r\n        _this.metric = '';\r\n        _this.resolutions = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map([1, 2, 3, 4, 5, 10], function (f) {\r\n            return { factor: f, label: '1/' + f };\r\n        });\r\n        _this.formats = [\r\n            { text: 'Time series', value: 'time_series' },\r\n            { text: 'Table', value: 'table' },\r\n        ];\r\n        _this.instant = false;\r\n        _this.updateLink();\r\n        return _this;\r\n    }\r\n    PrometheusQueryCtrl.prototype.getCompleter = function (query) {\r\n        return new __WEBPACK_IMPORTED_MODULE_3__completer__[\"a\" /* PromCompleter */](this.datasource);\r\n    };\r\n    PrometheusQueryCtrl.prototype.getDefaultFormat = function () {\r\n        if (this.panelCtrl.panel.type === 'table') {\r\n            return 'table';\r\n        }\r\n        return 'time_series';\r\n    };\r\n    PrometheusQueryCtrl.prototype.refreshMetricData = function () {\r\n        if (!__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isEqual(this.oldTarget, this.target)) {\r\n            this.oldTarget = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(this.target);\r\n            this.panelCtrl.refresh();\r\n            this.updateLink();\r\n        }\r\n    };\r\n    PrometheusQueryCtrl.prototype.updateLink = function () {\r\n        var range = this.panelCtrl.range;\r\n        if (!range) {\r\n            return;\r\n        }\r\n        var rangeDiff = Math.ceil((range.to.valueOf() - range.from.valueOf()) / 1000);\r\n        var endTime = range.to.utc().format('YYYY-MM-DD HH:mm');\r\n        var expr = {\r\n            'g0.expr': this.templateSrv.replace(this.target.expr, this.panelCtrl.panel.scopedVars, this.datasource.interpolateQueryExpr),\r\n            'g0.range_input': rangeDiff + 's',\r\n            'g0.end_input': endTime,\r\n            'g0.step_input': this.target.step,\r\n            'g0.stacked': this.panelCtrl.panel.stack ? 1 : 0,\r\n            'g0.tab': 0\r\n        };\r\n        var args = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(expr, function (v, k) { return k + '=' + encodeURIComponent(v); }).join('&');\r\n        this.linkToPrometheus = this.datasource.directUrl + '/graph?' + args;\r\n    };\r\n    PrometheusQueryCtrl.prototype.getCollapsedText = function () {\r\n        return this.target.expr;\r\n    };\r\n    PrometheusQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return PrometheusQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1479:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PromCompleter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar PromCompleter = /** @class */ (function () {\r\n    function PromCompleter(datasource) {\r\n        this.datasource = datasource;\r\n        this.identifierRegexps = [/\\[/, /[a-zA-Z0-9_:]/];\r\n        this.labelQueryCache = {};\r\n        this.labelNameCache = {};\r\n        this.labelValueCache = {};\r\n    }\r\n    PromCompleter.prototype.getCompletions = function (editor, session, pos, prefix, callback) {\r\n        var _this = this;\r\n        var token = session.getTokenAt(pos.row, pos.column);\r\n        var metricName;\r\n        switch (token.type) {\r\n            case 'entity.name.tag':\r\n                metricName = this.findMetricName(session, pos.row, pos.column);\r\n                if (!metricName) {\r\n                    callback(null, this.transformToCompletions(['__name__', 'instance', 'job'], 'label name'));\r\n                    return;\r\n                }\r\n                if (this.labelNameCache[metricName]) {\r\n                    callback(null, this.labelNameCache[metricName]);\r\n                    return;\r\n                }\r\n                return this.getLabelNameAndValueForMetric(metricName).then(function (result) {\r\n                    var labelNames = _this.transformToCompletions(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniq(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.flatten(result.map(function (r) {\r\n                        return Object.keys(r.metric);\r\n                    }))), 'label name');\r\n                    _this.labelNameCache[metricName] = labelNames;\r\n                    callback(null, labelNames);\r\n                });\r\n            case 'string.quoted':\r\n                metricName = this.findMetricName(session, pos.row, pos.column);\r\n                if (!metricName) {\r\n                    callback(null, []);\r\n                    return;\r\n                }\r\n                var labelNameToken = this.findToken(session, pos.row, pos.column, 'entity.name.tag', null, 'paren.lparen');\r\n                if (!labelNameToken) {\r\n                    callback(null, []);\r\n                    return;\r\n                }\r\n                var labelName = labelNameToken.value;\r\n                if (this.labelValueCache[metricName] && this.labelValueCache[metricName][labelName]) {\r\n                    callback(null, this.labelValueCache[metricName][labelName]);\r\n                    return;\r\n                }\r\n                return this.getLabelNameAndValueForMetric(metricName).then(function (result) {\r\n                    var labelValues = _this.transformToCompletions(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.uniq(result.map(function (r) {\r\n                        return r.metric[labelName];\r\n                    })), 'label value');\r\n                    _this.labelValueCache[metricName] = _this.labelValueCache[metricName] || {};\r\n                    _this.labelValueCache[metricName][labelName] = labelValues;\r\n                    callback(null, labelValues);\r\n                });\r\n        }\r\n        if (token.type === 'paren.lparen' && token.value === '[') {\r\n            var vectors = [];\r\n            for (var _i = 0, _a = ['s', 'm', 'h']; _i < _a.length; _i++) {\r\n                var unit = _a[_i];\r\n                for (var _b = 0, _c = [1, 5, 10, 30]; _b < _c.length; _b++) {\r\n                    var value = _c[_b];\r\n                    vectors.push({ caption: value + unit, value: '[' + value + unit, meta: 'range vector' });\r\n                }\r\n            }\r\n            vectors.push({ caption: '$__interval', value: '[$__interval', meta: 'range vector' });\r\n            vectors.push({ caption: '$__interval_ms', value: '[$__interval_ms', meta: 'range vector' });\r\n            callback(null, vectors);\r\n            return;\r\n        }\r\n        var query = prefix;\r\n        return this.datasource.performSuggestQuery(query, true).then(function (metricNames) {\r\n            callback(null, metricNames.map(function (name) {\r\n                var value = name;\r\n                if (prefix === '(') {\r\n                    value = '(' + name;\r\n                }\r\n                return {\r\n                    caption: name,\r\n                    value: value,\r\n                    meta: 'metric',\r\n                };\r\n            }));\r\n        });\r\n    };\r\n    PromCompleter.prototype.getLabelNameAndValueForMetric = function (metricName) {\r\n        var _this = this;\r\n        if (this.labelQueryCache[metricName]) {\r\n            return Promise.resolve(this.labelQueryCache[metricName]);\r\n        }\r\n        var op = '=~';\r\n        if (/[a-zA-Z_:][a-zA-Z0-9_:]*/.test(metricName)) {\r\n            op = '=';\r\n        }\r\n        var expr = '{__name__' + op + '\"' + metricName + '\"}';\r\n        return this.datasource.performInstantQuery({ expr: expr }, new Date().getTime() / 1000).then(function (response) {\r\n            _this.labelQueryCache[metricName] = response.data.data.result;\r\n            return response.data.data.result;\r\n        });\r\n    };\r\n    PromCompleter.prototype.transformToCompletions = function (words, meta) {\r\n        return words.map(function (name) {\r\n            return {\r\n                caption: name,\r\n                value: name,\r\n                meta: meta,\r\n                score: Number.MAX_VALUE\r\n            };\r\n        });\r\n    };\r\n    PromCompleter.prototype.findMetricName = function (session, row, column) {\r\n        var metricName = '';\r\n        var tokens;\r\n        var nameLabelNameToken = this.findToken(session, row, column, 'entity.name.tag', '__name__', 'paren.lparen');\r\n        if (nameLabelNameToken) {\r\n            tokens = session.getTokens(nameLabelNameToken.row);\r\n            var nameLabelValueToken = tokens[nameLabelNameToken.index + 2];\r\n            if (nameLabelValueToken && nameLabelValueToken.type === 'string.quoted') {\r\n                metricName = nameLabelValueToken.value.slice(1, -1); // cut begin/end quotation\r\n            }\r\n        }\r\n        else {\r\n            var metricNameToken = this.findToken(session, row, column, 'identifier', null, null);\r\n            if (metricNameToken) {\r\n                tokens = session.getTokens(metricNameToken.row);\r\n                if (tokens[metricNameToken.index + 1].type === 'paren.lparen') {\r\n                    metricName = metricNameToken.value;\r\n                }\r\n            }\r\n        }\r\n        return metricName;\r\n    };\r\n    PromCompleter.prototype.findToken = function (session, row, column, target, value, guard) {\r\n        var tokens, idx;\r\n        for (var r = row; r >= 0; r--) {\r\n            tokens = session.getTokens(r);\r\n            if (r === row) {\r\n                var c = 0;\r\n                for (idx = 0; idx < tokens.length; idx++) {\r\n                    c += tokens[idx].value.length;\r\n                    if (c >= column) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                idx = tokens.length - 1;\r\n            }\r\n            for (; idx >= 0; idx--) {\r\n                if (tokens[idx].type === guard) {\r\n                    return null;\r\n                }\r\n                if (tokens[idx].type === target\r\n                    && (!value || tokens[idx].value === value)) {\r\n                    tokens[idx].row = r;\r\n                    tokens[idx].index = idx;\r\n                    return tokens[idx];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return PromCompleter;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1480:\n/***/ (function(module, exports) {\n\n// jshint ignore: start\n// jscs: disable\nace.define(\"ace/mode/prometheus_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar PrometheusHighlightRules = function() {\n  var keywords = (\n    \"by|without|keep_common|offset|bool|and|or|unless|ignoring|on|group_left|group_right|\" +\n    \"count|count_values|min|max|avg|sum|stddev|stdvar|bottomk|topk|quantile\"\n  );\n\n  var builtinConstants = (\n    \"true|false|null|__name__|job\"\n  );\n\n  var builtinFunctions = (\n    \"abs|absent|ceil|changes|clamp_max|clamp_min|count_scalar|day_of_month|day_of_week|days_in_month|delta|deriv|\" + \"drop_common_labels|exp|floor|histogram_quantile|holt_winters|hour|idelta|increase|irate|label_replace|ln|log2|\" +\n    \"log10|minute|month|predict_linear|rate|resets|round|scalar|sort|sort_desc|sqrt|time|vector|year|avg_over_time|\" +\n    \"min_over_time|max_over_time|sum_over_time|count_over_time|quantile_over_time|stddev_over_time|stdvar_over_time\"\n  );\n\n  var keywordMapper = this.createKeywordMapper({\n    \"support.function\": builtinFunctions,\n    \"keyword\": keywords,\n    \"constant.language\": builtinConstants\n  }, \"identifier\", true);\n\n  this.$rules = {\n    \"start\" : [ {\n      token : \"string\", // single line\n      regex : /\"(?:[^\"\\\\]|\\\\.)*?\"/\n    }, {\n      token : \"string\", // string\n      regex : \"'.*?'\"\n    }, {\n      token : \"constant.numeric\", // float\n      regex : \"[-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n    }, {\n      token : \"constant.language\", // time\n      regex : \"\\\\d+[smhdwy]\"\n    }, {\n      token : keywordMapper,\n      regex : \"[a-zA-Z_:][a-zA-Z0-9_:]*\"\n    }, {\n      token : \"keyword.operator\",\n      regex : \"\\\\+|\\\\-|\\\\*|\\\\/|%|\\\\^|==|!=|<=|>=|<|>\"\n    }, {\n      token : \"paren.lparen\",\n      regex : \"[[(]\"\n    }, {\n      token : \"paren.lparen\",\n      regex : \"{\",\n      next  : \"start-label-matcher\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"[\\\\])]\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"}\"\n    }, {\n      token : \"text\",\n      regex : \"\\\\s+\"\n    } ],\n    \"start-label-matcher\" : [ {\n      token : \"entity.name.tag\",\n      regex : '[a-zA-Z_][a-zA-Z0-9_]*'\n    }, {\n      token : \"keyword.operator\",\n      regex : '=~|=|!~|!='\n    }, {\n      token : \"string.quoted\",\n      regex : '\"[^\"]*\"|\\'[^\\']*\\''\n    }, {\n      token : \"punctuation.operator\",\n      regex : \",\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"}\",\n      next  : \"start\"\n    } ]\n  };\n\n  this.normalizeRules();\n};\n\noop.inherits(PrometheusHighlightRules, TextHighlightRules);\n\nexports.PrometheusHighlightRules = PrometheusHighlightRules;\n});\n\nace.define(\"ace/mode/prometheus_completions\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\", \"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar prometheusKeyWords = [\n  \"by\", \"without\", \"keep_common\", \"offset\", \"bool\", \"and\", \"or\", \"unless\", \"ignoring\", \"on\", \"group_left\",\n  \"group_right\", \"count\", \"count_values\", \"min\", \"max\", \"avg\", \"sum\", \"stddev\", \"stdvar\", \"bottomk\", \"topk\", \"quantile\"\n];\n\nvar keyWordsCompletions = prometheusKeyWords.map(function(word) {\n  return {\n    caption: word,\n    value: word,\n    meta: \"keyword\",\n    score: Number.MAX_VALUE\n  }\n});\n\nvar prometheusFunctions = [\n  {\n    name: 'abs()', value: 'abs',\n    def: 'abs(v instant-vector)',\n    docText: 'Returns the input vector with all sample values converted to their absolute value.'\n  },\n  {\n    name: 'absent()', value: 'absent',\n    def: 'absent(v instant-vector)',\n    docText: 'Returns an empty vector if the vector passed to it has any elements and a 1-element vector with the value 1 if the vector passed to it has no elements. This is useful for alerting on when no time series exist for a given metric name and label combination.'\n  },\n  {\n    name: 'ceil()', value: 'ceil',\n    def: 'ceil(v instant-vector)',\n    docText: 'Rounds the sample values of all elements in `v` up to the nearest integer.'\n  },\n  {\n    name: 'changes()', value: 'changes',\n    def: 'changes(v range-vector)',\n    docText: 'For each input time series, `changes(v range-vector)` returns the number of times its value has changed within the provided time range as an instant vector.'\n  },\n  {\n    name: 'clamp_max()', value: 'clamp_max',\n    def: 'clamp_max(v instant-vector, max scalar)',\n    docText: 'Clamps the sample values of all elements in `v` to have an upper limit of `max`.'\n  },\n  {\n    name: 'clamp_min()', value: 'clamp_min',\n    def: 'clamp_min(v instant-vector, min scalar)',\n    docText: 'Clamps the sample values of all elements in `v` to have a lower limit of `min`.'\n  },\n  {\n    name: 'count_scalar()', value: 'count_scalar',\n    def: 'count_scalar(v instant-vector)',\n    docText: 'Returns the number of elements in a time series vector as a scalar. This is in contrast to the `count()` aggregation operator, which always returns a vector (an empty one if the input vector is empty) and allows grouping by labels via a `by` clause.'\n  },\n  {\n    name: 'day_of_month()', value: 'day_of_month',\n    def: 'day_of_month(v=vector(time()) instant-vector)',\n    docText: 'Returns the day of the month for each of the given times in UTC. Returned values are from 1 to 31.'\n  },\n  {\n    name: 'day_of_week()', value: 'day_of_week',\n    def: 'day_of_week(v=vector(time()) instant-vector)',\n    docText: 'Returns the day of the week for each of the given times in UTC. Returned values are from 0 to 6, where 0 means Sunday etc.'\n  },\n  {\n    name: 'days_in_month()', value: 'days_in_month',\n    def: 'days_in_month(v=vector(time()) instant-vector)',\n    docText: 'Returns number of days in the month for each of the given times in UTC. Returned values are from 28 to 31.'\n  },\n  {\n    name: 'delta()', value: 'delta',\n    def: 'delta(v range-vector)',\n    docText: 'Calculates the difference between the first and last value of each time series element in a range vector `v`, returning an instant vector with the given deltas and equivalent labels. The delta is extrapolated to cover the full time range as specified in the range vector selector, so that it is possible to get a non-integer result even if the sample values are all integers.'\n  },\n  {\n    name: 'deriv()', value: 'deriv',\n    def: 'deriv(v range-vector)',\n    docText: 'Calculates the per-second derivative of the time series in a range vector `v`, using simple linear regression.'\n  },\n  {\n    name: 'drop_common_labels()', value: 'drop_common_labels',\n    def: 'drop_common_labels(instant-vector)',\n    docText: 'Drops all labels that have the same name and value across all series in the input vector.'\n  },\n  {\n    name: 'exp()', value: 'exp',\n    def: 'exp(v instant-vector)',\n    docText: 'Calculates the exponential function for all elements in `v`.\\nSpecial cases are:\\n* `Exp(+Inf) = +Inf` \\n* `Exp(NaN) = NaN`'\n  },\n  {\n    name: 'floor()', value: 'floor',\n    def: 'floor(v instant-vector)',\n    docText: 'Rounds the sample values of all elements in `v` down to the nearest integer.'\n  },\n  {\n    name: 'histogram_quantile()', value: 'histogram_quantile',\n    def: 'histogram_quantile(φ float, b instant-vector)',\n    docText: 'Calculates the φ-quantile (0 ≤ φ ≤ 1) from the buckets `b` of a histogram. The samples in `b` are the counts of observations in each bucket. Each sample must have a label `le` where the label value denotes the inclusive upper bound of the bucket. (Samples without such a label are silently ignored.) The histogram metric type automatically provides time series with the `_bucket` suffix and the appropriate labels.'\n  },\n  {\n    name: 'holt_winters()', value: 'holt_winters',\n    def: 'holt_winters(v range-vector, sf scalar, tf scalar)',\n    docText: 'Produces a smoothed value for time series based on the range in `v`. The lower the smoothing factor `sf`, the more importance is given to old data. The higher the trend factor `tf`, the more trends in the data is considered. Both `sf` and `tf` must be between 0 and 1.'\n  },\n  {\n    name: 'hour()', value: 'hour',\n    def: 'hour(v=vector(time()) instant-vector)',\n    docText: 'Returns the hour of the day for each of the given times in UTC. Returned values are from 0 to 23.'\n  },\n  {\n    name: 'idelta()', value: 'idelta',\n    def: 'idelta(v range-vector)',\n    docText: 'Calculates the difference between the last two samples in the range vector `v`, returning an instant vector with the given deltas and equivalent labels.'\n  },\n  {\n    name: 'increase()', value: 'increase',\n    def: 'increase(v range-vector)',\n    docText: 'Calculates the increase in the time series in the range vector. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for. The increase is extrapolated to cover the full time range as specified in the range vector selector, so that it is possible to get a non-integer result even if a counter increases only by integer increments.'\n  },\n  {\n    name: 'irate()', value: 'irate',\n    def: 'irate(v range-vector)',\n    docText: 'Calculates the per-second instant rate of increase of the time series in the range vector. This is based on the last two data points. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for.'\n  },\n  {\n    name: 'label_replace()', value: 'label_replace',\n    def: 'label_replace(v instant-vector, dst_label string, replacement string, src_label string, regex string)',\n    docText: 'For each timeseries in `v`, `label_replace(v instant-vector, dst_label string, replacement string, src_label string, regex string)`  matches the regular expression `regex` against the label `src_label`.  If it matches, then the timeseries is returned with the label `dst_label` replaced by the expansion of `replacement`. `$1` is replaced with the first matching subgroup, `$2` with the second etc. If the regular expression doesn\\'t match then the timeseries is returned unchanged.'\n  },\n  {\n    name: 'ln()', value: 'ln',\n    def: 'ln(v instant-vector)',\n    docText: 'calculates the natural logarithm for all elements in `v`.\\nSpecial cases are:\\n * `ln(+Inf) = +Inf`\\n * `ln(0) = -Inf`\\n * `ln(x < 0) = NaN`\\n * `ln(NaN) = NaN`'\n  },\n  {\n    name: 'log2()', value: 'log2',\n    def: 'log2(v instant-vector)',\n    docText: 'Calculates the binary logarithm for all elements in `v`. The special cases are equivalent to those in `ln`.'\n  },\n  {\n    name: 'log10()', value: 'log10',\n    def: 'log10(v instant-vector)',\n    docText: 'Calculates the decimal logarithm for all elements in `v`. The special cases are equivalent to those in `ln`.'\n  },\n  {\n    name: 'minute()', value: 'minute',\n    def: 'minute(v=vector(time()) instant-vector)',\n    docText: 'Returns the minute of the hour for each of the given times in UTC. Returned values are from 0 to 59.'\n  },\n  {\n    name: 'month()', value: 'month',\n    def: 'month(v=vector(time()) instant-vector)',\n    docText: 'Returns the month of the year for each of the given times in UTC. Returned values are from 1 to 12, where 1 means January etc.'\n  },\n  {\n    name: 'predict_linear()', value: 'predict_linear',\n    def: 'predict_linear(v range-vector, t scalar)',\n    docText: 'Predicts the value of time series `t` seconds from now, based on the range vector `v`, using simple linear regression.'\n  },\n  {\n    name: 'rate()', value: 'rate',\n    def: 'rate(v range-vector)',\n    docText: \"Calculates the per-second average rate of increase of the time series in the range vector. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for. Also, the calculation extrapolates to the ends of the time range, allowing for missed scrapes or imperfect alignment of scrape cycles with the range's time period.\"\n  },\n  {\n    name: 'resets()', value: 'resets',\n    def: 'resets(v range-vector)',\n    docText: 'For each input time series, `resets(v range-vector)` returns the number of counter resets within the provided time range as an instant vector. Any decrease in the value between two consecutive samples is interpreted as a counter reset.'\n  },\n  {\n    name: 'round()', value: 'round',\n    def: 'round(v instant-vector, to_nearest=1 scalar)',\n    docText: 'Rounds the sample values of all elements in `v` to the nearest integer. Ties are resolved by rounding up. The optional `to_nearest` argument allows specifying the nearest multiple to which the sample values should be rounded. This multiple may also be a fraction.'\n  },\n  {\n    name: 'scalar()', value: 'scalar',\n    def: 'scalar(v instant-vector)',\n    docText: 'Given a single-element input vector, `scalar(v instant-vector)` returns the sample value of that single element as a scalar. If the input vector does not have exactly one element, `scalar` will return `NaN`.'\n  },\n  {\n    name: 'sort()', value: 'sort',\n    def: 'sort(v instant-vector)',\n    docText: 'Returns vector elements sorted by their sample values, in ascending order.'\n  },\n  {\n    name: 'sort_desc()', value: 'sort_desc',\n    def: 'sort_desc(v instant-vector)',\n    docText: 'Returns vector elements sorted by their sample values, in descending order.'\n  },\n  {\n    name: 'sqrt()', value: 'sqrt',\n    def: 'sqrt(v instant-vector)',\n    docText: 'Calculates the square root of all elements in `v`.'\n  },\n  {\n    name: 'time()', value: 'time',\n    def: 'time()',\n    docText: 'Returns the number of seconds since January 1, 1970 UTC. Note that this does not actually return the current time, but the time at which the expression is to be evaluated.'\n  },\n  {\n    name: 'vector()', value: 'vector',\n    def: 'vector(s scalar)',\n    docText: 'Returns the scalar `s` as a vector with no labels.'\n  },\n  {\n    name: 'year()', value: 'year',\n    def: 'year(v=vector(time()) instant-vector)',\n    docText: 'Returns the year for each of the given times in UTC.'\n  },\n  {\n    name: 'avg_over_time()', value: 'avg_over_time',\n    def: 'avg_over_time(range-vector)',\n    docText: 'The average value of all points in the specified interval.'\n  },\n  {\n    name: 'min_over_time()', value: 'min_over_time',\n    def: 'min_over_time(range-vector)',\n    docText: 'The minimum value of all points in the specified interval.'\n  },\n  {\n    name: 'max_over_time()', value: 'max_over_time',\n    def: 'max_over_time(range-vector)',\n    docText: 'The maximum value of all points in the specified interval.'\n  },\n  {\n    name: 'sum_over_time()', value: 'sum_over_time',\n    def: 'sum_over_time(range-vector)',\n    docText: 'The sum of all values in the specified interval.'\n  },\n  {\n    name: 'count_over_time()', value: 'count_over_time',\n    def: 'count_over_time(range-vector)',\n    docText: 'The count of all values in the specified interval.'\n  },\n  {\n    name: 'quantile_over_time()', value: 'quantile_over_time',\n    def: 'quantile_over_time(scalar, range-vector)',\n    docText: 'The φ-quantile (0 ≤ φ ≤ 1) of the values in the specified interval.'\n  },\n  {\n    name: 'stddev_over_time()', value: 'stddev_over_time',\n    def: 'stddev_over_time(range-vector)',\n    docText: 'The population standard deviation of the values in the specified interval.'\n  },\n  {\n    name: 'stdvar_over_time()', value: 'stdvar_over_time',\n    def: 'stdvar_over_time(range-vector)',\n    docText: 'The population standard variance of the values in the specified interval.'\n  },\n];\n\nfunction wrapText(str, len) {\n  len = len || 60;\n  var lines = [];\n  var space_index = 0;\n  var line_start = 0;\n  var next_line_end = len;\n  var line = \"\";\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === ' ') {\n      space_index = i;\n    } else if (i >= next_line_end  && space_index != 0) {\n      line = str.slice(line_start, space_index);\n      lines.push(line);\n      line_start = space_index + 1;\n      next_line_end = i + len;\n      space_index = 0;\n    }\n  }\n  line = str.slice(line_start);\n  lines.push(line);\n  return lines.join(\"&nbsp<br>\");\n}\n\nfunction convertMarkDownTags(text) {\n  text = text.replace(/```(.+)```/, \"<pre>$1</pre>\");\n  text = text.replace(/`([^`]+)`/, \"<code>$1</code>\");\n  return text;\n}\n\nfunction convertToHTML(item) {\n  var docText = lang.escapeHTML(item.docText);\n  docText = convertMarkDownTags(wrapText(docText, 40));\n  return [\n    \"<b>\", lang.escapeHTML(item.def), \"</b>\", \"<hr></hr>\", docText, \"<br>&nbsp\"\n  ].join(\"\");\n}\n\nvar functionsCompletions = prometheusFunctions.map(function(item) {\n  return {\n    caption: item.name,\n    value: item.value,\n    docHTML: convertToHTML(item),\n    meta: \"function\",\n    score: Number.MAX_VALUE\n  };\n});\n\nvar PrometheusCompletions = function() {};\n\n(function() {\n  this.getCompletions = function(state, session, pos, prefix, callback) {\n    var token = session.getTokenAt(pos.row, pos.column);\n    if (token.type === 'entity.name.tag' || token.type === 'string.quoted') {\n      return callback(null, []);\n    }\n\n    var completions = keyWordsCompletions.concat(functionsCompletions);\n    callback(null, completions);\n  };\n\n}).call(PrometheusCompletions.prototype);\n\nexports.PrometheusCompletions = PrometheusCompletions;\n});\n\nace.define(\"ace/mode/behaviour/prometheus\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/mode/behaviour/cstyle\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nfunction getWrapped(selection, selected, opening, closing) {\n  var rowDiff = selection.end.row - selection.start.row;\n  return {\n    text: opening + selected + closing,\n    selection: [\n      0,\n      selection.start.column + 1,\n      rowDiff,\n      selection.end.column + (rowDiff ? 0 : 1)\n    ]\n  };\n};\n\nvar PrometheusBehaviour = function () {\n  this.inherit(CstyleBehaviour);\n\n  // Rewrite default CstyleBehaviour for {} braces\n  this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n    if (text == '{') {\n      var selection = editor.getSelectionRange();\n      var selected = session.doc.getTextRange(selection);\n      if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n        return getWrapped(selection, selected, '{', '}');\n      } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n        return {\n          text: '{}',\n          selection: [1, 1]\n        };\n      }\n    } else if (text == '}') {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n      var rightChar = line.substring(cursor.column, cursor.column + 1);\n      if (rightChar == '}') {\n        var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n        if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n          return {\n            text: '',\n            selection: [1, 1]\n          };\n        }\n      }\n    }\n  });\n\n  this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n    var selected = session.doc.getTextRange(range);\n    if (!range.isMultiLine() && selected == '{') {\n      var line = session.doc.getLine(range.start.row);\n      var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n      if (rightChar == '}') {\n        range.end.column++;\n        return range;\n      }\n    }\n  });\n\n}\noop.inherits(PrometheusBehaviour, CstyleBehaviour);\n\nexports.PrometheusBehaviour = PrometheusBehaviour;\n});\n\nace.define(\"ace/mode/prometheus\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/prometheus_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar PrometheusHighlightRules = require(\"./prometheus_highlight_rules\").PrometheusHighlightRules;\nvar PrometheusCompletions = require(\"./prometheus_completions\").PrometheusCompletions;\nvar PrometheusBehaviour = require(\"./behaviour/prometheus\").PrometheusBehaviour;\n\nvar Mode = function() {\n  this.HighlightRules = PrometheusHighlightRules;\n  this.$behaviour = new PrometheusBehaviour();\n  this.$completer = new PrometheusCompletions();\n  // replace keyWordCompleter\n  this.completer = this.$completer;\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n  this.$id = \"ace/mode/prometheus\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\n\n/***/ }),\n\n/***/ 1481:\n/***/ (function(module, exports) {\n\n// jshint ignore: start\n// jscs: disable\nace.define(\"ace/snippets/prometheus\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\n// exports.snippetText = \"# rate\\n\\\n// snippet r\\n\\\n//   rate(${1:metric}[${2:range}])\\n\\\n// \";\n\nexports.snippets = [\n  {\n    \"content\": \"rate(${1:metric}[${2:range}])\",\n    \"name\": \"rate()\",\n    \"scope\": \"prometheus\",\n    \"tabTrigger\": \"r\"\n  }\n];\n\nexports.scope = \"prometheus\";\n});\n\n\n/***/ }),\n\n/***/ 1482:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextPanelCtrl\", function() { return TextPanelCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return TextPanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar TextPanelCtrl = /** @class */ (function (_super) {\r\n    __extends(TextPanelCtrl, _super);\r\n    /** @ngInject **/\n    TextPanelCtrl.$inject = [\"$scope\", \"$injector\", \"templateSrv\", \"$sce\"];\r\n    function TextPanelCtrl($scope, $injector, templateSrv, $sce) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.templateSrv = templateSrv;\r\n        _this.$sce = $sce;\r\n        // Set and populate defaults\r\n        _this.panelDefaults = {\r\n            mode: \"markdown\",\r\n            content: \"# title\",\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.events.on('refresh', _this.onRefresh.bind(_this));\r\n        _this.events.on('render', _this.onRender.bind(_this));\r\n        $scope.$watch('ctrl.panel.content', __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.throttle(function () {\r\n            _this.render();\r\n        }, 1000));\r\n        return _this;\r\n    }\r\n    TextPanelCtrl.prototype.onInitEditMode = function () {\r\n        this.addEditorTab('Options', 'public/app/plugins/panel/text/editor.html');\r\n        this.editorTabIndex = 1;\r\n        if (this.panel.mode === 'text') {\r\n            this.panel.mode = 'markdown';\r\n        }\r\n    };\r\n    TextPanelCtrl.prototype.onRefresh = function () {\r\n        this.render();\r\n    };\r\n    TextPanelCtrl.prototype.onRender = function () {\r\n        if (this.panel.mode === 'markdown') {\r\n            this.renderMarkdown(this.panel.content);\r\n        }\r\n        else if (this.panel.mode === 'html') {\r\n            this.updateContent(this.panel.content);\r\n        }\r\n        this.renderingCompleted();\r\n    };\r\n    TextPanelCtrl.prototype.renderText = function (content) {\r\n        content = content\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/\\n/g, '<br/>');\r\n        this.updateContent(content);\r\n    };\r\n    TextPanelCtrl.prototype.renderMarkdown = function (content) {\r\n        var _this = this;\r\n        if (!this.remarkable) {\r\n            return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 469)).then(function (Remarkable) {\r\n                _this.remarkable = new Remarkable();\r\n                _this.$scope.$apply(function () {\r\n                    _this.updateContent(_this.remarkable.render(content));\r\n                });\r\n            });\r\n        }\r\n        this.$scope.$applyAsync(function () {\r\n            _this.updateContent(_this.remarkable.render(content));\r\n        });\r\n    };\r\n    TextPanelCtrl.prototype.updateContent = function (html) {\r\n        try {\r\n            this.content = this.$sce.trustAsHtml(this.templateSrv.replace(html, this.panel.scopedVars));\r\n        }\r\n        catch (e) {\r\n            console.log('Text panel error: ', e);\r\n            this.content = this.$sce.trustAsHtml(html);\r\n        }\r\n    };\r\n    TextPanelCtrl.templateUrl = \"public/app/plugins/panel/text/module.html\";\r\n    return TextPanelCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"PanelCtrl\"]));\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1483:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GraphCtrl\", function() { return GraphCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return GraphCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__graph__ = __webpack_require__(1484);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__legend__ = __webpack_require__(1489);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__legend___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__legend__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__series_overrides_ctrl__ = __webpack_require__(1490);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__series_overrides_ctrl___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__series_overrides_ctrl__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__thresholds_form__ = __webpack_require__(1491);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__template__ = __webpack_require__(1492);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_processor__ = __webpack_require__(1341);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__axes_editor__ = __webpack_require__(1493);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar GraphCtrl = /** @class */ (function (_super) {\r\n    __extends(GraphCtrl, _super);\r\n    /** @ngInject */\n    GraphCtrl.$inject = [\"$scope\", \"$injector\", \"annotationsSrv\"];\r\n    function GraphCtrl($scope, $injector, annotationsSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.annotationsSrv = annotationsSrv;\r\n        _this.hiddenSeries = {};\r\n        _this.seriesList = [];\r\n        _this.dataList = [];\r\n        _this.annotations = [];\r\n        _this.colors = [];\r\n        _this.panelDefaults = {\r\n            // datasource name, null = default datasource\r\n            datasource: null,\r\n            // sets client side (flot) or native graphite png renderer (png)\r\n            renderer: 'flot',\r\n            yaxes: [\r\n                {\r\n                    label: null,\r\n                    show: true,\r\n                    logBase: 1,\r\n                    min: null,\r\n                    max: null,\r\n                    format: 'short'\r\n                },\r\n                {\r\n                    label: null,\r\n                    show: true,\r\n                    logBase: 1,\r\n                    min: null,\r\n                    max: null,\r\n                    format: 'short'\r\n                }\r\n            ],\r\n            xaxis: {\r\n                show: true,\r\n                mode: 'time',\r\n                name: null,\r\n                values: [],\r\n                buckets: null\r\n            },\r\n            // show/hide lines\r\n            lines: true,\r\n            // fill factor\r\n            fill: 1,\r\n            // line width in pixels\r\n            linewidth: 1,\r\n            // show/hide dashed line\r\n            dashes: false,\r\n            // length of a dash\r\n            dashLength: 10,\r\n            // length of space between two dashes\r\n            spaceLength: 10,\r\n            // show hide points\r\n            points: false,\r\n            // point radius in pixels\r\n            pointradius: 5,\r\n            // show hide bars\r\n            bars: false,\r\n            // enable/disable stacking\r\n            stack: false,\r\n            // stack percentage mode\r\n            percentage: false,\r\n            // legend options\r\n            legend: {\r\n                show: true,\r\n                values: false,\r\n                min: false,\r\n                max: false,\r\n                current: false,\r\n                total: false,\r\n                avg: false\r\n            },\r\n            // how null points should be handled\r\n            nullPointMode: 'null',\r\n            // staircase line mode\r\n            steppedLine: false,\r\n            // tooltip options\r\n            tooltip: {\r\n                value_type: 'individual',\r\n                shared: true,\r\n                sort: 0,\r\n            },\r\n            // time overrides\r\n            timeFrom: null,\r\n            timeShift: null,\r\n            // metric queries\r\n            targets: [{}],\r\n            // series color overrides\r\n            aliasColors: {},\r\n            // other style overrides\r\n            seriesOverrides: [],\r\n            thresholds: [],\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.defaults(_this.panel.tooltip, _this.panelDefaults.tooltip);\r\n        __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.defaults(_this.panel.legend, _this.panelDefaults.legend);\r\n        __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.defaults(_this.panel.xaxis, _this.panelDefaults.xaxis);\r\n        _this.processor = new __WEBPACK_IMPORTED_MODULE_8__data_processor__[\"a\" /* DataProcessor */](_this.panel);\r\n        _this.events.on('render', _this.onRender.bind(_this));\r\n        _this.events.on('data-received', _this.onDataReceived.bind(_this));\r\n        _this.events.on('data-error', _this.onDataError.bind(_this));\r\n        _this.events.on('data-snapshot-load', _this.onDataSnapshotLoad.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.events.on('init-panel-actions', _this.onInitPanelActions.bind(_this));\r\n        return _this;\r\n    }\r\n    GraphCtrl.prototype.onInitEditMode = function () {\r\n        this.addEditorTab('Axes', __WEBPACK_IMPORTED_MODULE_9__axes_editor__[\"a\" /* axesEditorComponent */], 2);\r\n        this.addEditorTab('Legend', 'public/app/plugins/panel/graph/tab_legend.html', 3);\r\n        this.addEditorTab('Display', 'public/app/plugins/panel/graph/tab_display.html', 4);\r\n        if (__WEBPACK_IMPORTED_MODULE_6_app_core_config__[\"default\"].alertingEnabled) {\r\n            this.addEditorTab('Alert', __WEBPACK_IMPORTED_MODULE_7_app_plugins_sdk__[\"alertTab\"], 5);\r\n        }\r\n        this.subTabIndex = 0;\r\n    };\r\n    GraphCtrl.prototype.onInitPanelActions = function (actions) {\r\n        actions.push({ text: 'Export CSV', click: 'ctrl.exportCsv()' });\r\n        actions.push({ text: 'Toggle legend', click: 'ctrl.toggleLegend()' });\r\n    };\r\n    GraphCtrl.prototype.issueQueries = function (datasource) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        return _super.prototype.issueQueries.call(this, datasource);\r\n    };\r\n    GraphCtrl.prototype.zoomOut = function (evt) {\r\n        this.publishAppEvent('zoom-out', 2);\r\n    };\r\n    GraphCtrl.prototype.onDataSnapshotLoad = function (snapshotData) {\r\n        this.annotationsPromise = this.annotationsSrv.getAnnotations({\r\n            dashboard: this.dashboard,\r\n            panel: this.panel,\r\n            range: this.range,\r\n        });\r\n        this.onDataReceived(snapshotData);\r\n    };\r\n    GraphCtrl.prototype.onDataError = function (err) {\r\n        this.seriesList = [];\r\n        this.annotations = [];\r\n        this.render([]);\r\n    };\r\n    GraphCtrl.prototype.onDataReceived = function (dataList) {\r\n        var _this = this;\r\n        this.dataList = dataList;\r\n        this.seriesList = this.processor.getSeriesList({ dataList: dataList, range: this.range });\r\n        this.dataWarning = null;\r\n        var datapointsCount = this.seriesList.reduce(function (prev, series) {\r\n            return prev + series.datapoints.length;\r\n        }, 0);\r\n        if (datapointsCount === 0) {\r\n            this.dataWarning = {\r\n                title: 'No data points',\r\n                tip: 'No datapoints returned from data query'\r\n            };\r\n        }\r\n        else {\r\n            for (var _i = 0, _a = this.seriesList; _i < _a.length; _i++) {\r\n                var series = _a[_i];\r\n                if (series.isOutsideRange) {\r\n                    this.dataWarning = {\r\n                        title: 'Data points outside time range',\r\n                        tip: 'Can be caused by timezone mismatch or missing time filter in query',\r\n                    };\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.annotationsPromise.then(function (result) {\r\n            _this.loading = false;\r\n            _this.alertState = result.alertState;\r\n            _this.annotations = result.annotations;\r\n            _this.render(_this.seriesList);\r\n        }, function () {\r\n            _this.loading = false;\r\n            _this.render(_this.seriesList);\r\n        });\r\n    };\r\n    GraphCtrl.prototype.onRender = function () {\r\n        if (!this.seriesList) {\r\n            return;\r\n        }\r\n        for (var _i = 0, _a = this.seriesList; _i < _a.length; _i++) {\r\n            var series = _a[_i];\r\n            series.applySeriesOverrides(this.panel.seriesOverrides);\r\n            if (series.unit) {\r\n                this.panel.yaxes[series.yaxis - 1].format = series.unit;\r\n            }\r\n        }\r\n    };\r\n    GraphCtrl.prototype.changeSeriesColor = function (series, color) {\r\n        series.color = color;\r\n        this.panel.aliasColors[series.alias] = series.color;\r\n        this.render();\r\n    };\r\n    GraphCtrl.prototype.toggleSeries = function (serie, event) {\r\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n            if (this.hiddenSeries[serie.alias]) {\r\n                delete this.hiddenSeries[serie.alias];\r\n            }\r\n            else {\r\n                this.hiddenSeries[serie.alias] = true;\r\n            }\r\n        }\r\n        else {\r\n            this.toggleSeriesExclusiveMode(serie);\r\n        }\r\n        this.render();\r\n    };\r\n    GraphCtrl.prototype.toggleSeriesExclusiveMode = function (serie) {\r\n        var _this = this;\r\n        var hidden = this.hiddenSeries;\r\n        if (hidden[serie.alias]) {\r\n            delete hidden[serie.alias];\r\n        }\r\n        // check if every other series is hidden\r\n        var alreadyExclusive = __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.every(this.seriesList, function (value) {\r\n            if (value.alias === serie.alias) {\r\n                return true;\r\n            }\r\n            return hidden[value.alias];\r\n        });\r\n        if (alreadyExclusive) {\r\n            // remove all hidden series\r\n            __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.each(this.seriesList, function (value) {\r\n                delete _this.hiddenSeries[value.alias];\r\n            });\r\n        }\r\n        else {\r\n            // hide all but this serie\r\n            __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.each(this.seriesList, function (value) {\r\n                if (value.alias === serie.alias) {\r\n                    return;\r\n                }\r\n                _this.hiddenSeries[value.alias] = true;\r\n            });\r\n        }\r\n    };\r\n    GraphCtrl.prototype.toggleAxis = function (info) {\r\n        var override = __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.find(this.panel.seriesOverrides, { alias: info.alias });\r\n        if (!override) {\r\n            override = { alias: info.alias };\r\n            this.panel.seriesOverrides.push(override);\r\n        }\r\n        info.yaxis = override.yaxis = info.yaxis === 2 ? 1 : 2;\r\n        this.render();\r\n    };\r\n    GraphCtrl.prototype.addSeriesOverride = function (override) {\r\n        this.panel.seriesOverrides.push(override || {});\r\n    };\r\n    GraphCtrl.prototype.removeSeriesOverride = function (override) {\r\n        this.panel.seriesOverrides = __WEBPACK_IMPORTED_MODULE_5_lodash___default.a.without(this.panel.seriesOverrides, override);\r\n        this.render();\r\n    };\r\n    GraphCtrl.prototype.toggleLegend = function () {\r\n        this.panel.legend.show = !this.panel.legend.show;\r\n        this.refresh();\r\n    };\r\n    GraphCtrl.prototype.legendValuesOptionChanged = function () {\r\n        var legend = this.panel.legend;\r\n        legend.values = legend.min || legend.max || legend.avg || legend.current || legend.total;\r\n        this.render();\r\n    };\r\n    GraphCtrl.prototype.exportCsv = function () {\r\n        var scope = this.$scope.$new(true);\r\n        scope.seriesList = this.seriesList;\r\n        this.publishAppEvent('show-modal', {\r\n            templateHtml: '<export-data-modal data=\"seriesList\"></export-data-modal>',\r\n            scope: scope,\r\n            modalClass: 'modal--narrow'\r\n        });\r\n    };\r\n    GraphCtrl.template = __WEBPACK_IMPORTED_MODULE_4__template__[\"a\" /* default */];\r\n    return GraphCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_7_app_plugins_sdk__[\"MetricsPanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1484:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ \ngraphDirective.$inject = [\"$rootScope\", \"timeSrv\", \"popoverSrv\", \"contextSrv\"];var __WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot__ = __webpack_require__(1315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vendor_flot_jquery_flot_selection__ = __webpack_require__(1334);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vendor_flot_jquery_flot_selection___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vendor_flot_jquery_flot_selection__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot_time__ = __webpack_require__(1335);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot_time___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot_time__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_stack__ = __webpack_require__(1336);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_stack___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_stack__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vendor_flot_jquery_flot_stackpercent__ = __webpack_require__(1337);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vendor_flot_jquery_flot_stackpercent___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vendor_flot_jquery_flot_stackpercent__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vendor_flot_jquery_flot_fillbelow__ = __webpack_require__(1338);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vendor_flot_jquery_flot_fillbelow___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_vendor_flot_jquery_flot_fillbelow__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vendor_flot_jquery_flot_crosshair__ = __webpack_require__(1339);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vendor_flot_jquery_flot_crosshair___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_vendor_flot_jquery_flot_crosshair__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vendor_flot_jquery_flot_dashes__ = __webpack_require__(1340);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_vendor_flot_jquery_flot_dashes___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_vendor_flot_jquery_flot_dashes__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__jquery_flot_events__ = __webpack_require__(1485);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__jquery_flot_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__jquery_flot_events__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_app_core_utils_ticks__ = __webpack_require__(1314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__graph_tooltip__ = __webpack_require__(1486);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__graph_tooltip___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__graph_tooltip__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__threshold_manager__ = __webpack_require__(1487);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_app_features_annotations_all__ = __webpack_require__(1316);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__histogram__ = __webpack_require__(1488);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/** @ngInject **/\r\nfunction graphDirective($rootScope, timeSrv, popoverSrv, contextSrv) {\r\n    return {\r\n        restrict: 'A',\r\n        template: '',\r\n        link: function (scope, elem) {\r\n            var ctrl = scope.ctrl;\r\n            var dashboard = ctrl.dashboard;\r\n            var panel = ctrl.panel;\r\n            var annotations = [];\r\n            var data;\r\n            var plot;\r\n            var sortedSeries;\r\n            var legendSideLastValue = null;\r\n            var rootScope = scope.$root;\r\n            var panelWidth = 0;\r\n            var eventManager = new __WEBPACK_IMPORTED_MODULE_17_app_features_annotations_all__[\"EventManager\"](ctrl);\r\n            var thresholdManager = new __WEBPACK_IMPORTED_MODULE_16__threshold_manager__[\"a\" /* ThresholdManager */](ctrl);\r\n            var tooltip = new __WEBPACK_IMPORTED_MODULE_15__graph_tooltip___default.a(elem, dashboard, scope, function () {\r\n                return sortedSeries;\r\n            });\r\n            // panel events\r\n            ctrl.events.on('panel-teardown', function () {\r\n                thresholdManager = null;\r\n                if (plot) {\r\n                    plot.destroy();\r\n                    plot = null;\r\n                }\r\n            });\r\n            ctrl.events.on('render', function (renderData) {\r\n                data = renderData || data;\r\n                if (!data) {\r\n                    return;\r\n                }\r\n                annotations = ctrl.annotations || [];\r\n                render_panel();\r\n            });\r\n            // global events\r\n            __WEBPACK_IMPORTED_MODULE_14_app_core_core__[\"appEvents\"].on('graph-hover', function (evt) {\r\n                // ignore other graph hover events if shared tooltip is disabled\r\n                if (!dashboard.sharedTooltipModeEnabled()) {\r\n                    return;\r\n                }\r\n                // ignore if we are the emitter\r\n                if (!plot || evt.panel.id === panel.id || ctrl.otherPanelInFullscreenMode()) {\r\n                    return;\r\n                }\r\n                tooltip.show(evt.pos);\r\n            }, scope);\r\n            __WEBPACK_IMPORTED_MODULE_14_app_core_core__[\"appEvents\"].on('graph-hover-clear', function (event, info) {\r\n                if (plot) {\r\n                    tooltip.clear(plot);\r\n                }\r\n            }, scope);\r\n            function getLegendHeight(panelHeight) {\r\n                if (!panel.legend.show || panel.legend.rightSide) {\r\n                    return 0;\r\n                }\r\n                if (panel.legend.alignAsTable) {\r\n                    var legendSeries = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.filter(data, function (series) {\r\n                        return series.hideFromLegend(panel.legend) === false;\r\n                    });\r\n                    var total = 23 + (21 * legendSeries.length);\r\n                    return Math.min(total, Math.floor(panelHeight / 2));\r\n                }\r\n                else {\r\n                    return 26;\r\n                }\r\n            }\r\n            function setElementHeight() {\r\n                try {\r\n                    var height = ctrl.height - getLegendHeight(ctrl.height);\r\n                    elem.css('height', height + 'px');\r\n                    return true;\r\n                }\r\n                catch (e) {\r\n                    console.log(e);\r\n                    return false;\r\n                }\r\n            }\r\n            function shouldAbortRender() {\r\n                if (!data) {\r\n                    return true;\r\n                }\r\n                if (!setElementHeight()) {\r\n                    return true;\r\n                }\r\n                if (panelWidth === 0) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function drawHook(plot) {\r\n                // Update legend values\r\n                var yaxis = plot.getYAxes();\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var series = data[i];\r\n                    var axis = yaxis[series.yaxis || 1 - 1]; //console.log(series)\r\n                    var formater = __WEBPACK_IMPORTED_MODULE_12_app_core_utils_kbn__[\"default\"].valueFormats[panel.yaxes[series.yaxis || 1 - 1].format];\r\n                    // decimal override\r\n                    if (__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.isNumber(panel.decimals)) {\r\n                        series.updateLegendValues(formater, panel.decimals, null);\r\n                    }\r\n                    else {\r\n                        // auto decimals\r\n                        // legend and tooltip gets one more decimal precision\r\n                        // than graph legend ticks\r\n                        var tickDecimals = ((axis ? axis.tickDecimals : 0) || -1) + 1;\r\n                        series.updateLegendValues(formater, tickDecimals, axis ? axis.scaledDecimals : 0 + 2);\r\n                    }\r\n                    if (!rootScope.$$phase) {\r\n                        scope.$digest();\r\n                    }\r\n                }\r\n                // add left axis labels\r\n                if (panel.yaxes[0].label && panel.yaxes[0].show) {\r\n                    __WEBPACK_IMPORTED_MODULE_9_jquery___default()(\"<div class='axisLabel left-yaxis-label flot-temp-elem'></div>\").text(panel.yaxes[0].label).appendTo(elem);\r\n                }\r\n                // add right axis labels\r\n                if (panel.yaxes[1].label && panel.yaxes[1].show) {\r\n                    __WEBPACK_IMPORTED_MODULE_9_jquery___default()(\"<div class='axisLabel right-yaxis-label flot-temp-elem'></div>\").text(panel.yaxes[1].label).appendTo(elem);\r\n                }\r\n                thresholdManager.draw(plot);\r\n            }\r\n            function processOffsetHook(plot, gridMargin) {\r\n                var left = panel.yaxes[0];\r\n                var right = panel.yaxes[1];\r\n                if (left.show && left.label) {\r\n                    gridMargin.left = 20;\r\n                }\r\n                if (right.show && right.label) {\r\n                    gridMargin.right = 20;\r\n                }\r\n                // apply y-axis min/max options\r\n                var yaxis = plot.getYAxes();\r\n                for (var i = 0; i < yaxis.length; i++) {\r\n                    var axis = yaxis[i];\r\n                    var panelOptions = panel.yaxes[i];\r\n                    axis.options.max = axis.options.max !== null ? axis.options.max : panelOptions.max;\r\n                    axis.options.min = axis.options.min !== null ? axis.options.min : panelOptions.min;\r\n                }\r\n            }\r\n            // Series could have different timeSteps,\r\n            // let's find the smallest one so that bars are correctly rendered.\r\n            // In addition, only take series which are rendered as bars for this.\r\n            function getMinTimeStepOfSeries(data) {\r\n                var min = Number.MAX_VALUE;\r\n                for (var i = 0; i < data.length; i++) {\r\n                    if (!data[i].stats.timeStep) {\r\n                        continue;\r\n                    }\r\n                    if (panel.bars) {\r\n                        if (data[i].bars && data[i].bars.show === false) {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (typeof data[i].bars === 'undefined' || typeof data[i].bars.show === 'undefined' || !data[i].bars.show) {\r\n                            continue;\r\n                        }\r\n                    }\r\n                    if (data[i].stats.timeStep < min) {\r\n                        min = data[i].stats.timeStep;\r\n                    }\r\n                }\r\n                return min;\r\n            }\r\n            // Function for rendering panel\r\n            function render_panel() {\r\n                panelWidth = elem.width();\r\n                if (shouldAbortRender()) {\r\n                    return;\r\n                }\r\n                // give space to alert editing\r\n                thresholdManager.prepare(elem, data);\r\n                // un-check dashes if lines are unchecked\r\n                panel.dashes = panel.lines ? panel.dashes : false;\r\n                var stack = panel.stack ? true : null;\r\n                // Populate element\r\n                var options = {\r\n                    hooks: {\r\n                        draw: [drawHook],\r\n                        processOffset: [processOffsetHook],\r\n                    },\r\n                    legend: { show: false },\r\n                    series: {\r\n                        stackpercent: panel.stack ? panel.percentage : false,\r\n                        stack: panel.percentage ? null : stack,\r\n                        lines: {\r\n                            show: panel.lines,\r\n                            zero: false,\r\n                            fill: translateFillOption(panel.fill),\r\n                            lineWidth: panel.dashes ? 0 : panel.linewidth,\r\n                            steps: panel.steppedLine\r\n                        },\r\n                        dashes: {\r\n                            show: panel.dashes,\r\n                            lineWidth: panel.linewidth,\r\n                            dashLength: [panel.dashLength, panel.spaceLength]\r\n                        },\r\n                        bars: {\r\n                            show: panel.bars,\r\n                            fill: 1,\r\n                            barWidth: 1,\r\n                            zero: false,\r\n                            lineWidth: 0\r\n                        },\r\n                        points: {\r\n                            show: panel.points,\r\n                            fill: 1,\r\n                            fillColor: false,\r\n                            radius: panel.points ? panel.pointradius : 2\r\n                        },\r\n                        shadowSize: 0\r\n                    },\r\n                    yaxes: [],\r\n                    xaxis: {},\r\n                    grid: {\r\n                        minBorderMargin: 0,\r\n                        markings: [],\r\n                        backgroundColor: null,\r\n                        borderWidth: 0,\r\n                        hoverable: true,\r\n                        clickable: true,\r\n                        color: '#c8c8c8',\r\n                        margin: { left: 0, right: 0 },\r\n                        labelMarginX: 0,\r\n                    },\r\n                    selection: {\r\n                        mode: \"x\",\r\n                        color: '#666'\r\n                    },\r\n                    crosshair: {\r\n                        mode: 'x'\r\n                    }\r\n                };\r\n                for (var i = 0; i < data.length; i++) {\r\n                    var series = data[i];\r\n                    series.data = series.getFlotPairs(series.nullPointMode || panel.nullPointMode);\r\n                    // if hidden remove points and disable stack\r\n                    if (ctrl.hiddenSeries[series.alias]) {\r\n                        series.data = [];\r\n                        series.stack = false;\r\n                    }\r\n                }\r\n                switch (panel.xaxis.mode) {\r\n                    case 'series': {\r\n                        options.series.bars.barWidth = 0.7;\r\n                        options.series.bars.align = 'center';\r\n                        for (var i = 0; i < data.length; i++) {\r\n                            var series = data[i];\r\n                            series.data = [[i + 1, series.stats[panel.xaxis.values[0]]]];\r\n                        }\r\n                        addXSeriesAxis(options);\r\n                        break;\r\n                    }\r\n                    case 'histogram': {\r\n                        var bucketSize = void 0;\r\n                        var values = Object(__WEBPACK_IMPORTED_MODULE_18__histogram__[\"b\" /* getSeriesValues */])(data);\r\n                        if (data.length && values.length) {\r\n                            var histMin = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.min(__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(data, function (s) { return s.stats.min; }));\r\n                            var histMax = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.max(__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(data, function (s) { return s.stats.max; }));\r\n                            var ticks = panel.xaxis.buckets || panelWidth / 50;\r\n                            bucketSize = Object(__WEBPACK_IMPORTED_MODULE_13_app_core_utils_ticks__[\"tickStep\"])(histMin, histMax, ticks);\r\n                            var histogram = Object(__WEBPACK_IMPORTED_MODULE_18__histogram__[\"a\" /* convertValuesToHistogram */])(values, bucketSize);\r\n                            data[0].data = histogram;\r\n                            options.series.bars.barWidth = bucketSize * 0.8;\r\n                        }\r\n                        else {\r\n                            bucketSize = 0;\r\n                        }\r\n                        addXHistogramAxis(options, bucketSize);\r\n                        break;\r\n                    }\r\n                    case 'table': {\r\n                        options.series.bars.barWidth = 0.7;\r\n                        options.series.bars.align = 'center';\r\n                        addXTableAxis(options);\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        options.series.bars.barWidth = getMinTimeStepOfSeries(data) / 1.5;\r\n                        addTimeAxis(options);\r\n                        break;\r\n                    }\r\n                }\r\n                thresholdManager.addFlotOptions(options, panel);\r\n                eventManager.addFlotEvents(annotations, options);\r\n                configureAxisOptions(data, options);\r\n                sortedSeries = sortSeries(data, ctrl.panel);\r\n                function callPlot(incrementRenderCounter) {\r\n                    try {\r\n                        plot = __WEBPACK_IMPORTED_MODULE_9_jquery___default.a.plot(elem, sortedSeries, options);\r\n                        if (ctrl.renderError) {\r\n                            delete ctrl.error;\r\n                            delete ctrl.inspector;\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        console.log('flotcharts error', e);\r\n                        ctrl.error = e.message || \"Render Error\";\r\n                        ctrl.renderError = true;\r\n                        ctrl.inspector = { error: e };\r\n                    }\r\n                    if (incrementRenderCounter) {\r\n                        ctrl.renderingCompleted();\r\n                    }\r\n                }\r\n                if (shouldDelayDraw(panel)) {\r\n                    // temp fix for legends on the side, need to render twice to get dimensions right\r\n                    callPlot(false);\r\n                    setTimeout(function () { callPlot(true); }, 50);\r\n                    legendSideLastValue = panel.legend.rightSide;\r\n                }\r\n                else {\r\n                    callPlot(true);\r\n                }\r\n            }\r\n            function sortSeries(series, panel) {\r\n                var sortBy = panel.legend.sort;\r\n                var sortOrder = panel.legend.sortDesc;\r\n                var haveSortBy = sortBy !== null || sortBy !== undefined;\r\n                var haveSortOrder = sortOrder !== null || sortOrder !== undefined;\r\n                if (panel.stack && haveSortBy && haveSortOrder) {\r\n                    var desc = desc = panel.legend.sortDesc === true ? -1 : 1;\r\n                    series.sort(function (x, y) {\r\n                        if (x.stats[sortBy] > y.stats[sortBy]) {\r\n                            return 1 * desc;\r\n                        }\r\n                        if (x.stats[sortBy] < y.stats[sortBy]) {\r\n                            return -1 * desc;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                }\r\n                series.sort(function (x, y) {\r\n                    if (x.zindex > y.zindex) {\r\n                        return 1;\r\n                    }\r\n                    if (x.zindex < y.zindex) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                return series;\r\n            }\r\n            function translateFillOption(fill) {\r\n                if (panel.percentage && panel.stack) {\r\n                    return fill === 0 ? 0.001 : fill / 10;\r\n                }\r\n                else {\r\n                    return fill / 10;\r\n                }\r\n            }\r\n            function shouldDelayDraw(panel) {\r\n                if (panel.legend.rightSide) {\r\n                    return true;\r\n                }\r\n                if (legendSideLastValue !== null && panel.legend.rightSide !== legendSideLastValue) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function addTimeAxis(options) {\r\n                var ticks = panelWidth / 100;\r\n                var min = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.isUndefined(ctrl.range.from) ? null : ctrl.range.from.valueOf();\r\n                var max = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.isUndefined(ctrl.range.to) ? null : ctrl.range.to.valueOf();\r\n                options.xaxis = {\r\n                    timezone: dashboard.getTimezone(),\r\n                    show: panel.xaxis.show,\r\n                    mode: \"time\",\r\n                    min: min,\r\n                    max: max,\r\n                    label: \"Datetime\",\r\n                    ticks: ticks,\r\n                    timeformat: time_format(ticks, min, max),\r\n                };\r\n            }\r\n            function addXSeriesAxis(options) {\r\n                var ticks = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(data, function (series, index) {\r\n                    return [index + 1, series.alias];\r\n                });\r\n                options.xaxis = {\r\n                    timezone: dashboard.getTimezone(),\r\n                    show: panel.xaxis.show,\r\n                    mode: null,\r\n                    min: 0,\r\n                    max: ticks.length + 1,\r\n                    label: \"Datetime\",\r\n                    ticks: ticks\r\n                };\r\n            }\r\n            function addXHistogramAxis(options, bucketSize) {\r\n                var ticks, min, max;\r\n                var defaultTicks = panelWidth / 50;\r\n                if (data.length && bucketSize) {\r\n                    ticks = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(data[0].data, function (point) { return point[0]; });\r\n                    min = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.min(ticks);\r\n                    max = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.max(ticks);\r\n                    // Adjust tick step\r\n                    var tickStep_1 = bucketSize;\r\n                    var ticks_num = Math.floor((max - min) / tickStep_1);\r\n                    while (ticks_num > defaultTicks) {\r\n                        tickStep_1 = tickStep_1 * 2;\r\n                        ticks_num = Math.ceil((max - min) / tickStep_1);\r\n                    }\r\n                    // Expand ticks for pretty view\r\n                    min = Math.floor(min / tickStep_1) * tickStep_1;\r\n                    max = Math.ceil(max / tickStep_1) * tickStep_1;\r\n                    ticks = [];\r\n                    for (var i = min; i <= max; i += tickStep_1) {\r\n                        ticks.push(i);\r\n                    }\r\n                }\r\n                else {\r\n                    // Set defaults if no data\r\n                    ticks = defaultTicks / 2;\r\n                    min = 0;\r\n                    max = 1;\r\n                }\r\n                options.xaxis = {\r\n                    timezone: dashboard.getTimezone(),\r\n                    show: panel.xaxis.show,\r\n                    mode: null,\r\n                    min: min,\r\n                    max: max,\r\n                    label: \"Histogram\",\r\n                    ticks: ticks\r\n                };\r\n                // Use 'short' format for histogram values\r\n                configureAxisMode(options.xaxis, 'short');\r\n            }\r\n            function addXTableAxis(options) {\r\n                var ticks = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(data, function (series, seriesIndex) {\r\n                    return __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.map(series.datapoints, function (point, pointIndex) {\r\n                        var tickIndex = seriesIndex * series.datapoints.length + pointIndex;\r\n                        return [tickIndex + 1, point[1]];\r\n                    });\r\n                });\r\n                ticks = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.flatten(ticks, true);\r\n                options.xaxis = {\r\n                    timezone: dashboard.getTimezone(),\r\n                    show: panel.xaxis.show,\r\n                    mode: null,\r\n                    min: 0,\r\n                    max: ticks.length + 1,\r\n                    label: \"Datetime\",\r\n                    ticks: ticks\r\n                };\r\n            }\r\n            function configureAxisOptions(data, options) {\r\n                var defaults = {\r\n                    position: 'left',\r\n                    show: panel.yaxes[0].show,\r\n                    index: 1,\r\n                    logBase: panel.yaxes[0].logBase || 1,\r\n                    min: parseNumber(panel.yaxes[0].min),\r\n                    max: parseNumber(panel.yaxes[0].max),\r\n                    tickDecimals: panel.yaxes[0].decimals\r\n                };\r\n                options.yaxes.push(defaults);\r\n                if (__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.find(data, { yaxis: 2 })) {\r\n                    var secondY = __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.clone(defaults);\r\n                    secondY.index = 2;\r\n                    secondY.show = panel.yaxes[1].show;\r\n                    secondY.logBase = panel.yaxes[1].logBase || 1;\r\n                    secondY.position = 'right';\r\n                    secondY.min = parseNumber(panel.yaxes[1].min);\r\n                    secondY.max = parseNumber(panel.yaxes[1].max);\r\n                    secondY.tickDecimals = panel.yaxes[1].decimals;\r\n                    options.yaxes.push(secondY);\r\n                    applyLogScale(options.yaxes[1], data);\r\n                    configureAxisMode(options.yaxes[1], panel.percentage && panel.stack ? \"percent\" : panel.yaxes[1].format);\r\n                }\r\n                applyLogScale(options.yaxes[0], data);\r\n                configureAxisMode(options.yaxes[0], panel.percentage && panel.stack ? \"percent\" : panel.yaxes[0].format);\r\n            }\r\n            function parseNumber(value) {\r\n                if (value === null || typeof value === 'undefined') {\r\n                    return null;\r\n                }\r\n                return __WEBPACK_IMPORTED_MODULE_10_lodash___default.a.toNumber(value);\r\n            }\r\n            function applyLogScale(axis, data) {\r\n                if (axis.logBase === 1) {\r\n                    return;\r\n                }\r\n                var minSetToZero = axis.min === 0;\r\n                if (axis.min < Number.MIN_VALUE) {\r\n                    axis.min = null;\r\n                }\r\n                if (axis.max < Number.MIN_VALUE) {\r\n                    axis.max = null;\r\n                }\r\n                var series, i;\r\n                var max = axis.max, min = axis.min;\r\n                for (i = 0; i < data.length; i++) {\r\n                    series = data[i];\r\n                    if (series.yaxis === axis.index) {\r\n                        if (!max || max < series.stats.max) {\r\n                            max = series.stats.max;\r\n                        }\r\n                        if (!min || min > series.stats.logmin) {\r\n                            min = series.stats.logmin;\r\n                        }\r\n                    }\r\n                }\r\n                axis.transform = function (v) { return (v < Number.MIN_VALUE) ? null : Math.log(v) / Math.log(axis.logBase); };\r\n                axis.inverseTransform = function (v) { return Math.pow(axis.logBase, v); };\r\n                if (!max && !min) {\r\n                    max = axis.inverseTransform(+2);\r\n                    min = axis.inverseTransform(-2);\r\n                }\r\n                else if (!max) {\r\n                    max = min * axis.inverseTransform(+4);\r\n                }\r\n                else if (!min) {\r\n                    min = max * axis.inverseTransform(-4);\r\n                }\r\n                if (axis.min) {\r\n                    min = axis.inverseTransform(Math.ceil(axis.transform(axis.min)));\r\n                }\r\n                else {\r\n                    min = axis.min = axis.inverseTransform(Math.floor(axis.transform(min)));\r\n                }\r\n                if (axis.max) {\r\n                    max = axis.inverseTransform(Math.floor(axis.transform(axis.max)));\r\n                }\r\n                else {\r\n                    max = axis.max = axis.inverseTransform(Math.ceil(axis.transform(max)));\r\n                }\r\n                if (!min || min < Number.MIN_VALUE || !max || max < Number.MIN_VALUE) {\r\n                    return;\r\n                }\r\n                if (Number.isFinite(min) && Number.isFinite(max)) {\r\n                    if (minSetToZero) {\r\n                        axis.min = 0.1;\r\n                        min = 1;\r\n                    }\r\n                    axis.ticks = generateTicksForLogScaleYAxis(min, max, axis.logBase);\r\n                    if (minSetToZero) {\r\n                        axis.ticks.unshift(0.1);\r\n                    }\r\n                    if (axis.ticks[axis.ticks.length - 1] > axis.max) {\r\n                        axis.max = axis.ticks[axis.ticks.length - 1];\r\n                    }\r\n                }\r\n                else {\r\n                    axis.ticks = [1, 2];\r\n                    delete axis.min;\r\n                    delete axis.max;\r\n                }\r\n            }\r\n            function generateTicksForLogScaleYAxis(min, max, logBase) {\r\n                var ticks = [];\r\n                var nextTick;\r\n                for (nextTick = min; nextTick <= max; nextTick *= logBase) {\r\n                    ticks.push(nextTick);\r\n                }\r\n                var maxNumTicks = Math.ceil(ctrl.height / 25);\r\n                var numTicks = ticks.length;\r\n                if (numTicks > maxNumTicks) {\r\n                    var factor = Math.ceil(numTicks / maxNumTicks) * logBase;\r\n                    ticks = [];\r\n                    for (nextTick = min; nextTick <= (max * factor); nextTick *= factor) {\r\n                        ticks.push(nextTick);\r\n                    }\r\n                }\r\n                return ticks;\r\n            }\r\n            function configureAxisMode(axis, format) {\r\n                axis.tickFormatter = function (val, axis) {\r\n                    return __WEBPACK_IMPORTED_MODULE_12_app_core_utils_kbn__[\"default\"].valueFormats[format](val, axis.tickDecimals, axis.scaledDecimals);\r\n                };\r\n            }\r\n            function time_format(ticks, min, max) {\r\n                if (min && max && ticks) {\r\n                    var range = max - min;\r\n                    var secPerTick = (range / ticks) / 1000;\r\n                    var oneDay = 86400000;\r\n                    var oneYear = 31536000000;\r\n                    if (secPerTick <= 45) {\r\n                        return \"%H:%M:%S\";\r\n                    }\r\n                    if (secPerTick <= 7200 || range <= oneDay) {\r\n                        return \"%H:%M\";\r\n                    }\r\n                    if (secPerTick <= 80000) {\r\n                        return \"%m/%d %H:%M\";\r\n                    }\r\n                    if (secPerTick <= 2419200 || range <= oneYear) {\r\n                        return \"%m/%d\";\r\n                    }\r\n                    return \"%Y-%m\";\r\n                }\r\n                return \"%H:%M\";\r\n            }\r\n            elem.bind(\"plotselected\", function (event, ranges) {\r\n                if ((ranges.ctrlKey || ranges.metaKey) && contextSrv.isEditor) {\r\n                    setTimeout(function () {\r\n                        eventManager.updateTime(ranges.xaxis);\r\n                    }, 100);\r\n                }\r\n                else {\r\n                    scope.$apply(function () {\r\n                        timeSrv.setTime({\r\n                            from: __WEBPACK_IMPORTED_MODULE_11_moment___default.a.utc(ranges.xaxis.from),\r\n                            to: __WEBPACK_IMPORTED_MODULE_11_moment___default.a.utc(ranges.xaxis.to),\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n            elem.bind(\"plotclick\", function (event, pos, item) {\r\n                if ((pos.ctrlKey || pos.metaKey) && contextSrv.isEditor) {\r\n                    // Skip if range selected (added in \"plotselected\" event handler)\r\n                    var isRangeSelection = pos.x !== pos.x1;\r\n                    if (!isRangeSelection) {\r\n                        setTimeout(function () {\r\n                            eventManager.updateTime({ from: pos.x, to: null });\r\n                        }, 100);\r\n                    }\r\n                }\r\n            });\r\n            scope.$on('$destroy', function () {\r\n                tooltip.destroy();\r\n                elem.off();\r\n                elem.remove();\r\n            });\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_14_app_core_core__[\"coreModule\"].directive('grafanaGraph', graphDirective);\r\n\n\n/***/ }),\n\n/***/ 1485:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(13),\n  __webpack_require__(7),\n  __webpack_require__(12),\n  __webpack_require__(79),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, _, angular, Drop) {\n  'use strict';\n\n  function createAnnotationToolip(element, event, plot) {\n    var injector = angular.element(document).injector();\n    var content = document.createElement('div');\n    content.innerHTML = '<annotation-tooltip event=\"event\" on-edit=\"onEdit()\"></annotation-tooltip>';\n\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n      var eventManager = plot.getOptions().events.manager;\n      var tmpScope = $rootScope.$new(true);\n      tmpScope.event = event;\n      tmpScope.onEdit = function() {\n        eventManager.editEvent(event);\n      };\n\n      $compile(content)(tmpScope);\n      tmpScope.$digest();\n      tmpScope.$destroy();\n\n      var drop = new Drop({\n        target: element[0],\n        content: content,\n        position: \"bottom center\",\n        classes: 'drop-popover drop-popover--annotation',\n        openOn: 'hover',\n        hoverCloseDelay: 200,\n        tetherOptions: {\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n        }\n      });\n\n      drop.open();\n\n      drop.on('close', function() {\n        setTimeout(function() {\n          drop.destroy();\n        });\n      });\n    }]);\n  }\n\n  var markerElementToAttachTo = null;\n\n  function createEditPopover(element, event, plot) {\n    var eventManager = plot.getOptions().events.manager;\n    if (eventManager.editorOpen) {\n      // update marker element to attach to (needed in case of legend on the right\n      // when there is a double render pass and the inital marker element is removed)\n      markerElementToAttachTo = element;\n      return;\n    }\n\n    // mark as openend\n    eventManager.editorOpened();\n    // set marker elment to attache to\n    markerElementToAttachTo = element;\n\n    // wait for element to be attached and positioned\n    setTimeout(function() {\n\n      var injector = angular.element(document).injector();\n      var content = document.createElement('div');\n      content.innerHTML = '<event-editor panel-ctrl=\"panelCtrl\" event=\"event\" close=\"close()\"></event-editor>';\n\n      injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n        var scope = $rootScope.$new(true);\n        var drop;\n\n        scope.event = event;\n        scope.panelCtrl = eventManager.panelCtrl;\n        scope.close = function() {\n          drop.close();\n        };\n\n        $compile(content)(scope);\n        scope.$digest();\n\n        drop = new Drop({\n          target: markerElementToAttachTo[0],\n          content: content,\n          position: \"bottom center\",\n          classes: 'drop-popover drop-popover--form',\n          openOn: 'click',\n          tetherOptions: {\n            constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n          }\n        });\n\n        drop.open();\n        eventManager.editorOpened();\n\n        drop.on('close', function() {\n          // need timeout here in order call drop.destroy\n          setTimeout(function() {\n            eventManager.editorClosed();\n            scope.$destroy();\n            drop.destroy();\n          });\n        });\n      }]);\n\n    }, 100);\n  }\n\n  /*\n   * jquery.flot.events\n   *\n   * description: Flot plugin for adding events/markers to the plot\n   * version: 0.2.5\n   * authors:\n   *    Alexander Wunschik <alex@wunschik.net>\n   *    Joel Oughton <joeloughton@gmail.com>\n   *    Nicolas Joseph <www.nicolasjoseph.com>\n   *\n   * website: https://github.com/mojoaxel/flot-events\n   *\n   * released under MIT License and GPLv2+\n   */\n\n  /**\n   * A class that allows for the drawing an remove of some object\n   */\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\n    var _object = object;\n    var\t_drawFunc = drawFunc;\n    var\t_clearFunc = clearFunc;\n    var\t_moveFunc = moveFunc;\n    var\t_position = { left: left, top: top };\n    var\t_width = width;\n    var\t_height = height;\n\n    this.width = function() { return _width; };\n    this.height = function() { return _height; };\n    this.position = function() { return _position; };\n    this.draw = function() { _drawFunc(_object); };\n    this.clear = function() { _clearFunc(_object); };\n    this.getObject = function() { return _object; };\n    this.moveTo = function(position) {\n      _position = position;\n      _moveFunc(_object, _position);\n    };\n  };\n\n  /**\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\n   */\n  var VisualEvent = function(options, drawableEvent) {\n    var _parent;\n    var _options = options;\n    var _drawableEvent = drawableEvent;\n    var _hidden = false;\n\n    this.visual = function() { return _drawableEvent; };\n    this.getOptions = function() { return _options; };\n    this.getParent = function() { return _parent; };\n    this.isHidden = function() { return _hidden; };\n    this.hide = function() { _hidden = true; };\n    this.unhide = function() { _hidden = false; };\n  };\n\n  /**\n   * A Class that handles the event-markers inside the given plot\n   */\n  var EventMarkers = function(plot) {\n    var _events = [];\n\n    this._types = [];\n    this._plot = plot;\n    this.eventsEnabled = false;\n\n    this.getEvents = function() {\n      return _events;\n    };\n\n    this.setTypes = function(types) {\n      return this._types = types;\n    };\n\n    /**\n     * create internal objects for the given events\n     */\n    this.setupEvents = function(events) {\n      var that = this;\n      var parts = _.partition(events, 'isRegion');\n      var regions = parts[0];\n      events = parts[1];\n\n      $.each(events, function(index, event) {\n        var ve = new VisualEvent(event, that._buildDiv(event));\n        _events.push(ve);\n      });\n\n      $.each(regions, function (index, event) {\n        var vre = new VisualEvent(event, that._buildRegDiv(event));\n        _events.push(vre);\n      });\n\n      _events.sort(function(a, b) {\n        var ao = a.getOptions(), bo = b.getOptions();\n        if (ao.min > bo.min) { return 1; }\n        if (ao.min < bo.min) { return -1; }\n        return 0;\n      });\n    };\n\n    /**\n     * draw the events to the plot\n     */\n    this.drawEvents = function() {\n      var that = this;\n      // var o = this._plot.getPlotOffset();\n\n      $.each(_events, function(index, event) {\n        // check event is inside the graph range\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\n          event.visual().draw();\n        }  else {\n          event.visual().getObject().hide();\n        }\n      });\n    };\n\n    /**\n     * update the position of the event-markers (e.g. after scrolling or zooming)\n     */\n    this.updateEvents = function() {\n      var that = this;\n      var o = this._plot.getPlotOffset(), left, top;\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n\n      $.each(_events, function(index, event) {\n        top = o.top + that._plot.height() - event.visual().height();\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\n        event.visual().moveTo({ top: top, left: left });\n      });\n    };\n\n    /**\n     * remove all events from the plot\n     */\n    this._clearEvents = function() {\n      $.each(_events, function(index, val) {\n        val.visual().clear();\n      });\n      _events = [];\n    };\n\n    /**\n     * create a DOM element for the given event\n     */\n    this._buildDiv = function(event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\n      var markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\n        markerSize = 8; //default marker size\n      } else {\n        markerSize = this._types[eventTypeId].markerSize;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\n        markerShow = true;\n      } else {\n        markerShow = this._types[eventTypeId].markerShow;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      var topOffset = xaxis.options.eventSectionHeight || 0;\n      topOffset = topOffset / 3;\n\n      top = o.top + this._plot.height() + topOffset;\n      left = xaxis.p2c(event.min) + o.left;\n\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.8,\n        \"left\": left + 'px',\n        \"top\": 8,\n        \"width\": lineWidth + \"px\",\n        \"height\": this._plot.height() + topOffset * 0.8,\n        \"border-left-width\": lineWidth + \"px\",\n        \"border-left-style\": lineStyle,\n        \"border-left-color\": color,\n        \"color\": color\n      })\n      .appendTo(container);\n\n      if (markerShow) {\n        var marker = $('<div class=\"events_marker\"></div>').css({\n          \"position\": \"absolute\",\n          \"left\": (-markerSize - Math.round(lineWidth / 2)) + \"px\",\n          \"font-size\": 0,\n          \"line-height\": 0,\n          \"width\": 0,\n          \"height\": 0,\n          \"border-left\": markerSize+\"px solid transparent\",\n          \"border-right\": markerSize+\"px solid transparent\"\n        });\n\n        marker.appendTo(line);\n\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\n          marker.css({\n            \"top\": top-markerSize-8 +\"px\",\n            \"border-top\": \"none\",\n            \"border-bottom\": markerSize+\"px solid \" + color\n          });\n        } else {\n          marker.css({\n            \"top\": \"0px\",\n            \"border-top\": markerSize+\"px solid \" + color,\n            \"border-bottom\": \"none\"\n          });\n        }\n\n        marker.data({\n          \"event\": event\n        });\n\n        var mouseenter = function() {\n          createAnnotationToolip(marker, $(this).data(\"event\"), that._plot);\n        };\n\n        if (event.editModel) {\n          createEditPopover(marker, event.editModel, that._plot);\n        }\n\n        var mouseleave = function() {\n          that._plot.clearSelection();\n        };\n\n        if (markerTooltip) {\n          marker.css({ \"cursor\": \"help\" });\n          marker.hover(mouseenter, mouseleave);\n        }\n      }\n\n      var drawableEvent = new DrawableEvent(\n        line,\n        function drawFunc(obj) { obj.show(); },\n        function(obj) { obj.remove(); },\n        function(obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        line.width(),\n        line.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * create a DOM element for the given region\n     */\n    this._buildRegDiv = function (event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, lineWidth, regionWidth, lineStyle, color, markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      var topOffset = 2;\n      top = o.top + this._plot.height() + topOffset;\n\n      var timeFrom = Math.min(event.min, event.timeEnd);\n      var timeTo = Math.max(event.min, event.timeEnd);\n      left = xaxis.p2c(timeFrom) + o.left;\n      var right = xaxis.p2c(timeTo) + o.left;\n      regionWidth = right - left;\n\n      _.each([left, right], function(position) {\n        var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n          \"position\": \"absolute\",\n          \"opacity\": 0.8,\n          \"left\": position + 'px',\n          \"top\": 8,\n          \"width\": lineWidth + \"px\",\n          \"height\": that._plot.height() + topOffset,\n          \"border-left-width\": lineWidth + \"px\",\n          \"border-left-style\": lineStyle,\n          \"border-left-color\": color,\n          \"color\": color\n        });\n        line.appendTo(container);\n      });\n\n      var region = $('<div class=\"events_marker region_marker flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.5,\n        \"left\": left + 'px',\n        \"top\": top,\n        \"width\": Math.round(regionWidth + lineWidth) + \"px\",\n        \"height\": \"0.5rem\",\n        \"border-left-color\": color,\n        \"color\": color,\n        \"background-color\": color\n      });\n      region.appendTo(container);\n\n      region.data({\n        \"event\": event\n      });\n\n      var mouseenter = function () {\n        createAnnotationToolip(region, $(this).data(\"event\"), that._plot);\n      };\n\n      if (event.editModel) {\n        createEditPopover(region, event.editModel, that._plot);\n      }\n\n      var mouseleave = function () {\n        that._plot.clearSelection();\n      };\n\n      if (markerTooltip) {\n        region.css({ \"cursor\": \"help\" });\n        region.hover(mouseenter, mouseleave);\n      }\n\n      var drawableEvent = new DrawableEvent(\n        region,\n        function drawFunc(obj) { obj.show(); },\n        function (obj) { obj.remove(); },\n        function (obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        region.width(),\n        region.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * check if the event is inside visible range\n     */\n    this._insidePlot = function(x) {\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var xc = xaxis.p2c(x);\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\n    };\n  };\n\n  /**\n   * initialize the plugin for the given plot\n   */\n  function init(plot) {\n    /*jshint validthis:true */\n    var that = this;\n    var eventMarkers = new EventMarkers(plot);\n\n    plot.getEvents = function() {\n      return eventMarkers._events;\n    };\n\n    plot.hideEvents = function() {\n      $.each(eventMarkers._events, function(index, event) {\n        event.visual().getObject().hide();\n      });\n    };\n\n    plot.showEvents = function() {\n      plot.hideEvents();\n      $.each(eventMarkers._events, function(index, event) {\n        event.hide();\n      });\n\n      that.eventMarkers.drawEvents();\n    };\n\n    // change events on an existing plot\n    plot.setEvents = function(events) {\n      if (eventMarkers.eventsEnabled) {\n        eventMarkers.setupEvents(events);\n      }\n    };\n\n    plot.hooks.processOptions.push(function(plot, options) {\n      // enable the plugin\n      if (options.events.data != null) {\n        eventMarkers.eventsEnabled = true;\n      }\n    });\n\n    plot.hooks.draw.push(function(plot) {\n      var options = plot.getOptions();\n\n      if (eventMarkers.eventsEnabled) {\n        // check for first run\n        if (eventMarkers.getEvents().length < 1) {\n          eventMarkers.setTypes(options.events.types);\n          eventMarkers.setupEvents(options.events.data);\n        } else {\n          eventMarkers.updateEvents();\n        }\n      }\n\n      eventMarkers.drawEvents();\n    });\n  }\n\n  var defaultOptions = {\n    events: {\n      data: null,\n      types: null,\n      xaxis: 1,\n      position: 'BOTTOM'\n    }\n  };\n\n  $.plot.plugins.push({\n    init: init,\n    options: defaultOptions,\n    name: \"events\",\n    version: \"0.2.5\"\n  });\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1486:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(13),\n  __webpack_require__(465),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, core) {\n  'use strict';\n\n  var appEvents = core.appEvents;\n\n  function GraphTooltip(elem, dashboard, scope, getSeriesFn) {\n    var self = this;\n    var ctrl = scope.ctrl;\n    var panel = ctrl.panel;\n\n    var $tooltip = $('<div class=\"graph-tooltip\">');\n\n    this.destroy = function() {\n      $tooltip.remove();\n    };\n\n    this.findHoverIndexFromDataPoints = function(posX, series, last) {\n      var ps = series.datapoints.pointsize;\n      var initial = last*ps;\n      var len = series.datapoints.points.length;\n      for (var j = initial; j < len; j += ps) {\n        // Special case of a non stepped line, highlight the very last point just before a null point\n        if ((!series.lines.steps && series.datapoints.points[initial] != null && series.datapoints.points[j] == null)\n            //normal case\n            || series.datapoints.points[j] > posX) {\n          return Math.max(j - ps,  0)/ps;\n        }\n      }\n      return j/ps - 1;\n    };\n\n    this.findHoverIndexFromData = function(posX, series) {\n      var lower = 0;\n      var upper = series.data.length - 1;\n      var middle;\n      while (true) {\n        if (lower > upper) {\n          return Math.max(upper, 0);\n        }\n        middle = Math.floor((lower + upper) / 2);\n        if (series.data[middle][0] === posX) {\n          return middle;\n        } else if (series.data[middle][0] < posX) {\n          lower = middle + 1;\n        } else {\n          upper = middle - 1;\n        }\n      }\n    };\n\n    this.renderAndShow = function(absoluteTime, innerHtml, pos, xMode) {\n      if (xMode === 'time') {\n        innerHtml = '<div class=\"graph-tooltip-time\">'+ absoluteTime + '</div>' + innerHtml;\n      }\n      $tooltip.html(innerHtml).place_tt(pos.pageX + 20, pos.pageY);\n    };\n\n    this.getMultiSeriesPlotHoverInfo = function(seriesList, pos) {\n      var value, i, series, hoverIndex, hoverDistance, pointTime, yaxis;\n      // 3 sub-arrays, 1st for hidden series, 2nd for left yaxis, 3rd for right yaxis.\n      var results = [[],[],[]];\n\n      //now we know the current X (j) position for X and Y values\n      var last_value = 0; //needed for stacked values\n\n      var minDistance, minTime;\n\n      for (i = 0; i < seriesList.length; i++) {\n        series = seriesList[i];\n\n        if (!series.data.length || (panel.legend.hideEmpty && series.allIsNull)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        if (!series.data.length || (panel.legend.hideZero && series.allIsZero)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        hoverIndex = this.findHoverIndexFromData(pos.x, series);\n        hoverDistance = pos.x - series.data[hoverIndex][0];\n        pointTime = series.data[hoverIndex][0];\n\n        // Take the closest point before the cursor, or if it does not exist, the closest after\n        if (! minDistance\n            || (hoverDistance >=0 && (hoverDistance < minDistance || minDistance < 0))\n            || (hoverDistance < 0 && hoverDistance > minDistance)) {\n          minDistance = hoverDistance;\n          minTime = pointTime;\n        }\n\n        if (series.stack) {\n          if (panel.tooltip.value_type === 'individual') {\n            value = series.data[hoverIndex][1];\n          } else if (!series.stack) {\n            value = series.data[hoverIndex][1];\n          } else {\n            last_value += series.data[hoverIndex][1];\n            value = last_value;\n          }\n        } else {\n          value = series.data[hoverIndex][1];\n        }\n\n        // Highlighting multiple Points depending on the plot type\n        if (series.lines.steps || series.stack) {\n          // stacked and steppedLine plots can have series with different length.\n          // Stacked series can increase its length on each new stacked serie if null points found,\n          // to speed the index search we begin always on the last found hoverIndex.\n          hoverIndex = this.findHoverIndexFromDataPoints(pos.x, series, hoverIndex);\n        }\n\n        // Be sure we have a yaxis so that it does not brake series sorting\n        yaxis = 0;\n        if (series.yaxis) {\n          yaxis = series.yaxis.n;\n        }\n\n        results[yaxis].push({\n          value: value,\n          hoverIndex: hoverIndex,\n          color: series.color,\n          label: series.aliasEscaped,\n          time: pointTime,\n          distance: hoverDistance,\n          index: i\n        });\n      }\n\n      // Contat the 3 sub-arrays\n      results = results[0].concat(results[1],results[2]);\n\n      // Time of the point closer to pointer\n      results.time = minTime;\n\n      return results;\n    };\n\n    elem.mouseleave(function () {\n      if (panel.tooltip.shared) {\n        var plot = elem.data().plot;\n        if (plot) {\n          $tooltip.detach();\n          plot.unhighlight();\n        }\n      }\n      appEvents.emit('graph-hover-clear');\n    });\n\n    elem.bind(\"plothover\", function (event, pos, item) {\n      self.show(pos, item);\n\n      // broadcast to other graph panels that we are hovering!\n      pos.panelRelY = (pos.pageY - elem.offset().top) / elem.height();\n      appEvents.emit('graph-hover', {pos: pos, panel: panel});\n    });\n\n    elem.bind(\"plotclick\", function (event, pos, item) {\n      appEvents.emit('graph-click', {pos: pos, panel: panel, item: item});\n    });\n\n    this.clear = function(plot) {\n      $tooltip.detach();\n      plot.clearCrosshair();\n      plot.unhighlight();\n    };\n\n    this.show = function(pos, item) {\n      var plot = elem.data().plot;\n      var plotData = plot.getData();\n      var xAxes = plot.getXAxes();\n      var xMode = xAxes[0].options.mode;\n      var seriesList = getSeriesFn();\n      var allSeriesMode = panel.tooltip.shared;\n      var group, value, absoluteTime, hoverInfo, i, series, seriesHtml, tooltipFormat;\n\n      // if panelRelY is defined another panel wants us to show a tooltip\n      // get pageX from position on x axis and pageY from relative position in original panel\n      if (pos.panelRelY) {\n        var pointOffset = plot.pointOffset({x: pos.x});\n        if (Number.isNaN(pointOffset.left) || pointOffset.left < 0 || pointOffset.left > elem.width()) {\n          self.clear(plot);\n          return;\n        }\n        pos.pageX = elem.offset().left + pointOffset.left;\n        pos.pageY = elem.offset().top + elem.height() * pos.panelRelY;\n        var isVisible = pos.pageY >= $(window).scrollTop() && pos.pageY <= $(window).innerHeight() + $(window).scrollTop();\n        if (!isVisible) {\n          self.clear(plot);\n          return;\n        }\n        plot.setCrosshair(pos);\n        allSeriesMode = true;\n\n        if (dashboard.sharedCrosshairModeOnly()) {\n          // if only crosshair mode we are done\n          return;\n        }\n      }\n\n      if (seriesList.length === 0) {\n        return;\n      }\n\n      if (seriesList[0].hasMsResolution) {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss.SSS';\n      } else {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss';\n      }\n\n      if (allSeriesMode) {\n        plot.unhighlight();\n\n        var seriesHoverInfo = self.getMultiSeriesPlotHoverInfo(plotData, pos);\n\n        seriesHtml = '';\n\n        absoluteTime = dashboard.formatDate(seriesHoverInfo.time, tooltipFormat);\n\n        // Dynamically reorder the hovercard for the current time point if the\n        // option is enabled.\n        if (panel.tooltip.sort === 2) {\n          seriesHoverInfo.sort(function(a, b) {\n            return b.value - a.value;\n          });\n        } else if (panel.tooltip.sort === 1) {\n          seriesHoverInfo.sort(function(a, b) {\n            return a.value - b.value;\n          });\n        }\n\n        for (i = 0; i < seriesHoverInfo.length; i++) {\n          hoverInfo = seriesHoverInfo[i];\n\n          if (hoverInfo.hidden) {\n            continue;\n          }\n\n          var highlightClass = '';\n          if (item && hoverInfo.index === item.seriesIndex) {\n            highlightClass = 'graph-tooltip-list-item--highlight';\n          }\n\n          series = seriesList[hoverInfo.index];\n\n          value = series.formatValue(hoverInfo.value);\n\n          seriesHtml += '<div class=\"graph-tooltip-list-item ' + highlightClass + '\"><div class=\"graph-tooltip-series-name\">';\n          seriesHtml += '<i class=\"fa fa-minus\" style=\"color:' + hoverInfo.color +';\"></i> ' + hoverInfo.label + ':</div>';\n          seriesHtml += '<div class=\"graph-tooltip-value\">' + value + '</div></div>';\n          plot.highlight(hoverInfo.index, hoverInfo.hoverIndex);\n        }\n\n        self.renderAndShow(absoluteTime, seriesHtml, pos, xMode);\n      }\n      // single series tooltip\n      else if (item) {\n        series = seriesList[item.seriesIndex];\n        group = '<div class=\"graph-tooltip-list-item\"><div class=\"graph-tooltip-series-name\">';\n        group += '<i class=\"fa fa-minus\" style=\"color:' + item.series.color +';\"></i> ' + series.aliasEscaped + ':</div>';\n\n        if (panel.stack && panel.tooltip.value_type === 'individual') {\n          value = item.datapoint[1] - item.datapoint[2];\n        }\n        else {\n          value = item.datapoint[1];\n        }\n\n        value = series.formatValue(value);\n\n        absoluteTime = dashboard.formatDate(item.datapoint[0], tooltipFormat);\n\n        group += '<div class=\"graph-tooltip-value\">' + value + '</div>';\n\n        self.renderAndShow(absoluteTime, group, pos, xMode);\n      }\n      // no hit\n      else {\n        $tooltip.detach();\n      }\n    };\n  }\n\n  return GraphTooltip;\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1487:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ThresholdManager; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot__ = __webpack_require__(1315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vendor_flot_jquery_flot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n\r\n\r\n\r\nvar ThresholdManager = /** @class */ (function () {\r\n    function ThresholdManager(panelCtrl) {\r\n        this.panelCtrl = panelCtrl;\r\n    }\r\n    ThresholdManager.prototype.getHandleHtml = function (handleIndex, model, valueStr) {\r\n        var stateClass = model.colorMode;\r\n        if (model.colorMode === 'custom') {\r\n            stateClass = 'critical';\r\n        }\r\n        return \"\\n    <div class=\\\"alert-handle-wrapper alert-handle-wrapper--T\" + handleIndex + \"\\\">\\n      <div class=\\\"alert-handle-line alert-handle-line--\" + stateClass + \"\\\">\\n      </div>\\n      <div class=\\\"alert-handle\\\" data-handle-index=\\\"\" + handleIndex + \"\\\">\\n        <i class=\\\"icon-gf icon-gf-\" + stateClass + \" alert-state-\" + stateClass + \"\\\"></i>\\n        <span class=\\\"alert-handle-value\\\">\" + valueStr + \"<i class=\\\"alert-handle-grip\\\"></i></span>\\n      </div>\\n    </div>\";\r\n    };\r\n    ThresholdManager.prototype.initDragging = function (evt) {\r\n        var handleElem = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(evt.currentTarget).parents(\".alert-handle-wrapper\");\r\n        var handleIndex = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(evt.currentTarget).data(\"handleIndex\");\r\n        var isMoving = false;\r\n        var lastY = null;\r\n        var posTop;\r\n        var plot = this.plot;\r\n        var panelCtrl = this.panelCtrl;\r\n        var model = this.thresholds[handleIndex];\r\n        function dragging(evt) {\r\n            if (lastY === null) {\r\n                lastY = evt.clientY;\r\n            }\r\n            else {\r\n                var diff = evt.clientY - lastY;\r\n                posTop = posTop + diff;\r\n                lastY = evt.clientY;\r\n                handleElem.css({ top: posTop + diff });\r\n            }\r\n        }\r\n        function stopped() {\r\n            isMoving = false;\r\n            // calculate graph level\r\n            var graphValue = plot.c2p({ left: 0, top: posTop }).y;\r\n            graphValue = parseInt(graphValue.toFixed(0));\r\n            model.value = graphValue;\r\n            handleElem.off(\"mousemove\", dragging);\r\n            handleElem.off(\"mouseup\", dragging);\r\n            handleElem.off(\"mouseleave\", dragging);\r\n            // trigger digest and render\r\n            panelCtrl.$scope.$apply(function () {\r\n                panelCtrl.render();\r\n                panelCtrl.events.emit('threshold-changed', { threshold: model, handleIndex: handleIndex });\r\n            });\r\n        }\r\n        isMoving = true;\r\n        lastY = null;\r\n        posTop = handleElem.position().top;\r\n        handleElem.on(\"mousemove\", dragging);\r\n        handleElem.on(\"mouseup\", stopped);\r\n        handleElem.on(\"mouseleave\", stopped);\r\n    };\r\n    ThresholdManager.prototype.cleanUp = function () {\r\n        this.placeholder.find(\".alert-handle-wrapper\").remove();\r\n        this.needsCleanup = false;\r\n    };\r\n    ThresholdManager.prototype.renderHandle = function (handleIndex, defaultHandleTopPos) {\r\n        var model = this.thresholds[handleIndex];\r\n        var value = model.value;\r\n        var valueStr = value;\r\n        var handleTopPos = 0;\r\n        // handle no value\r\n        if (!__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isNumber(value)) {\r\n            valueStr = '';\r\n            handleTopPos = defaultHandleTopPos;\r\n        }\r\n        else {\r\n            var valueCanvasPos = this.plot.p2c({ x: 0, y: value });\r\n            handleTopPos = Math.round(Math.min(Math.max(valueCanvasPos.top, 0), this.height) - 6);\r\n        }\r\n        var handleElem = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(this.getHandleHtml(handleIndex, model, valueStr));\r\n        this.placeholder.append(handleElem);\r\n        handleElem.toggleClass('alert-handle-wrapper--no-value', valueStr === '');\r\n        handleElem.css({ top: handleTopPos });\r\n    };\r\n    ThresholdManager.prototype.shouldDrawHandles = function () {\r\n        return !this.hasSecondYAxis && this.panelCtrl.editingThresholds && this.panelCtrl.panel.thresholds.length > 0;\r\n    };\r\n    ThresholdManager.prototype.prepare = function (elem, data) {\r\n        this.hasSecondYAxis = false;\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (data[i].yaxis > 1) {\r\n                this.hasSecondYAxis = true;\r\n                break;\r\n            }\r\n        }\r\n        if (this.shouldDrawHandles()) {\r\n            var thresholdMargin = this.panelCtrl.panel.thresholds.length > 1 ? '220px' : '110px';\r\n            elem.css('margin-right', thresholdMargin);\r\n        }\r\n        else if (this.needsCleanup) {\r\n            elem.css('margin-right', '0');\r\n        }\r\n    };\r\n    ThresholdManager.prototype.draw = function (plot) {\r\n        this.thresholds = this.panelCtrl.panel.thresholds;\r\n        this.plot = plot;\r\n        this.placeholder = plot.getPlaceholder();\r\n        if (this.needsCleanup) {\r\n            this.cleanUp();\r\n        }\r\n        if (!this.shouldDrawHandles()) {\r\n            return;\r\n        }\r\n        this.height = plot.height();\r\n        if (this.thresholds.length > 0) {\r\n            this.renderHandle(0, 10);\r\n        }\r\n        if (this.thresholds.length > 1) {\r\n            this.renderHandle(1, this.height - 30);\r\n        }\r\n        this.placeholder.off('mousedown', '.alert-handle');\r\n        this.placeholder.on('mousedown', '.alert-handle', this.initDragging.bind(this));\r\n        this.needsCleanup = true;\r\n    };\r\n    ThresholdManager.prototype.addFlotOptions = function (options, panel) {\r\n        if (!panel.thresholds || panel.thresholds.length === 0) {\r\n            return;\r\n        }\r\n        var gtLimit = Infinity;\r\n        var ltLimit = -Infinity;\r\n        var i, threshold, other;\r\n        for (i = 0; i < panel.thresholds.length; i++) {\r\n            threshold = panel.thresholds[i];\r\n            if (!__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isNumber(threshold.value)) {\r\n                continue;\r\n            }\r\n            var limit;\r\n            switch (threshold.op) {\r\n                case 'gt': {\r\n                    limit = gtLimit;\r\n                    // if next threshold is less then op and greater value, then use that as limit\r\n                    if (panel.thresholds.length > i + 1) {\r\n                        other = panel.thresholds[i + 1];\r\n                        if (other.value > threshold.value) {\r\n                            limit = other.value;\r\n                            ltLimit = limit;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case 'lt': {\r\n                    limit = ltLimit;\r\n                    // if next threshold is less then op and greater value, then use that as limit\r\n                    if (panel.thresholds.length > i + 1) {\r\n                        other = panel.thresholds[i + 1];\r\n                        if (other.value < threshold.value) {\r\n                            limit = other.value;\r\n                            gtLimit = limit;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            var fillColor, lineColor;\r\n            switch (threshold.colorMode) {\r\n                case 'critical': {\r\n                    fillColor = 'rgba(234, 112, 112, 0.12)';\r\n                    lineColor = 'rgba(237, 46, 24, 0.60)';\r\n                    break;\r\n                }\r\n                case 'warning': {\r\n                    fillColor = 'rgba(235, 138, 14, 0.12)';\r\n                    lineColor = 'rgba(247, 149, 32, 0.60)';\r\n                    break;\r\n                }\r\n                case 'ok': {\r\n                    fillColor = 'rgba(11, 237, 50, 0.090)';\r\n                    lineColor = 'rgba(6,163,69, 0.60)';\r\n                    break;\r\n                }\r\n                case 'custom': {\r\n                    fillColor = threshold.fillColor;\r\n                    lineColor = threshold.lineColor;\r\n                    break;\r\n                }\r\n            }\r\n            // fill\r\n            if (threshold.fill) {\r\n                options.grid.markings.push({ yaxis: { from: threshold.value, to: limit }, color: fillColor });\r\n            }\r\n            if (threshold.line) {\r\n                options.grid.markings.push({ yaxis: { from: threshold.value, to: threshold.value }, color: lineColor });\r\n            }\r\n        }\r\n    };\r\n    return ThresholdManager;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1488:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getSeriesValues;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = convertValuesToHistogram;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\n/**\r\n * Convert series into array of series values.\r\n * @param data Array of series\r\n */\r\nfunction getSeriesValues(dataList) {\r\n    var VALUE_INDEX = 0;\r\n    var values = [];\r\n    // Count histogam stats\r\n    for (var i = 0; i < dataList.length; i++) {\r\n        var series = dataList[i];\r\n        var datapoints = series.datapoints;\r\n        for (var j = 0; j < datapoints.length; j++) {\r\n            if (datapoints[j][VALUE_INDEX] !== null) {\r\n                values.push(datapoints[j][VALUE_INDEX]);\r\n            }\r\n        }\r\n    }\r\n    return values;\r\n}\r\n/**\r\n * Convert array of values into timeseries-like histogram:\r\n * [[val_1, count_1], [val_2, count_2], ..., [val_n, count_n]]\r\n * @param values\r\n * @param bucketSize\r\n */\r\nfunction convertValuesToHistogram(values, bucketSize) {\r\n    var histogram = {};\r\n    for (var i = 0; i < values.length; i++) {\r\n        var bound = getBucketBound(values[i], bucketSize);\r\n        if (histogram[bound]) {\r\n            histogram[bound] = histogram[bound] + 1;\r\n        }\r\n        else {\r\n            histogram[bound] = 1;\r\n        }\r\n    }\r\n    var histogam_series = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(histogram, function (count, bound) {\r\n        return [Number(bound), count];\r\n    });\r\n    // Sort by Y axis values\r\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(histogam_series, function (point) { return point[0]; });\r\n}\r\nfunction getBucketBound(value, bucketSize) {\r\n    return Math.floor(value / bucketSize) * bucketSize;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1489:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n  __webpack_require__(13),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _, $) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('graphLegend', [\"popoverSrv\", \"$timeout\", function(popoverSrv, $timeout) {\n\n    return {\n      link: function(scope, elem) {\n        var $container = $('<section class=\"graph-legend\"></section>');\n        var firstRender = true;\n        var ctrl = scope.ctrl;\n        var panel = ctrl.panel;\n        var data;\n        var seriesList;\n        var i;\n\n        ctrl.events.on('render', function() {\n          data = ctrl.seriesList;\n          if (data) {\n            render();\n          }\n        });\n\n        function getSeriesIndexForElement(el) {\n          return el.parents('[data-series-index]').data('series-index');\n        }\n\n        function openColorSelector(e) {\n          // if we clicked inside poup container ignore click\n          if ($(e.target).parents('.popover').length) {\n            return;\n          }\n\n          var el = $(e.currentTarget).find('.fa-minus');\n          var index = getSeriesIndexForElement(el);\n          var series = seriesList[index];\n\n          $timeout(function() {\n            popoverSrv.show({\n              element: el[0],\n              position: 'bottom center',\n              template: '<series-color-picker series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\n                '</series-color-picker>',\n              openOn: 'hover',\n              model: {\n                series: series,\n                toggleAxis: function() {\n                  ctrl.toggleAxis(series);\n                },\n                colorSelected: function(color) {\n                  ctrl.changeSeriesColor(series, color);\n                }\n              },\n            });\n          });\n        }\n\n        function toggleSeries(e) {\n          var el = $(e.currentTarget);\n          var index = getSeriesIndexForElement(el);\n          var seriesInfo = seriesList[index];\n          var scrollPosition = $($container.children('tbody')).scrollTop();\n          ctrl.toggleSeries(seriesInfo, e);\n          $($container.children('tbody')).scrollTop(scrollPosition);\n        }\n\n        function sortLegend(e) {\n          var el = $(e.currentTarget);\n          var stat = el.data('stat');\n\n          if (stat !== panel.legend.sort) { panel.legend.sortDesc = null; }\n\n          // if already sort ascending, disable sorting\n          if (panel.legend.sortDesc === false) {\n            panel.legend.sort = null;\n            panel.legend.sortDesc = null;\n            ctrl.render();\n            return;\n          }\n\n          panel.legend.sortDesc = !panel.legend.sortDesc;\n          panel.legend.sort = stat;\n          ctrl.render();\n        }\n\n        function getTableHeaderHtml(statName) {\n          if (!panel.legend[statName]) { return \"\"; }\n          var html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + statName;\n\n          if (panel.legend.sort === statName) {\n            var cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up' ;\n            html += ' <span class=\"' + cssClass + '\"></span>';\n          }\n\n          return html + '</th>';\n        }\n\n        function render() {\n          if (!ctrl.panel.legend.show) {\n            elem.empty();\n            firstRender = true;\n            return;\n          }\n\n          if (firstRender) {\n            elem.append($container);\n            $container.on('click', '.graph-legend-icon', openColorSelector);\n            $container.on('click', '.graph-legend-alias', toggleSeries);\n            $container.on('click', 'th', sortLegend);\n            firstRender = false;\n          }\n\n          seriesList = data;\n\n          $container.empty();\n\n          // Set min-width if side style and there is a value, otherwise remove the CSS propery\n          var width = panel.legend.rightSide && panel.legend.sideWidth ? panel.legend.sideWidth + \"px\" : \"\";\n          $container.css(\"min-width\", width);\n\n          $container.toggleClass('graph-legend-table', panel.legend.alignAsTable === true);\n\n          var tableHeaderElem;\n          if (panel.legend.alignAsTable) {\n            var header = '<tr>';\n            header += '<th colspan=\"2\" style=\"text-align:left\"></th>';\n            if (panel.legend.values) {\n              header += getTableHeaderHtml('min');\n              header += getTableHeaderHtml('max');\n              header += getTableHeaderHtml('avg');\n              header += getTableHeaderHtml('current');\n              header += getTableHeaderHtml('total');\n            }\n            header += '</tr>';\n            tableHeaderElem = $(header);\n          }\n\n          if (panel.legend.sort) {\n            seriesList = _.sortBy(seriesList, function(series) {\n              return series.stats[panel.legend.sort];\n            });\n            if (panel.legend.sortDesc) {\n              seriesList = seriesList.reverse();\n            }\n          }\n\n          var seriesShown = 0;\n          var seriesElements = [];\n\n          for (i = 0; i < seriesList.length; i++) {\n            var series = seriesList[i];\n\n            if (series.hideFromLegend(panel.legend)) {\n              continue;\n            }\n\n            var html = '<div class=\"graph-legend-series';\n\n            if (series.yaxis === 2) { html += ' graph-legend-series--right-y'; }\n            if (ctrl.hiddenSeries[series.alias]) { html += ' graph-legend-series-hidden'; }\n            html += '\" data-series-index=\"' + i + '\">';\n            html += '<div class=\"graph-legend-icon\">';\n            html += '<i class=\"fa fa-minus pointer\" style=\"color:' + series.color + '\"></i>';\n            html += '</div>';\n\n            html += '<a class=\"graph-legend-alias pointer\" title=\"' + series.aliasEscaped + '\">' + series.aliasEscaped + '</a>';\n\n            if (panel.legend.values) {\n              var avg = series.formatValue(series.stats.avg);\n              var current = series.formatValue(series.stats.current);\n              var min = series.formatValue(series.stats.min);\n              var max = series.formatValue(series.stats.max);\n              var total = series.formatValue(series.stats.total);\n\n              if (panel.legend.min) { html += '<div class=\"graph-legend-value min\">' + min + '</div>'; }\n              if (panel.legend.max) { html += '<div class=\"graph-legend-value max\">' + max + '</div>'; }\n              if (panel.legend.avg) { html += '<div class=\"graph-legend-value avg\">' + avg + '</div>'; }\n              if (panel.legend.current) { html += '<div class=\"graph-legend-value current\">' + current + '</div>'; }\n              if (panel.legend.total) { html += '<div class=\"graph-legend-value total\">' + total + '</div>'; }\n            }\n\n            html += '</div>';\n            seriesElements.push($(html));\n\n            seriesShown++;\n          }\n\n          if (panel.legend.alignAsTable) {\n            var maxHeight = ctrl.height;\n\n            if (!panel.legend.rightSide) {\n              maxHeight = maxHeight/2;\n            }\n\n            var topPadding = 6;\n            var tbodyElem = $('<tbody></tbody>');\n            tbodyElem.css(\"max-height\", maxHeight - topPadding);\n            tbodyElem.append(tableHeaderElem);\n            tbodyElem.append(seriesElements);\n            $container.append(tbodyElem);\n          } else {\n            $container.append(seriesElements);\n          }\n        }\n      }\n    };\n  }]);\n\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1490:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(13),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function(angular, jquery, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SeriesOverridesCtrl', [\"$scope\", \"$element\", \"popoverSrv\", function($scope, $element, popoverSrv) {\n    $scope.overrideMenu = [];\n    $scope.currentOverrides = [];\n    $scope.override = $scope.override || {};\n\n    $scope.addOverrideOption = function(name, propertyName, values) {\n      var option = {};\n      option.text = name;\n      option.propertyName = propertyName;\n      option.index = $scope.overrideMenu.length;\n      option.values = values;\n\n      option.submenu = _.map(values, function(value) {\n        return { text: String(value), value: value };\n      });\n\n      $scope.overrideMenu.push(option);\n    };\n\n    $scope.setOverride = function(item, subItem) {\n      // handle color overrides\n      if (item.propertyName === 'color') {\n        $scope.openColorSelector($scope.override['color']);\n        return;\n      }\n\n      $scope.override[item.propertyName] = subItem.value;\n\n      // automatically disable lines for this series and the fill bellow to series\n      // can be removed by the user if they still want lines\n      if (item.propertyName === 'fillBelowTo') {\n        $scope.override['lines'] = false;\n        $scope.ctrl.addSeriesOverride({alias: subItem.value, lines: false });\n      }\n\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.colorSelected = function(color) {\n      $scope.override['color'] = color;\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.openColorSelector = function(color) {\n      var fakeSeries = {color: color};\n      popoverSrv.show({\n        element: $element.find(\".dropdown\")[0],\n        position: 'top center',\n        openOn: 'click',\n        template: '<series-color-picker series=\"series\" onColorChange=\"colorSelected\" />',\n        model: {\n          autoClose: true,\n          colorSelected: $scope.colorSelected,\n          series: fakeSeries\n        },\n        onClose: function() {\n          $scope.ctrl.render();\n        }\n      });\n    };\n\n    $scope.removeOverride = function(option) {\n      delete $scope.override[option.propertyName];\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.refresh();\n    };\n\n    $scope.getSeriesNames = function() {\n      return _.map($scope.ctrl.seriesList, function(series) {\n        return series.alias;\n      });\n    };\n\n    $scope.updateCurrentOverrides = function() {\n      $scope.currentOverrides = [];\n      _.each($scope.overrideMenu, function(option) {\n        var value = $scope.override[option.propertyName];\n        if (_.isUndefined(value)) { return; }\n        $scope.currentOverrides.push({\n          name: option.text,\n          propertyName: option.propertyName,\n          value: String(value)\n        });\n      });\n    };\n\n    $scope.addOverrideOption('Bars', 'bars', [true, false]);\n    $scope.addOverrideOption('Lines', 'lines', [true, false]);\n    $scope.addOverrideOption('Line fill', 'fill', [0,1,2,3,4,5,6,7,8,9,10]);\n    $scope.addOverrideOption('Line width', 'linewidth', [0,1,2,3,4,5,6,7,8,9,10]);\n    $scope.addOverrideOption('Null point mode', 'nullPointMode', ['connected', 'null', 'null as zero']);\n    $scope.addOverrideOption('Fill below to', 'fillBelowTo', $scope.getSeriesNames());\n    $scope.addOverrideOption('Staircase line', 'steppedLine', [true, false]);\n    $scope.addOverrideOption('Dashes', 'dashes', [true, false]);\n    $scope.addOverrideOption('Dash Length', 'dashLength', [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]);\n    $scope.addOverrideOption('Dash Space', 'spaceLength', [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]);\n    $scope.addOverrideOption('Points', 'points', [true, false]);\n    $scope.addOverrideOption('Points Radius', 'pointradius', [1,2,3,4,5]);\n    $scope.addOverrideOption('Stack', 'stack', [true, false, 'A', 'B', 'C', 'D']);\n    $scope.addOverrideOption('Color', 'color', ['change']);\n    $scope.addOverrideOption('Y-axis', 'yaxis', [1, 2]);\n    $scope.addOverrideOption('Z-index', 'zindex', [-3,-2,-1,0,1,2,3]);\n    $scope.addOverrideOption('Transform', 'transform', ['negative-Y']);\n    $scope.addOverrideOption('Legend', 'legend', [true, false]);\n    $scope.updateCurrentOverrides();\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1491:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ThresholdFormCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar ThresholdFormCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    ThresholdFormCtrl.$inject = [\"$scope\"];\r\n    function ThresholdFormCtrl($scope) {\r\n        var _this = this;\r\n        this.panel = this.panelCtrl.panel;\r\n        if (this.panel.alert) {\r\n            this.disabled = true;\r\n        }\r\n        var unbindDestroy = $scope.$on(\"$destroy\", function () {\r\n            _this.panelCtrl.editingThresholds = false;\r\n            _this.panelCtrl.render();\r\n            unbindDestroy();\r\n        });\r\n        this.panelCtrl.editingThresholds = true;\r\n    }\r\n    ThresholdFormCtrl.prototype.addThreshold = function () {\r\n        this.panel.thresholds.push({ value: undefined, colorMode: \"critical\", op: 'gt', fill: true, line: true });\r\n        this.panelCtrl.render();\r\n    };\r\n    ThresholdFormCtrl.prototype.removeThreshold = function (index) {\r\n        this.panel.thresholds.splice(index, 1);\r\n        this.panelCtrl.render();\r\n    };\r\n    ThresholdFormCtrl.prototype.render = function () {\r\n        this.panelCtrl.render();\r\n    };\r\n    ThresholdFormCtrl.prototype.onFillColorChange = function (index) {\r\n        var _this = this;\r\n        return function (newColor) {\r\n            _this.panel.thresholds[index].fillColor = newColor;\r\n            _this.render();\r\n        };\r\n    };\r\n    ThresholdFormCtrl.prototype.onLineColorChange = function (index) {\r\n        var _this = this;\r\n        return function (newColor) {\r\n            _this.panel.thresholds[index].lineColor = newColor;\r\n            _this.render();\r\n        };\r\n    };\r\n    return ThresholdFormCtrl;\r\n}());\r\n\r\nvar template = \"\\n<div class=\\\"gf-form-group\\\">\\n  <h5>Thresholds</h5>\\n  <p class=\\\"muted\\\" ng-show=\\\"ctrl.disabled\\\">\\n    Visual thresholds options <strong>disabled.</strong>\\n    Visit the Alert tab update your thresholds. <br>\\n    To re-enable thresholds, the alert rule must be deleted from this panel.\\n  </p>\\n  <div ng-class=\\\"{'thresholds-form-disabled': ctrl.disabled}\\\">\\n    <div class=\\\"gf-form-inline\\\" ng-repeat=\\\"threshold in ctrl.panel.thresholds\\\">\\n      <div class=\\\"gf-form\\\">\\n        <label class=\\\"gf-form-label\\\">T{{$index+1}}</label>\\n      </div>\\n\\n      <div class=\\\"gf-form\\\">\\n        <div class=\\\"gf-form-select-wrapper\\\">\\n          <select class=\\\"gf-form-input\\\" ng-model=\\\"threshold.op\\\"\\n                  ng-options=\\\"f for f in ['gt', 'lt']\\\" ng-change=\\\"ctrl.render()\\\" ng-disabled=\\\"ctrl.disabled\\\"></select>\\n        </div>\\n        <input type=\\\"number\\\" ng-model=\\\"threshold.value\\\" class=\\\"gf-form-input width-8\\\"\\n               ng-change=\\\"ctrl.render()\\\" placeholder=\\\"value\\\" ng-disabled=\\\"ctrl.disabled\\\">\\n      </div>\\n\\n      <div class=\\\"gf-form\\\">\\n        <label class=\\\"gf-form-label\\\">Color</label>\\n        <div class=\\\"gf-form-select-wrapper\\\">\\n          <select class=\\\"gf-form-input\\\" ng-model=\\\"threshold.colorMode\\\"\\n                  ng-options=\\\"f for f in ['custom', 'critical', 'warning', 'ok']\\\" ng-change=\\\"ctrl.render()\\\" ng-disabled=\\\"ctrl.disabled\\\">\\n          </select>\\n        </div>\\n      </div>\\n\\n      <gf-form-switch class=\\\"gf-form\\\" label=\\\"Fill\\\" checked=\\\"threshold.fill\\\"\\n                      on-change=\\\"ctrl.render()\\\" ng-disabled=\\\"ctrl.disabled\\\"></gf-form-switch>\\n\\n      <div class=\\\"gf-form\\\" ng-if=\\\"threshold.fill && threshold.colorMode === 'custom'\\\">\\n        <label class=\\\"gf-form-label\\\">Fill color</label>\\n        <span class=\\\"gf-form-label\\\">\\n          <color-picker color=\\\"threshold.fillColor\\\" onChange=\\\"ctrl.onFillColorChange($index)\\\"></color-picker>\\n        </span>\\n      </div>\\n\\n      <gf-form-switch class=\\\"gf-form\\\" label=\\\"Line\\\" checked=\\\"threshold.line\\\"\\n                      on-change=\\\"ctrl.render()\\\" ng-disabled=\\\"ctrl.disabled\\\"></gf-form-switch>\\n\\n      <div class=\\\"gf-form\\\" ng-if=\\\"threshold.line && threshold.colorMode === 'custom'\\\">\\n        <label class=\\\"gf-form-label\\\">Line color</label>\\n        <span class=\\\"gf-form-label\\\">\\n          <color-picker color=\\\"threshold.lineColor\\\" onChange=\\\"ctrl.onLineColorChange($index)\\\"></color-picker>\\n        </span>\\n      </div>\\n\\n      <div class=\\\"gf-form\\\">\\n        <label class=\\\"gf-form-label\\\">\\n          <a class=\\\"pointer\\\" ng-click=\\\"ctrl.removeThreshold($index)\\\" ng-disabled=\\\"ctrl.disabled\\\">\\n            <i class=\\\"fa fa-trash\\\"></i>\\n          </a>\\n        </label>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"gf-form-button-row\\\">\\n      <button class=\\\"btn btn-inverse\\\" ng-click=\\\"ctrl.addThreshold()\\\" ng-disabled=\\\"ctrl.disabled\\\">\\n        <i class=\\\"fa fa-plus\\\"></i>&nbsp;Add Threshold\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\";\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].directive('graphThresholdForm', function () {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: ThresholdFormCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            panelCtrl: \"=\"\r\n        }\r\n    };\r\n});\r\n\n\n/***/ }),\n\n/***/ 1492:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar template = \"\\n<div class=\\\"graph-wrapper\\\" ng-class=\\\"{'graph-legend-rightside': ctrl.panel.legend.rightSide}\\\">\\n  <div class=\\\"graph-canvas-wrapper\\\">\\n\\n    <div class=\\\"datapoints-warning\\\" ng-if=\\\"ctrl.dataWarning\\\">\\n      <span class=\\\"small\\\" bs-tooltip=\\\"ctrl.dataWarning.tip\\\">{{ctrl.dataWarning.title}}</span>\\n    </div>\\n\\n    <div grafana-graph class=\\\"histogram-chart\\\" ng-dblclick=\\\"ctrl.zoomOut()\\\">\\n    </div>\\n\\n  </div>\\n\\n  <div class=\\\"graph-legend-wrapper\\\" graph-legend></div>\\n  </div>\\n\\n<div class=\\\"clearfix\\\"></div>\\n\";\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (template);\r\n\n\n/***/ }),\n\n/***/ 1493:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AxesEditorCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = axesEditorComponent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar AxesEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    AxesEditorCtrl.$inject = [\"$scope\", \"$q\"];\r\n    function AxesEditorCtrl($scope, $q) {\r\n        this.$scope = $scope;\r\n        this.$q = $q;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.$scope.ctrl = this;\r\n        this.unitFormats = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].getUnitFormats();\r\n        this.logScales = {\r\n            'linear': 1,\r\n            'log (base 2)': 2,\r\n            'log (base 10)': 10,\r\n            'log (base 32)': 32,\r\n            'log (base 1024)': 1024\r\n        };\r\n        this.xAxisModes = {\r\n            'Time': 'time',\r\n            'Series': 'series',\r\n            'Histogram': 'histogram'\r\n            // 'Data field': 'field',\r\n        };\r\n        this.xAxisStatOptions = [\r\n            { text: 'Avg', value: 'avg' },\r\n            { text: 'Min', value: 'min' },\r\n            { text: 'Max', value: 'max' },\r\n            { text: 'Total', value: 'total' },\r\n            { text: 'Count', value: 'count' },\r\n            { text: 'Current', value: 'current' },\r\n        ];\r\n        if (this.panel.xaxis.mode === 'custom') {\r\n            if (!this.panel.xaxis.name) {\r\n                this.panel.xaxis.name = 'specify field';\r\n            }\r\n        }\r\n    }\r\n    AxesEditorCtrl.prototype.setUnitFormat = function (axis, subItem) {\r\n        axis.format = subItem.value;\r\n        this.panelCtrl.render();\r\n    };\r\n    AxesEditorCtrl.prototype.render = function () {\r\n        this.panelCtrl.render();\r\n    };\r\n    AxesEditorCtrl.prototype.xAxisModeChanged = function () {\r\n        this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode();\r\n        this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n    };\r\n    AxesEditorCtrl.prototype.xAxisValueChanged = function () {\r\n        this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\r\n    };\r\n    AxesEditorCtrl.prototype.getDataFieldNames = function (onlyNumbers) {\r\n        var props = this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList, onlyNumbers);\r\n        var items = props.map(function (prop) {\r\n            return { text: prop, value: prop };\r\n        });\r\n        return this.$q.when(items);\r\n    };\r\n    return AxesEditorCtrl;\r\n}());\r\n\r\n/** @ngInject **/\r\nfunction axesEditorComponent() {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/plugins/panel/graph/axes_editor.html',\r\n        controller: AxesEditorCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1494:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DashListCtrl\", function() { return DashListCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return DashListCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_features_dashboard_impression_store__ = __webpack_require__(1312);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar DashListCtrl = /** @class */ (function (_super) {\r\n    __extends(DashListCtrl, _super);\r\n    /** @ngInject */\n    DashListCtrl.$inject = [\"$scope\", \"$injector\", \"backendSrv\", \"dashboardSrv\"];\r\n    function DashListCtrl($scope, $injector, backendSrv, dashboardSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.backendSrv = backendSrv;\r\n        _this.dashboardSrv = dashboardSrv;\r\n        _this.panelDefaults = {\r\n            query: '',\r\n            limit: 10,\r\n            tags: [],\r\n            recent: false,\r\n            search: false,\r\n            starred: true,\r\n            headings: true,\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        if (_this.panel.tag) {\r\n            _this.panel.tags = [_this.panel.tag];\r\n            delete _this.panel.tag;\r\n        }\r\n        _this.events.on('refresh', _this.onRefresh.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.groups = [\r\n            { list: [], show: false, header: \"Starred dashboards\", },\r\n            { list: [], show: false, header: \"Recently viewed dashboards\" },\r\n            { list: [], show: false, header: \"Search\" },\r\n        ];\r\n        // update capability\r\n        if (_this.panel.mode) {\r\n            if (_this.panel.mode === 'starred') {\r\n                _this.panel.starred = true;\r\n                _this.panel.headings = false;\r\n            }\r\n            if (_this.panel.mode === 'recently viewed') {\r\n                _this.panel.recent = true;\r\n                _this.panel.starred = false;\r\n                _this.panel.headings = false;\r\n            }\r\n            if (_this.panel.mode === 'search') {\r\n                _this.panel.search = true;\r\n                _this.panel.starred = false;\r\n                _this.panel.headings = false;\r\n            }\r\n            delete _this.panel.mode;\r\n        }\r\n        return _this;\r\n    }\r\n    DashListCtrl.prototype.onInitEditMode = function () {\r\n        this.editorTabIndex = 1;\r\n        this.modes = ['starred', 'search', 'recently viewed'];\r\n        this.addEditorTab('Options', 'public/app/plugins/panel/dashlist/editor.html');\r\n    };\r\n    DashListCtrl.prototype.onRefresh = function () {\r\n        var promises = [];\r\n        promises.push(this.getRecentDashboards());\r\n        promises.push(this.getStarred());\r\n        promises.push(this.getSearch());\r\n        return Promise.all(promises)\r\n            .then(this.renderingCompleted.bind(this));\r\n    };\r\n    DashListCtrl.prototype.getSearch = function () {\r\n        var _this = this;\r\n        this.groups[2].show = this.panel.search;\r\n        if (!this.panel.search) {\r\n            return Promise.resolve();\r\n        }\r\n        var params = {\r\n            limit: this.panel.limit,\r\n            query: this.panel.query,\r\n            tag: this.panel.tags,\r\n        };\r\n        return this.backendSrv.search(params).then(function (result) {\r\n            _this.groups[2].list = result;\r\n        });\r\n    };\r\n    DashListCtrl.prototype.getStarred = function () {\r\n        var _this = this;\r\n        this.groups[0].show = this.panel.starred;\r\n        if (!this.panel.starred) {\r\n            return Promise.resolve();\r\n        }\r\n        var params = { limit: this.panel.limit, starred: \"true\" };\r\n        return this.backendSrv.search(params).then(function (result) {\r\n            _this.groups[0].list = result;\r\n        });\r\n    };\r\n    DashListCtrl.prototype.starDashboard = function (dash, evt) {\r\n        this.dashboardSrv.starDashboard(dash.id, dash.isStarred).then(function (newState) {\r\n            dash.isStarred = newState;\r\n        });\r\n        if (evt) {\r\n            evt.stopPropagation();\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    DashListCtrl.prototype.getRecentDashboards = function () {\r\n        var _this = this;\r\n        this.groups[1].show = this.panel.recent;\r\n        if (!this.panel.recent) {\r\n            return Promise.resolve();\r\n        }\r\n        var dashIds = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.take(__WEBPACK_IMPORTED_MODULE_2_app_features_dashboard_impression_store__[\"impressions\"].getDashboardOpened(), this.panel.limit);\r\n        return this.backendSrv.search({ dashboardIds: dashIds, limit: this.panel.limit }).then(function (result) {\r\n            _this.groups[1].list = dashIds.map(function (orderId) {\r\n                return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(result, function (dashboard) {\r\n                    return dashboard.id === orderId;\r\n                });\r\n            }).filter(function (el) {\r\n                return el !== undefined;\r\n            });\r\n        });\r\n    };\r\n    DashListCtrl.templateUrl = 'module.html';\r\n    return DashListCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"PanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1495:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PluginListCtrl\", function() { return PluginListCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return PluginListCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__features_panel_panel_ctrl__ = __webpack_require__(1313);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar PluginListCtrl = /** @class */ (function (_super) {\r\n    __extends(PluginListCtrl, _super);\r\n    /** @ngInject */\n    PluginListCtrl.$inject = [\"$scope\", \"$injector\", \"backendSrv\", \"$location\"];\r\n    function PluginListCtrl($scope, $injector, backendSrv, $location) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.backendSrv = backendSrv;\r\n        _this.$location = $location;\r\n        // Set and populate defaults\r\n        _this.panelDefaults = {};\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.pluginList = [];\r\n        _this.viewModel = [\r\n            { header: \"Installed Apps\", list: [], type: 'app' },\r\n            { header: \"Installed Panels\", list: [], type: 'panel' },\r\n            { header: \"Installed Datasources\", list: [], type: 'datasource' },\r\n        ];\r\n        _this.update();\r\n        return _this;\r\n    }\r\n    PluginListCtrl.prototype.onInitEditMode = function () {\r\n        this.editorTabIndex = 1;\r\n        this.addEditorTab('Options', 'public/app/plugins/panel/pluginlist/editor.html');\r\n    };\r\n    PluginListCtrl.prototype.gotoPlugin = function (plugin, evt) {\r\n        if (evt) {\r\n            evt.stopPropagation();\r\n        }\r\n        this.$location.url(\"plugins/\" + plugin.id + \"/edit\");\r\n    };\r\n    PluginListCtrl.prototype.updateAvailable = function (plugin, $event) {\r\n        $event.stopPropagation();\r\n        $event.preventDefault();\r\n        var modalScope = this.$scope.$new(true);\r\n        modalScope.plugin = plugin;\r\n        this.publishAppEvent('show-modal', {\r\n            src: 'public/app/features/plugins/partials/update_instructions.html',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    PluginListCtrl.prototype.update = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('api/plugins', { embedded: 0, core: 0 }).then(function (plugins) {\r\n            _this.pluginList = plugins;\r\n            _this.viewModel[0].list = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(plugins, { type: 'app' });\r\n            _this.viewModel[1].list = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(plugins, { type: 'panel' });\r\n            _this.viewModel[2].list = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(plugins, { type: 'datasource' });\r\n            for (var _i = 0, _a = _this.pluginList; _i < _a.length; _i++) {\r\n                var plugin = _a[_i];\r\n                if (plugin.hasUpdate) {\r\n                    plugin.state = 'has-update';\r\n                }\r\n                else if (!plugin.enabled) {\r\n                    plugin.state = 'not-enabled';\r\n                }\r\n            }\r\n        });\r\n    };\r\n    PluginListCtrl.templateUrl = 'module.html';\r\n    return PluginListCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1__features_panel_panel_ctrl__[\"a\" /* PanelCtrl */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1496:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlertListPanel\", function() { return AlertListPanel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return AlertListPanel; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__ = __webpack_require__(1307);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__ = __webpack_require__(467);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar AlertListPanel = /** @class */ (function (_super) {\r\n    __extends(AlertListPanel, _super);\r\n    /** @ngInject */\n    AlertListPanel.$inject = [\"$scope\", \"$injector\", \"backendSrv\"];\r\n    function AlertListPanel($scope, $injector, backendSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.backendSrv = backendSrv;\r\n        _this.showOptions = [\r\n            { text: 'Current state', value: 'current' },\r\n            { text: 'Recent state changes', value: 'changes' }\r\n        ];\r\n        _this.sortOrderOptions = [\r\n            { text: 'Alphabetical (asc)', value: 1 },\r\n            { text: 'Alphabetical (desc)', value: 2 },\r\n            { text: 'Importance', value: 3 },\r\n        ];\r\n        _this.stateFilter = {};\r\n        _this.currentAlerts = [];\r\n        _this.alertHistory = [];\r\n        // Set and populate defaults\r\n        _this.panelDefaults = {\r\n            show: 'current',\r\n            limit: 10,\r\n            stateFilter: [],\r\n            onlyAlertsOnDashboard: false,\r\n            sortOrder: 1\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.events.on('refresh', _this.onRefresh.bind(_this));\r\n        for (var key in _this.panel.stateFilter) {\r\n            _this.stateFilter[_this.panel.stateFilter[key]] = true;\r\n        }\r\n        return _this;\r\n    }\r\n    AlertListPanel.prototype.sortResult = function (alerts) {\r\n        if (this.panel.sortOrder === 3) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(alerts, function (a) { return __WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__[\"a\" /* default */].alertStateSortScore[a.state]; });\r\n        }\r\n        var result = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(alerts, function (a) { return a.name.toLowerCase(); });\r\n        if (this.panel.sortOrder === 2) {\r\n            result.reverse();\r\n        }\r\n        return result;\r\n    };\r\n    AlertListPanel.prototype.updateStateFilter = function () {\r\n        var result = [];\r\n        for (var key in this.stateFilter) {\r\n            if (this.stateFilter[key]) {\r\n                result.push(key);\r\n            }\r\n        }\r\n        this.panel.stateFilter = result;\r\n        this.onRefresh();\r\n    };\r\n    AlertListPanel.prototype.onRefresh = function () {\r\n        if (this.panel.show === 'current') {\r\n            this.getCurrentAlertState();\r\n        }\r\n        if (this.panel.show === 'changes') {\r\n            this.getStateChanges();\r\n        }\r\n    };\r\n    AlertListPanel.prototype.getStateChanges = function () {\r\n        var _this = this;\r\n        var params = {\r\n            limit: this.panel.limit,\r\n            type: 'alert',\r\n            newState: this.panel.stateFilter,\r\n        };\r\n        if (this.panel.onlyAlertsOnDashboard) {\r\n            params.dashboardId = this.dashboard.id;\r\n        }\r\n        params.from = __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__[\"parse\"](this.dashboard.time.from).unix() * 1000;\r\n        params.to = __WEBPACK_IMPORTED_MODULE_4_app_core_utils_datemath__[\"parse\"](this.dashboard.time.to).unix() * 1000;\r\n        this.backendSrv.get(\"/api/annotations\", params)\r\n            .then(function (res) {\r\n            _this.alertHistory = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (al) {\r\n                al.time = _this.dashboard.formatDate(al.time, 'MMM D, YYYY HH:mm:ss');\r\n                al.stateModel = __WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__[\"a\" /* default */].getStateDisplayModel(al.newState);\r\n                al.info = __WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__[\"a\" /* default */].getAlertAnnotationInfo(al);\r\n                return al;\r\n            });\r\n            _this.noAlertsMessage = _this.alertHistory.length === 0 ? 'No alerts in current time range' : '';\r\n        });\r\n    };\r\n    AlertListPanel.prototype.getCurrentAlertState = function () {\r\n        var _this = this;\r\n        var params = {\r\n            state: this.panel.stateFilter\r\n        };\r\n        if (this.panel.onlyAlertsOnDashboard) {\r\n            params.dashboardId = this.dashboard.id;\r\n        }\r\n        this.backendSrv.get(\"/api/alerts\", params)\r\n            .then(function (res) {\r\n            _this.currentAlerts = _this.sortResult(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(res, function (al) {\r\n                al.stateModel = __WEBPACK_IMPORTED_MODULE_2__features_alerting_alert_def__[\"a\" /* default */].getStateDisplayModel(al.state);\r\n                al.newStateDateAgo = __WEBPACK_IMPORTED_MODULE_1_moment___default()(al.newStateDate).locale('en').fromNow(true);\r\n                return al;\r\n            }));\r\n            _this.noAlertsMessage = _this.currentAlerts.length === 0 ? 'No alerts' : '';\r\n        });\r\n    };\r\n    AlertListPanel.prototype.onInitEditMode = function () {\r\n        this.addEditorTab('Options', 'public/app/plugins/panel/alertlist/editor.html');\r\n    };\r\n    AlertListPanel.templateUrl = 'module.html';\r\n    return AlertListPanel;\r\n}(__WEBPACK_IMPORTED_MODULE_3_app_plugins_sdk__[\"PanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1497:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__color_legend__ = __webpack_require__(1498);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__heatmap_ctrl__ = __webpack_require__(1499);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__heatmap_ctrl__[\"a\"]; });\n\r\n\r\n\r\n\n\n/***/ }),\n\n/***/ 1498:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3__ = __webpack_require__(470);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_utils_ticks__ = __webpack_require__(1314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__color_scale__ = __webpack_require__(1342);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar module = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives');\r\n/**\r\n * Color legend for heatmap editor.\r\n */\r\nmodule.directive('colorLegend', function () {\r\n    return {\r\n        restrict: 'E',\r\n        template: '<div class=\"heatmap-color-legend\"><svg width=\"16.8rem\" height=\"24px\"></svg></div>',\r\n        link: function (scope, elem, attrs) {\r\n            var ctrl = scope.ctrl;\r\n            var panel = scope.ctrl.panel;\r\n            render();\r\n            ctrl.events.on('render', function () {\r\n                render();\r\n            });\r\n            function render() {\r\n                var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n                var legendWidth = Math.floor(legendElem.outerWidth());\r\n                if (panel.color.mode === 'spectrum') {\r\n                    var colorScheme = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(ctrl.colorSchemes, { value: panel.color.colorScheme });\r\n                    var colorScale = Object(__WEBPACK_IMPORTED_MODULE_6__color_scale__[\"a\" /* getColorScale */])(colorScheme, __WEBPACK_IMPORTED_MODULE_4_app_core_core__[\"contextSrv\"].user.lightTheme, legendWidth);\r\n                    drawSimpleColorLegend(elem, colorScale);\r\n                }\r\n                else if (panel.color.mode === 'opacity') {\r\n                    var colorOptions = panel.color;\r\n                    drawSimpleOpacityLegend(elem, colorOptions);\r\n                }\r\n            }\r\n        }\r\n    };\r\n});\r\n/**\r\n * Heatmap legend with scale values.\r\n */\r\nmodule.directive('heatmapLegend', function () {\r\n    return {\r\n        restrict: 'E',\r\n        template: '<div class=\"heatmap-color-legend\"><svg width=\"100px\" height=\"14px\"></svg></div>',\r\n        link: function (scope, elem, attrs) {\r\n            var ctrl = scope.ctrl;\r\n            var panel = scope.ctrl.panel;\r\n            render();\r\n            ctrl.events.on('render', function () {\r\n                render();\r\n            });\r\n            function render() {\r\n                clearLegend(elem);\r\n                if (!__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isEmpty(ctrl.data) && !__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.isEmpty(ctrl.data.cards)) {\r\n                    var rangeFrom = 0;\r\n                    var rangeTo = ctrl.data.cardStats.max;\r\n                    var maxValue = panel.color.max || rangeTo;\r\n                    var minValue = panel.color.min || 0;\r\n                    if (panel.color.mode === 'spectrum') {\r\n                        var colorScheme = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.find(ctrl.colorSchemes, { value: panel.color.colorScheme });\r\n                        drawColorLegend(elem, colorScheme, rangeFrom, rangeTo, maxValue, minValue);\r\n                    }\r\n                    else if (panel.color.mode === 'opacity') {\r\n                        var colorOptions = panel.color;\r\n                        drawOpacityLegend(elem, colorOptions, rangeFrom, rangeTo, maxValue, minValue);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n});\r\nfunction drawColorLegend(elem, colorScheme, rangeFrom, rangeTo, maxValue, minValue) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    var legend = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0));\r\n    clearLegend(elem);\r\n    var legendWidth = Math.floor(legendElem.outerWidth()) - 30;\r\n    var legendHeight = legendElem.attr(\"height\");\r\n    var rangeStep = 1;\r\n    if (rangeTo - rangeFrom > legendWidth) {\r\n        rangeStep = Math.floor((rangeTo - rangeFrom) / legendWidth);\r\n    }\r\n    var widthFactor = legendWidth / (rangeTo - rangeFrom);\r\n    var valuesRange = __WEBPACK_IMPORTED_MODULE_3_d3__[\"range\"](rangeFrom, rangeTo, rangeStep);\r\n    var colorScale = Object(__WEBPACK_IMPORTED_MODULE_6__color_scale__[\"a\" /* getColorScale */])(colorScheme, __WEBPACK_IMPORTED_MODULE_4_app_core_core__[\"contextSrv\"].user.lightTheme, maxValue, minValue);\r\n    legend.selectAll(\".heatmap-color-legend-rect\")\r\n        .data(valuesRange)\r\n        .enter().append(\"rect\")\r\n        .attr(\"x\", function (d) { return d * widthFactor; })\r\n        .attr(\"y\", 0)\r\n        .attr(\"width\", rangeStep * widthFactor + 1) // Overlap rectangles to prevent gaps\r\n        .attr(\"height\", legendHeight)\r\n        .attr(\"stroke-width\", 0)\r\n        .attr(\"fill\", function (d) { return colorScale(d); });\r\n    drawLegendValues(elem, colorScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth);\r\n}\r\nfunction drawOpacityLegend(elem, options, rangeFrom, rangeTo, maxValue, minValue) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    var legend = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0));\r\n    clearLegend(elem);\r\n    var legendWidth = Math.floor(legendElem.outerWidth()) - 30;\r\n    var legendHeight = legendElem.attr(\"height\");\r\n    var rangeStep = 1;\r\n    if (rangeTo - rangeFrom > legendWidth) {\r\n        rangeStep = Math.floor((rangeTo - rangeFrom) / legendWidth);\r\n    }\r\n    var widthFactor = legendWidth / (rangeTo - rangeFrom);\r\n    var valuesRange = __WEBPACK_IMPORTED_MODULE_3_d3__[\"range\"](rangeFrom, rangeTo, rangeStep);\r\n    var opacityScale = Object(__WEBPACK_IMPORTED_MODULE_6__color_scale__[\"b\" /* getOpacityScale */])(options, maxValue, minValue);\r\n    legend.selectAll(\".heatmap-opacity-legend-rect\")\r\n        .data(valuesRange)\r\n        .enter().append(\"rect\")\r\n        .attr(\"x\", function (d) { return d * widthFactor; })\r\n        .attr(\"y\", 0)\r\n        .attr(\"width\", rangeStep * widthFactor)\r\n        .attr(\"height\", legendHeight)\r\n        .attr(\"stroke-width\", 0)\r\n        .attr(\"fill\", options.cardColor)\r\n        .style(\"opacity\", function (d) { return opacityScale(d); });\r\n    drawLegendValues(elem, opacityScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth);\r\n}\r\nfunction drawLegendValues(elem, colorScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    var legend = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0));\r\n    if (legendWidth <= 0 || legendElem.get(0).childNodes.length === 0) {\r\n        return;\r\n    }\r\n    var legendValueScale = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scaleLinear\"]()\r\n        .domain([0, rangeTo])\r\n        .range([0, legendWidth]);\r\n    var ticks = buildLegendTicks(0, rangeTo, maxValue, minValue);\r\n    var xAxis = __WEBPACK_IMPORTED_MODULE_3_d3__[\"axisBottom\"](legendValueScale)\r\n        .tickValues(ticks)\r\n        .tickSize(2);\r\n    var colorRect = legendElem.find(\":first-child\");\r\n    var posY = getSvgElemHeight(legendElem) + 2;\r\n    var posX = getSvgElemX(colorRect);\r\n    __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0)).append(\"g\")\r\n        .attr(\"class\", \"axis\")\r\n        .attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\")\r\n        .call(xAxis);\r\n    legend.select(\".axis\").select(\".domain\").remove();\r\n}\r\nfunction drawSimpleColorLegend(elem, colorScale) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    clearLegend(elem);\r\n    var legendWidth = Math.floor(legendElem.outerWidth());\r\n    var legendHeight = legendElem.attr(\"height\");\r\n    if (legendWidth) {\r\n        var valuesNumber = Math.floor(legendWidth / 2);\r\n        var rangeStep = Math.floor(legendWidth / valuesNumber);\r\n        var valuesRange = __WEBPACK_IMPORTED_MODULE_3_d3__[\"range\"](0, legendWidth, rangeStep);\r\n        var legend = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0));\r\n        var legendRects = legend.selectAll(\".heatmap-color-legend-rect\").data(valuesRange);\r\n        legendRects.enter().append(\"rect\")\r\n            .attr(\"x\", function (d) { return d; })\r\n            .attr(\"y\", 0)\r\n            .attr(\"width\", rangeStep + 1) // Overlap rectangles to prevent gaps\r\n            .attr(\"height\", legendHeight)\r\n            .attr(\"stroke-width\", 0)\r\n            .attr(\"fill\", function (d) { return colorScale(d); });\r\n    }\r\n}\r\nfunction drawSimpleOpacityLegend(elem, options) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    clearLegend(elem);\r\n    var legend = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](legendElem.get(0));\r\n    var legendWidth = Math.floor(legendElem.outerWidth());\r\n    var legendHeight = legendElem.attr(\"height\");\r\n    if (legendWidth) {\r\n        var legendOpacityScale_1;\r\n        if (options.colorScale === 'linear') {\r\n            legendOpacityScale_1 = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scaleLinear\"]()\r\n                .domain([0, legendWidth])\r\n                .range([0, 1]);\r\n        }\r\n        else if (options.colorScale === 'sqrt') {\r\n            legendOpacityScale_1 = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scalePow\"]().exponent(options.exponent)\r\n                .domain([0, legendWidth])\r\n                .range([0, 1]);\r\n        }\r\n        var rangeStep = 10;\r\n        var valuesRange = __WEBPACK_IMPORTED_MODULE_3_d3__[\"range\"](0, legendWidth, rangeStep);\r\n        var legendRects = legend.selectAll(\".heatmap-opacity-legend-rect\").data(valuesRange);\r\n        legendRects.enter().append(\"rect\")\r\n            .attr(\"x\", function (d) { return d; })\r\n            .attr(\"y\", 0)\r\n            .attr(\"width\", rangeStep)\r\n            .attr(\"height\", legendHeight)\r\n            .attr(\"stroke-width\", 0)\r\n            .attr(\"fill\", options.cardColor)\r\n            .style(\"opacity\", function (d) { return legendOpacityScale_1(d); });\r\n    }\r\n}\r\nfunction clearLegend(elem) {\r\n    var legendElem = __WEBPACK_IMPORTED_MODULE_2_jquery___default()(elem).find('svg');\r\n    legendElem.empty();\r\n}\r\nfunction getSvgElemX(elem) {\r\n    var svgElem = elem.get(0);\r\n    if (svgElem && svgElem.x && svgElem.x.baseVal) {\r\n        return svgElem.x.baseVal.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nfunction getSvgElemHeight(elem) {\r\n    var svgElem = elem.get(0);\r\n    if (svgElem && svgElem.height && svgElem.height.baseVal) {\r\n        return svgElem.height.baseVal.value;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nfunction buildLegendTicks(rangeFrom, rangeTo, maxValue, minValue) {\r\n    var range = rangeTo - rangeFrom;\r\n    var tickStepSize = Object(__WEBPACK_IMPORTED_MODULE_5_app_core_utils_ticks__[\"tickStep\"])(rangeFrom, rangeTo, 3);\r\n    var ticksNum = Math.round(range / tickStepSize);\r\n    var ticks = [];\r\n    for (var i = 0; i < ticksNum; i++) {\r\n        var current = tickStepSize * i;\r\n        // Add user-defined min and max if it had been set\r\n        if (isValueCloseTo(minValue, current, tickStepSize)) {\r\n            ticks.push(minValue);\r\n            continue;\r\n        }\r\n        else if (minValue < current) {\r\n            ticks.push(minValue);\r\n        }\r\n        if (isValueCloseTo(maxValue, current, tickStepSize)) {\r\n            ticks.push(maxValue);\r\n            continue;\r\n        }\r\n        else if (maxValue < current) {\r\n            ticks.push(maxValue);\r\n        }\r\n        ticks.push(tickStepSize * i);\r\n    }\r\n    if (!isValueCloseTo(maxValue, rangeTo, tickStepSize)) {\r\n        ticks.push(maxValue);\r\n    }\r\n    ticks.push(rangeTo);\r\n    ticks = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.sortBy(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.uniq(ticks));\r\n    return ticks;\r\n}\r\nfunction isValueCloseTo(val, valueTo, step) {\r\n    var diff = Math.abs(val - valueTo);\r\n    return diff < step * 0.3;\r\n}\r\n\n\n/***/ }),\n\n/***/ 1499:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HeatmapCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_time_series2__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__axes_editor__ = __webpack_require__(1500);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__display_editor__ = __webpack_require__(1501);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__rendering__ = __webpack_require__(1502);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__ = __webpack_require__(1319);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar X_BUCKET_NUMBER_DEFAULT = 30;\r\nvar Y_BUCKET_NUMBER_DEFAULT = 10;\r\nvar panelDefaults = {\r\n    heatmap: {},\r\n    cards: {\r\n        cardPadding: null,\r\n        cardRound: null\r\n    },\r\n    color: {\r\n        mode: 'spectrum',\r\n        cardColor: '#b4ff00',\r\n        colorScale: 'sqrt',\r\n        exponent: 0.5,\r\n        colorScheme: 'interpolateOranges',\r\n    },\r\n    legend: {\r\n        show: false\r\n    },\r\n    dataFormat: 'timeseries',\r\n    xAxis: {\r\n        show: true,\r\n    },\r\n    yAxis: {\r\n        show: true,\r\n        format: 'short',\r\n        decimals: null,\r\n        logBase: 1,\r\n        splitFactor: null,\r\n        min: null,\r\n        max: null,\r\n    },\r\n    xBucketSize: null,\r\n    xBucketNumber: null,\r\n    yBucketSize: null,\r\n    yBucketNumber: null,\r\n    tooltip: {\r\n        show: true,\r\n        showHistogram: false\r\n    },\r\n    highlightCards: true\r\n};\r\nvar colorModes = ['opacity', 'spectrum'];\r\nvar opacityScales = ['linear', 'sqrt'];\r\n// Schemes from d3-scale-chromatic\r\n// https://github.com/d3/d3-scale-chromatic\r\nvar colorSchemes = [\r\n    // Diverging\r\n    { name: 'Spectral', value: 'interpolateSpectral', invert: 'always' },\r\n    { name: 'RdYlGn', value: 'interpolateRdYlGn', invert: 'always' },\r\n    // Sequential (Single Hue)\r\n    { name: 'Blues', value: 'interpolateBlues', invert: 'dark' },\r\n    { name: 'Greens', value: 'interpolateGreens', invert: 'dark' },\r\n    { name: 'Greys', value: 'interpolateGreys', invert: 'dark' },\r\n    { name: 'Oranges', value: 'interpolateOranges', invert: 'dark' },\r\n    { name: 'Purples', value: 'interpolatePurples', invert: 'dark' },\r\n    { name: 'Reds', value: 'interpolateReds', invert: 'dark' },\r\n    // Sequential (Multi-Hue)\r\n    { name: 'BuGn', value: 'interpolateBuGn', invert: 'dark' },\r\n    { name: 'BuPu', value: 'interpolateBuPu', invert: 'dark' },\r\n    { name: 'GnBu', value: 'interpolateGnBu', invert: 'dark' },\r\n    { name: 'OrRd', value: 'interpolateOrRd', invert: 'dark' },\r\n    { name: 'PuBuGn', value: 'interpolatePuBuGn', invert: 'dark' },\r\n    { name: 'PuBu', value: 'interpolatePuBu', invert: 'dark' },\r\n    { name: 'PuRd', value: 'interpolatePuRd', invert: 'dark' },\r\n    { name: 'RdPu', value: 'interpolateRdPu', invert: 'dark' },\r\n    { name: 'YlGnBu', value: 'interpolateYlGnBu', invert: 'dark' },\r\n    { name: 'YlGn', value: 'interpolateYlGn', invert: 'dark' },\r\n    { name: 'YlOrBr', value: 'interpolateYlOrBr', invert: 'dark' },\r\n    { name: 'YlOrRd', value: 'interpolateYlOrRd', invert: 'darm' }\r\n];\r\nvar HeatmapCtrl = /** @class */ (function (_super) {\r\n    __extends(HeatmapCtrl, _super);\r\n    /** @ngInject */\n    HeatmapCtrl.$inject = [\"$scope\", \"$injector\", \"$rootScope\", \"timeSrv\"];\r\n    function HeatmapCtrl($scope, $injector, $rootScope, timeSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.$rootScope = $rootScope;\r\n        _this.opacityScales = [];\r\n        _this.colorModes = [];\r\n        _this.colorSchemes = [];\r\n        _this.$rootScope = $rootScope;\r\n        _this.timeSrv = timeSrv;\r\n        _this.selectionActivated = false;\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.defaultsDeep(_this.panel, panelDefaults);\r\n        _this.opacityScales = opacityScales;\r\n        _this.colorModes = colorModes;\r\n        _this.colorSchemes = colorSchemes;\r\n        // Bind grafana panel events\r\n        _this.events.on('render', _this.onRender.bind(_this));\r\n        _this.events.on('data-received', _this.onDataReceived.bind(_this));\r\n        _this.events.on('data-error', _this.onDataError.bind(_this));\r\n        _this.events.on('data-snapshot-load', _this.onDataReceived.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.onCardColorChange = _this.onCardColorChange.bind(_this);\r\n        return _this;\r\n    }\r\n    HeatmapCtrl.prototype.onInitEditMode = function () {\r\n        this.addEditorTab('Axes', __WEBPACK_IMPORTED_MODULE_4__axes_editor__[\"a\" /* axesEditor */], 2);\r\n        this.addEditorTab('Display', __WEBPACK_IMPORTED_MODULE_5__display_editor__[\"a\" /* heatmapDisplayEditor */], 3);\r\n        this.unitFormats = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].getUnitFormats();\r\n    };\r\n    HeatmapCtrl.prototype.zoomOut = function (evt) {\r\n        this.publishAppEvent('zoom-out', 2);\r\n    };\r\n    HeatmapCtrl.prototype.onRender = function () {\r\n        if (!this.range) {\r\n            return;\r\n        }\r\n        var xBucketSize, yBucketSize, heatmapStats, bucketsData;\r\n        var logBase = this.panel.yAxis.logBase;\r\n        if (this.panel.dataFormat === 'tsbuckets') {\r\n            heatmapStats = this.parseHistogramSeries(this.series);\r\n            bucketsData = Object(__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__[\"d\" /* elasticHistogramToHeatmap */])(this.series);\r\n            // Calculate bucket size based on ES heatmap data\r\n            var xBucketBoundSet = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.keys(bucketsData), function (key) { return Number(key); });\r\n            var yBucketBoundSet = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(this.series, function (series) { return Number(series.alias); });\r\n            xBucketSize = Object(__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__[\"a\" /* calculateBucketSize */])(xBucketBoundSet);\r\n            yBucketSize = Object(__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__[\"a\" /* calculateBucketSize */])(yBucketBoundSet, logBase);\r\n            if (logBase !== 1) {\r\n                // Use yBucketSize in meaning of \"Split factor\" for log scales\r\n                yBucketSize = 1 / yBucketSize;\r\n            }\r\n        }\r\n        else {\r\n            var xBucketNumber = this.panel.xBucketNumber || X_BUCKET_NUMBER_DEFAULT;\r\n            var xBucketSizeByNumber = Math.floor((this.range.to - this.range.from) / xBucketNumber);\r\n            // Parse X bucket size (number or interval)\r\n            var isIntervalString = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].interval_regex.test(this.panel.xBucketSize);\r\n            if (isIntervalString) {\r\n                xBucketSize = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].interval_to_ms(this.panel.xBucketSize);\r\n            }\r\n            else if (isNaN(Number(this.panel.xBucketSize)) || this.panel.xBucketSize === '' || this.panel.xBucketSize === null) {\r\n                xBucketSize = xBucketSizeByNumber;\r\n            }\r\n            else {\r\n                xBucketSize = Number(this.panel.xBucketSize);\r\n            }\r\n            // Calculate Y bucket size\r\n            heatmapStats = this.parseSeries(this.series);\r\n            var yBucketNumber = this.panel.yBucketNumber || Y_BUCKET_NUMBER_DEFAULT;\r\n            if (logBase !== 1) {\r\n                yBucketSize = this.panel.yAxis.splitFactor;\r\n            }\r\n            else {\r\n                if (heatmapStats.max === heatmapStats.min) {\r\n                    if (heatmapStats.max) {\r\n                        yBucketSize = heatmapStats.max / Y_BUCKET_NUMBER_DEFAULT;\r\n                    }\r\n                    else {\r\n                        yBucketSize = 1;\r\n                    }\r\n                }\r\n                else {\r\n                    yBucketSize = (heatmapStats.max - heatmapStats.min) / yBucketNumber;\r\n                }\r\n                yBucketSize = this.panel.yBucketSize || yBucketSize;\r\n            }\r\n            bucketsData = Object(__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__[\"c\" /* convertToHeatMap */])(this.series, yBucketSize, xBucketSize, logBase);\r\n        }\r\n        // Set default Y range if no data\r\n        if (!heatmapStats.min && !heatmapStats.max) {\r\n            heatmapStats = { min: -1, max: 1, minLog: 1 };\r\n            yBucketSize = 1;\r\n        }\r\n        var _a = Object(__WEBPACK_IMPORTED_MODULE_7__heatmap_data_converter__[\"b\" /* convertToCards */])(bucketsData), cards = _a.cards, cardStats = _a.cardStats;\r\n        this.data = {\r\n            buckets: bucketsData,\r\n            heatmapStats: heatmapStats,\r\n            xBucketSize: xBucketSize,\r\n            yBucketSize: yBucketSize,\r\n            cards: cards,\r\n            cardStats: cardStats\r\n        };\r\n    };\r\n    HeatmapCtrl.prototype.onDataReceived = function (dataList) {\r\n        this.series = dataList.map(this.seriesHandler.bind(this));\r\n        this.dataWarning = null;\r\n        var datapointsCount = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.reduce(this.series, function (sum, series) {\r\n            return sum + series.datapoints.length;\r\n        }, 0);\r\n        if (datapointsCount === 0) {\r\n            this.dataWarning = {\r\n                title: 'No data points',\r\n                tip: 'No datapoints returned from data query'\r\n            };\r\n        }\r\n        else {\r\n            for (var _i = 0, _a = this.series; _i < _a.length; _i++) {\r\n                var series = _a[_i];\r\n                if (series.isOutsideRange) {\r\n                    this.dataWarning = {\r\n                        title: 'Data points outside time range',\r\n                        tip: 'Can be caused by timezone mismatch or missing time filter in query',\r\n                    };\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.render();\r\n    };\r\n    HeatmapCtrl.prototype.onDataError = function () {\r\n        this.series = [];\r\n        this.render();\r\n    };\r\n    HeatmapCtrl.prototype.onCardColorChange = function (newColor) {\r\n        this.panel.color.cardColor = newColor;\r\n        this.render();\r\n    };\r\n    HeatmapCtrl.prototype.seriesHandler = function (seriesData) {\r\n        var series = new __WEBPACK_IMPORTED_MODULE_3_app_core_time_series2__[\"a\" /* default */]({\r\n            datapoints: seriesData.datapoints,\r\n            alias: seriesData.target\r\n        });\r\n        series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\r\n        var datapoints = seriesData.datapoints || [];\r\n        if (datapoints && datapoints.length > 0) {\r\n            var last = datapoints[datapoints.length - 1][1];\r\n            var from = this.range.from;\r\n            if (last - from < -10000) {\r\n                series.isOutsideRange = true;\r\n            }\r\n        }\r\n        return series;\r\n    };\r\n    HeatmapCtrl.prototype.parseSeries = function (series) {\r\n        var min = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.min(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(series, function (s) { return s.stats.min; }));\r\n        var minLog = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.min(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(series, function (s) { return s.stats.logmin; }));\r\n        var max = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.max(__WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(series, function (s) { return s.stats.max; }));\r\n        return {\r\n            max: max,\r\n            min: min,\r\n            minLog: minLog\r\n        };\r\n    };\r\n    HeatmapCtrl.prototype.parseHistogramSeries = function (series) {\r\n        var bounds = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.map(series, function (s) { return Number(s.alias); });\r\n        var min = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.min(bounds);\r\n        var minLog = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.min(bounds);\r\n        var max = __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.max(bounds);\r\n        return {\r\n            max: max,\r\n            min: min,\r\n            minLog: minLog\r\n        };\r\n    };\r\n    HeatmapCtrl.prototype.link = function (scope, elem, attrs, ctrl) {\r\n        Object(__WEBPACK_IMPORTED_MODULE_6__rendering__[\"a\" /* default */])(scope, elem, attrs, ctrl);\r\n    };\r\n    HeatmapCtrl.templateUrl = 'module.html';\r\n    return HeatmapCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_0_app_plugins_sdk__[\"MetricsPanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1500:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export AxesEditorCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = axesEditor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__ = __webpack_require__(464);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\nvar AxesEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    AxesEditorCtrl.$inject = [\"$scope\", \"uiSegmentSrv\"];\r\n    function AxesEditorCtrl($scope, uiSegmentSrv) {\r\n        $scope.editor = this;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.unitFormats = __WEBPACK_IMPORTED_MODULE_0_app_core_utils_kbn__[\"default\"].getUnitFormats();\r\n        this.logScales = {\r\n            'linear': 1,\r\n            'log (base 2)': 2,\r\n            'log (base 10)': 10,\r\n            'log (base 32)': 32,\r\n            'log (base 1024)': 1024\r\n        };\r\n        this.dataFormats = {\r\n            'Time series': 'timeseries',\r\n            'Time series buckets': 'tsbuckets'\r\n        };\r\n    }\r\n    AxesEditorCtrl.prototype.setUnitFormat = function (subItem) {\r\n        this.panel.yAxis.format = subItem.value;\r\n        this.panelCtrl.render();\r\n    };\r\n    return AxesEditorCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction axesEditor() {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/plugins/panel/heatmap/partials/axes_editor.html',\r\n        controller: AxesEditorCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1501:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export HeatmapDisplayEditorCtrl */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = heatmapDisplayEditor;\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar HeatmapDisplayEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    HeatmapDisplayEditorCtrl.$inject = [\"$scope\"];\r\n    function HeatmapDisplayEditorCtrl($scope) {\r\n        $scope.editor = this;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.panelCtrl.render();\r\n    }\r\n    return HeatmapDisplayEditorCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction heatmapDisplayEditor() {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/plugins/panel/heatmap/partials/display_editor.html',\r\n        controller: HeatmapDisplayEditorCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1502:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = link;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3__ = __webpack_require__(470);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_core__ = __webpack_require__(465);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__ = __webpack_require__(1314);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__heatmap_tooltip__ = __webpack_require__(1503);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__heatmap_data_converter__ = __webpack_require__(1319);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__color_scale__ = __webpack_require__(1342);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar MIN_CARD_SIZE = 1, CARD_PADDING = 1, CARD_ROUND = 0, DATA_RANGE_WIDING_FACTOR = 1.2, DEFAULT_X_TICK_SIZE_PX = 100, DEFAULT_Y_TICK_SIZE_PX = 50, X_AXIS_TICK_PADDING = 10, Y_AXIS_TICK_PADDING = 5, MIN_SELECTION_WIDTH = 2;\r\nfunction link(scope, elem, attrs, ctrl) {\r\n    var data, timeRange, panel, heatmap;\r\n    // $heatmap is JQuery object, but heatmap is D3\r\n    var $heatmap = elem.find('.heatmap-panel');\r\n    var tooltip = new __WEBPACK_IMPORTED_MODULE_7__heatmap_tooltip__[\"a\" /* HeatmapTooltip */]($heatmap, scope);\r\n    var width, height, yScale, xScale, chartWidth, chartHeight, chartTop, chartBottom, yAxisWidth, xAxisHeight, cardPadding, cardRound, cardWidth, cardHeight, colorScale, opacityScale, mouseUpHandler;\r\n    var selection = {\r\n        active: false,\r\n        x1: -1,\r\n        x2: -1\r\n    };\r\n    var padding = { left: 0, right: 0, top: 0, bottom: 0 }, margin = { left: 25, right: 15, top: 10, bottom: 20 }, dataRangeWidingFactor = DATA_RANGE_WIDING_FACTOR;\r\n    ctrl.events.on('render', function () {\r\n        render();\r\n        ctrl.renderingCompleted();\r\n    });\r\n    function setElementHeight() {\r\n        try {\r\n            var height = ctrl.height || panel.height || ctrl.row.height;\r\n            if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(height)) {\r\n                height = parseInt(height.replace('px', ''), 10);\r\n            }\r\n            height -= 5; // padding\r\n            height -= panel.title ? 24 : 9; // subtract panel title bar\r\n            $heatmap.css('height', height + 'px');\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n    function getYAxisWidth(elem) {\r\n        var axis_text = elem.selectAll(\".axis-y text\").nodes();\r\n        var max_text_width = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.max(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(axis_text, function (text) {\r\n            // Use SVG getBBox method\r\n            return text.getBBox().width;\r\n        }));\r\n        return max_text_width;\r\n    }\r\n    function getXAxisHeight(elem) {\r\n        var axis_line = elem.select(\".axis-x line\");\r\n        if (!axis_line.empty()) {\r\n            var axis_line_position = parseFloat(elem.select(\".axis-x line\").attr(\"y2\"));\r\n            var canvas_width = parseFloat(elem.attr(\"height\"));\r\n            return canvas_width - axis_line_position;\r\n        }\r\n        else {\r\n            // Default height\r\n            return 30;\r\n        }\r\n    }\r\n    function addXAxis() {\r\n        scope.xScale = xScale = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scaleTime\"]()\r\n            .domain([timeRange.from, timeRange.to])\r\n            .range([0, chartWidth]);\r\n        var ticks = chartWidth / DEFAULT_X_TICK_SIZE_PX;\r\n        var grafanaTimeFormatter = grafanaTimeFormat(ticks, timeRange.from, timeRange.to);\r\n        var timeFormat;\r\n        var dashboardTimeZone = ctrl.dashboard.getTimezone();\r\n        if (dashboardTimeZone === 'utc') {\r\n            timeFormat = __WEBPACK_IMPORTED_MODULE_3_d3__[\"utcFormat\"](grafanaTimeFormatter);\r\n        }\r\n        else {\r\n            timeFormat = __WEBPACK_IMPORTED_MODULE_3_d3__[\"timeFormat\"](grafanaTimeFormatter);\r\n        }\r\n        var xAxis = __WEBPACK_IMPORTED_MODULE_3_d3__[\"axisBottom\"](xScale)\r\n            .ticks(ticks)\r\n            .tickFormat(timeFormat)\r\n            .tickPadding(X_AXIS_TICK_PADDING)\r\n            .tickSize(chartHeight);\r\n        var posY = margin.top;\r\n        var posX = yAxisWidth;\r\n        heatmap.append(\"g\")\r\n            .attr(\"class\", \"axis axis-x\")\r\n            .attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\")\r\n            .call(xAxis);\r\n        // Remove horizontal line in the top of axis labels (called domain in d3)\r\n        heatmap.select(\".axis-x\").select(\".domain\").remove();\r\n    }\r\n    function addYAxis() {\r\n        var ticks = Math.ceil(chartHeight / DEFAULT_Y_TICK_SIZE_PX);\r\n        var tick_interval = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"tickStep\"])(data.heatmapStats.min, data.heatmapStats.max, ticks);\r\n        var _a = wideYAxisRange(data.heatmapStats.min, data.heatmapStats.max, tick_interval), y_min = _a.y_min, y_max = _a.y_max;\r\n        // Rewrite min and max if it have been set explicitly\r\n        y_min = panel.yAxis.min !== null ? panel.yAxis.min : y_min;\r\n        y_max = panel.yAxis.max !== null ? panel.yAxis.max : y_max;\r\n        // Adjust ticks after Y range widening\r\n        tick_interval = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"tickStep\"])(y_min, y_max, ticks);\r\n        ticks = Math.ceil((y_max - y_min) / tick_interval);\r\n        var decimalsAuto = getPrecision(tick_interval);\r\n        var decimals = panel.yAxis.decimals === null ? decimalsAuto : panel.yAxis.decimals;\r\n        // Calculate scaledDecimals for log scales using tick size (as in jquery.flot.js)\r\n        var flot_tick_size = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"getFlotTickSize\"])(y_min, y_max, ticks, decimalsAuto);\r\n        var scaledDecimals = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"getScaledDecimals\"])(decimals, flot_tick_size);\r\n        ctrl.decimals = decimals;\r\n        ctrl.scaledDecimals = scaledDecimals;\r\n        // Set default Y min and max if no data\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(data.buckets)) {\r\n            y_max = 1;\r\n            y_min = -1;\r\n            ticks = 3;\r\n            decimals = 1;\r\n        }\r\n        data.yAxis = {\r\n            min: y_min,\r\n            max: y_max,\r\n            ticks: ticks\r\n        };\r\n        scope.yScale = yScale = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scaleLinear\"]()\r\n            .domain([y_min, y_max])\r\n            .range([chartHeight, 0]);\r\n        var yAxis = __WEBPACK_IMPORTED_MODULE_3_d3__[\"axisLeft\"](yScale)\r\n            .ticks(ticks)\r\n            .tickFormat(tickValueFormatter(decimals, scaledDecimals))\r\n            .tickSizeInner(0 - width)\r\n            .tickSizeOuter(0)\r\n            .tickPadding(Y_AXIS_TICK_PADDING);\r\n        heatmap.append(\"g\")\r\n            .attr(\"class\", \"axis axis-y\")\r\n            .call(yAxis);\r\n        // Calculate Y axis width first, then move axis into visible area\r\n        var posY = margin.top;\r\n        var posX = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\r\n        heatmap.select(\".axis-y\").attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\");\r\n        // Remove vertical line in the right of axis labels (called domain in d3)\r\n        heatmap.select(\".axis-y\").select(\".domain\").remove();\r\n    }\r\n    // Wide Y values range and anjust to bucket size\r\n    function wideYAxisRange(min, max, tickInterval) {\r\n        var y_widing = (max * (dataRangeWidingFactor - 1) - min * (dataRangeWidingFactor - 1)) / 2;\r\n        var y_min, y_max;\r\n        if (tickInterval === 0) {\r\n            y_max = max * dataRangeWidingFactor;\r\n            y_min = min - min * (dataRangeWidingFactor - 1);\r\n            tickInterval = (y_max - y_min) / 2;\r\n        }\r\n        else {\r\n            y_max = Math.ceil((max + y_widing) / tickInterval) * tickInterval;\r\n            y_min = Math.floor((min - y_widing) / tickInterval) * tickInterval;\r\n        }\r\n        // Don't wide axis below 0 if all values are positive\r\n        if (min >= 0 && y_min < 0) {\r\n            y_min = 0;\r\n        }\r\n        return { y_min: y_min, y_max: y_max };\r\n    }\r\n    function addLogYAxis() {\r\n        var log_base = panel.yAxis.logBase;\r\n        var _a = adjustLogRange(data.heatmapStats.minLog, data.heatmapStats.max, log_base), y_min = _a.y_min, y_max = _a.y_max;\r\n        y_min = panel.yAxis.min && panel.yAxis.min !== '0' ? adjustLogMin(panel.yAxis.min, log_base) : y_min;\r\n        y_max = panel.yAxis.max !== null ? adjustLogMax(panel.yAxis.max, log_base) : y_max;\r\n        // Set default Y min and max if no data\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(data.buckets)) {\r\n            y_max = Math.pow(log_base, 2);\r\n            y_min = 1;\r\n        }\r\n        scope.yScale = yScale = __WEBPACK_IMPORTED_MODULE_3_d3__[\"scaleLog\"]()\r\n            .base(panel.yAxis.logBase)\r\n            .domain([y_min, y_max])\r\n            .range([chartHeight, 0]);\r\n        var domain = yScale.domain();\r\n        var tick_values = logScaleTickValues(domain, log_base);\r\n        var decimalsAuto = getPrecision(y_min);\r\n        var decimals = panel.yAxis.decimals || decimalsAuto;\r\n        // Calculate scaledDecimals for log scales using tick size (as in jquery.flot.js)\r\n        var flot_tick_size = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"getFlotTickSize\"])(y_min, y_max, tick_values.length, decimalsAuto);\r\n        var scaledDecimals = Object(__WEBPACK_IMPORTED_MODULE_6_app_core_utils_ticks__[\"getScaledDecimals\"])(decimals, flot_tick_size);\r\n        ctrl.decimals = decimals;\r\n        ctrl.scaledDecimals = scaledDecimals;\r\n        data.yAxis = {\r\n            min: y_min,\r\n            max: y_max,\r\n            ticks: tick_values.length\r\n        };\r\n        var yAxis = __WEBPACK_IMPORTED_MODULE_3_d3__[\"axisLeft\"](yScale)\r\n            .tickValues(tick_values)\r\n            .tickFormat(tickValueFormatter(decimals, scaledDecimals))\r\n            .tickSizeInner(0 - width)\r\n            .tickSizeOuter(0)\r\n            .tickPadding(Y_AXIS_TICK_PADDING);\r\n        heatmap.append(\"g\")\r\n            .attr(\"class\", \"axis axis-y\")\r\n            .call(yAxis);\r\n        // Calculate Y axis width first, then move axis into visible area\r\n        var posY = margin.top;\r\n        var posX = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\r\n        heatmap.select(\".axis-y\").attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\");\r\n        // Set first tick as pseudo 0\r\n        if (y_min < 1) {\r\n            heatmap.select(\".axis-y\").select(\".tick text\").text(\"0\");\r\n        }\r\n        // Remove vertical line in the right of axis labels (called domain in d3)\r\n        heatmap.select(\".axis-y\").select(\".domain\").remove();\r\n    }\r\n    // Adjust data range to log base\r\n    function adjustLogRange(min, max, logBase) {\r\n        var y_min, y_max;\r\n        y_min = data.heatmapStats.minLog;\r\n        if (data.heatmapStats.minLog > 1 || !data.heatmapStats.minLog) {\r\n            y_min = 1;\r\n        }\r\n        else {\r\n            y_min = adjustLogMin(data.heatmapStats.minLog, logBase);\r\n        }\r\n        // Adjust max Y value to log base\r\n        y_max = adjustLogMax(data.heatmapStats.max, logBase);\r\n        return { y_min: y_min, y_max: y_max };\r\n    }\r\n    function adjustLogMax(max, base) {\r\n        return Math.pow(base, Math.ceil(logp(max, base)));\r\n    }\r\n    function adjustLogMin(min, base) {\r\n        return Math.pow(base, Math.floor(logp(min, base)));\r\n    }\r\n    function logScaleTickValues(domain, base) {\r\n        var domainMin = domain[0];\r\n        var domainMax = domain[1];\r\n        var tickValues = [];\r\n        if (domainMin < 1) {\r\n            var under_one_ticks = Math.floor(logp(domainMin, base));\r\n            for (var i = under_one_ticks; i < 0; i++) {\r\n                var tick_value = Math.pow(base, i);\r\n                tickValues.push(tick_value);\r\n            }\r\n        }\r\n        var ticks = Math.ceil(logp(domainMax, base));\r\n        for (var i = 0; i <= ticks; i++) {\r\n            var tick_value = Math.pow(base, i);\r\n            tickValues.push(tick_value);\r\n        }\r\n        return tickValues;\r\n    }\r\n    function tickValueFormatter(decimals, scaledDecimals) {\r\n        if (scaledDecimals === void 0) { scaledDecimals = null; }\r\n        var format = panel.yAxis.format;\r\n        return function (value) {\r\n            return __WEBPACK_IMPORTED_MODULE_4_app_core_utils_kbn__[\"default\"].valueFormats[format](value, decimals, scaledDecimals);\r\n        };\r\n    }\r\n    function fixYAxisTickSize() {\r\n        heatmap.select(\".axis-y\")\r\n            .selectAll(\".tick line\")\r\n            .attr(\"x2\", chartWidth);\r\n    }\r\n    function addAxes() {\r\n        chartHeight = height - margin.top - margin.bottom;\r\n        chartTop = margin.top;\r\n        chartBottom = chartTop + chartHeight;\r\n        if (panel.yAxis.logBase === 1) {\r\n            addYAxis();\r\n        }\r\n        else {\r\n            addLogYAxis();\r\n        }\r\n        yAxisWidth = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\r\n        chartWidth = width - yAxisWidth - margin.right;\r\n        fixYAxisTickSize();\r\n        addXAxis();\r\n        xAxisHeight = getXAxisHeight(heatmap);\r\n        if (!panel.yAxis.show) {\r\n            heatmap.select(\".axis-y\").selectAll(\"line\").style(\"opacity\", 0);\r\n        }\r\n        if (!panel.xAxis.show) {\r\n            heatmap.select(\".axis-x\").selectAll(\"line\").style(\"opacity\", 0);\r\n        }\r\n    }\r\n    function addHeatmapCanvas() {\r\n        var heatmap_elem = $heatmap[0];\r\n        width = Math.floor($heatmap.width()) - padding.right;\r\n        height = Math.floor($heatmap.height()) - padding.bottom;\r\n        cardPadding = panel.cards.cardPadding !== null ? panel.cards.cardPadding : CARD_PADDING;\r\n        cardRound = panel.cards.cardRound !== null ? panel.cards.cardRound : CARD_ROUND;\r\n        if (heatmap) {\r\n            heatmap.remove();\r\n        }\r\n        heatmap = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](heatmap_elem)\r\n            .append(\"svg\")\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height);\r\n    }\r\n    function addHeatmap() {\r\n        addHeatmapCanvas();\r\n        addAxes();\r\n        if (panel.yAxis.logBase !== 1) {\r\n            var log_base = panel.yAxis.logBase;\r\n            var domain = yScale.domain();\r\n            var tick_values = logScaleTickValues(domain, log_base);\r\n            data.buckets = Object(__WEBPACK_IMPORTED_MODULE_8__heatmap_data_converter__[\"f\" /* mergeZeroBuckets */])(data.buckets, __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.min(tick_values));\r\n        }\r\n        var cardsData = data.cards;\r\n        var maxValueAuto = data.cardStats.max;\r\n        var maxValue = panel.color.max || maxValueAuto;\r\n        var minValue = panel.color.min || 0;\r\n        var colorScheme = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(ctrl.colorSchemes, { value: panel.color.colorScheme });\r\n        colorScale = Object(__WEBPACK_IMPORTED_MODULE_9__color_scale__[\"a\" /* getColorScale */])(colorScheme, __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"contextSrv\"].user.lightTheme, maxValue, minValue);\r\n        opacityScale = Object(__WEBPACK_IMPORTED_MODULE_9__color_scale__[\"b\" /* getOpacityScale */])(panel.color, maxValue);\r\n        setCardSize();\r\n        var cards = heatmap.selectAll(\".heatmap-card\").data(cardsData);\r\n        cards.append(\"title\");\r\n        cards = cards.enter().append(\"rect\")\r\n            .attr(\"x\", getCardX)\r\n            .attr(\"width\", getCardWidth)\r\n            .attr(\"y\", getCardY)\r\n            .attr(\"height\", getCardHeight)\r\n            .attr(\"rx\", cardRound)\r\n            .attr(\"ry\", cardRound)\r\n            .attr(\"class\", \"bordered heatmap-card\")\r\n            .style(\"fill\", getCardColor)\r\n            .style(\"stroke\", getCardColor)\r\n            .style(\"stroke-width\", 0)\r\n            .style(\"opacity\", getCardOpacity);\r\n        var $cards = $heatmap.find(\".heatmap-card\");\r\n        $cards.on(\"mouseenter\", function (event) {\r\n            tooltip.mouseOverBucket = true;\r\n            highlightCard(event);\r\n        })\r\n            .on(\"mouseleave\", function (event) {\r\n            tooltip.mouseOverBucket = false;\r\n            resetCardHighLight(event);\r\n        });\r\n    }\r\n    function highlightCard(event) {\r\n        var color = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](event.target).style(\"fill\");\r\n        var highlightColor = __WEBPACK_IMPORTED_MODULE_3_d3__[\"color\"](color).darker(2);\r\n        var strokeColor = __WEBPACK_IMPORTED_MODULE_3_d3__[\"color\"](color).brighter(4);\r\n        var current_card = __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](event.target);\r\n        tooltip.originalFillColor = color;\r\n        current_card.style(\"fill\", highlightColor.toString())\r\n            .style(\"stroke\", strokeColor.toString())\r\n            .style(\"stroke-width\", 1);\r\n    }\r\n    function resetCardHighLight(event) {\r\n        __WEBPACK_IMPORTED_MODULE_3_d3__[\"select\"](event.target).style(\"fill\", tooltip.originalFillColor)\r\n            .style(\"stroke\", tooltip.originalFillColor)\r\n            .style(\"stroke-width\", 0);\r\n    }\r\n    function setCardSize() {\r\n        var xGridSize = Math.floor(xScale(data.xBucketSize) - xScale(0));\r\n        var yGridSize = Math.floor(yScale(yScale.invert(0) - data.yBucketSize));\r\n        if (panel.yAxis.logBase !== 1) {\r\n            var base = panel.yAxis.logBase;\r\n            var splitFactor = data.yBucketSize || 1;\r\n            yGridSize = Math.floor((yScale(1) - yScale(base)) / splitFactor);\r\n        }\r\n        cardWidth = xGridSize - cardPadding * 2;\r\n        cardHeight = yGridSize ? yGridSize - cardPadding * 2 : 0;\r\n    }\r\n    function getCardX(d) {\r\n        var x;\r\n        if (xScale(d.x) < 0) {\r\n            // Cut card left to prevent overlay\r\n            x = yAxisWidth + cardPadding;\r\n        }\r\n        else {\r\n            x = xScale(d.x) + yAxisWidth + cardPadding;\r\n        }\r\n        return x;\r\n    }\r\n    function getCardWidth(d) {\r\n        var w;\r\n        if (xScale(d.x) < 0) {\r\n            // Cut card left to prevent overlay\r\n            var cutted_width = xScale(d.x) + cardWidth;\r\n            w = cutted_width > 0 ? cutted_width : 0;\r\n        }\r\n        else if (xScale(d.x) + cardWidth > chartWidth) {\r\n            // Cut card right to prevent overlay\r\n            w = chartWidth - xScale(d.x) - cardPadding;\r\n        }\r\n        else {\r\n            w = cardWidth;\r\n        }\r\n        // Card width should be MIN_CARD_SIZE at least\r\n        w = Math.max(w, MIN_CARD_SIZE);\r\n        return w;\r\n    }\r\n    function getCardY(d) {\r\n        var y = yScale(d.y) + chartTop - cardHeight - cardPadding;\r\n        if (panel.yAxis.logBase !== 1 && d.y === 0) {\r\n            y = chartBottom - cardHeight - cardPadding;\r\n        }\r\n        else {\r\n            if (y < chartTop) {\r\n                y = chartTop;\r\n            }\r\n        }\r\n        return y;\r\n    }\r\n    function getCardHeight(d) {\r\n        var y = yScale(d.y) + chartTop - cardHeight - cardPadding;\r\n        var h = cardHeight;\r\n        if (panel.yAxis.logBase !== 1 && d.y === 0) {\r\n            return cardHeight;\r\n        }\r\n        // Cut card height to prevent overlay\r\n        if (y < chartTop) {\r\n            h = yScale(d.y) - cardPadding;\r\n        }\r\n        else if (yScale(d.y) > chartBottom) {\r\n            h = chartBottom - y;\r\n        }\r\n        else if (y + cardHeight > chartBottom) {\r\n            h = chartBottom - y;\r\n        }\r\n        // Height can't be more than chart height\r\n        h = Math.min(h, chartHeight);\r\n        // Card height should be MIN_CARD_SIZE at least\r\n        h = Math.max(h, MIN_CARD_SIZE);\r\n        return h;\r\n    }\r\n    function getCardColor(d) {\r\n        if (panel.color.mode === 'opacity') {\r\n            return panel.color.cardColor;\r\n        }\r\n        else {\r\n            return colorScale(d.count);\r\n        }\r\n    }\r\n    function getCardOpacity(d) {\r\n        if (panel.color.mode === 'opacity') {\r\n            return opacityScale(d.count);\r\n        }\r\n        else {\r\n            return 1;\r\n        }\r\n    }\r\n    /////////////////////////////\r\n    // Selection and crosshair //\r\n    /////////////////////////////\r\n    // Shared crosshair and tooltip\r\n    __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"appEvents\"].on('graph-hover', function (event) {\r\n        drawSharedCrosshair(event.pos);\r\n    }, scope);\r\n    __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"appEvents\"].on('graph-hover-clear', function () {\r\n        clearCrosshair();\r\n    }, scope);\r\n    function onMouseDown(event) {\r\n        selection.active = true;\r\n        selection.x1 = event.offsetX;\r\n        mouseUpHandler = function () {\r\n            onMouseUp();\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_1_jquery___default()(document).one(\"mouseup\", mouseUpHandler);\r\n    }\r\n    function onMouseUp() {\r\n        __WEBPACK_IMPORTED_MODULE_1_jquery___default()(document).unbind(\"mouseup\", mouseUpHandler);\r\n        mouseUpHandler = null;\r\n        selection.active = false;\r\n        var selectionRange = Math.abs(selection.x2 - selection.x1);\r\n        if (selection.x2 >= 0 && selectionRange > MIN_SELECTION_WIDTH) {\r\n            var timeFrom = xScale.invert(Math.min(selection.x1, selection.x2) - yAxisWidth);\r\n            var timeTo = xScale.invert(Math.max(selection.x1, selection.x2) - yAxisWidth);\r\n            ctrl.timeSrv.setTime({\r\n                from: __WEBPACK_IMPORTED_MODULE_2_moment___default.a.utc(timeFrom),\r\n                to: __WEBPACK_IMPORTED_MODULE_2_moment___default.a.utc(timeTo)\r\n            });\r\n        }\r\n        clearSelection();\r\n    }\r\n    function onMouseLeave() {\r\n        __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"appEvents\"].emit('graph-hover-clear');\r\n        clearCrosshair();\r\n    }\r\n    function onMouseMove(event) {\r\n        if (!heatmap) {\r\n            return;\r\n        }\r\n        if (selection.active) {\r\n            // Clear crosshair and tooltip\r\n            clearCrosshair();\r\n            tooltip.destroy();\r\n            selection.x2 = limitSelection(event.offsetX);\r\n            drawSelection(selection.x1, selection.x2);\r\n        }\r\n        else {\r\n            emitGraphHoverEvet(event);\r\n            drawCrosshair(event.offsetX);\r\n            tooltip.show(event, data);\r\n        }\r\n    }\r\n    function emitGraphHoverEvet(event) {\r\n        var x = xScale.invert(event.offsetX - yAxisWidth).valueOf();\r\n        var y = yScale.invert(event.offsetY);\r\n        var pos = {\r\n            pageX: event.pageX,\r\n            pageY: event.pageY,\r\n            x: x, x1: x,\r\n            y: y, y1: y,\r\n            panelRelY: null\r\n        };\r\n        // Set minimum offset to prevent showing legend from another panel\r\n        pos.panelRelY = Math.max(event.offsetY / height, 0.001);\r\n        // broadcast to other graph panels that we are hovering\r\n        __WEBPACK_IMPORTED_MODULE_5_app_core_core__[\"appEvents\"].emit('graph-hover', { pos: pos, panel: panel });\r\n    }\r\n    function limitSelection(x2) {\r\n        x2 = Math.max(x2, yAxisWidth);\r\n        x2 = Math.min(x2, chartWidth + yAxisWidth);\r\n        return x2;\r\n    }\r\n    function drawSelection(posX1, posX2) {\r\n        if (heatmap) {\r\n            heatmap.selectAll(\".heatmap-selection\").remove();\r\n            var selectionX = Math.min(posX1, posX2);\r\n            var selectionWidth = Math.abs(posX1 - posX2);\r\n            if (selectionWidth > MIN_SELECTION_WIDTH) {\r\n                heatmap.append(\"rect\")\r\n                    .attr(\"class\", \"heatmap-selection\")\r\n                    .attr(\"x\", selectionX)\r\n                    .attr(\"width\", selectionWidth)\r\n                    .attr(\"y\", chartTop)\r\n                    .attr(\"height\", chartHeight);\r\n            }\r\n        }\r\n    }\r\n    function clearSelection() {\r\n        selection.x1 = -1;\r\n        selection.x2 = -1;\r\n        if (heatmap) {\r\n            heatmap.selectAll(\".heatmap-selection\").remove();\r\n        }\r\n    }\r\n    function drawCrosshair(position) {\r\n        if (heatmap) {\r\n            heatmap.selectAll(\".heatmap-crosshair\").remove();\r\n            var posX = position;\r\n            posX = Math.max(posX, yAxisWidth);\r\n            posX = Math.min(posX, chartWidth + yAxisWidth);\r\n            heatmap.append(\"g\")\r\n                .attr(\"class\", \"heatmap-crosshair\")\r\n                .attr(\"transform\", \"translate(\" + posX + \",0)\")\r\n                .append(\"line\")\r\n                .attr(\"x1\", 1)\r\n                .attr(\"y1\", chartTop)\r\n                .attr(\"x2\", 1)\r\n                .attr(\"y2\", chartBottom)\r\n                .attr(\"stroke-width\", 1);\r\n        }\r\n    }\r\n    function drawSharedCrosshair(pos) {\r\n        if (heatmap && ctrl.dashboard.graphTooltip !== 0) {\r\n            var posX = xScale(pos.x) + yAxisWidth;\r\n            drawCrosshair(posX);\r\n        }\r\n    }\r\n    function clearCrosshair() {\r\n        if (heatmap) {\r\n            heatmap.selectAll(\".heatmap-crosshair\").remove();\r\n        }\r\n    }\r\n    function render() {\r\n        data = ctrl.data;\r\n        panel = ctrl.panel;\r\n        timeRange = ctrl.range;\r\n        if (!setElementHeight() || !data) {\r\n            return;\r\n        }\r\n        // Draw default axes and return if no data\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isEmpty(data.buckets)) {\r\n            addHeatmapCanvas();\r\n            addAxes();\r\n            return;\r\n        }\r\n        addHeatmap();\r\n        scope.yAxisWidth = yAxisWidth;\r\n        scope.xAxisHeight = xAxisHeight;\r\n        scope.chartHeight = chartHeight;\r\n        scope.chartWidth = chartWidth;\r\n        scope.chartTop = chartTop;\r\n    }\r\n    // Register selection listeners\r\n    $heatmap.on(\"mousedown\", onMouseDown);\r\n    $heatmap.on(\"mousemove\", onMouseMove);\r\n    $heatmap.on(\"mouseleave\", onMouseLeave);\r\n}\r\nfunction grafanaTimeFormat(ticks, min, max) {\r\n    if (min && max && ticks) {\r\n        var range = max - min;\r\n        var secPerTick = (range / ticks) / 1000;\r\n        var oneDay = 86400000;\r\n        var oneYear = 31536000000;\r\n        if (secPerTick <= 45) {\r\n            return \"%H:%M:%S\";\r\n        }\r\n        if (secPerTick <= 7200 || range <= oneDay) {\r\n            return \"%H:%M\";\r\n        }\r\n        if (secPerTick <= 80000) {\r\n            return \"%m/%d %H:%M\";\r\n        }\r\n        if (secPerTick <= 2419200 || range <= oneYear) {\r\n            return \"%m/%d\";\r\n        }\r\n        return \"%Y-%m\";\r\n    }\r\n    return \"%H:%M\";\r\n}\r\nfunction logp(value, base) {\r\n    return Math.log(value) / Math.log(base);\r\n}\r\nfunction getPrecision(num) {\r\n    var str = num.toString();\r\n    var dot_index = str.indexOf(\".\");\r\n    if (dot_index === -1) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return str.length - dot_index - 1;\r\n    }\r\n}\r\n\n\n/***/ }),\n\n/***/ 1503:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return HeatmapTooltip; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d3__ = __webpack_require__(470);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__heatmap_data_converter__ = __webpack_require__(1319);\n\r\n\r\n\r\n\r\n\r\nvar TOOLTIP_PADDING_X = 30;\r\nvar TOOLTIP_PADDING_Y = 5;\r\nvar HISTOGRAM_WIDTH = 160;\r\nvar HISTOGRAM_HEIGHT = 40;\r\nvar HeatmapTooltip = /** @class */ (function () {\r\n    function HeatmapTooltip(elem, scope) {\r\n        this.scope = scope;\r\n        this.dashboard = scope.ctrl.dashboard;\r\n        this.panelCtrl = scope.ctrl;\r\n        this.panel = scope.ctrl.panel;\r\n        this.heatmapPanel = elem;\r\n        this.mouseOverBucket = false;\r\n        this.originalFillColor = null;\r\n        elem.on(\"mouseover\", this.onMouseOver.bind(this));\r\n        elem.on(\"mouseleave\", this.onMouseLeave.bind(this));\r\n    }\r\n    HeatmapTooltip.prototype.onMouseOver = function (e) {\r\n        if (!this.panel.tooltip.show || !this.scope.ctrl.data || __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isEmpty(this.scope.ctrl.data.buckets)) {\r\n            return;\r\n        }\r\n        if (!this.tooltip) {\r\n            this.add();\r\n            this.move(e);\r\n        }\r\n    };\r\n    HeatmapTooltip.prototype.onMouseLeave = function () {\r\n        this.destroy();\r\n    };\r\n    HeatmapTooltip.prototype.onMouseMove = function (e) {\r\n        if (!this.panel.tooltip.show) {\r\n            return;\r\n        }\r\n        this.move(e);\r\n    };\r\n    HeatmapTooltip.prototype.add = function () {\r\n        this.tooltip = __WEBPACK_IMPORTED_MODULE_0_d3__[\"select\"](\"body\")\r\n            .append(\"div\")\r\n            .attr(\"class\", \"heatmap-tooltip graph-tooltip grafana-tooltip\");\r\n    };\r\n    HeatmapTooltip.prototype.destroy = function () {\r\n        if (this.tooltip) {\r\n            this.tooltip.remove();\r\n        }\r\n        this.tooltip = null;\r\n    };\r\n    HeatmapTooltip.prototype.show = function (pos, data) {\r\n        if (!this.panel.tooltip.show || !data) {\r\n            return;\r\n        }\r\n        // shared tooltip mode\r\n        if (pos.panelRelY) {\r\n            return;\r\n        }\r\n        var _a = this.getBucketIndexes(pos, data), xBucketIndex = _a.xBucketIndex, yBucketIndex = _a.yBucketIndex;\r\n        if (!data.buckets[xBucketIndex] || !this.tooltip) {\r\n            this.destroy();\r\n            return;\r\n        }\r\n        var boundBottom, boundTop, valuesNumber;\r\n        var xData = data.buckets[xBucketIndex];\r\n        // Search in special 'zero' bucket also\r\n        var yData = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.find(xData.buckets, function (bucket, bucketIndex) {\r\n            return bucket.bounds.bottom === yBucketIndex || bucketIndex === yBucketIndex;\r\n        });\r\n        var tooltipTimeFormat = 'YYYY-MM-DD HH:mm:ss';\r\n        var time = this.dashboard.formatDate(xData.x, tooltipTimeFormat);\r\n        // Decimals override. Code from panel/graph/graph.ts\r\n        var valueFormatter;\r\n        if (__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.isNumber(this.panel.tooltipDecimals)) {\r\n            valueFormatter = this.valueFormatter(this.panel.tooltipDecimals, null);\r\n        }\r\n        else {\r\n            // auto decimals\r\n            // legend and tooltip gets one more decimal precision\r\n            // than graph legend ticks\r\n            var decimals = (this.panelCtrl.decimals || -1) + 1;\r\n            valueFormatter = this.valueFormatter(decimals, this.panelCtrl.scaledDecimals + 2);\r\n        }\r\n        var tooltipHtml = \"<div class=\\\"graph-tooltip-time\\\">\" + time + \"</div>\\n      <div class=\\\"heatmap-histogram\\\"></div>\";\r\n        if (yData) {\r\n            if (yData.bounds) {\r\n                // Display 0 if bucket is a special 'zero' bucket\r\n                var bottom = yData.y ? yData.bounds.bottom : 0;\r\n                boundBottom = valueFormatter(bottom);\r\n                boundTop = valueFormatter(yData.bounds.top);\r\n                valuesNumber = yData.count;\r\n                tooltipHtml += \"<div>\\n          bucket: <b>\" + boundBottom + \" - \" + boundTop + \"</b> <br>\\n          count: <b>\" + valuesNumber + \"</b> <br>\\n        </div>\";\r\n            }\r\n            else {\r\n                // currently no bounds for pre bucketed data\r\n                tooltipHtml += \"<div>count: <b>\" + yData.count + \"</b><br></div>\";\r\n            }\r\n        }\r\n        else {\r\n            if (!this.panel.tooltip.showHistogram) {\r\n                this.destroy();\r\n                return;\r\n            }\r\n            boundBottom = yBucketIndex;\r\n            boundTop = '';\r\n            valuesNumber = 0;\r\n        }\r\n        this.tooltip.html(tooltipHtml);\r\n        if (this.panel.tooltip.showHistogram) {\r\n            this.addHistogram(xData);\r\n        }\r\n        this.move(pos);\r\n    };\r\n    HeatmapTooltip.prototype.getBucketIndexes = function (pos, data) {\r\n        var xBucketIndex = this.getXBucketIndex(pos.offsetX, data);\r\n        var yBucketIndex = this.getYBucketIndex(pos.offsetY, data);\r\n        return { xBucketIndex: xBucketIndex, yBucketIndex: yBucketIndex };\r\n    };\r\n    HeatmapTooltip.prototype.getXBucketIndex = function (offsetX, data) {\r\n        var x = this.scope.xScale.invert(offsetX - this.scope.yAxisWidth).valueOf();\r\n        var xBucketIndex = Object(__WEBPACK_IMPORTED_MODULE_4__heatmap_data_converter__[\"e\" /* getValueBucketBound */])(x, data.xBucketSize, 1);\r\n        return xBucketIndex;\r\n    };\r\n    HeatmapTooltip.prototype.getYBucketIndex = function (offsetY, data) {\r\n        var y = this.scope.yScale.invert(offsetY - this.scope.chartTop);\r\n        var yBucketIndex = Object(__WEBPACK_IMPORTED_MODULE_4__heatmap_data_converter__[\"e\" /* getValueBucketBound */])(y, data.yBucketSize, this.panel.yAxis.logBase);\r\n        return yBucketIndex;\r\n    };\r\n    HeatmapTooltip.prototype.getSharedTooltipPos = function (pos) {\r\n        // get pageX from position on x axis and pageY from relative position in original panel\r\n        pos.pageX = this.heatmapPanel.offset().left + this.scope.xScale(pos.x);\r\n        pos.pageY = this.heatmapPanel.offset().top + this.scope.chartHeight * pos.panelRelY;\r\n        return pos;\r\n    };\r\n    HeatmapTooltip.prototype.addHistogram = function (data) {\r\n        var xBucket = this.scope.ctrl.data.buckets[data.x];\r\n        var yBucketSize = this.scope.ctrl.data.yBucketSize;\r\n        var _a = this.scope.ctrl.data.yAxis, min = _a.min, max = _a.max, ticks = _a.ticks;\r\n        var histogramData = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(xBucket.buckets, function (bucket) {\r\n            return [bucket.bounds.bottom, bucket.values.length];\r\n        });\r\n        histogramData = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.filter(histogramData, function (d) {\r\n            return d[0] >= min && d[0] <= max;\r\n        });\r\n        var scale = this.scope.yScale.copy();\r\n        var histXScale = scale\r\n            .domain([min, max])\r\n            .range([0, HISTOGRAM_WIDTH]);\r\n        var barWidth;\r\n        if (this.panel.yAxis.logBase === 1) {\r\n            barWidth = Math.floor(HISTOGRAM_WIDTH / (max - min) * yBucketSize * 0.9);\r\n        }\r\n        else {\r\n            var barNumberFactor = yBucketSize ? yBucketSize : 1;\r\n            barWidth = Math.floor(HISTOGRAM_WIDTH / ticks / barNumberFactor * 0.9);\r\n        }\r\n        barWidth = Math.max(barWidth, 1);\r\n        // Normalize histogram Y axis\r\n        var histogramDomain = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.reduce(__WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(histogramData, function (d) { return d[1]; }), function (sum, val) { return sum + val; }, 0);\r\n        var histYScale = __WEBPACK_IMPORTED_MODULE_0_d3__[\"scaleLinear\"]()\r\n            .domain([0, histogramDomain])\r\n            .range([0, HISTOGRAM_HEIGHT]);\r\n        var histogram = this.tooltip.select(\".heatmap-histogram\")\r\n            .append(\"svg\")\r\n            .attr(\"width\", HISTOGRAM_WIDTH)\r\n            .attr(\"height\", HISTOGRAM_HEIGHT);\r\n        histogram.selectAll(\".bar\").data(histogramData)\r\n            .enter().append(\"rect\")\r\n            .attr(\"x\", function (d) {\r\n            return histXScale(d[0]);\r\n        })\r\n            .attr(\"width\", barWidth)\r\n            .attr(\"y\", function (d) {\r\n            return HISTOGRAM_HEIGHT - histYScale(d[1]);\r\n        })\r\n            .attr(\"height\", function (d) {\r\n            return histYScale(d[1]);\r\n        });\r\n    };\r\n    HeatmapTooltip.prototype.move = function (pos) {\r\n        if (!this.tooltip) {\r\n            return;\r\n        }\r\n        var elem = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(this.tooltip.node())[0];\r\n        var tooltipWidth = elem.clientWidth;\r\n        var tooltipHeight = elem.clientHeight;\r\n        var left = pos.pageX + TOOLTIP_PADDING_X;\r\n        var top = pos.pageY + TOOLTIP_PADDING_Y;\r\n        if (pos.pageX + tooltipWidth + 40 > window.innerWidth) {\r\n            left = pos.pageX - tooltipWidth - TOOLTIP_PADDING_X;\r\n        }\r\n        if (pos.pageY - window.pageYOffset + tooltipHeight + 20 > window.innerHeight) {\r\n            top = pos.pageY - tooltipHeight - TOOLTIP_PADDING_Y;\r\n        }\r\n        return this.tooltip\r\n            .style(\"left\", left + \"px\")\r\n            .style(\"top\", top + \"px\");\r\n    };\r\n    HeatmapTooltip.prototype.valueFormatter = function (decimals, scaledDecimals) {\r\n        if (scaledDecimals === void 0) { scaledDecimals = null; }\r\n        var format = this.panel.yAxis.format;\r\n        return function (value) {\r\n            return __WEBPACK_IMPORTED_MODULE_3_app_core_utils_kbn__[\"default\"].valueFormats[format](value, decimals, scaledDecimals);\r\n        };\r\n    };\r\n    return HeatmapTooltip;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1504:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TablePanelCtrl\", function() { return TablePanelCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return TablePanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__transformers__ = __webpack_require__(1343);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editor__ = __webpack_require__(1505);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__column_options__ = __webpack_require__(1506);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__renderer__ = __webpack_require__(1507);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar TablePanelCtrl = /** @class */ (function (_super) {\r\n    __extends(TablePanelCtrl, _super);\r\n    /** @ngInject */\n    TablePanelCtrl.$inject = [\"$scope\", \"$injector\", \"templateSrv\", \"annotationsSrv\", \"$sanitize\", \"variableSrv\"];\r\n    function TablePanelCtrl($scope, $injector, templateSrv, annotationsSrv, $sanitize, variableSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.annotationsSrv = annotationsSrv;\r\n        _this.$sanitize = $sanitize;\r\n        _this.variableSrv = variableSrv;\r\n        _this.panelDefaults = {\r\n            targets: [{}],\r\n            transform: 'timeseries_to_columns',\r\n            pageSize: null,\r\n            showHeader: true,\r\n            styles: [\r\n                {\r\n                    type: 'date',\r\n                    pattern: 'Time',\r\n                    alias: 'Time',\r\n                    dateFormat: 'YYYY-MM-DD HH:mm:ss',\r\n                },\r\n                {\r\n                    unit: 'short',\r\n                    type: 'number',\r\n                    alias: '',\r\n                    decimals: 2,\r\n                    colors: [\"rgba(245, 54, 54, 0.9)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(50, 172, 45, 0.97)\"],\r\n                    colorMode: null,\r\n                    pattern: '/.*/',\r\n                    thresholds: [],\r\n                }\r\n            ],\r\n            columns: [],\r\n            scroll: true,\r\n            fontSize: '100%',\r\n            sort: { col: 0, desc: true },\r\n        };\r\n        _this.pageIndex = 0;\r\n        if (_this.panel.styles === void 0) {\r\n            _this.panel.styles = _this.panel.columns;\r\n            _this.panel.columns = _this.panel.fields;\r\n            delete _this.panel.columns;\r\n            delete _this.panel.fields;\r\n        }\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        _this.events.on('data-received', _this.onDataReceived.bind(_this));\r\n        _this.events.on('data-error', _this.onDataError.bind(_this));\r\n        _this.events.on('data-snapshot-load', _this.onDataReceived.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.events.on('init-panel-actions', _this.onInitPanelActions.bind(_this));\r\n        return _this;\r\n    }\r\n    TablePanelCtrl.prototype.onInitEditMode = function () {\r\n        this.addEditorTab('Options', __WEBPACK_IMPORTED_MODULE_4__editor__[\"a\" /* tablePanelEditor */], 2);\r\n        this.addEditorTab('Column Styles', __WEBPACK_IMPORTED_MODULE_5__column_options__[\"a\" /* columnOptionsTab */], 3);\r\n    };\r\n    TablePanelCtrl.prototype.onInitPanelActions = function (actions) {\r\n        actions.push({ text: 'Export CSV', click: 'ctrl.exportCsv()' });\r\n    };\r\n    TablePanelCtrl.prototype.issueQueries = function (datasource) {\r\n        this.pageIndex = 0;\r\n        if (this.panel.transform === 'annotations') {\r\n            this.setTimeQueryStart();\r\n            return this.annotationsSrv.getAnnotations({ dashboard: this.dashboard, panel: this.panel, range: this.range })\r\n                .then(function (annotations) {\r\n                return { data: annotations };\r\n            });\r\n        }\r\n        return _super.prototype.issueQueries.call(this, datasource);\r\n    };\r\n    TablePanelCtrl.prototype.onDataError = function (err) {\r\n        this.dataRaw = [];\r\n        this.render();\r\n    };\r\n    TablePanelCtrl.prototype.onDataReceived = function (dataList) {\r\n        this.dataRaw = dataList;\r\n        this.pageIndex = 0;\r\n        // automatically correct transform mode based on data\r\n        if (this.dataRaw && this.dataRaw.length) {\r\n            if (this.dataRaw[0].type === 'table') {\r\n                this.panel.transform = 'table';\r\n            }\r\n            else {\r\n                if (this.dataRaw[0].type === 'docs') {\r\n                    this.panel.transform = 'json';\r\n                }\r\n                else {\r\n                    if (this.panel.transform === 'table' || this.panel.transform === 'json') {\r\n                        this.panel.transform = 'timeseries_to_rows';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.render();\r\n    };\r\n    TablePanelCtrl.prototype.render = function () {\r\n        this.table = Object(__WEBPACK_IMPORTED_MODULE_3__transformers__[\"a\" /* transformDataToTable */])(this.dataRaw, this.panel);\r\n        this.table.sort(this.panel.sort);\r\n        this.renderer = new __WEBPACK_IMPORTED_MODULE_6__renderer__[\"a\" /* TableRenderer */](this.panel, this.table, this.dashboard.isTimezoneUtc(), this.$sanitize, this.templateSrv);\r\n        return _super.prototype.render.call(this, this.table);\r\n    };\r\n    TablePanelCtrl.prototype.toggleColumnSort = function (col, colIndex) {\r\n        // remove sort flag from current column\r\n        if (this.table.columns[this.panel.sort.col]) {\r\n            this.table.columns[this.panel.sort.col].sort = false;\r\n        }\r\n        if (this.panel.sort.col === colIndex) {\r\n            if (this.panel.sort.desc) {\r\n                this.panel.sort.desc = false;\r\n            }\r\n            else {\r\n                this.panel.sort.col = null;\r\n            }\r\n        }\r\n        else {\r\n            this.panel.sort.col = colIndex;\r\n            this.panel.sort.desc = true;\r\n        }\r\n        this.render();\r\n    };\r\n    TablePanelCtrl.prototype.exportCsv = function () {\r\n        var scope = this.$scope.$new(true);\r\n        scope.tableData = this.renderer.render_values();\r\n        scope.panel = 'table';\r\n        this.publishAppEvent('show-modal', {\r\n            templateHtml: '<export-data-modal panel=\"panel\" data=\"tableData\"></export-data-modal>',\r\n            scope: scope,\r\n            modalClass: 'modal--narrow'\r\n        });\r\n    };\r\n    TablePanelCtrl.prototype.link = function (scope, elem, attrs, ctrl) {\r\n        var data;\r\n        var panel = ctrl.panel;\r\n        var pageCount = 0;\r\n        function getTableHeight() {\r\n            var panelHeight = ctrl.height;\r\n            if (pageCount > 1) {\r\n                panelHeight -= 26;\r\n            }\r\n            return (panelHeight - 31) + 'px';\r\n        }\r\n        function appendTableRows(tbodyElem) {\r\n            ctrl.renderer.setTable(data);\r\n            tbodyElem.empty();\r\n            tbodyElem.html(ctrl.renderer.render(ctrl.pageIndex));\r\n        }\r\n        function switchPage(e) {\r\n            var el = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(e.currentTarget);\r\n            ctrl.pageIndex = (parseInt(el.text(), 10) - 1);\r\n            renderPanel();\r\n        }\r\n        function appendPaginationControls(footerElem) {\r\n            footerElem.empty();\r\n            var pageSize = panel.pageSize || 100;\r\n            pageCount = Math.ceil(data.rows.length / pageSize);\r\n            if (pageCount === 1) {\r\n                return;\r\n            }\r\n            var startPage = Math.max(ctrl.pageIndex - 3, 0);\r\n            var endPage = Math.min(pageCount, startPage + 9);\r\n            var paginationList = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('<ul></ul>');\r\n            for (var i = startPage; i < endPage; i++) {\r\n                var activeClass = i === ctrl.pageIndex ? 'active' : '';\r\n                var pageLinkElem = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('<li><a class=\"table-panel-page-link pointer ' + activeClass + '\">' + (i + 1) + '</a></li>');\r\n                paginationList.append(pageLinkElem);\r\n            }\r\n            footerElem.append(paginationList);\r\n        }\r\n        function renderPanel() {\r\n            var panelElem = elem.parents('.panel');\r\n            var rootElem = elem.find('.table-panel-scroll');\r\n            var tbodyElem = elem.find('tbody');\r\n            var footerElem = elem.find('.table-panel-footer');\r\n            elem.css({ 'font-size': panel.fontSize });\r\n            panelElem.addClass('table-panel-wrapper');\r\n            appendTableRows(tbodyElem);\r\n            appendPaginationControls(footerElem);\r\n            rootElem.css({ 'max-height': panel.scroll ? getTableHeight() : '' });\r\n        }\r\n        // hook up link tooltips\r\n        elem.tooltip({\r\n            selector: '[data-link-tooltip]'\r\n        });\r\n        function addFilterClicked(e) {\r\n            var filterData = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(e.currentTarget).data();\r\n            var options = {\r\n                datasource: panel.datasource,\r\n                key: data.columns[filterData.column].text,\r\n                value: data.rows[filterData.row][filterData.column],\r\n                operator: filterData.operator,\r\n            };\r\n            ctrl.variableSrv.setAdhocFilter(options);\r\n        }\r\n        elem.on('click', '.table-panel-page-link', switchPage);\r\n        elem.on('click', '.table-panel-filter-link', addFilterClicked);\r\n        var unbindDestroy = scope.$on('$destroy', function () {\r\n            elem.off('click', '.table-panel-page-link');\r\n            elem.off('click', '.table-panel-filter-link');\r\n            unbindDestroy();\r\n        });\r\n        ctrl.events.on('render', function (renderData) {\r\n            data = renderData || data;\r\n            if (data) {\r\n                renderPanel();\r\n            }\r\n            ctrl.renderingCompleted();\r\n        });\r\n    };\r\n    TablePanelCtrl.templateUrl = 'module.html';\r\n    return TablePanelCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_2_app_plugins_sdk__[\"MetricsPanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1505:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TablePanelEditorCtrl */\n/* harmony export (immutable) */ \ntablePanelEditor.$inject = [\"$q\", \"uiSegmentSrv\"];__webpack_exports__[\"a\"] = tablePanelEditor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__transformers__ = __webpack_require__(1343);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar TablePanelEditorCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    TablePanelEditorCtrl.$inject = [\"$scope\", \"$q\", \"uiSegmentSrv\"];\r\n    function TablePanelEditorCtrl($scope, $q, uiSegmentSrv) {\r\n        this.$q = $q;\r\n        this.uiSegmentSrv = uiSegmentSrv;\r\n        $scope.editor = this;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.transformers = __WEBPACK_IMPORTED_MODULE_1__transformers__[\"b\" /* transformers */];\r\n        this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\r\n        this.addColumnSegment = uiSegmentSrv.newPlusButton();\r\n        this.updateTransformHints();\r\n    }\r\n    TablePanelEditorCtrl.prototype.updateTransformHints = function () {\r\n        this.canSetColumns = false;\r\n        this.columnsHelpMessage = '';\r\n        switch (this.panel.transform) {\r\n            case \"timeseries_aggregations\": {\r\n                this.canSetColumns = true;\r\n                break;\r\n            }\r\n            case \"json\": {\r\n                this.canSetColumns = true;\r\n                break;\r\n            }\r\n            case \"table\": {\r\n                this.columnsHelpMessage = \"Columns and their order are determined by the data query\";\r\n            }\r\n        }\r\n    };\r\n    TablePanelEditorCtrl.prototype.getColumnOptions = function () {\r\n        var _this = this;\r\n        if (!this.panelCtrl.dataRaw) {\r\n            return this.$q.when([]);\r\n        }\r\n        var columns = this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw);\r\n        var segments = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(columns, function (c) { return _this.uiSegmentSrv.newSegment({ value: c.text }); });\r\n        return this.$q.when(segments);\r\n    };\r\n    TablePanelEditorCtrl.prototype.addColumn = function () {\r\n        var columns = __WEBPACK_IMPORTED_MODULE_1__transformers__[\"b\" /* transformers */][this.panel.transform].getColumns(this.panelCtrl.dataRaw);\r\n        var column = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(columns, { text: this.addColumnSegment.value });\r\n        if (column) {\r\n            this.panel.columns.push(column);\r\n            this.render();\r\n        }\r\n        var plusButton = this.uiSegmentSrv.newPlusButton();\r\n        this.addColumnSegment.html = plusButton.html;\r\n        this.addColumnSegment.value = plusButton.value;\r\n    };\r\n    TablePanelEditorCtrl.prototype.transformChanged = function () {\r\n        this.panel.columns = [];\r\n        if (this.panel.transform === 'timeseries_aggregations') {\r\n            this.panel.columns.push({ text: 'Avg', value: 'avg' });\r\n        }\r\n        this.updateTransformHints();\r\n        this.render();\r\n    };\r\n    TablePanelEditorCtrl.prototype.render = function () {\r\n        this.panelCtrl.render();\r\n    };\r\n    TablePanelEditorCtrl.prototype.removeColumn = function (column) {\r\n        this.panel.columns = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.without(this.panel.columns, column);\r\n        this.panelCtrl.render();\r\n    };\r\n    return TablePanelEditorCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction tablePanelEditor($q, uiSegmentSrv) {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/plugins/panel/table/editor.html',\r\n        controller: TablePanelEditorCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1506:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ColumnOptionsCtrl */\n/* harmony export (immutable) */ \ncolumnOptionsTab.$inject = [\"$q\", \"uiSegmentSrv\"];__webpack_exports__[\"a\"] = columnOptionsTab;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n///<reference path=\"../../../headers/common.d.ts\" />\r\n\r\n\r\nvar ColumnOptionsCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    ColumnOptionsCtrl.$inject = [\"$scope\"];\r\n    function ColumnOptionsCtrl($scope) {\r\n        var _this = this;\r\n        $scope.editor = this;\r\n        this.activeStyleIndex = 0;\r\n        this.panelCtrl = $scope.ctrl;\r\n        this.panel = this.panelCtrl.panel;\r\n        this.unitFormats = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].getUnitFormats();\r\n        this.colorModes = [\r\n            { text: 'Disabled', value: null },\r\n            { text: 'Cell', value: 'cell' },\r\n            { text: 'Value', value: 'value' },\r\n            { text: 'Row', value: 'row' },\r\n        ];\r\n        this.columnTypes = [\r\n            { text: 'Number', value: 'number' },\r\n            { text: 'String', value: 'string' },\r\n            { text: 'Date', value: 'date' },\r\n            { text: 'Hidden', value: 'hidden' }\r\n        ];\r\n        this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\r\n        this.dateFormats = [\r\n            { text: 'YYYY-MM-DD HH:mm:ss', value: 'YYYY-MM-DD HH:mm:ss' },\r\n            { text: 'YYYY-MM-DD HH:mm:ss.SSS', value: 'YYYY-MM-DD HH:mm:ss.SSS' },\r\n            { text: 'MM/DD/YY h:mm:ss a', value: 'MM/DD/YY h:mm:ss a' },\r\n            { text: 'MMMM D, YYYY LT', value: 'MMMM D, YYYY LT' },\r\n        ];\r\n        this.getColumnNames = function () {\r\n            if (!_this.panelCtrl.table) {\r\n                return [];\r\n            }\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(_this.panelCtrl.table.columns, function (col) {\r\n                return col.text;\r\n            });\r\n        };\r\n        this.onColorChange = this.onColorChange.bind(this);\r\n    }\r\n    ColumnOptionsCtrl.prototype.render = function () {\r\n        this.panelCtrl.render();\r\n    };\r\n    ColumnOptionsCtrl.prototype.setUnitFormat = function (column, subItem) {\r\n        column.unit = subItem.value;\r\n        this.panelCtrl.render();\r\n    };\r\n    ColumnOptionsCtrl.prototype.addColumnStyle = function () {\r\n        var newStyleRule = {\r\n            unit: 'short',\r\n            type: 'number',\r\n            alias: '',\r\n            decimals: 2,\r\n            colors: [\"rgba(245, 54, 54, 0.9)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(50, 172, 45, 0.97)\"],\r\n            colorMode: null,\r\n            pattern: '',\r\n            dateFormat: 'YYYY-MM-DD HH:mm:ss',\r\n            thresholds: [],\r\n        };\r\n        var styles = this.panel.styles;\r\n        var stylesCount = styles.length;\r\n        var indexToInsert = stylesCount;\r\n        // check if last is a catch all rule, then add it before that one\r\n        if (stylesCount > 0) {\r\n            var last = styles[stylesCount - 1];\r\n            if (last.pattern === '/.*/') {\r\n                indexToInsert = stylesCount - 1;\r\n            }\r\n        }\r\n        styles.splice(indexToInsert, 0, newStyleRule);\r\n        this.activeStyleIndex = indexToInsert;\r\n    };\r\n    ColumnOptionsCtrl.prototype.removeColumnStyle = function (style) {\r\n        this.panel.styles = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.without(this.panel.styles, style);\r\n    };\r\n    ColumnOptionsCtrl.prototype.invertColorOrder = function (index) {\r\n        var ref = this.panel.styles[index].colors;\r\n        var copy = ref[0];\r\n        ref[0] = ref[2];\r\n        ref[2] = copy;\r\n        this.panelCtrl.render();\r\n    };\r\n    ColumnOptionsCtrl.prototype.onColorChange = function (styleIndex, colorIndex) {\r\n        var _this = this;\r\n        return function (newColor) {\r\n            _this.panel.styles[styleIndex].colors[colorIndex] = newColor;\r\n            _this.render();\r\n        };\r\n    };\r\n    return ColumnOptionsCtrl;\r\n}());\r\n\r\n/** @ngInject */\r\nfunction columnOptionsTab($q, uiSegmentSrv) {\r\n    'use strict';\r\n    return {\r\n        restrict: 'E',\r\n        scope: true,\r\n        templateUrl: 'public/app/plugins/panel/table/column_options.html',\r\n        controller: ColumnOptionsCtrl,\r\n    };\r\n}\r\n\n\n/***/ }),\n\n/***/ 1507:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TableRenderer; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__ = __webpack_require__(464);\n\r\n\r\n\r\nvar TableRenderer = /** @class */ (function () {\r\n    function TableRenderer(panel, table, isUtc, sanitize, templateSrv) {\r\n        this.panel = panel;\r\n        this.table = table;\r\n        this.isUtc = isUtc;\r\n        this.sanitize = sanitize;\r\n        this.templateSrv = templateSrv;\r\n        this.initColumns();\r\n    }\r\n    TableRenderer.prototype.setTable = function (table) {\r\n        this.table = table;\r\n        this.initColumns();\r\n    };\r\n    TableRenderer.prototype.initColumns = function () {\r\n        this.formatters = [];\r\n        this.colorState = {};\r\n        for (var colIndex = 0; colIndex < this.table.columns.length; colIndex++) {\r\n            var column = this.table.columns[colIndex];\r\n            column.title = column.text;\r\n            for (var i = 0; i < this.panel.styles.length; i++) {\r\n                var style = this.panel.styles[i];\r\n                var regex = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].stringToJsRegex(style.pattern);\r\n                if (column.text.match(regex)) {\r\n                    column.style = style;\r\n                    if (style.alias) {\r\n                        column.title = column.text.replace(regex, style.alias);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            this.formatters[colIndex] = this.createColumnFormatter(column);\r\n        }\r\n    };\r\n    TableRenderer.prototype.getColorForValue = function (value, style) {\r\n        if (!style.thresholds) {\r\n            return null;\r\n        }\r\n        for (var i = style.thresholds.length; i > 0; i--) {\r\n            if (value >= style.thresholds[i - 1]) {\r\n                return style.colors[i];\r\n            }\r\n        }\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.first(style.colors);\r\n    };\r\n    TableRenderer.prototype.defaultCellFormatter = function (v, style) {\r\n        if (v === null || v === void 0 || v === undefined) {\r\n            return '';\r\n        }\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(v)) {\r\n            v = v.join(', ');\r\n        }\r\n        if (style && style.sanitize) {\r\n            return this.sanitize(v);\r\n        }\r\n        else {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.escape(v);\r\n        }\r\n    };\r\n    TableRenderer.prototype.createColumnFormatter = function (column) {\r\n        var _this = this;\r\n        if (!column.style) {\r\n            return this.defaultCellFormatter;\r\n        }\r\n        if (column.style.type === 'hidden') {\r\n            return function (v) {\r\n                return undefined;\r\n            };\r\n        }\r\n        if (column.style.type === 'date') {\r\n            return function (v) {\r\n                if (v === undefined || v === null) {\r\n                    return '-';\r\n                }\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(v)) {\r\n                    v = v[0];\r\n                }\r\n                var date = __WEBPACK_IMPORTED_MODULE_1_moment___default()(v);\r\n                if (_this.isUtc) {\r\n                    date = date.utc();\r\n                }\r\n                return date.format(column.style.dateFormat);\r\n            };\r\n        }\r\n        if (column.style.type === 'number') {\r\n            var valueFormatter_1 = __WEBPACK_IMPORTED_MODULE_2_app_core_utils_kbn__[\"default\"].valueFormats[column.unit || column.style.unit];\r\n            return function (v) {\r\n                if (v === null || v === void 0) {\r\n                    return '-';\r\n                }\r\n                if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(v)) {\r\n                    return _this.defaultCellFormatter(v, column.style);\r\n                }\r\n                if (column.style.colorMode) {\r\n                    _this.colorState[column.style.colorMode] = _this.getColorForValue(v, column.style);\r\n                }\r\n                return valueFormatter_1(v, column.style.decimals, null);\r\n            };\r\n        }\r\n        return function (value) {\r\n            return _this.defaultCellFormatter(value, column.style);\r\n        };\r\n    };\r\n    TableRenderer.prototype.renderRowVariables = function (rowIndex) {\r\n        var scopedVars = {};\r\n        var cell_variable;\r\n        var row = this.table.rows[rowIndex];\r\n        for (var i = 0; i < row.length; i++) {\r\n            cell_variable = \"__cell_\" + i;\r\n            scopedVars[cell_variable] = { value: row[i] };\r\n        }\r\n        return scopedVars;\r\n    };\r\n    TableRenderer.prototype.formatColumnValue = function (colIndex, value) {\r\n        return this.formatters[colIndex] ? this.formatters[colIndex](value) : value;\r\n    };\r\n    TableRenderer.prototype.renderCell = function (columnIndex, rowIndex, value, addWidthHack) {\r\n        if (addWidthHack === void 0) { addWidthHack = false; }\r\n        value = this.formatColumnValue(columnIndex, value);\r\n        var column = this.table.columns[columnIndex];\r\n        var style = '';\r\n        var cellClasses = [];\r\n        var cellClass = '';\r\n        if (this.colorState.cell) {\r\n            style = ' style=\"background-color:' + this.colorState.cell + ';color: white\"';\r\n            this.colorState.cell = null;\r\n        }\r\n        else if (this.colorState.value) {\r\n            style = ' style=\"color:' + this.colorState.value + '\"';\r\n            this.colorState.value = null;\r\n        }\r\n        // because of the fixed table headers css only solution\r\n        // there is an issue if header cell is wider the cell\r\n        // this hack adds header content to cell (not visible)\r\n        var columnHtml = '';\r\n        if (addWidthHack) {\r\n            columnHtml = '<div class=\"table-panel-width-hack\">' + this.table.columns[columnIndex].title + '</div>';\r\n        }\r\n        if (value === undefined) {\r\n            style = ' style=\"display:none;\"';\r\n            column.hidden = true;\r\n        }\r\n        else {\r\n            column.hidden = false;\r\n        }\r\n        if (column.style && column.style.preserveFormat) {\r\n            cellClasses.push(\"table-panel-cell-pre\");\r\n        }\r\n        if (column.style && column.style.link) {\r\n            // Render cell as link\r\n            var scopedVars = this.renderRowVariables(rowIndex);\r\n            scopedVars['__cell'] = { value: value };\r\n            var cellLink = this.templateSrv.replace(column.style.linkUrl, scopedVars);\r\n            var cellLinkTooltip = this.templateSrv.replace(column.style.linkTooltip, scopedVars);\r\n            var cellTarget = column.style.linkTargetBlank ? '_blank' : '';\r\n            cellClasses.push(\"table-panel-cell-link\");\r\n            columnHtml += \"\\n        <a href=\\\"\" + cellLink + \"\\\" target=\\\"\" + cellTarget + \"\\\" data-link-tooltip data-original-title=\\\"\" + cellLinkTooltip + \"\\\" data-placement=\\\"right\\\">\\n          \" + value + \"\\n        </a>\\n      \";\r\n        }\r\n        else {\r\n            columnHtml += value;\r\n        }\r\n        if (column.filterable) {\r\n            cellClasses.push(\"table-panel-cell-filterable\");\r\n            columnHtml += \"\\n        <a class=\\\"table-panel-filter-link\\\" data-link-tooltip data-original-title=\\\"Filter out value\\\" data-placement=\\\"bottom\\\"\\n           data-row=\\\"\" + rowIndex + \"\\\" data-column=\\\"\" + columnIndex + \"\\\" data-operator=\\\"!=\\\">\\n          <i class=\\\"fa fa-search-minus\\\"></i>\\n        </a>\\n        <a class=\\\"table-panel-filter-link\\\" data-link-tooltip data-original-title=\\\"Filter for value\\\" data-placement=\\\"bottom\\\"\\n           data-row=\\\"\" + rowIndex + \"\\\" data-column=\\\"\" + columnIndex + \"\\\" data-operator=\\\"=\\\">\\n          <i class=\\\"fa fa-search-plus\\\"></i>\\n        </a>\";\r\n        }\r\n        if (cellClasses.length) {\r\n            cellClass = ' class=\"' + cellClasses.join(' ') + '\"';\r\n        }\r\n        columnHtml = '<td' + cellClass + style + '>' + columnHtml + '</td>';\r\n        return columnHtml;\r\n    };\r\n    TableRenderer.prototype.render = function (page) {\r\n        var pageSize = this.panel.pageSize || 100;\r\n        var startPos = page * pageSize;\r\n        var endPos = Math.min(startPos + pageSize, this.table.rows.length);\r\n        var html = \"\";\r\n        for (var y = startPos; y < endPos; y++) {\r\n            var row = this.table.rows[y];\r\n            var cellHtml = '';\r\n            var rowStyle = '';\r\n            for (var i = 0; i < this.table.columns.length; i++) {\r\n                cellHtml += this.renderCell(i, y, row[i], y === startPos);\r\n            }\r\n            if (this.colorState.row) {\r\n                rowStyle = ' style=\"background-color:' + this.colorState.row + ';color: white\"';\r\n                this.colorState.row = null;\r\n            }\r\n            html += '<tr ' + rowStyle + '>' + cellHtml + '</tr>';\r\n        }\r\n        return html;\r\n    };\r\n    TableRenderer.prototype.render_values = function () {\r\n        var rows = [];\r\n        for (var y = 0; y < this.table.rows.length; y++) {\r\n            var row = this.table.rows[y];\r\n            var new_row = [];\r\n            for (var i = 0; i < this.table.columns.length; i++) {\r\n                new_row.push(this.formatColumnValue(i, row[i]));\r\n            }\r\n            rows.push(new_row);\r\n        }\r\n        return {\r\n            columns: this.table.columns,\r\n            rows: rows,\r\n        };\r\n    };\r\n    return TableRenderer;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1508:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SingleStatCtrl\", function() { return SingleStatCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return SingleStatCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getColorForValue\", function() { return getColorForValue; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot__ = __webpack_require__(1315);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vendor_flot_jquery_flot__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_gauge__ = __webpack_require__(1509);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_gauge___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vendor_flot_jquery_flot_gauge__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_features_panellinks_link_srv__ = __webpack_require__(1325);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_app_core_time_series2__ = __webpack_require__(1309);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_app_plugins_sdk__ = __webpack_require__(1305);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar SingleStatCtrl = /** @class */ (function (_super) {\r\n    __extends(SingleStatCtrl, _super);\r\n    /** @ngInject */\n    SingleStatCtrl.$inject = [\"$scope\", \"$injector\", \"$location\", \"linkSrv\"];\r\n    function SingleStatCtrl($scope, $injector, $location, linkSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.$location = $location;\r\n        _this.linkSrv = linkSrv;\r\n        _this.dataType = 'timeseries';\r\n        _this.valueNameOptions = [\r\n            { value: 'min', text: 'Min' },\r\n            { value: 'max', text: 'Max' },\r\n            { value: 'avg', text: 'Average' },\r\n            { value: 'current', text: 'Current' },\r\n            { value: 'total', text: 'Total' },\r\n            { value: 'name', text: 'Name' },\r\n            { value: 'first', text: 'First' },\r\n            { value: 'delta', text: 'Delta' },\r\n            { value: 'diff', text: 'Difference' },\r\n            { value: 'range', text: 'Range' },\r\n            { value: 'last_time', text: 'Time of last point' }\r\n        ];\r\n        // Set and populate defaults\r\n        _this.panelDefaults = {\r\n            links: [],\r\n            datasource: null,\r\n            maxDataPoints: 100,\r\n            interval: null,\r\n            targets: [{}],\r\n            cacheTimeout: null,\r\n            format: 'none',\r\n            prefix: '',\r\n            postfix: '',\r\n            nullText: null,\r\n            valueMaps: [\r\n                { value: 'null', op: '=', text: 'N/A' }\r\n            ],\r\n            mappingTypes: [\r\n                { name: 'value to text', value: 1 },\r\n                { name: 'range to text', value: 2 },\r\n            ],\r\n            rangeMaps: [\r\n                { from: 'null', to: 'null', text: 'N/A' }\r\n            ],\r\n            mappingType: 1,\r\n            nullPointMode: 'connected',\r\n            valueName: 'avg',\r\n            prefixFontSize: '50%',\r\n            valueFontSize: '80%',\r\n            postfixFontSize: '50%',\r\n            thresholds: '',\r\n            colorBackground: false,\r\n            colorValue: false,\r\n            colors: [\"#299c46\", \"rgba(237, 129, 40, 0.89)\", \"#d44a3a\"],\r\n            sparkline: {\r\n                show: false,\r\n                full: false,\r\n                lineColor: 'rgb(31, 120, 193)',\r\n                fillColor: 'rgba(31, 118, 189, 0.18)',\r\n            },\r\n            gauge: {\r\n                show: false,\r\n                minValue: 0,\r\n                maxValue: 100,\r\n                thresholdMarkers: true,\r\n                thresholdLabels: false\r\n            },\r\n            tableColumn: ''\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.defaults(_this.panel, _this.panelDefaults);\r\n        _this.events.on('data-received', _this.onDataReceived.bind(_this));\r\n        _this.events.on('data-error', _this.onDataError.bind(_this));\r\n        _this.events.on('data-snapshot-load', _this.onDataReceived.bind(_this));\r\n        _this.events.on('init-edit-mode', _this.onInitEditMode.bind(_this));\r\n        _this.onSparklineColorChange = _this.onSparklineColorChange.bind(_this);\r\n        _this.onSparklineFillChange = _this.onSparklineFillChange.bind(_this);\r\n        return _this;\r\n    }\r\n    SingleStatCtrl.prototype.onInitEditMode = function () {\r\n        this.fontSizes = ['20%', '30%', '50%', '70%', '80%', '100%', '110%', '120%', '150%', '170%', '200%'];\r\n        this.addEditorTab('Options', 'public/app/plugins/panel/singlestat/editor.html', 2);\r\n        this.addEditorTab('Value Mappings', 'public/app/plugins/panel/singlestat/mappings.html', 3);\r\n        this.unitFormats = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].getUnitFormats();\r\n    };\r\n    SingleStatCtrl.prototype.setUnitFormat = function (subItem) {\r\n        this.panel.format = subItem.value;\r\n        this.refresh();\r\n    };\r\n    SingleStatCtrl.prototype.onDataError = function (err) {\r\n        this.onDataReceived([]);\r\n    };\r\n    SingleStatCtrl.prototype.onDataReceived = function (dataList) {\r\n        var data = {};\r\n        if (dataList.length > 0 && dataList[0].type === 'table') {\r\n            this.dataType = 'table';\r\n            var tableData = dataList.map(this.tableHandler.bind(this));\r\n            this.setTableValues(tableData, data);\r\n        }\r\n        else {\r\n            this.dataType = 'timeseries';\r\n            this.series = dataList.map(this.seriesHandler.bind(this));\r\n            this.setValues(data);\r\n        }\r\n        this.data = data;\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.seriesHandler = function (seriesData) {\r\n        var series = new __WEBPACK_IMPORTED_MODULE_7_app_core_time_series2__[\"a\" /* default */]({\r\n            datapoints: seriesData.datapoints || [],\r\n            alias: seriesData.target,\r\n        });\r\n        series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\r\n        return series;\r\n    };\r\n    SingleStatCtrl.prototype.tableHandler = function (tableData) {\r\n        var datapoints = [];\r\n        var columnNames = {};\r\n        tableData.columns.forEach(function (column, columnIndex) {\r\n            columnNames[columnIndex] = column.text;\r\n        });\r\n        this.tableColumnOptions = columnNames;\r\n        if (!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(tableData.columns, ['text', this.panel.tableColumn])) {\r\n            this.setTableColumnToSensibleDefault(tableData);\r\n        }\r\n        tableData.rows.forEach(function (row) {\r\n            var datapoint = {};\r\n            row.forEach(function (value, columnIndex) {\r\n                var key = columnNames[columnIndex];\r\n                datapoint[key] = value;\r\n            });\r\n            datapoints.push(datapoint);\r\n        });\r\n        return datapoints;\r\n    };\r\n    SingleStatCtrl.prototype.setTableColumnToSensibleDefault = function (tableData) {\r\n        if (this.tableColumnOptions.length === 1) {\r\n            this.panel.tableColumn = this.tableColumnOptions[0];\r\n        }\r\n        else {\r\n            this.panel.tableColumn = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(tableData.columns, function (col) { return col.type !== 'time'; }).text;\r\n        }\r\n    };\r\n    SingleStatCtrl.prototype.setTableValues = function (tableData, data) {\r\n        if (!tableData || tableData.length === 0) {\r\n            return;\r\n        }\r\n        if (tableData[0].length === 0 || tableData[0][0][this.panel.tableColumn] === undefined) {\r\n            return;\r\n        }\r\n        var datapoint = tableData[0][0];\r\n        data.value = datapoint[this.panel.tableColumn];\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(data.value)) {\r\n            data.valueFormatted = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.escape(data.value);\r\n            data.value = 0;\r\n            data.valueRounded = 0;\r\n        }\r\n        else {\r\n            var decimalInfo = this.getDecimalsForValue(data.value);\r\n            var formatFunc = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].valueFormats[this.panel.format];\r\n            data.valueFormatted = formatFunc(datapoint[this.panel.tableColumn], decimalInfo.decimals, decimalInfo.scaledDecimals);\r\n            data.valueRounded = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].roundValue(data.value, this.panel.decimals || 0);\r\n        }\r\n        this.setValueMapping(data);\r\n    };\r\n    SingleStatCtrl.prototype.setColoring = function (options) {\r\n        if (options.background) {\r\n            this.panel.colorValue = false;\r\n            this.panel.colors = ['rgba(71, 212, 59, 0.4)', 'rgba(245, 150, 40, 0.73)', 'rgba(225, 40, 40, 0.59)'];\r\n        }\r\n        else {\r\n            this.panel.colorBackground = false;\r\n            this.panel.colors = ['rgba(50, 172, 45, 0.97)', 'rgba(237, 129, 40, 0.89)', 'rgba(245, 54, 54, 0.9)'];\r\n        }\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.invertColorOrder = function () {\r\n        var tmp = this.panel.colors[0];\r\n        this.panel.colors[0] = this.panel.colors[2];\r\n        this.panel.colors[2] = tmp;\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.onColorChange = function (panelColorIndex) {\r\n        var _this = this;\r\n        return function (color) {\r\n            _this.panel.colors[panelColorIndex] = color;\r\n            _this.render();\r\n        };\r\n    };\r\n    SingleStatCtrl.prototype.onSparklineColorChange = function (newColor) {\r\n        this.panel.sparkline.lineColor = newColor;\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.onSparklineFillChange = function (newColor) {\r\n        this.panel.sparkline.fillColor = newColor;\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.getDecimalsForValue = function (value) {\r\n        if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isNumber(this.panel.decimals)) {\r\n            return { decimals: this.panel.decimals, scaledDecimals: null };\r\n        }\r\n        var delta = value / 2;\r\n        var dec = -Math.floor(Math.log(delta) / Math.LN10);\r\n        var magn = Math.pow(10, -dec), norm = delta / magn, // norm is between 1.0 and 10.0\r\n        size;\r\n        if (norm < 1.5) {\r\n            size = 1;\r\n        }\r\n        else if (norm < 3) {\r\n            size = 2;\r\n            // special case for 2.5, requires an extra decimal\r\n            if (norm > 2.25) {\r\n                size = 2.5;\r\n                ++dec;\r\n            }\r\n        }\r\n        else if (norm < 7.5) {\r\n            size = 5;\r\n        }\r\n        else {\r\n            size = 10;\r\n        }\r\n        size *= magn;\r\n        // reduce starting decimals if not needed\r\n        if (Math.floor(value) === value) {\r\n            dec = 0;\r\n        }\r\n        var result = {};\r\n        result.decimals = Math.max(0, dec);\r\n        result.scaledDecimals = result.decimals - Math.floor(Math.log(size) / Math.LN10) + 2;\r\n        return result;\r\n    };\r\n    SingleStatCtrl.prototype.setValues = function (data) {\r\n        data.flotpairs = [];\r\n        if (this.series.length > 1) {\r\n            var error = new Error();\r\n            error.message = 'Multiple Series Error';\r\n            error.data = 'Metric query returns ' + this.series.length +\r\n                ' series. Single Stat Panel expects a single series.\\n\\nResponse:\\n' + JSON.stringify(this.series);\r\n            throw error;\r\n        }\r\n        if (this.series && this.series.length > 0) {\r\n            var lastPoint = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.last(this.series[0].datapoints);\r\n            var lastValue = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isArray(lastPoint) ? lastPoint[0] : null;\r\n            if (this.panel.valueName === 'name') {\r\n                data.value = 0;\r\n                data.valueRounded = 0;\r\n                data.valueFormatted = this.series[0].alias;\r\n            }\r\n            else if (__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isString(lastValue)) {\r\n                data.value = 0;\r\n                data.valueFormatted = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.escape(lastValue);\r\n                data.valueRounded = 0;\r\n            }\r\n            else if (this.panel.valueName === 'last_time') {\r\n                var formatFunc = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].valueFormats[this.panel.format];\r\n                data.value = lastPoint[1];\r\n                data.valueRounded = data.value;\r\n                data.valueFormatted = formatFunc(data.value, 0, 0);\r\n            }\r\n            else {\r\n                data.value = this.series[0].stats[this.panel.valueName];\r\n                data.flotpairs = this.series[0].flotpairs;\r\n                var decimalInfo = this.getDecimalsForValue(data.value);\r\n                var formatFunc = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].valueFormats[this.panel.format];\r\n                data.valueFormatted = formatFunc(data.value, decimalInfo.decimals, decimalInfo.scaledDecimals);\r\n                data.valueRounded = __WEBPACK_IMPORTED_MODULE_5_app_core_utils_kbn__[\"default\"].roundValue(data.value, decimalInfo.decimals);\r\n            }\r\n            // Add $__name variable for using in prefix or postfix\r\n            data.scopedVars = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.extend({}, this.panel.scopedVars);\r\n            data.scopedVars[\"__name\"] = { value: this.series[0].label };\r\n        }\r\n        this.setValueMapping(data);\r\n    };\r\n    SingleStatCtrl.prototype.setValueMapping = function (data) {\r\n        // check value to text mappings if its enabled\r\n        if (this.panel.mappingType === 1) {\r\n            for (var i = 0; i < this.panel.valueMaps.length; i++) {\r\n                var map = this.panel.valueMaps[i];\r\n                // special null case\r\n                if (map.value === 'null') {\r\n                    if (data.value === null || data.value === void 0) {\r\n                        data.valueFormatted = map.text;\r\n                        return;\r\n                    }\r\n                    continue;\r\n                }\r\n                // value/number to text mapping\r\n                var value = parseFloat(map.value);\r\n                if (value === data.valueRounded) {\r\n                    data.valueFormatted = map.text;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        else if (this.panel.mappingType === 2) {\r\n            for (var i = 0; i < this.panel.rangeMaps.length; i++) {\r\n                var map = this.panel.rangeMaps[i];\r\n                // special null case\r\n                if (map.from === 'null' && map.to === 'null') {\r\n                    if (data.value === null || data.value === void 0) {\r\n                        data.valueFormatted = map.text;\r\n                        return;\r\n                    }\r\n                    continue;\r\n                }\r\n                // value/number to range mapping\r\n                var from = parseFloat(map.from);\r\n                var to = parseFloat(map.to);\r\n                if (to >= data.valueRounded && from <= data.valueRounded) {\r\n                    data.valueFormatted = map.text;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        if (data.value === null || data.value === void 0) {\r\n            data.valueFormatted = \"no value\";\r\n        }\r\n    };\r\n    SingleStatCtrl.prototype.removeValueMap = function (map) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.panel.valueMaps, map);\r\n        this.panel.valueMaps.splice(index, 1);\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.addValueMap = function () {\r\n        this.panel.valueMaps.push({ value: '', op: '=', text: '' });\r\n    };\r\n    SingleStatCtrl.prototype.removeRangeMap = function (rangeMap) {\r\n        var index = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.indexOf(this.panel.rangeMaps, rangeMap);\r\n        this.panel.rangeMaps.splice(index, 1);\r\n        this.render();\r\n    };\r\n    SingleStatCtrl.prototype.addRangeMap = function () {\r\n        this.panel.rangeMaps.push({ from: '', to: '', text: '' });\r\n    };\r\n    SingleStatCtrl.prototype.link = function (scope, elem, attrs, ctrl) {\r\n        var $location = this.$location;\r\n        var linkSrv = this.linkSrv;\r\n        var $timeout = this.$timeout;\r\n        var panel = ctrl.panel;\r\n        var templateSrv = this.templateSrv;\r\n        var data, linkInfo;\r\n        var $panelContainer = elem.find('.panel-container');\r\n        elem = elem.find('.singlestat-panel');\r\n        function setElementHeight() {\r\n            elem.css('height', ctrl.height + 'px');\r\n        }\r\n        function applyColoringThresholds(value, valueString) {\r\n            if (!panel.colorValue) {\r\n                return valueString;\r\n            }\r\n            var color = getColorForValue(data, value);\r\n            if (color) {\r\n                return '<span style=\"color:' + color + '\">' + valueString + '</span>';\r\n            }\r\n            return valueString;\r\n        }\r\n        function getSpan(className, fontSize, value) {\r\n            value = templateSrv.replace(value, data.scopedVars);\r\n            return '<span class=\"' + className + '\" style=\"font-size:' + fontSize + '\">' +\r\n                value + '</span>';\r\n        }\r\n        function getBigValueHtml() {\r\n            var body = '<div class=\"singlestat-panel-value-container\">';\r\n            if (panel.prefix) {\r\n                body += getSpan('singlestat-panel-prefix', panel.prefixFontSize, panel.prefix);\r\n            }\r\n            var value = applyColoringThresholds(data.value, data.valueFormatted);\r\n            body += getSpan('singlestat-panel-value', panel.valueFontSize, value);\r\n            if (panel.postfix) {\r\n                body += getSpan('singlestat-panel-postfix', panel.postfixFontSize, panel.postfix);\r\n            }\r\n            body += '</div>';\r\n            return body;\r\n        }\r\n        function getValueText() {\r\n            var result = panel.prefix ? templateSrv.replace(panel.prefix, data.scopedVars) : '';\r\n            result += data.valueFormatted;\r\n            result += panel.postfix ? templateSrv.replace(panel.postfix, data.scopedVars) : '';\r\n            return result;\r\n        }\r\n        function addGauge() {\r\n            var width = elem.width();\r\n            var height = elem.height();\r\n            // Allow to use a bit more space for wide gauges\r\n            var dimension = Math.min(width, height * 1.3);\r\n            ctrl.invalidGaugeRange = false;\r\n            if (panel.gauge.minValue > panel.gauge.maxValue) {\r\n                ctrl.invalidGaugeRange = true;\r\n                return;\r\n            }\r\n            var plotCanvas = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('<div></div>');\r\n            var plotCss = {\r\n                top: '10px',\r\n                margin: 'auto',\r\n                position: 'relative',\r\n                height: (height * 0.9) + 'px',\r\n                width: dimension + 'px'\r\n            };\r\n            plotCanvas.css(plotCss);\r\n            var thresholds = [];\r\n            for (var i = 0; i < data.thresholds.length; i++) {\r\n                thresholds.push({\r\n                    value: data.thresholds[i],\r\n                    color: data.colorMap[i]\r\n                });\r\n            }\r\n            thresholds.push({\r\n                value: panel.gauge.maxValue,\r\n                color: data.colorMap[data.colorMap.length - 1]\r\n            });\r\n            var bgColor = __WEBPACK_IMPORTED_MODULE_6_app_core_config__[\"default\"].bootData.user.lightTheme\r\n                ? 'rgb(230,230,230)'\r\n                : 'rgb(38,38,38)';\r\n            var fontScale = parseInt(panel.valueFontSize) / 100;\r\n            var fontSize = Math.min(dimension / 5, 100) * fontScale;\r\n            // Reduce gauge width if threshold labels enabled\r\n            var gaugeWidthReduceRatio = panel.gauge.thresholdLabels ? 1.5 : 1;\r\n            var gaugeWidth = Math.min(dimension / 6, 60) / gaugeWidthReduceRatio;\r\n            var thresholdMarkersWidth = gaugeWidth / 5;\r\n            var thresholdLabelFontSize = fontSize / 2.5;\r\n            var options = {\r\n                series: {\r\n                    gauges: {\r\n                        gauge: {\r\n                            min: panel.gauge.minValue,\r\n                            max: panel.gauge.maxValue,\r\n                            background: { color: bgColor },\r\n                            border: { color: null },\r\n                            shadow: { show: false },\r\n                            width: gaugeWidth,\r\n                        },\r\n                        frame: { show: false },\r\n                        label: { show: false },\r\n                        layout: { margin: 0, thresholdWidth: 0 },\r\n                        cell: { border: { width: 0 } },\r\n                        threshold: {\r\n                            values: thresholds,\r\n                            label: {\r\n                                show: panel.gauge.thresholdLabels,\r\n                                margin: thresholdMarkersWidth + 1,\r\n                                font: { size: thresholdLabelFontSize }\r\n                            },\r\n                            show: panel.gauge.thresholdMarkers,\r\n                            width: thresholdMarkersWidth,\r\n                        },\r\n                        value: {\r\n                            color: panel.colorValue ? getColorForValue(data, data.valueRounded) : null,\r\n                            formatter: function () { return getValueText(); },\r\n                            font: { size: fontSize, family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif' }\r\n                        },\r\n                        show: true\r\n                    }\r\n                }\r\n            };\r\n            elem.append(plotCanvas);\r\n            var plotSeries = {\r\n                data: [[0, data.valueRounded]]\r\n            };\r\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default.a.plot(plotCanvas, [plotSeries], options);\r\n        }\r\n        function addSparkline() {\r\n            var width = elem.width() + 20;\r\n            if (width < 30) {\r\n                // element has not gotten it's width yet\r\n                // delay sparkline render\r\n                setTimeout(addSparkline, 30);\r\n                return;\r\n            }\r\n            var height = ctrl.height;\r\n            var plotCanvas = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('<div></div>');\r\n            var plotCss = {};\r\n            plotCss.position = 'absolute';\r\n            if (panel.sparkline.full) {\r\n                plotCss.bottom = '5px';\r\n                plotCss.left = '-5px';\r\n                plotCss.width = (width - 10) + 'px';\r\n                var dynamicHeightMargin = height <= 100 ? 5 : (Math.round((height / 100)) * 15) + 5;\r\n                plotCss.height = (height - dynamicHeightMargin) + 'px';\r\n            }\r\n            else {\r\n                plotCss.bottom = \"0px\";\r\n                plotCss.left = \"-5px\";\r\n                plotCss.width = (width - 10) + 'px';\r\n                plotCss.height = Math.floor(height * 0.25) + \"px\";\r\n            }\r\n            plotCanvas.css(plotCss);\r\n            var options = {\r\n                legend: { show: false },\r\n                series: {\r\n                    lines: {\r\n                        show: true,\r\n                        fill: 1,\r\n                        lineWidth: 1,\r\n                        fillColor: panel.sparkline.fillColor,\r\n                    },\r\n                },\r\n                yaxes: { show: false },\r\n                xaxis: {\r\n                    show: false,\r\n                    mode: \"time\",\r\n                    min: ctrl.range.from.valueOf(),\r\n                    max: ctrl.range.to.valueOf(),\r\n                },\r\n                grid: { hoverable: false, show: false },\r\n            };\r\n            elem.append(plotCanvas);\r\n            var plotSeries = {\r\n                data: data.flotpairs,\r\n                color: panel.sparkline.lineColor\r\n            };\r\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default.a.plot(plotCanvas, [plotSeries], options);\r\n        }\r\n        function render() {\r\n            if (!ctrl.data) {\r\n                return;\r\n            }\r\n            data = ctrl.data;\r\n            // get thresholds\r\n            data.thresholds = panel.thresholds.split(',').map(function (strVale) {\r\n                return Number(strVale.trim());\r\n            });\r\n            data.colorMap = panel.colors;\r\n            setElementHeight();\r\n            var body = panel.gauge.show ? '' : getBigValueHtml();\r\n            if (panel.colorBackground) {\r\n                var color = getColorForValue(data, data.value);\r\n                if (color) {\r\n                    $panelContainer.css('background-color', color);\r\n                    if (scope.fullscreen) {\r\n                        elem.css('background-color', color);\r\n                    }\r\n                    else {\r\n                        elem.css('background-color', '');\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                $panelContainer.css('background-color', '');\r\n                elem.css('background-color', '');\r\n            }\r\n            elem.html(body);\r\n            if (panel.sparkline.show) {\r\n                addSparkline();\r\n            }\r\n            if (panel.gauge.show) {\r\n                addGauge();\r\n            }\r\n            elem.toggleClass('pointer', panel.links.length > 0);\r\n            if (panel.links.length > 0) {\r\n                linkInfo = linkSrv.getPanelLinkAnchorInfo(panel.links[0], data.scopedVars);\r\n            }\r\n            else {\r\n                linkInfo = null;\r\n            }\r\n        }\r\n        function hookupDrilldownLinkTooltip() {\r\n            // drilldown link tooltip\r\n            var drilldownTooltip = __WEBPACK_IMPORTED_MODULE_1_jquery___default()('<div id=\"tooltip\" class=\"\">hello</div>\"');\r\n            elem.mouseleave(function () {\r\n                if (panel.links.length === 0) {\r\n                    return;\r\n                }\r\n                $timeout(function () {\r\n                    drilldownTooltip.detach();\r\n                });\r\n            });\r\n            elem.click(function (evt) {\r\n                if (!linkInfo) {\r\n                    return;\r\n                }\r\n                // ignore title clicks in title\r\n                if (__WEBPACK_IMPORTED_MODULE_1_jquery___default()(evt).parents('.panel-header').length > 0) {\r\n                    return;\r\n                }\r\n                if (linkInfo.target === '_blank') {\r\n                    window.open(linkInfo.href, '_blank');\r\n                    return;\r\n                }\r\n                if (linkInfo.href.indexOf('http') === 0) {\r\n                    window.location.href = linkInfo.href;\r\n                }\r\n                else {\r\n                    $timeout(function () {\r\n                        $location.url(linkInfo.href);\r\n                    });\r\n                }\r\n                drilldownTooltip.detach();\r\n            });\r\n            elem.mousemove(function (e) {\r\n                if (!linkInfo) {\r\n                    return;\r\n                }\r\n                drilldownTooltip.text('click to go to: ' + linkInfo.title);\r\n                drilldownTooltip.place_tt(e.pageX, e.pageY - 50);\r\n            });\r\n        }\r\n        hookupDrilldownLinkTooltip();\r\n        this.events.on('render', function () {\r\n            render();\r\n            ctrl.renderingCompleted();\r\n        });\r\n    };\r\n    SingleStatCtrl.templateUrl = 'module.html';\r\n    return SingleStatCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_8_app_plugins_sdk__[\"MetricsPanelCtrl\"]));\r\nfunction getColorForValue(data, value) {\r\n    if (!__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.isFinite(value)) {\r\n        return null;\r\n    }\r\n    for (var i = data.thresholds.length; i > 0; i--) {\r\n        if (value >= data.thresholds[i - 1]) {\r\n            return data.colorMap[i];\r\n        }\r\n    }\r\n    return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.first(data.colorMap);\r\n}\r\n\r\n\n\n/***/ }),\n\n/***/ 1509:\n/***/ (function(module, exports) {\n\n/*!\n * jquery.flot.gauge v1.1.0 *\n *\n * Flot plugin for rendering gauge charts.\n *\n * Copyright (c) 2015 @toyoty99.\n * Licensed under the MIT license.\n */\n\n/**\n * @module flot.gauge\n */\n(function($) {\n\n\n    /**\n     * Gauge class\n     *\n     * @class Gauge\n     */\n    var Gauge = (function() {\n        /**\n         * context of canvas\n         *\n         * @property context\n         * @type Object\n         */\n        var context;\n        /**\n         * placeholder of canvas\n         *\n         * @property placeholder\n         * @type Object\n         */\n        var placeholder;\n        /**\n         * options of plot\n         *\n         * @property options\n         * @type Object\n         */\n        var options;\n        /**\n         * options of gauge\n         *\n         * @property gaugeOptions\n         * @type Object\n         */\n        var gaugeOptions;\n        /**\n         * data series\n         *\n         * @property series\n         * @type Array\n         */\n        var series;\n        /**\n         * logger\n         *\n         * @property logger\n         * @type Object\n         */\n        var logger;\n\n        /**\n         * constructor\n         *\n         * @class Gauge\n         * @constructor\n         * @param  {Object} gaugeOptions gauge options\n         */\n        var Gauge = function(plot, ctx) {\n            context = ctx;\n            placeholder = plot.getPlaceholder();\n            options = plot.getOptions();\n            gaugeOptions = options.series.gauges;\n            series = plot.getData();\n            logger = getLogger(gaugeOptions.debug);\n        }\n\n        /**\n         * calculate layout\n         *\n         * @method calculateLayout\n         * @return the calculated layout properties\n         */\n        Gauge.prototype.calculateLayout = function() {\n\n            var canvasWidth = placeholder.width();\n            var canvasHeight = placeholder.height();\n\n\n\n            // calculate cell size\n            var columns = Math.min(series.length, gaugeOptions.layout.columns);\n            var rows = Math.ceil(series.length / columns);\n\n\n\n            var margin = gaugeOptions.layout.margin;\n            var hMargin = gaugeOptions.layout.hMargin;\n            var vMargin = gaugeOptions.layout.vMargin;\n            var cellWidth = (canvasWidth - (margin * 2) - (hMargin * (columns - 1))) / columns;\n            var cellHeight = (canvasHeight - (margin * 2) - (vMargin * (rows - 1))) / rows;\n            if (gaugeOptions.layout.square) {\n                var cell = Math.min(cellWidth, cellHeight);\n                cellWidth = cell;\n                cellHeight = cell;\n            }\n\n\n\n            // calculate 'auto' values\n            calculateAutoValues(gaugeOptions, cellWidth);\n\n            // calculate maximum radius\n            var cellMargin = gaugeOptions.cell.margin;\n            var labelMargin = 0;\n            var labelFontSize = 0;\n            if (gaugeOptions.label.show) {\n                labelMargin = gaugeOptions.label.margin;\n                labelFontSize = gaugeOptions.label.font.size;\n            }\n            var valueMargin = 0;\n            var valueFontSize = 0;\n            if (gaugeOptions.value.show) {\n                valueMargin = gaugeOptions.value.margin;\n                valueFontSize = gaugeOptions.value.font.size;\n            }\n            var thresholdWidth = 0;\n            if (gaugeOptions.threshold.show) {\n                thresholdWidth = gaugeOptions.threshold.width;\n            }\n            var thresholdLabelMargin = 0;\n            var thresholdLabelFontSize = 0;\n            if (gaugeOptions.threshold.label.show) {\n                thresholdLabelMargin = gaugeOptions.threshold.label.margin;\n                thresholdLabelFontSize = gaugeOptions.threshold.label.font.size;\n            }\n\n            var maxRadiusH = (cellWidth / 2) - cellMargin - thresholdWidth - (thresholdLabelMargin * 2) - thresholdLabelFontSize;\n\n            var startAngle = gaugeOptions.gauge.startAngle;\n            var endAngle = gaugeOptions.gauge.endAngle;\n            var dAngle = (endAngle - startAngle) / 100;\n            var heightRatioV = -1;\n            for (var a = startAngle; a < endAngle; a += dAngle) {\n                heightRatioV = Math.max(heightRatioV, Math.sin(toRad(a)));\n            }\n            heightRatioV = Math.max(heightRatioV, Math.sin(toRad(endAngle)));\n            var outerRadiusV = (cellHeight - (cellMargin * 2) - (labelMargin * 2) - labelFontSize) / (1 + heightRatioV);\n            if (outerRadiusV * heightRatioV < valueMargin + (valueFontSize / 2)) {\n                outerRadiusV = cellHeight - (cellMargin * 2) - (labelMargin * 2) - labelFontSize - valueMargin - (valueFontSize / 2);\n            }\n            var maxRadiusV = outerRadiusV - (thresholdLabelMargin * 2) - thresholdLabelFontSize - thresholdWidth;\n\n            var radius = Math.min(maxRadiusH, maxRadiusV);\n\n\n            var width = gaugeOptions.gauge.width;\n            if (width >= radius) {\n                width = Math.max(3, radius / 3);\n            }\n\n\n            var outerRadius = (thresholdLabelMargin * 2) + thresholdLabelFontSize + thresholdWidth + radius;\n            var gaugeOuterHeight = Math.max(outerRadius * (1 + heightRatioV), outerRadius + valueMargin + (valueFontSize / 2));\n\n            return {\n                canvasWidth: canvasWidth,\n                canvasHeight: canvasHeight,\n                margin: margin,\n                hMargin: hMargin,\n                vMargin: vMargin,\n                columns: columns,\n                rows: rows,\n                cellWidth: cellWidth,\n                cellHeight: cellHeight,\n                cellMargin: cellMargin,\n                labelMargin: labelMargin,\n                labelFontSize: labelFontSize,\n                valueMargin: valueMargin,\n                valueFontSize: valueFontSize,\n                width: width,\n                radius: radius,\n                thresholdWidth: thresholdWidth,\n                thresholdLabelMargin: thresholdLabelMargin,\n                thresholdLabelFontSize: thresholdLabelFontSize,\n                gaugeOuterHeight: gaugeOuterHeight\n            };\n        }\n\n        /**\n         * calculate the values which are set as 'auto'\n         *\n         * @method calculateAutoValues\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} cellWidth the width of cell\n         */\n        function calculateAutoValues(gaugeOptionsi, cellWidth) {\n\n            if (gaugeOptionsi.gauge.width === \"auto\") {\n                gaugeOptionsi.gauge.width = Math.max(5, cellWidth / 8);\n            }\n            if (gaugeOptionsi.label.margin === \"auto\") {\n                gaugeOptionsi.label.margin = Math.max(1, cellWidth / 20);\n            }\n            if (gaugeOptionsi.label.font.size === \"auto\") {\n                gaugeOptionsi.label.font.size = Math.max(5, cellWidth / 8);\n            }\n            if (gaugeOptionsi.value.margin === \"auto\") {\n                gaugeOptionsi.value.margin = Math.max(1, cellWidth / 30);\n            }\n            if (gaugeOptionsi.value.font.size === \"auto\") {\n                gaugeOptionsi.value.font.size = Math.max(5, cellWidth / 9);\n            }\n            if (gaugeOptionsi.threshold.width === \"auto\") {\n                gaugeOptionsi.threshold.width = Math.max(3, cellWidth / 100);\n            }\n            if (gaugeOptionsi.threshold.label.margin === \"auto\") {\n                gaugeOptionsi.threshold.label.margin = Math.max(3, cellWidth / 40);\n            }\n            if (gaugeOptionsi.threshold.label.font.size === \"auto\") {\n                gaugeOptionsi.threshold.label.font.size = Math.max(5, cellWidth / 15);\n            }\n\n        }\n        Gauge.prototype.calculateAutoValues = calculateAutoValues;\n\n        /**\n         * calculate the layout of the cell inside\n         *\n         * @method calculateCellLayout\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} cellWidth the width of cell\n         * @param  {Number} i the index of the series\n         * @return the calculated cell layout properties\n         */\n        Gauge.prototype.calculateCellLayout = function(gaugeOptionsi, layout, i) {\n\n            // calculate top, left and center\n            var c = col(layout.columns, i);\n            var r = row(layout.columns, i);\n            var x = layout.margin + (layout.cellWidth + layout.hMargin) * c;\n            var y = layout.margin + (layout.cellHeight + layout.vMargin) * r;\n            var cx = x + (layout.cellWidth / 2);\n            var cy = y + layout.cellMargin + (layout.labelMargin * 2) + layout.labelFontSize + layout.thresholdWidth\n                        + layout.thresholdLabelFontSize + (layout.thresholdLabelMargin * 2) + layout.radius;\n            var blank = layout.cellHeight - (layout.cellMargin * 2) - (layout.labelMargin * 2) - layout.labelFontSize - layout.gaugeOuterHeight;\n            var offsetY = 0;\n            if (gaugeOptionsi.cell.vAlign === \"middle\") {\n                offsetY = (blank / 2);\n            } else if (gaugeOptionsi.cell.vAlign === \"bottom\") {\n                offsetY = blank;\n            }\n            cy += offsetY;\n\n            return {\n                col: c,\n                row: r,\n                x: x,\n                y: y,\n                offsetY: offsetY,\n                cellWidth: layout.cellWidth,\n                cellHeight: layout.cellHeight,\n                cellMargin: layout.cellMargin,\n                cx: cx,\n                cy: cy\n            }\n        }\n\n        /**\n         * draw the background of chart\n         *\n         * @method drawBackground\n         * @param  {Object} layout the layout properties\n         */\n        Gauge.prototype.drawBackground = function(layout) {\n\n            if (!gaugeOptions.frame.show) {\n                return;\n            }\n            context.save();\n            context.strokeStyle = options.grid.borderColor;\n            context.lineWidth = options.grid.borderWidth;\n            context.strokeRect(0, 0, layout.canvasWidth, layout.canvasHeight);\n            if (options.grid.backgroundColor) {\n                context.fillStyle = options.grid.backgroundColor;\n                context.fillRect(0, 0, layout.canvasWidth, layout.canvasHeight);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the background of cell\n         *\n         * @method drawCellBackground\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} cellLayout the cell layout properties\n         */\n        Gauge.prototype.drawCellBackground = function(gaugeOptionsi, cellLayout) {\n\n            context.save();\n            if (gaugeOptionsi.cell.border && gaugeOptionsi.cell.border.show && gaugeOptionsi.cell.border.color && gaugeOptionsi.cell.border.width) {\n                context.strokeStyle = gaugeOptionsi.cell.border.color;\n                context.lineWidth = gaugeOptionsi.cell.border.width;\n                context.strokeRect(cellLayout.x, cellLayout.y, cellLayout.cellWidth, cellLayout.cellHeight);\n            }\n            if (gaugeOptionsi.cell.background && gaugeOptionsi.cell.background.color) {\n                context.fillStyle = gaugeOptionsi.cell.background.color;\n                context.fillRect(cellLayout.x, cellLayout.y, cellLayout.cellWidth, cellLayout.cellHeight);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the gauge\n         *\n         * @method drawGauge\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {String} label the label of data\n         * @param  {Number} data the value of the gauge\n         */\n        Gauge.prototype.drawGauge = function(gaugeOptionsi, layout, cellLayout, label, data) {\n\n\n            var blur = gaugeOptionsi.gauge.shadow.show ? gaugeOptionsi.gauge.shadow.blur : 0;\n\n\n            // draw gauge frame\n            drawArcWithShadow(\n                cellLayout.cx, // center x\n                cellLayout.cy, // center y\n                layout.radius,\n                layout.width,\n                toRad(gaugeOptionsi.gauge.startAngle),\n                toRad(gaugeOptionsi.gauge.endAngle),\n                gaugeOptionsi.gauge.border.color,      // line color\n                gaugeOptionsi.gauge.border.width,      // line width\n                gaugeOptionsi.gauge.background.color,  // fill color\n                blur);\n\n            // draw gauge\n            var c1 = getColor(gaugeOptionsi, data);\n            var a2 = calculateAngle(gaugeOptionsi, layout, data);\n            drawArcWithShadow(\n                cellLayout.cx, // center x\n                cellLayout.cy, // center y\n                layout.radius - 1,\n                layout.width - 2,\n                toRad(gaugeOptionsi.gauge.startAngle),\n                toRad(a2),\n                c1,           // line color\n                1,            // line width\n                c1,           // fill color\n                blur);\n        }\n\n        /**\n         * decide the color of the data from the threshold options\n         *\n         * @method getColor\n         * @private\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} data the value of the gauge\n         */\n        function getColor(gaugeOptionsi, data) {\n            var color;\n            for (var i = 0; i < gaugeOptionsi.threshold.values.length; i++) {\n                var threshold = gaugeOptionsi.threshold.values[i];\n                color = threshold.color;\n                if (data < threshold.value) {\n                    break;\n                }\n            }\n            return color;\n        }\n\n        /**\n         * calculate the angle of the data\n         *\n         * @method calculateAngle\n         * @private\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Number} data the value of the gauge\n         */\n        function calculateAngle(gaugeOptionsi, layout, data) {\n            var a =\n                gaugeOptionsi.gauge.startAngle\n                    + (gaugeOptionsi.gauge.endAngle - gaugeOptionsi.gauge.startAngle)\n                        * ((data - gaugeOptionsi.gauge.min) / (gaugeOptionsi.gauge.max - gaugeOptionsi.gauge.min));\n\n            if (a < gaugeOptionsi.gauge.startAngle) {\n                a = gaugeOptionsi.gauge.startAngle;\n            } else if (a > gaugeOptionsi.gauge.endAngle) {\n                a = gaugeOptionsi.gauge.endAngle;\n            }\n            return a;\n        }\n\n        /**\n         * draw the arc of the threshold\n         *\n         * @method drawThreshold\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         */\n        Gauge.prototype.drawThreshold = function(gaugeOptionsi, layout, cellLayout) {\n\n            var a1 = gaugeOptionsi.gauge.startAngle;\n            for (var i = 0; i < gaugeOptionsi.threshold.values.length; i++) {\n                var threshold = gaugeOptionsi.threshold.values[i];\n                c1 = threshold.color;\n                a2 = calculateAngle(gaugeOptionsi, layout, threshold.value);\n                drawArc(\n                    context,\n                    cellLayout.cx, // center x\n                    cellLayout.cy, // center y\n                    layout.radius + layout.thresholdWidth,\n                    layout.thresholdWidth - 2,\n                    toRad(a1),\n                    toRad(a2),\n                    c1,           // line color\n                    1,            // line width\n                    c1);          // fill color\n                a1 = a2;\n            }\n        }\n\n        /**\n         * draw an arc with a shadow\n         *\n         * @method drawArcWithShadow\n         * @private\n         * @param  {Number} cx the x position of the center\n         * @param  {Number} cy the y position of the center\n         * @param  {Number} r the radius of an arc\n         * @param  {Number} w the width of an arc\n         * @param  {Number} rd1 the start angle of an arc in radians\n         * @param  {Number} rd2 the end angle of an arc in radians\n         * @param  {String} lc the color of a line\n         * @param  {Number} lw the widht of a line\n         * @param  {String} fc the fill color  of an arc\n         * @param  {Number} blur the shdow blur\n         */\n        function drawArcWithShadow(cx, cy, r, w, rd1, rd2, lc, lw, fc, blur) {\n            if (rd1 === rd2) {\n                return;\n            }\n            context.save();\n\n            drawArc(context, cx, cy, r, w, rd1, rd2, lc, lw, fc);\n\n            if (blur) {\n                drawArc(context, cx, cy, r, w, rd1, rd2);\n                context.clip();\n                context.shadowOffsetX = 0;\n                context.shadowOffsetY = 0;\n                context.shadowBlur = 10;\n                context.shadowColor = \"gray\";\n                drawArc(context, cx, cy, r + 1, w + 2, rd1, rd2, lc, 1);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the label of the gauge\n         *\n         * @method drawLable\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Object} item the item of the series\n         */\n        Gauge.prototype.drawLable = function(gaugeOptionsi, layout, cellLayout, i, item) {\n\n            drawText(\n                cellLayout.cx,\n                cellLayout.y + cellLayout.cellMargin + layout.labelMargin + cellLayout.offsetY,\n                \"flotGagueLabel\" + i,\n                gaugeOptionsi.label.formatter ? gaugeOptionsi.label.formatter(item.label, item.data[0][1]) : text,\n                gaugeOptionsi.label);\n        }\n\n        /**\n         * draw the value of the gauge\n         *\n         * @method drawValue\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Object} item the item of the series\n         */\n        Gauge.prototype.drawValue = function(gaugeOptionsi, layout, cellLayout, i, item) {\n\n            drawText(\n                cellLayout.cx,\n                cellLayout.cy - (gaugeOptionsi.value.font.size / 2),\n                \"flotGagueValue\" + i,\n                gaugeOptionsi.value.formatter ? gaugeOptionsi.value.formatter(item.label, item.data[0][1]) : text,\n                gaugeOptionsi.value);\n        }\n\n        /**\n         * draw the values of the threshold\n         *\n         * @method drawThresholdValues\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         */\n        Gauge.prototype.drawThresholdValues = function(gaugeOptionsi, layout, cellLayout, i) {\n\n            // min, max\n            drawThresholdValue(gaugeOptionsi, layout, cellLayout, \"Min\" + i, gaugeOptionsi.gauge.min, gaugeOptionsi.gauge.startAngle);\n            drawThresholdValue(gaugeOptionsi, layout, cellLayout, \"Max\" + i, gaugeOptionsi.gauge.max, gaugeOptionsi.gauge.endAngle);\n            // threshold values\n            for (var j = 0; j < gaugeOptionsi.threshold.values.length; j++) {\n                var threshold = gaugeOptionsi.threshold.values[j];\n                if (threshold.value > gaugeOptionsi.gauge.min && threshold.value < gaugeOptionsi.gauge.max) {\n                    var a = calculateAngle(gaugeOptionsi, layout, threshold.value);\n                    drawThresholdValue(gaugeOptionsi, layout, cellLayout, i + \"_\" + j, threshold.value, a);\n                }\n            }\n        }\n\n        /**\n         * draw the value of the threshold\n         *\n         * @method drawThresholdValue\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Number} value the value of the threshold\n         * @param  {Number} a the angle of the value drawn\n         */\n        function drawThresholdValue(gaugeOptionsi, layout, cellLayout, i, value, a) {\n            drawText(\n                cellLayout.cx\n                    + ((layout.thresholdLabelMargin + (layout.thresholdLabelFontSize / 2) + layout.radius)\n                        * Math.cos(toRad(a))),\n                cellLayout.cy\n                    + ((layout.thresholdLabelMargin + (layout.thresholdLabelFontSize / 2) + layout.radius)\n                        * Math.sin(toRad(a))),\n                \"flotGagueThresholdValue\" + i,\n                gaugeOptionsi.threshold.label.formatter ? gaugeOptionsi.threshold.label.formatter(value) : value,\n                gaugeOptionsi.threshold.label,\n                a);\n        }\n\n        /**\n         * draw a text\n         *\n         * the textOptions is assumed as follows:\n         *\n         *   textOptions: {\n         *       background: {\n         *           color: null,\n         *           opacity: 0\n         *       },\n         *       font: {\n         *           size: \"auto\"\n         *           family: \"\\\"ＭＳ ゴシック\\\",sans-serif\"\n         *       },\n         *       color: null\n         *   }\n         *\n         * @method drawText\n         * @private\n         * @param  {Number} x the x position of the text drawn (left top)\n         * @param  {Number} y the y position of the text drawn (left top)\n         * @param  {String} id the id of the dom element\n         * @param  {String} text the text drawn\n         * @param  {Object} textOptions the option of the text\n         * @param  {Number} [a] the angle of the value drawn\n         */\n        function drawText(x, y, id, text, textOptions, a) {\n            var span = $(\".\" + id, placeholder);\n            var exists = span.length;\n            if (!exists) {\n                span = $(\"<span></span>\")\n                span.attr(\"id\", id);\n                span.css(\"position\", \"absolute\");\n                span.css(\"top\", y + \"px\");\n                if (textOptions.font.size) {\n                    span.css(\"font-size\", textOptions.font.size + \"px\");\n                }\n                if (textOptions.font.family) {\n                    span.css(\"font-family\", textOptions.font.family);\n                }\n                if (textOptions.color) {\n                    span.css(\"color\", textOptions.color);\n                }\n                if (textOptions.background.color) {\n                    span.css(\"background-color\", textOptions.background.color);\n                }\n                if (textOptions.background.opacity) {\n                    span.css(\"opacity\", textOptions.background.opacity);\n                }\n                placeholder.append(span);\n            }\n            span.text(text);\n            // after append, readjust the left position\n            span.css(\"left\", x + \"px\"); // for redraw, resetting the left position is needed here\n            span.css(\"left\", (parseInt(span.css(\"left\")) - (span.width()/ 2)) + \"px\");\n\n            // at last, set angle\n            if (!exists && a) {\n                span.css(\"top\", (parseInt(span.css(\"top\")) - (span.height()/ 2)) + \"px\");\n                span.css(\"transform\", \"rotate(\" + ((180 * a) + 90) + \"deg)\"); // not supported for ie8\n            }\n        }\n\n        return Gauge;\n    })();\n    /**\n     * get a instance of Logger\n     *\n     * @method  getLogger\n     * @for flot.gauge\n     * @private\n     * @param  {Object} debugOptions the options of debug\n     */\n    function getLogger(debugOptions) {\n        return typeof Logger !== \"undefined\" ? new Logger(debugOptions) : null;\n    }\n\n    /**\n     * calculate the index of columns for the specified data\n     *\n     * @method col\n     * @for flot.gauge\n     * @param  {Number} columns the number of columns\n     * @param  {Number} i       the index of the series\n     * @return the index of columns\n     */\n    function col(columns, i) {\n        return i % columns;\n    }\n\n    /**\n     * calculate the index of rows for the specified data\n     *\n     * @method row\n     * @for flot.gauge\n     * @param  {Number} columns the number of rows\n     * @param  {Number} i       the index of the series\n     * @return the index of rows\n     */\n    function row(columns, i) {\n        return Math.floor(i / columns);\n    }\n\n    /**\n     * calculate the angle in radians\n     *\n     * internally, use a number without PI (0 - 2).\n     * so, in this function, multiply PI\n     *\n     * @method toRad\n     * @for flot.gauge\n     * @param  {Number} a the number of angle without PI\n     * @return the angle in radians\n     */\n    function toRad(a) {\n        return a * Math.PI;\n    }\n\n    /**\n     * draw an arc\n     *\n     * @method drawArc\n     * @for flot.gauge\n     * @param  {Object} context the context of canvas\n     * @param  {Number} cx the x position of the center\n     * @param  {Number} cy the y position of the center\n     * @param  {Number} r the radius of an arc\n     * @param  {Number} w the width of an arc\n     * @param  {Number} rd1 the start angle of an arc in radians\n     * @param  {Number} rd2 the end angle of an arc in radians\n     * @param  {String} lc the color of a line\n     * @param  {Number} lw the widht of a line\n     * @param  {String} fc the fill color  of an arc\n     */\n    function drawArc(context, cx, cy, r, w, rd1, rd2, lc, lw, fc) {\n        if (rd1 === rd2) {\n            return;\n        }\n        var counterClockwise = false;\n        context.save();\n        context.beginPath();\n        context.arc(cx, cy, r, rd1, rd2, counterClockwise);\n        context.lineTo(cx + (r - w) * Math.cos(rd2),\n                       cy + (r - w) * Math.sin(rd2));\n        context.arc(cx, cy, r - w, rd2, rd1, !counterClockwise);\n        context.closePath();\n        if (lw) {\n            context.lineWidth = lw;\n        }\n        if (lc) {\n            context.strokeStyle = lc;\n            context.stroke();\n        }\n        if (fc) {\n            context.fillStyle = fc;\n            context.fill();\n        }\n        context.restore();\n    }\n\n    /**\n     * initialize plugin\n     *\n     * @method init\n     * @for flot.gauge\n     * @private\n     * @param  {Object} plot a instance of plot\n     */\n    function init (plot) {\n        // add processOptions hook\n        plot.hooks.processOptions.push(function(plot, options) {\n            var logger = getLogger(options.series.gauges.debug);\n\n\n\n\n            // turn 'grid' and 'legend' off\n            if (options.series.gauges.show) {\n                options.grid.show = false;\n                options.legend.show = false;\n            }\n\n            // sort threshold\n            var thresholds = options.series.gauges.threshold.values;\n\n            thresholds.sort(function(a, b) {\n                if (a.value < b.value) {\n                    return -1;\n                } else if (a.value > b.value) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            });\n\n\n\n        });\n\n        // add draw hook\n        plot.hooks.draw.push(function(plot, context) {\n            var options = plot.getOptions();\n            var gaugeOptions = options.series.gauges;\n\n            var logger = getLogger(gaugeOptions.debug);\n\n\n            if (!gaugeOptions.show) {\n                return;\n            }\n\n            var series = plot.getData();\n\n            if (!series || !series.length) {\n                return; // if no series were passed\n            }\n\n            var gauge = new Gauge(plot, context);\n\n            // calculate layout\n            var layout = gauge.calculateLayout();\n\n            // debug layout\n            if (gaugeOptions.debug.layout) {\n\n            }\n\n            // draw background\n            gauge.drawBackground(layout)\n\n            // draw cells (label, gauge, value, threshold)\n            for (var i = 0; i < series.length; i++) {\n                var item = series[i];\n\n                var gaugeOptionsi = $.extend({}, gaugeOptions, item.gauges);\n                if (item.gauges) {\n                    // re-calculate 'auto' values\n                    gauge.calculateAutoValues(gaugeOptionsi, layout.cellWidth);\n                }\n\n                // calculate cell layout\n                var cellLayout = gauge.calculateCellLayout(gaugeOptionsi, layout, i);\n\n                // draw cell background\n                gauge.drawCellBackground(gaugeOptionsi, cellLayout)\n                // debug layout\n                if (gaugeOptionsi.debug.layout) {\n\n                }\n                // draw label\n                if (gaugeOptionsi.label.show) {\n                    gauge.drawLable(gaugeOptionsi, layout, cellLayout, i, item);\n                }\n                // draw gauge\n                gauge.drawGauge(gaugeOptionsi, layout, cellLayout, item.label, item.data[0][1]);\n                // draw threshold\n                if (gaugeOptionsi.threshold.show) {\n                    gauge.drawThreshold(gaugeOptionsi, layout, cellLayout);\n                }\n                if (gaugeOptionsi.threshold.label.show) {\n                    gauge.drawThresholdValues(gaugeOptionsi, layout, cellLayout, i)\n                }\n                // draw value\n                if (gaugeOptionsi.value.show) {\n                    gauge.drawValue(gaugeOptionsi, layout, cellLayout, i, item);\n                }\n            }\n        });\n    }\n\n    /**\n     * [defaults description]\n     *\n     * @property defaults\n     * @type {Object}\n     */\n    var defaults = {\n        series: {\n            gauges: {\n                debug: {\n                    log: false,\n                    layout: false,\n                    alert: false\n                },\n                show: false,\n                layout: {\n                    margin: 5,\n                    columns: 3,\n                    hMargin: 5,\n                    vMargin: 5,\n                    square: false\n                },\n                frame: {\n                    show: true\n                },\n                cell: {\n                    background: {\n                        color: null\n                    },\n                    border: {\n                        show: true,\n                        color: \"black\",\n                        width: 1\n                    },\n                    margin: 5,\n                    vAlign: \"middle\" // 'top' or 'middle' or 'bottom'\n                },\n                gauge: {\n                    width: \"auto\", // a specified number, or 'auto'\n                    startAngle: 0.9, // 0 - 2 factor of the radians\n                    endAngle: 2.1, // 0 - 2 factor of the radians\n                    min: 0,\n                    max: 100,\n                    background: {\n                        color: \"white\"\n                    },\n                    border: {\n                        color: \"lightgray\",\n                        width: 2\n                    },\n                    shadow: {\n                        show: true,\n                        blur: 5\n                    }\n                },\n                label: {\n                    show: true,\n                    margin: \"auto\", // a specified number, or 'auto'\n                    background: {\n                        color: null,\n                        opacity: 0\n                    },\n                    font: {\n                        size: \"auto\", // a specified number, or 'auto'\n                        family: \"sans-serif\"\n                    },\n                    color: null,\n                    formatter: function(label, value) {\n                        return label;\n                    }\n                },\n                value: {\n                    show: true,\n                    margin: \"auto\", // a specified number, or 'auto'\n                    background: {\n                        color: null,\n                        opacity: 0\n                    },\n                    font: {\n                        size: \"auto\", // a specified number, or 'auto'\n                        family: \"sans-serif\"\n                    },\n                    color: null,\n                    formatter: function(label, value) {\n                        return parseInt(value);\n                    }\n                },\n                threshold: {\n                    show: true,\n                    width: \"auto\", // a specified number, or 'auto'\n                    label: {\n                        show: true,\n                        margin: \"auto\", // a specified number, or 'auto'\n                        background: {\n                            color: null,\n                            opacity: 0\n                        },\n                        font: {\n                            size: \"auto\", // a specified number, or 'auto'\n                            family: \",sans-serif\"\n                        },\n                        color: null,\n                        formatter: function(value) {\n                            return value;\n                        }\n                    },\n                    values: [\n                        {\n                            value: 50,\n                            color: \"lightgreen\"\n                        }, {\n                            value: 80,\n                            color: \"yellow\"\n                        }, {\n                            value: 100,\n                            color: \"red\"\n                        }\n                    ]\n                }\n            }\n        }\n    };\n\n    // register the gauge plugin\n    $.plot.plugins.push({\n        init: init,\n        options: defaults,\n        name: \"gauge\",\n        version: \"1.1.0\"\n    });\n\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1510:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GettingStartedPanelCtrl\", function() { return GettingStartedPanelCtrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PanelCtrl\", function() { return GettingStartedPanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar GettingStartedPanelCtrl = /** @class */ (function (_super) {\r\n    __extends(GettingStartedPanelCtrl, _super);\r\n    /** @ngInject **/\n    GettingStartedPanelCtrl.$inject = [\"$scope\", \"$injector\", \"backendSrv\", \"datasourceSrv\", \"$q\"];\r\n    function GettingStartedPanelCtrl($scope, $injector, backendSrv, datasourceSrv, $q) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.backendSrv = backendSrv;\r\n        _this.$q = $q;\r\n        _this.stepIndex = 0;\r\n        _this.steps = [];\r\n        _this.steps.push({\r\n            title: 'Install Grafana',\r\n            icon: 'icon-gf icon-gf-check',\r\n            href: 'http://docs.grafana.org/',\r\n            target: '_blank',\r\n            note: 'Review the installation docs',\r\n            check: function () { return $q.when(true); },\r\n        });\r\n        _this.steps.push({\r\n            title: 'Create your first data source',\r\n            cta: 'Add data source',\r\n            icon: 'icon-gf icon-gf-datasources',\r\n            href: 'datasources/new?gettingstarted',\r\n            check: function () {\r\n                return $q.when(datasourceSrv.getMetricSources().filter(function (item) {\r\n                    return item.meta.builtIn !== true;\r\n                }).length > 0);\r\n            }\r\n        });\r\n        _this.steps.push({\r\n            title: 'Create your first dashboard',\r\n            cta: 'New dashboard',\r\n            icon: 'icon-gf icon-gf-dashboard',\r\n            href: 'dashboard/new?gettingstarted',\r\n            check: function () {\r\n                return _this.backendSrv.search({ limit: 1 }).then(function (result) {\r\n                    return result.length > 0;\r\n                });\r\n            }\r\n        });\r\n        _this.steps.push({\r\n            title: 'Invite your team',\r\n            cta: 'Add Users',\r\n            icon: 'icon-gf icon-gf-users',\r\n            href: 'org/users?gettingstarted',\r\n            check: function () {\r\n                return _this.backendSrv.get('/api/org/users').then(function (res) {\r\n                    return res.length > 1;\r\n                });\r\n            }\r\n        });\r\n        _this.steps.push({\r\n            title: 'Install apps & plugins',\r\n            cta: 'Explore plugin repository',\r\n            icon: 'icon-gf icon-gf-apps',\r\n            href: 'https://grafana.com/plugins?utm_source=grafana_getting_started',\r\n            check: function () {\r\n                return _this.backendSrv.get('/api/plugins', { embedded: 0, core: 0 }).then(function (plugins) {\r\n                    return plugins.length > 0;\r\n                });\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    GettingStartedPanelCtrl.prototype.$onInit = function () {\r\n        var _this = this;\r\n        this.stepIndex = -1;\r\n        return this.nextStep().then(function (res) {\r\n            _this.checksDone = true;\r\n        });\r\n    };\r\n    GettingStartedPanelCtrl.prototype.nextStep = function () {\r\n        var _this = this;\r\n        if (this.stepIndex === this.steps.length - 1) {\r\n            return this.$q.when();\r\n        }\r\n        this.stepIndex += 1;\r\n        var currentStep = this.steps[this.stepIndex];\r\n        return currentStep.check().then(function (passed) {\r\n            if (passed) {\r\n                currentStep.cssClass = 'completed';\r\n                return _this.nextStep();\r\n            }\r\n            currentStep.cssClass = 'active';\r\n            return _this.$q.when();\r\n        });\r\n    };\r\n    GettingStartedPanelCtrl.prototype.dismiss = function () {\r\n        this.row.removePanel(this.panel, false);\r\n        this.backendSrv.request({\r\n            method: 'PUT',\r\n            url: '/api/user/helpflags/1',\r\n            showSuccessAlert: false,\r\n        }).then(function (res) {\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"contextSrv\"].user.helpFlags1 = res.helpFlags1;\r\n        });\r\n    };\r\n    GettingStartedPanelCtrl.templateUrl = 'public/app/plugins/panel/gettingstarted/module.html';\r\n    return GettingStartedPanelCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_0_app_plugins_sdk__[\"PanelCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1511:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ConfigCtrl\", function() { return ConfigCtrl; });\n///<reference path=\"../../../headers/common.d.ts\" />\r\nvar ConfigCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    ConfigCtrl.$inject = [\"backendSrv\"];\r\n    function ConfigCtrl(backendSrv) {\r\n        this.backendSrv = backendSrv;\r\n        this.appEditCtrl.setPreUpdateHook(this.initDatasource.bind(this));\r\n    }\r\n    ConfigCtrl.prototype.initDatasource = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get('/api/datasources').then(function (res) {\r\n            var found = false;\r\n            for (var _i = 0, res_1 = res; _i < res_1.length; _i++) {\r\n                var ds = res_1[_i];\r\n                if (ds.type === \"grafana-testdata-datasource\") {\r\n                    found = true;\r\n                }\r\n            }\r\n            if (!found) {\r\n                var dsInstance = {\r\n                    name: 'Grafana TestData',\r\n                    type: 'grafana-testdata-datasource',\r\n                    access: 'direct',\r\n                    jsonData: {}\r\n                };\r\n                return _this.backendSrv.post('/api/datasources', dsInstance);\r\n            }\r\n            return Promise.resolve();\r\n        });\r\n    };\r\n    ConfigCtrl.template = '';\r\n    return ConfigCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1512:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AnnotationsQueryCtrl\", function() { return TestDataAnnotationsQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__datasource__ = __webpack_require__(1513);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__query_ctrl__ = __webpack_require__(1514);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"TestDataDatasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Datasource\", function() { return __WEBPACK_IMPORTED_MODULE_0__datasource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryCtrl\", function() { return __WEBPACK_IMPORTED_MODULE_1__query_ctrl__[\"a\"]; });\n\r\n\r\nvar TestDataAnnotationsQueryCtrl = /** @class */ (function () {\r\n    function TestDataAnnotationsQueryCtrl() {\r\n    }\r\n    TestDataAnnotationsQueryCtrl.template = '<h2>test data</h2>';\r\n    return TestDataAnnotationsQueryCtrl;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1513:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TestDataDatasource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n\r\nvar TestDataDatasource = /** @class */ (function () {\r\n    /** @ngInject */\n    TestDataDatasource.$inject = [\"instanceSettings\", \"backendSrv\", \"$q\"];\r\n    function TestDataDatasource(instanceSettings, backendSrv, $q) {\r\n        this.backendSrv = backendSrv;\r\n        this.$q = $q;\r\n        this.id = instanceSettings.id;\r\n    }\r\n    TestDataDatasource.prototype.query = function (options) {\r\n        var _this = this;\r\n        var queries = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.filter(options.targets, function (item) {\r\n            return item.hide !== true;\r\n        }).map(function (item) {\r\n            return {\r\n                refId: item.refId,\r\n                scenarioId: item.scenarioId,\r\n                intervalMs: options.intervalMs,\r\n                maxDataPoints: options.maxDataPoints,\r\n                stringInput: item.stringInput,\r\n                points: item.points,\r\n                alias: item.alias,\r\n                datasourceId: _this.id,\r\n            };\r\n        });\r\n        if (queries.length === 0) {\r\n            return this.$q.when({ data: [] });\r\n        }\r\n        return this.backendSrv.post('/api/tsdb/query', {\r\n            from: options.range.from.valueOf().toString(),\r\n            to: options.range.to.valueOf().toString(),\r\n            queries: queries,\r\n        }).then(function (res) {\r\n            var data = [];\r\n            if (res.results) {\r\n                __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.forEach(res.results, function (queryRes) {\r\n                    for (var _i = 0, _a = queryRes.series; _i < _a.length; _i++) {\r\n                        var series = _a[_i];\r\n                        data.push({\r\n                            target: series.name,\r\n                            datapoints: series.points\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n            return { data: data };\r\n        });\r\n    };\r\n    TestDataDatasource.prototype.annotationQuery = function (options) {\r\n        return this.backendSrv.get('/api/annotations', {\r\n            from: options.range.from.valueOf(),\r\n            to: options.range.to.valueOf(),\r\n            limit: options.limit,\r\n            type: options.type,\r\n        });\r\n    };\r\n    return TestDataDatasource;\r\n}());\r\n\r\n\n\n/***/ }),\n\n/***/ 1514:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TestDataQueryCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__ = __webpack_require__(1305);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar TestDataQueryCtrl = /** @class */ (function (_super) {\r\n    __extends(TestDataQueryCtrl, _super);\r\n    /** @ngInject **/\n    TestDataQueryCtrl.$inject = [\"$scope\", \"$injector\", \"backendSrv\"];\r\n    function TestDataQueryCtrl($scope, $injector, backendSrv) {\r\n        var _this = _super.call(this, $scope, $injector) || this;\r\n        _this.backendSrv = backendSrv;\r\n        _this.target.scenarioId = _this.target.scenarioId || 'random_walk';\r\n        _this.scenarioList = [];\r\n        _this.newPointTime = __WEBPACK_IMPORTED_MODULE_2_moment___default()();\r\n        _this.selectedPoint = { text: 'Select point', value: null };\r\n        return _this;\r\n    }\r\n    TestDataQueryCtrl.prototype.getPoints = function () {\r\n        return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.map(this.target.points, function (point, index) {\r\n            return {\r\n                text: __WEBPACK_IMPORTED_MODULE_2_moment___default()(point[1]).format('MMMM Do YYYY, H:mm:ss') + ' : ' + point[0],\r\n                value: index,\r\n            };\r\n        });\r\n    };\r\n    TestDataQueryCtrl.prototype.pointSelected = function (option) {\r\n        this.selectedPoint = option;\r\n    };\r\n    TestDataQueryCtrl.prototype.deletePoint = function () {\r\n        this.target.points.splice(this.selectedPoint.value, 1);\r\n        this.selectedPoint = { text: 'Select point', value: null };\r\n        this.refresh();\r\n    };\r\n    TestDataQueryCtrl.prototype.addPoint = function () {\r\n        this.target.points = this.target.points || [];\r\n        this.target.points.push([this.newPointValue, this.newPointTime.valueOf()]);\r\n        this.target.points = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.sortBy(this.target.points, function (p) { return p[1]; });\r\n        this.refresh();\r\n    };\r\n    TestDataQueryCtrl.prototype.$onInit = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get('/api/tsdb/testdata/scenarios').then(function (res) {\r\n            _this.scenarioList = res;\r\n            _this.scenario = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(_this.scenarioList, { id: _this.target.scenarioId });\r\n        });\r\n    };\r\n    TestDataQueryCtrl.prototype.scenarioChanged = function () {\r\n        this.scenario = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(this.scenarioList, { id: this.target.scenarioId });\r\n        this.target.stringInput = this.scenario.stringInput;\r\n        if (this.target.scenarioId === 'manual_entry') {\r\n            this.target.points = this.target.points || [];\r\n        }\r\n        else {\r\n            delete this.target.points;\r\n        }\r\n        this.refresh();\r\n    };\r\n    TestDataQueryCtrl.templateUrl = 'partials/query.editor.html';\r\n    return TestDataQueryCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_1_app_plugins_sdk__[\"QueryCtrl\"]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1515:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(466);\nvar Subscriber_1 = __webpack_require__(468);\nvar Subscription_1 = __webpack_require__(472);\nvar ObjectUnsubscribedError_1 = __webpack_require__(1516);\nvar SubjectSubscription_1 = __webpack_require__(1517);\nvar rxSubscriber_1 = __webpack_require__(205);\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map\n\n/***/ }),\n\n/***/ 1516:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n/***/ }),\n\n/***/ 1517:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = __webpack_require__(472);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map\n\n/***/ }),\n\n/***/ 1518:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Observable_1 = __webpack_require__(466);\nvar empty_1 = __webpack_require__(1519);\nObservable_1.Observable.empty = empty_1.empty;\n//# sourceMappingURL=empty.js.map\n\n/***/ }),\n\n/***/ 1519:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar EmptyObservable_1 = __webpack_require__(1320);\nexports.empty = EmptyObservable_1.EmptyObservable.create;\n//# sourceMappingURL=empty.js.map\n\n/***/ }),\n\n/***/ 1520:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Observable_1 = __webpack_require__(466);\nvar from_1 = __webpack_require__(1521);\nObservable_1.Observable.from = from_1.from;\n//# sourceMappingURL=from.js.map\n\n/***/ }),\n\n/***/ 1521:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar FromObservable_1 = __webpack_require__(1522);\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n/***/ }),\n\n/***/ 1522:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = __webpack_require__(473);\nvar isArrayLike_1 = __webpack_require__(1344);\nvar isPromise_1 = __webpack_require__(1345);\nvar PromiseObservable_1 = __webpack_require__(1523);\nvar IteratorObservable_1 = __webpack_require__(1524);\nvar ArrayObservable_1 = __webpack_require__(1346);\nvar ArrayLikeObservable_1 = __webpack_require__(1526);\nvar iterator_1 = __webpack_require__(1321);\nvar Observable_1 = __webpack_require__(466);\nvar observeOn_1 = __webpack_require__(1527);\nvar observable_1 = __webpack_require__(474);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n/***/ }),\n\n/***/ 1523:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = __webpack_require__(127);\nvar Observable_1 = __webpack_require__(466);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map\n\n/***/ }),\n\n/***/ 1524:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = __webpack_require__(127);\nvar Observable_1 = __webpack_require__(466);\nvar iterator_1 = __webpack_require__(1321);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n/***/ }),\n\n/***/ 1525:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map\n\n/***/ }),\n\n/***/ 1526:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = __webpack_require__(466);\nvar ScalarObservable_1 = __webpack_require__(1347);\nvar EmptyObservable_1 = __webpack_require__(1320);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n/***/ }),\n\n/***/ 1527:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = __webpack_require__(468);\nvar Notification_1 = __webpack_require__(1528);\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map\n\n/***/ }),\n\n/***/ 1528:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Observable_1 = __webpack_require__(466);\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map\n\n/***/ }),\n\n/***/ 1529:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Observable_1 = __webpack_require__(466);\nvar map_1 = __webpack_require__(1530);\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n/***/ }),\n\n/***/ 1530:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar map_1 = __webpack_require__(1531);\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map\n\n/***/ }),\n\n/***/ 1531:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = __webpack_require__(468);\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map\n\n/***/ }),\n\n/***/ 1532:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar Observable_1 = __webpack_require__(466);\nvar combineAll_1 = __webpack_require__(1533);\nObservable_1.Observable.prototype.combineAll = combineAll_1.combineAll;\n//# sourceMappingURL=combineAll.js.map\n\n/***/ }),\n\n/***/ 1533:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar combineAll_1 = __webpack_require__(1534);\n/**\n * Converts a higher-order Observable into a first-order Observable by waiting\n * for the outer Observable to complete, then applying {@link combineLatest}.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by applying\n * {@link combineLatest} when the Observable-of-Observables completes.</span>\n *\n * <img src=\"./img/combineAll.png\" width=\"100%\">\n *\n * Takes an Observable of Observables, and collects all Observables from it.\n * Once the outer Observable completes, it subscribes to all collected\n * Observables and combines their values using the {@link combineLatest}\n * strategy, such that:\n * - Every time an inner Observable emits, the output Observable emits.\n * - When the returned observable emits, it emits all of the latest values by:\n *   - If a `project` function is provided, it is called with each recent value\n *     from each inner Observable in whatever order they arrived, and the result\n *     of the `project` function is what is emitted by the output Observable.\n *   - If there is no `project` function, an array of all of the most recent\n *     values is emitted by the output Observable.\n *\n * @example <caption>Map two click events to a finite interval Observable, then apply combineAll</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev =>\n *   Rx.Observable.interval(Math.random()*2000).take(3)\n * ).take(2);\n * var result = higherOrder.combineAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n * @see {@link mergeAll}\n *\n * @param {function} [project] An optional function to map the most recent\n * values from each inner Observable into a new result. Takes each of the most\n * recent values from each collected inner Observable as arguments, in order.\n * @return {Observable} An Observable of projected results or arrays of recent\n * values.\n * @method combineAll\n * @owner Observable\n */\nfunction combineAll(project) {\n    return combineAll_1.combineAll(project)(this);\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map\n\n/***/ }),\n\n/***/ 1534:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar combineLatest_1 = __webpack_require__(1535);\nfunction combineAll(project) {\n    return function (source) { return source.lift(new combineLatest_1.CombineLatestOperator(project)); };\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map\n\n/***/ }),\n\n/***/ 1535:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ArrayObservable_1 = __webpack_require__(1346);\nvar isArray_1 = __webpack_require__(473);\nvar OuterSubscriber_1 = __webpack_require__(1536);\nvar subscribeToResult_1 = __webpack_require__(1537);\nvar none = {};\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from this Observable with values from\n * Observables passed as arguments. This is done by subscribing to each\n * Observable, in order, and collecting an array of each of the most recent\n * values any time any of the input Observables emits, then either taking that\n * array and passing it as arguments to an optional `project` function and\n * emitting the return value of that, or just emitting the array of recent\n * values directly if there is no `project` function.\n *\n * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return function (source) { return source.lift.call(new ArrayObservable_1.ArrayObservable([source].concat(observables)), new CombineLatestOperator(project)); };\n}\nexports.combineLatest = combineLatest;\nvar CombineLatestOperator = (function () {\n    function CombineLatestOperator(project) {\n        this.project = project;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n    };\n    return CombineLatestOperator;\n}());\nexports.CombineLatestOperator = CombineLatestOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CombineLatestSubscriber = (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, project) {\n        _super.call(this, destination);\n        this.project = project;\n        this.active = 0;\n        this.values = [];\n        this.observables = [];\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(none);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === none ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.project) {\n                this._tryProject(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryProject = function (values) {\n        var result;\n        try {\n            result = this.project.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.CombineLatestSubscriber = CombineLatestSubscriber;\n//# sourceMappingURL=combineLatest.js.map\n\n/***/ }),\n\n/***/ 1536:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = __webpack_require__(468);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map\n\n/***/ }),\n\n/***/ 1537:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar root_1 = __webpack_require__(127);\nvar isArrayLike_1 = __webpack_require__(1344);\nvar isPromise_1 = __webpack_require__(1345);\nvar isObject_1 = __webpack_require__(476);\nvar Observable_1 = __webpack_require__(466);\nvar iterator_1 = __webpack_require__(1321);\nvar InnerSubscriber_1 = __webpack_require__(1538);\nvar observable_1 = __webpack_require__(474);\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map\n\n/***/ }),\n\n/***/ 1538:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = __webpack_require__(468);\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map\n\n/***/ }),\n\n/***/ 1539:\n/***/ (function(module, exports) {\n\n/* Flot plugin for rendering pie charts.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes that each series has a single data value, and that each\nvalue is a positive integer or zero.  Negative numbers don't make sense for a\npie chart, and have unpredictable results.  The values do NOT need to be\npassed in as percentages; the plugin will calculate the total and per-slice\npercentages internally.\n\n* Created by Brian Medendorp\n\n* Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars\n\nThe plugin supports these options:\n\n\tseries: {\n\t\tpie: {\n\t\t\tshow: true/false\n\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length, or 'auto'\n\t\t\tinnerRadius: 0-1 for percentage of fullsize or a specified pixel length, for creating a donut effect\n\t\t\tstartAngle: 0-2 factor of PI used for starting angle (in radians) i.e 3/2 starts at the top, 0 and 2 have the same result\n\t\t\ttilt: 0-1 for percentage to tilt the pie, where 1 is no tilt, and 0 is completely flat (nothing will show)\n\t\t\toffset: {\n\t\t\t\ttop: integer value to move the pie up or down\n\t\t\t\tleft: integer value to move the pie left or right, or 'auto'\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#FFF')\n\t\t\t\twidth: integer pixel width of the stroke\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tshow: true/false, or 'auto'\n\t\t\t\tformatter:  a user-defined function that modifies the text/style of the label text\n\t\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length\n\t\t\t\tbackground: {\n\t\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#000')\n\t\t\t\t\topacity: 0-1\n\t\t\t\t},\n\t\t\t\tthreshold: 0-1 for the percentage value at which to hide labels (if they're too small)\n\t\t\t},\n\t\t\tcombine: {\n\t\t\t\tthreshold: 0-1 for the percentage value at which to combine slices (if they're too small)\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#CCC'), if null, the plugin will automatically use the color of the first slice to be combined\n\t\t\t\tlabel: any text value of what the combined slice should be labeled\n\t\t\t}\n\t\t\thighlight: {\n\t\t\t\topacity: 0-1\n\t\t\t}\n\t\t}\n\t}\n\nMore detail and specific examples can be found in the included HTML file.\n\n*/\n\n(function($) {\n\n\t// Maximum redraw attempts when fitting labels within the plot\n\n\tvar REDRAW_ATTEMPTS = 10;\n\n\t// Factor by which to shrink the pie when fitting labels within the plot\n\n\tvar REDRAW_SHRINK = 0.95;\n\n\tfunction init(plot) {\n\n\t\tvar canvas = null,\n\t\t\ttarget = null,\n\t\t\tmaxRadius = null,\n\t\t\tcenterLeft = null,\n\t\t\tcenterTop = null,\n\t\t\tprocessed = false,\n\t\t\tctx = null;\n\n\t\t// interactive variables\n\n\t\tvar highlights = [];\n\n\t\t// add hook to determine if pie plugin in enabled, and then perform necessary operations\n\n\t\tplot.hooks.processOptions.push(function(plot, options) {\n\t\t\tif (options.series.pie.show) {\n\n\t\t\t\toptions.grid.show = false;\n\n\t\t\t\t// set labels.show\n\n\t\t\t\tif (options.series.pie.label.show == \"auto\") {\n\t\t\t\t\tif (options.legend.show) {\n\t\t\t\t\t\toptions.series.pie.label.show = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.label.show = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set radius\n\n\t\t\t\tif (options.series.pie.radius == \"auto\") {\n\t\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\t\toptions.series.pie.radius = 3/4;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.radius = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// ensure sane tilt\n\n\t\t\t\tif (options.series.pie.tilt > 1) {\n\t\t\t\t\toptions.series.pie.tilt = 1;\n\t\t\t\t} else if (options.series.pie.tilt < 0) {\n\t\t\t\t\toptions.series.pie.tilt = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.bindEvents.push(function(plot, eventHolder) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tif (options.grid.hoverable) {\n\t\t\t\t\teventHolder.unbind(\"mousemove\").mousemove(onMouseMove);\n\t\t\t\t}\n\t\t\t\tif (options.grid.clickable) {\n\t\t\t\t\teventHolder.unbind(\"click\").click(onClick);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.processDatapoints.push(function(plot, series, data, datapoints) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tprocessDatapoints(plot, series, data, datapoints);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.drawOverlay.push(function(plot, octx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdrawOverlay(plot, octx);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.draw.push(function(plot, newCtx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdraw(plot, newCtx);\n\t\t\t}\n\t\t});\n\n\t\tfunction processDatapoints(plot, series, datapoints) {\n\t\t\tif (!processed)\t{\n\t\t\t\tprocessed = true;\n\t\t\t\tcanvas = plot.getCanvas();\n\t\t\t\ttarget = $(canvas).parent();\n\t\t\t\toptions = plot.getOptions();\n\t\t\t\tplot.setData(combine(plot.getData()));\n\t\t\t}\n\t\t}\n\n\t\tfunction combine(data) {\n\n\t\t\tvar total = 0,\n\t\t\t\tcombined = 0,\n\t\t\t\tnumCombined = 0,\n\t\t\t\tcolor = options.series.pie.combine.color,\n\t\t\t\tnewdata = [];\n\n\t\t\t// Fix up the raw data from Flot, ensuring the data is numeric\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\n\t\t\t\tvar value = data[i].data;\n\n\t\t\t\t// If the data is an array, we'll assume that it's a standard\n\t\t\t\t// Flot x-y pair, and are concerned only with the second value.\n\n\t\t\t\t// Note how we use the original array, rather than creating a\n\t\t\t\t// new one; this is more efficient and preserves any extra data\n\t\t\t\t// that the user may have stored in higher indexes.\n\n\t\t\t\tif ($.isArray(value) && value.length == 1) {\n    \t\t\t\tvalue = value[0];\n\t\t\t\t}\n\n\t\t\t\tif ($.isArray(value)) {\n\t\t\t\t\t// Equivalent to $.isNumeric() but compatible with jQuery < 1.7\n\t\t\t\t\tif (!isNaN(parseFloat(value[1])) && isFinite(value[1])) {\n\t\t\t\t\t\tvalue[1] = +value[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue[1] = 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n\t\t\t\t\tvalue = [1, +value];\n\t\t\t\t} else {\n\t\t\t\t\tvalue = [1, 0];\n\t\t\t\t}\n\n\t\t\t\tdata[i].data = [value];\n\t\t\t}\n\n\t\t\t// Sum up all the slices, so we can calculate percentages for each\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\ttotal += data[i].data[0][1];\n\t\t\t}\n\n\t\t\t// Count the number of slices with percentages below the combine\n\t\t\t// threshold; if it turns out to be just one, we won't combine.\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (value / total <= options.series.pie.combine.threshold) {\n\t\t\t\t\tcombined += value;\n\t\t\t\t\tnumCombined++;\n\t\t\t\t\tif (!color) {\n\t\t\t\t\t\tcolor = data[i].color;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (numCombined < 2 || value / total > options.series.pie.combine.threshold) {\n\t\t\t\t\tnewdata.push({\n\t\t\t\t\t\tdata: [[1, value]],\n\t\t\t\t\t\tcolor: data[i].color,\n\t\t\t\t\t\tlabel: data[i].label,\n\t\t\t\t\t\tangle: value * Math.PI * 2 / total,\n\t\t\t\t\t\tpercent: value / (total / 100)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (numCombined > 1) {\n\t\t\t\tnewdata.push({\n\t\t\t\t\tdata: [[1, combined]],\n\t\t\t\t\tcolor: color,\n\t\t\t\t\tlabel: options.series.pie.combine.label,\n\t\t\t\t\tangle: combined * Math.PI * 2 / total,\n\t\t\t\t\tpercent: combined / (total / 100)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn newdata;\n\t\t}\n\n\t\tfunction draw(plot, newCtx) {\n\n\t\t\tif (!target) {\n\t\t\t\treturn; // if no series were passed\n\t\t\t}\n\n\t\t\tvar canvasWidth = plot.getPlaceholder().width(),\n\t\t\t\tcanvasHeight = plot.getPlaceholder().height(),\n\t\t\t\tlegendWidth = target.children().filter(\".legend\").children().width() || 0;\n\n\t\t\tctx = newCtx;\n\n\t\t\t// WARNING: HACK! REWRITE THIS CODE AS SOON AS POSSIBLE!\n\n\t\t\t// When combining smaller slices into an 'other' slice, we need to\n\t\t\t// add a new series.  Since Flot gives plugins no way to modify the\n\t\t\t// list of series, the pie plugin uses a hack where the first call\n\t\t\t// to processDatapoints results in a call to setData with the new\n\t\t\t// list of series, then subsequent processDatapoints do nothing.\n\n\t\t\t// The plugin-global 'processed' flag is used to control this hack;\n\t\t\t// it starts out false, and is set to true after the first call to\n\t\t\t// processDatapoints.\n\n\t\t\t// Unfortunately this turns future setData calls into no-ops; they\n\t\t\t// call processDatapoints, the flag is true, and nothing happens.\n\n\t\t\t// To fix this we'll set the flag back to false here in draw, when\n\t\t\t// all series have been processed, so the next sequence of calls to\n\t\t\t// processDatapoints once again starts out with a slice-combine.\n\t\t\t// This is really a hack; in 0.9 we need to give plugins a proper\n\t\t\t// way to modify series before any processing begins.\n\n\t\t\tprocessed = false;\n\n\t\t\t// calculate maximum radius and center point\n\n\t\t\tmaxRadius =  Math.min(canvasWidth, canvasHeight / options.series.pie.tilt) / 2;\n\t\t\tcenterTop = canvasHeight / 2 + options.series.pie.offset.top;\n\t\t\tcenterLeft = canvasWidth / 2;\n\n\t\t\tif (options.series.pie.offset.left == \"auto\") {\n\t\t\t\tif (options.legend.position.match(\"w\")) {\n\t\t\t\t\tcenterLeft += legendWidth / 2;\n\t\t\t\t} else {\n\t\t\t\t\tcenterLeft -= legendWidth / 2;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcenterLeft += options.series.pie.offset.left;\n\t\t\t}\n\n\t\t\tif (centerLeft < maxRadius) {\n\t\t\t\tcenterLeft = maxRadius;\n\t\t\t} else if (centerLeft > canvasWidth - maxRadius) {\n\t\t\t\tcenterLeft = canvasWidth - maxRadius;\n\t\t\t}\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\tattempts = 0;\n\n\t\t\t// Keep shrinking the pie's radius until drawPie returns true,\n\t\t\t// indicating that all the labels fit, or we try too many times.\n\n\t\t\tdo {\n\t\t\t\tif (attempts > 0) {\n\t\t\t\t\tmaxRadius *= REDRAW_SHRINK;\n\t\t\t\t}\n\t\t\t\tattempts += 1;\n\t\t\t\tclear();\n\t\t\t\tif (options.series.pie.tilt <= 0.8) {\n\t\t\t\t\tdrawShadow();\n\t\t\t\t}\n\t\t\t} while (!drawPie() && attempts < REDRAW_ATTEMPTS)\n\n\t\t\tif (attempts >= REDRAW_ATTEMPTS) {\n\t\t\t\tclear();\n\t\t\t\ttarget.prepend(\"<div class='error'>Could not draw pie with labels contained inside canvas</div>\");\n\t\t\t}\n\n\t\t\tif (plot.setSeries && plot.insertLegend) {\n\t\t\t\tplot.setSeries(slices);\n\t\t\t\tplot.insertLegend();\n\t\t\t}\n\n\t\t\t// we're actually done at this point, just defining internal functions at this point\n\n\t\t\tfunction clear() {\n\t\t\t\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\t\t\t\ttarget.children().filter(\".pieLabel, .pieLabelBackground\").remove();\n\t\t\t}\n\n\t\t\tfunction drawShadow() {\n\n\t\t\t\tvar shadowLeft = options.series.pie.shadow.left;\n\t\t\t\tvar shadowTop = options.series.pie.shadow.top;\n\t\t\t\tvar edge = 10;\n\t\t\t\tvar alpha = options.series.pie.shadow.alpha;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\tif (radius >= canvasWidth / 2 - shadowLeft || radius * options.series.pie.tilt >= canvasHeight / 2 - shadowTop || radius <= edge) {\n\t\t\t\t\treturn;\t// shadow would be outside canvas, so don't draw it\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(shadowLeft,shadowTop);\n\t\t\t\tctx.globalAlpha = alpha;\n\t\t\t\tctx.fillStyle = \"#000\";\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\n\t\t\t\t//radius -= edge;\n\n\t\t\t\tfor (var i = 1; i <= edge; i++) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, false);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tradius -= i;\n\t\t\t\t}\n\n\t\t\t\tctx.restore();\n\t\t\t}\n\n\t\t\tfunction drawPie() {\n\n\t\t\t\tvar startAngle = Math.PI * options.series.pie.startAngle;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\t\t\t\t//ctx.rotate(startAngle); // start at top; -- This doesn't work properly in Opera\n\n\t\t\t\t// draw slices\n\n\t\t\t\tctx.save();\n\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\tslices[i].startAngle = currentAngle;\n\t\t\t\t\tdrawSlice(slices[i].angle, slices[i].color, true);\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\n\t\t\t\t// draw slice outlines\n\n\t\t\t\tif (options.series.pie.stroke.width > 0) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.lineWidth = options.series.pie.stroke.width;\n\t\t\t\t\tcurrentAngle = startAngle;\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tdrawSlice(slices[i].angle, options.series.pie.stroke.color, false);\n\t\t\t\t\t}\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\n\t\t\t\t// draw donut hole\n\n\t\t\t\tdrawDonutHole(ctx);\n\n\t\t\t\tctx.restore();\n\n\t\t\t\t// Draw the labels, returning true if they fit within the plot\n\n\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\treturn drawLabels();\n\t\t\t\t} else return true;\n\n\t\t\t\tfunction drawSlice(angle, color, fill) {\n\n\t\t\t\t\tif (angle <= 0 || isNaN(angle)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fillStyle = color;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.strokeStyle = color;\n\t\t\t\t\t\tctx.lineJoin = \"round\";\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tif (Math.abs(angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t}\n\n\t\t\t\t\t//ctx.arc(0, 0, radius, 0, angle, false); // This doesn't work properly in Opera\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle, currentAngle + angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle + angle / 2, currentAngle + angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\t//ctx.rotate(angle); // This doesn't work properly in Opera\n\t\t\t\t\tcurrentAngle += angle;\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fill();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction drawLabels() {\n\n\t\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\t\tvar radius = options.series.pie.label.radius > 1 ? options.series.pie.label.radius : maxRadius * options.series.pie.label.radius;\n\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tif (slices[i].percent >= options.series.pie.label.threshold * 100) {\n\t\t\t\t\t\t\tif (!drawLabel(slices[i], currentAngle, i)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentAngle += slices[i].angle;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t\tfunction drawLabel(slice, startAngle, index) {\n\n\t\t\t\t\t\tif (slice.data[0][1] == 0) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// format label text\n\n\t\t\t\t\t\tvar lf = options.legend.labelFormatter, text, plf = options.series.pie.label.formatter;\n\n\t\t\t\t\t\tif (lf) {\n\t\t\t\t\t\t\ttext = lf(slice.label, slice);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttext = slice.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (plf) {\n\t\t\t\t\t\t\ttext = plf(text, slice);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar halfAngle = ((startAngle + slice.angle) + startAngle) / 2;\n\t\t\t\t\t\tvar x = centerLeft + Math.round(Math.cos(halfAngle) * radius);\n\t\t\t\t\t\tvar y = centerTop + Math.round(Math.sin(halfAngle) * radius) * options.series.pie.tilt;\n\n\t\t\t\t\t\tvar html = \"<span class='pieLabel' id='pieLabel\" + index + \"' style='position:absolute;top:\" + y + \"px;left:\" + x + \"px;'>\" + text + \"</span>\";\n\t\t\t\t\t\ttarget.append(html);\n\n\t\t\t\t\t\tvar label = target.children(\"#pieLabel\" + index);\n\t\t\t\t\t\tvar labelTop = (y - label.height() / 2);\n\t\t\t\t\t\tvar labelLeft = (x - label.width() / 2);\n\n\t\t\t\t\t\tlabel.css(\"top\", labelTop);\n\t\t\t\t\t\tlabel.css(\"left\", labelLeft);\n\n\t\t\t\t\t\t// check to make sure that the label is not outside the canvas\n\n\t\t\t\t\t\tif (0 - labelTop > 0 || 0 - labelLeft > 0 || canvasHeight - (labelTop + label.height()) < 0 || canvasWidth - (labelLeft + label.width()) < 0) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (options.series.pie.label.background.opacity != 0) {\n\n\t\t\t\t\t\t\t// put in the transparent background separately to avoid blended labels and label boxes\n\n\t\t\t\t\t\t\tvar c = options.series.pie.label.background.color;\n\n\t\t\t\t\t\t\tif (c == null) {\n\t\t\t\t\t\t\t\tc = slice.color;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar pos = \"top:\" + labelTop + \"px;left:\" + labelLeft + \"px;\";\n\t\t\t\t\t\t\t$(\"<div class='pieLabelBackground' style='position:absolute;width:\" + label.width() + \"px;height:\" + label.height() + \"px;\" + pos + \"background-color:\" + c + \";'></div>\")\n\t\t\t\t\t\t\t\t.css(\"opacity\", options.series.pie.label.background.opacity)\n\t\t\t\t\t\t\t\t.insertBefore(label);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} // end individual label function\n\t\t\t\t} // end drawLabels function\n\t\t\t} // end drawPie function\n\t\t} // end draw function\n\n\t\t// Placed here because it needs to be accessed from multiple locations\n\n\t\tfunction drawDonutHole(layer) {\n\t\t\tif (options.series.pie.innerRadius > 0) {\n\n\t\t\t\t// subtract the center\n\n\t\t\t\tlayer.save();\n\t\t\t\tvar innerRadius = options.series.pie.innerRadius > 1 ? options.series.pie.innerRadius : maxRadius * options.series.pie.innerRadius;\n\t\t\t\tlayer.globalCompositeOperation = \"destination-out\"; // this does not work with excanvas, but it will fall back to using the stroke color\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.fillStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.fill();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// add inner stroke\n\n\t\t\t\tlayer.save();\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.strokeStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.stroke();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// TODO: add extra shadow inside hole (with a mask) if the pie is tilted.\n\t\t\t}\n\t\t}\n\n\t\t//-- Additional Interactive related functions --\n\n\t\tfunction isPointInPoly(poly, pt) {\n\t\t\tfor(var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)\n\t\t\t\t((poly[i][1] <= pt[1] && pt[1] < poly[j][1]) || (poly[j][1] <= pt[1] && pt[1]< poly[i][1]))\n\t\t\t\t&& (pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0])\n\t\t\t\t&& (c = !c);\n\t\t\treturn c;\n\t\t}\n\n\t\tfunction findNearbySlice(mouseX, mouseY) {\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\toptions = plot.getOptions(),\n\t\t\t\tradius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,\n\t\t\t\tx, y;\n\n\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\n\t\t\t\tvar s = slices[i];\n\n\t\t\t\tif (s.pie.show) {\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t//ctx.scale(1, options.series.pie.tilt);\t// this actually seems to break everything when here.\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle, s.startAngle + s.angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle + s.angle / 2, s.startAngle + s.angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tx = mouseX - centerLeft;\n\t\t\t\t\ty = mouseY - centerTop;\n\n\t\t\t\t\tif (ctx.isPointInPath) {\n\t\t\t\t\t\tif (ctx.isPointInPath(mouseX - centerLeft, mouseY - centerTop)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// excanvas for IE doesn;t support isPointInPath, this is a workaround.\n\n\t\t\t\t\t\tvar p1X = radius * Math.cos(s.startAngle),\n\t\t\t\t\t\t\tp1Y = radius * Math.sin(s.startAngle),\n\t\t\t\t\t\t\tp2X = radius * Math.cos(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp2Y = radius * Math.sin(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp3X = radius * Math.cos(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp3Y = radius * Math.sin(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp4X = radius * Math.cos(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp4Y = radius * Math.sin(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp5X = radius * Math.cos(s.startAngle + s.angle),\n\t\t\t\t\t\t\tp5Y = radius * Math.sin(s.startAngle + s.angle),\n\t\t\t\t\t\t\tarrPoly = [[0, 0], [p1X, p1Y], [p2X, p2Y], [p3X, p3Y], [p4X, p4Y], [p5X, p5Y]],\n\t\t\t\t\t\t\tarrPoint = [x, y];\n\n\t\t\t\t\t\t// TODO: perhaps do some mathmatical trickery here with the Y-coordinate to compensate for pie tilt?\n\n\t\t\t\t\t\tif (isPointInPoly(arrPoly, arrPoint)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\ttriggerClickHoverEvent(\"plothover\", e);\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\ttriggerClickHoverEvent(\"plotclick\", e);\n\t\t}\n\n\t\t// trigger click or hover event (they send the same parameters so we share their code)\n\n\t\tfunction triggerClickHoverEvent(eventname, e) {\n\n\t\t\tvar offset = plot.offset();\n\t\t\tvar canvasX = parseInt(e.pageX - offset.left);\n\t\t\tvar canvasY =  parseInt(e.pageY - offset.top);\n\t\t\tvar item = findNearbySlice(canvasX, canvasY);\n\n\t\t\tif (options.grid.autoHighlight) {\n\n\t\t\t\t// clear auto-highlights\n\n\t\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\t\tvar h = highlights[i];\n\t\t\t\t\tif (h.auto == eventname && !(item && h.series == item.series)) {\n\t\t\t\t\t\tunhighlight(h.series);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// highlight the slice\n\n\t\t\tif (item) {\n\t\t\t\thighlight(item.series, eventname);\n\t\t\t}\n\n\t\t\t// trigger any hover bind events\n\n\t\t\tvar pos = { pageX: e.pageX, pageY: e.pageY };\n\t\t\ttarget.trigger(eventname, [pos, item]);\n\t\t}\n\n\t\tfunction highlight(s, auto) {\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i == -1) {\n\t\t\t\thighlights.push({ series: s, auto: auto });\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t} else if (!auto) {\n\t\t\t\thighlights[i].auto = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction unhighlight(s) {\n\t\t\tif (s == null) {\n\t\t\t\thighlights = [];\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i != -1) {\n\t\t\t\thighlights.splice(i, 1);\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\t\t}\n\n\t\tfunction indexOfHighlight(s) {\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tvar h = highlights[i];\n\t\t\t\tif (h.series == s)\n\t\t\t\t\treturn i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tfunction drawOverlay(plot, octx) {\n\n\t\t\tvar options = plot.getOptions();\n\n\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\toctx.save();\n\t\t\toctx.translate(centerLeft, centerTop);\n\t\t\toctx.scale(1, options.series.pie.tilt);\n\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tdrawHighlight(highlights[i].series);\n\t\t\t}\n\n\t\t\tdrawDonutHole(octx);\n\n\t\t\toctx.restore();\n\n\t\t\tfunction drawHighlight(series) {\n\n\t\t\t\tif (series.angle <= 0 || isNaN(series.angle)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//octx.fillStyle = parseColor(options.series.pie.highlight.color).scale(null, null, null, options.series.pie.highlight.opacity).toString();\n\t\t\t\toctx.fillStyle = \"rgba(255, 255, 255, \" + options.series.pie.highlight.opacity + \")\"; // this is temporary until we have access to parseColor\n\t\t\t\toctx.beginPath();\n\t\t\t\tif (Math.abs(series.angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\toctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t}\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle, series.startAngle + series.angle / 2, false);\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle + series.angle / 2, series.startAngle + series.angle, false);\n\t\t\t\toctx.closePath();\n\t\t\t\toctx.fill();\n\t\t\t}\n\t\t}\n\t} // end init (plugin body)\n\n\t// define pie specific options and their default values\n\n\tvar options = {\n\t\tseries: {\n\t\t\tpie: {\n\t\t\t\tshow: false,\n\t\t\t\tradius: \"auto\",\t// actual radius of the visible pie (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\tinnerRadius: 0, /* for donut */\n\t\t\t\tstartAngle: 3/2,\n\t\t\t\ttilt: 1,\n\t\t\t\tshadow: {\n\t\t\t\t\tleft: 5,\t// shadow left offset\n\t\t\t\t\ttop: 15,\t// shadow top offset\n\t\t\t\t\talpha: 0.02\t// shadow alpha\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: \"auto\"\n\t\t\t\t},\n\t\t\t\tstroke: {\n\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\twidth: 1\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tshow: \"auto\",\n\t\t\t\t\tformatter: function(label, slice) {\n\t\t\t\t\t\treturn \"<div style='font-size:x-small;text-align:center;padding:2px;color:\" + slice.color + \";'>\" + label + \"<br/>\" + Math.round(slice.percent) + \"%</div>\";\n\t\t\t\t\t},\t// formatter function\n\t\t\t\t\tradius: 1,\t// radius at which to place the labels (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\t\tbackground: {\n\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t},\n\t\t\t\t\tthreshold: 0\t// percentage at which to hide the label (i.e. the slice is too narrow)\n\t\t\t\t},\n\t\t\t\tcombine: {\n\t\t\t\t\tthreshold: -1,\t// percentage at which to combine little slices into one larger slice\n\t\t\t\t\tcolor: null,\t// color to give the new slice (auto-generated if null)\n\t\t\t\t\tlabel: \"Other\"\t// label to give the new slice\n\t\t\t\t},\n\t\t\t\thighlight: {\n\t\t\t\t\t//color: \"#fff\",\t\t// will add this functionality once parseColor is available\n\t\t\t\t\topacity: 0.5\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: \"pie\",\n\t\tversion: \"1.1\"\n\t});\n\n})(jQuery);\n\n\n/***/ }),\n\n/***/ 1540:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ \npluginDirectiveLoader.$inject = [\"$compile\", \"datasourceSrv\", \"$rootScope\", \"$q\", \"$http\", \"$templateCache\"];var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__plugin_loader__ = __webpack_require__(1317);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_app_plugins_panel_unknown_module__ = __webpack_require__(1541);\n\r\n\r\n\r\n\r\n\r\n\r\n/** @ngInject **/\r\nfunction pluginDirectiveLoader($compile, datasourceSrv, $rootScope, $q, $http, $templateCache) {\r\n    function getTemplate(component) {\r\n        if (component.template) {\r\n            return $q.when(component.template);\r\n        }\r\n        var cached = $templateCache.get(component.templateUrl);\r\n        if (cached) {\r\n            return $q.when(cached);\r\n        }\r\n        return $http.get(component.templateUrl).then(function (res) {\r\n            return res.data;\r\n        });\r\n    }\r\n    function relativeTemplateUrlToAbs(templateUrl, baseUrl) {\r\n        if (!templateUrl) {\r\n            return undefined;\r\n        }\r\n        if (templateUrl.indexOf('public') === 0) {\r\n            return templateUrl;\r\n        }\r\n        return baseUrl + '/' + templateUrl;\r\n    }\r\n    function getPluginComponentDirective(options) {\r\n        // handle relative template urls for plugin templates\r\n        options.Component.templateUrl = relativeTemplateUrlToAbs(options.Component.templateUrl, options.baseUrl);\r\n        return function () {\r\n            return {\r\n                templateUrl: options.Component.templateUrl,\r\n                template: options.Component.template,\r\n                restrict: 'E',\r\n                controller: options.Component,\r\n                controllerAs: 'ctrl',\r\n                bindToController: true,\r\n                scope: options.bindings,\r\n                link: function (scope, elem, attrs, ctrl) {\r\n                    if (ctrl.link) {\r\n                        ctrl.link(scope, elem, attrs, ctrl);\r\n                    }\r\n                    if (ctrl.init) {\r\n                        ctrl.init();\r\n                    }\r\n                }\r\n            };\r\n        };\r\n    }\r\n    function loadPanelComponentInfo(scope, attrs) {\r\n        var componentInfo = {\r\n            name: 'panel-plugin-' + scope.panel.type,\r\n            bindings: { dashboard: \"=\", panel: \"=\", row: \"=\" },\r\n            attrs: { dashboard: \"ctrl.dashboard\", panel: \"panel\", row: \"ctrl.row\" },\r\n        };\r\n        var panelInfo = __WEBPACK_IMPORTED_MODULE_2_app_core_config__[\"default\"].panels[scope.panel.type];\r\n        var panelCtrlPromise = Promise.resolve(__WEBPACK_IMPORTED_MODULE_5_app_plugins_panel_unknown_module__[\"a\" /* UnknownPanelCtrl */]);\r\n        if (panelInfo) {\r\n            panelCtrlPromise = Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(panelInfo.module).then(function (panelModule) {\r\n                return panelModule.PanelCtrl;\r\n            });\r\n        }\r\n        return panelCtrlPromise.then(function (PanelCtrl) {\r\n            componentInfo.Component = PanelCtrl;\r\n            if (!PanelCtrl || PanelCtrl.registered) {\r\n                return componentInfo;\r\n            }\r\n            if (PanelCtrl.templatePromise) {\r\n                return PanelCtrl.templatePromise.then(function (res) {\r\n                    return componentInfo;\r\n                });\r\n            }\r\n            if (panelInfo) {\r\n                PanelCtrl.templateUrl = relativeTemplateUrlToAbs(PanelCtrl.templateUrl, panelInfo.baseUrl);\r\n            }\r\n            PanelCtrl.templatePromise = getTemplate(PanelCtrl).then(function (template) {\r\n                PanelCtrl.templateUrl = null;\r\n                PanelCtrl.template = \"<grafana-panel ctrl=\\\"ctrl\\\">\" + template + \"</grafana-panel>\";\r\n                return componentInfo;\r\n            });\r\n            return PanelCtrl.templatePromise;\r\n        });\r\n    }\r\n    function getModule(scope, attrs) {\r\n        switch (attrs.type) {\r\n            // QueryCtrl\r\n            case \"query-ctrl\": {\r\n                var datasource = scope.target.datasource || scope.ctrl.panel.datasource;\r\n                return datasourceSrv.get(datasource).then(function (ds) {\r\n                    scope.datasource = ds;\r\n                    return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(ds.meta.module).then(function (dsModule) {\r\n                        return {\r\n                            baseUrl: ds.meta.baseUrl,\r\n                            name: 'query-ctrl-' + ds.meta.id,\r\n                            bindings: { target: \"=\", panelCtrl: \"=\", datasource: \"=\" },\r\n                            attrs: { \"target\": \"target\", \"panel-ctrl\": \"ctrl.panelCtrl\", datasource: \"datasource\" },\r\n                            Component: dsModule.QueryCtrl\r\n                        };\r\n                    });\r\n                });\r\n            }\r\n            // QueryOptionsCtrl\r\n            case \"query-options-ctrl\": {\r\n                return datasourceSrv.get(scope.ctrl.panel.datasource).then(function (ds) {\r\n                    return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(ds.meta.module).then(function (dsModule) {\r\n                        if (!dsModule.QueryOptionsCtrl) {\r\n                            return { notFound: true };\r\n                        }\r\n                        return {\r\n                            baseUrl: ds.meta.baseUrl,\r\n                            name: 'query-options-ctrl-' + ds.meta.id,\r\n                            bindings: { panelCtrl: \"=\" },\r\n                            attrs: { \"panel-ctrl\": \"ctrl.panelCtrl\" },\r\n                            Component: dsModule.QueryOptionsCtrl\r\n                        };\r\n                    });\r\n                });\r\n            }\r\n            // Annotations\r\n            case \"annotations-query-ctrl\": {\r\n                return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(scope.ctrl.currentDatasource.meta.module).then(function (dsModule) {\r\n                    return {\r\n                        baseUrl: scope.ctrl.currentDatasource.meta.baseUrl,\r\n                        name: 'annotations-query-ctrl-' + scope.ctrl.currentDatasource.meta.id,\r\n                        bindings: { annotation: \"=\", datasource: \"=\" },\r\n                        attrs: { \"annotation\": \"ctrl.currentAnnotation\", datasource: \"ctrl.currentDatasource\" },\r\n                        Component: dsModule.AnnotationsQueryCtrl,\r\n                    };\r\n                });\r\n            }\r\n            // Datasource ConfigCtrl\r\n            case 'datasource-config-ctrl': {\r\n                var dsMeta = scope.ctrl.datasourceMeta;\r\n                return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(dsMeta.module).then(function (dsModule) {\r\n                    if (!dsModule.ConfigCtrl) {\r\n                        return { notFound: true };\r\n                    }\r\n                    return {\r\n                        baseUrl: dsMeta.baseUrl,\r\n                        name: 'ds-config-' + dsMeta.id,\r\n                        bindings: { meta: \"=\", current: \"=\" },\r\n                        attrs: { meta: \"ctrl.datasourceMeta\", current: \"ctrl.current\" },\r\n                        Component: dsModule.ConfigCtrl,\r\n                    };\r\n                });\r\n            }\r\n            // AppConfigCtrl\r\n            case 'app-config-ctrl': {\r\n                var model_1 = scope.ctrl.model;\r\n                return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(model_1.module).then(function (appModule) {\r\n                    return {\r\n                        baseUrl: model_1.baseUrl,\r\n                        name: 'app-config-' + model_1.id,\r\n                        bindings: { appModel: \"=\", appEditCtrl: \"=\" },\r\n                        attrs: { \"app-model\": \"ctrl.model\", \"app-edit-ctrl\": \"ctrl\" },\r\n                        Component: appModule.ConfigCtrl,\r\n                    };\r\n                });\r\n            }\r\n            // App Page\r\n            case 'app-page': {\r\n                var appModel_1 = scope.ctrl.appModel;\r\n                return Object(__WEBPACK_IMPORTED_MODULE_4__plugin_loader__[\"importPluginModule\"])(appModel_1.module).then(function (appModule) {\r\n                    return {\r\n                        baseUrl: appModel_1.baseUrl,\r\n                        name: 'app-page-' + appModel_1.id + '-' + scope.ctrl.page.slug,\r\n                        bindings: { appModel: \"=\" },\r\n                        attrs: { \"app-model\": \"ctrl.appModel\" },\r\n                        Component: appModule[scope.ctrl.page.component],\r\n                    };\r\n                });\r\n            }\r\n            // Panel\r\n            case 'panel': {\r\n                return loadPanelComponentInfo(scope, attrs);\r\n            }\r\n            default: {\r\n                return $q.reject({ message: \"Could not find component type: \" + attrs.type });\r\n            }\r\n        }\r\n    }\r\n    function appendAndCompile(scope, elem, componentInfo) {\r\n        var child = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.element(document.createElement(componentInfo.name));\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.each(componentInfo.attrs, function (value, key) {\r\n            child.attr(key, value);\r\n        });\r\n        $compile(child)(scope);\r\n        elem.empty();\r\n        // let a binding digest cycle complete before adding to dom\r\n        setTimeout(function () {\r\n            elem.append(child);\r\n            scope.$applyAsync(function () {\r\n                scope.$broadcast('refresh');\r\n            });\r\n        });\r\n    }\r\n    function registerPluginComponent(scope, elem, attrs, componentInfo) {\r\n        if (componentInfo.notFound) {\r\n            elem.empty();\r\n            return;\r\n        }\r\n        if (!componentInfo.Component) {\r\n            throw { message: 'Failed to find exported plugin component for ' + componentInfo.name };\r\n        }\r\n        if (!componentInfo.Component.registered) {\r\n            var directiveName = attrs.$normalize(componentInfo.name);\r\n            var directiveFn = getPluginComponentDirective(componentInfo);\r\n            __WEBPACK_IMPORTED_MODULE_3_app_core_core_module__[\"default\"].directive(directiveName, directiveFn);\r\n            componentInfo.Component.registered = true;\r\n        }\r\n        appendAndCompile(scope, elem, componentInfo);\r\n    }\r\n    return {\r\n        restrict: 'E',\r\n        link: function (scope, elem, attrs) {\r\n            getModule(scope, attrs).then(function (componentInfo) {\r\n                registerPluginComponent(scope, elem, attrs, componentInfo);\r\n            }).catch(function (err) {\r\n                $rootScope.appEvent('alert-error', ['Plugin Error', err.message || err]);\r\n                console.log('Plugin component error', err);\r\n            });\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_3_app_core_core_module__[\"default\"].directive('pluginComponent', pluginDirectiveLoader);\r\n\n\n/***/ }),\n\n/***/ 1541:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UnknownPanelCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_features_panel_panel_ctrl__ = __webpack_require__(1313);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar UnknownPanelCtrl = /** @class */ (function (_super) {\r\n    __extends(UnknownPanelCtrl, _super);\r\n    /** @ngInject */\n    UnknownPanelCtrl.$inject = [\"$scope\", \"$injector\"];\r\n    function UnknownPanelCtrl($scope, $injector) {\r\n        return _super.call(this, $scope, $injector) || this;\r\n    }\r\n    UnknownPanelCtrl.templateUrl = 'public/app/plugins/panel/unknown/module.html';\r\n    return UnknownPanelCtrl;\r\n}(__WEBPACK_IMPORTED_MODULE_0_app_features_panel_panel_ctrl__[\"a\" /* PanelCtrl */]));\r\n\r\n\n\n/***/ }),\n\n/***/ 1542:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  var iconMap = {\n    \"external link\": \"fa-external-link\",\n    \"dashboard\": \"fa-th-large\",\n    \"question\": \"fa-question\",\n    \"info\": \"fa-info\",\n    \"bolt\": \"fa-bolt\",\n    \"doc\": \"fa-file-text-o\",\n    \"cloud\": \"fa-cloud\",\n  };\n\n  module.directive('dashLinksEditor', function() {\n    return {\n      restrict: 'E',\n      controller: 'DashLinkEditorCtrl',\n      templateUrl: 'public/app/features/dashlinks/editor.html',\n      link: function() {\n      }\n    };\n  });\n\n  module.directive('dashLinksContainer', function() {\n    return {\n      scope: {\n        links: \"=\"\n      },\n      restrict: 'E',\n      controller: 'DashLinksContainerCtrl',\n      template: '<dash-link ng-repeat=\"link in generatedLinks\" link=\"link\"></dash-link>',\n      link: function() { }\n    };\n  });\n\n  module.directive('dashLink', [\"$compile\", \"linkSrv\", function($compile, linkSrv) {\n    return {\n      restrict: 'E',\n      link: function(scope, elem) {\n        var link = scope.link;\n        var template = '<div class=\"gf-form\">' +\n          '<a class=\"pointer gf-form-label\" data-placement=\"bottom\"' +\n          (link.asDropdown ? ' ng-click=\"fillDropdown(link)\" data-toggle=\"dropdown\"'  : \"\") + '>' +\n          '<i></i> <span></span></a>';\n\n        if (link.asDropdown) {\n          template += '<ul class=\"dropdown-menu\" role=\"menu\">' +\n            '<li ng-repeat=\"dash in link.searchHits\"><a href=\"{{dash.url}}\">{{dash.title}}</a></li>' +\n            '</ul>';\n        }\n\n        template += '</div>';\n\n        elem.html(template);\n        $compile(elem.contents())(scope);\n\n        var anchor = elem.find('a');\n        var icon = elem.find('i');\n        var span = elem.find('span');\n\n        function update() {\n          var linkInfo = linkSrv.getAnchorInfo(link);\n          span.text(linkInfo.title);\n          anchor.attr(\"href\", linkInfo.href);\n        }\n\n        // tooltip\n        elem.find('a').tooltip({ title: scope.link.tooltip, html: true, container: 'body' });\n        icon.attr('class', 'fa fa-fw ' + scope.link.icon);\n        anchor.attr('target', scope.link.target);\n\n        // fix for menus on the far right\n        if (link.asDropdown && scope.$last) {\n          elem.find('.dropdown-menu').addClass('pull-right');\n        }\n\n        update();\n        scope.$on('refresh', update);\n      }\n    };\n  }]);\n\n  module.controller(\"DashLinksContainerCtrl\", [\"$scope\", \"$rootScope\", \"$q\", \"backendSrv\", \"dashboardSrv\", \"linkSrv\", function($scope, $rootScope, $q, backendSrv, dashboardSrv, linkSrv) {\n    var currentDashId = dashboardSrv.getCurrent().id;\n\n    function buildLinks(linkDef) {\n      if (linkDef.type === 'dashboards') {\n        if (!linkDef.tags) {\n          console.log('Dashboard link missing tag');\n          return $q.when([]);\n        }\n\n        if (linkDef.asDropdown) {\n          return $q.when([{\n            title: linkDef.title,\n            tags: linkDef.tags,\n            keepTime: linkDef.keepTime,\n            includeVars: linkDef.includeVars,\n            icon: \"fa fa-bars\",\n            asDropdown: true\n          }]);\n        }\n\n        return $scope.searchDashboards(linkDef, 7);\n      }\n\n      if (linkDef.type === 'link') {\n        return $q.when([{\n          url: linkDef.url,\n          title: linkDef.title,\n          icon: iconMap[linkDef.icon],\n          tooltip: linkDef.tooltip,\n          target: linkDef.targetBlank ? \"_blank\" : \"_self\",\n          keepTime: linkDef.keepTime,\n          includeVars: linkDef.includeVars,\n        }]);\n      }\n\n      return $q.when([]);\n    }\n\n    function updateDashLinks() {\n      var promises = _.map($scope.links, buildLinks);\n\n      $q.all(promises).then(function(results) {\n        $scope.generatedLinks = _.flatten(results);\n      });\n    }\n\n    $scope.searchDashboards = function(link, limit) {\n      return backendSrv.search({tag: link.tags, limit: limit}).then(function(results) {\n        return _.reduce(results, function(memo, dash) {\n          // do not add current dashboard\n          if (dash.id !== currentDashId) {\n            memo.push({\n              title: dash.title,\n              url: 'dashboard/' + dash.uri,\n              icon: 'fa fa-th-large',\n              keepTime: link.keepTime,\n              includeVars: link.includeVars\n            });\n          }\n          return memo;\n        }, []);\n      });\n    };\n\n    $scope.fillDropdown = function(link) {\n      $scope.searchDashboards(link, 100).then(function(results) {\n        _.each(results, function(hit) {\n          hit.url = linkSrv.getLinkUrl(hit);\n        });\n        link.searchHits = results;\n      });\n    };\n\n    updateDashLinks();\n    $rootScope.onAppEvent('dash-links-updated', updateDashLinks, $scope);\n  }]);\n\n  module.controller('DashLinkEditorCtrl', [\"$scope\", \"$rootScope\", function($scope, $rootScope) {\n\n    $scope.iconMap = iconMap;\n    $scope.dashboard.links = $scope.dashboard.links || [];\n\n    $scope.addLink = function() {\n      $scope.dashboard.links.push({ type: 'dashboards', icon: 'external link' });\n      $scope.dashboard.updateSubmenuVisibility();\n      $scope.updated();\n    };\n\n    $scope.moveLink = function(index, dir) {\n      _.move($scope.dashboard.links, index, index+dir);\n      $scope.updated();\n    };\n\n    $scope.updated = function() {\n      $rootScope.appEvent('dash-links-updated');\n    };\n\n    $scope.deleteLink = function(index) {\n      $scope.dashboard.links.splice(index, 1);\n      $scope.dashboard.updateSubmenuVisibility();\n      $scope.updated();\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1543:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(1544),\n  __webpack_require__(1545),\n  __webpack_require__(1546),\n  __webpack_require__(1547),\n  __webpack_require__(1548)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1544:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlaylistsCtrl\", function() { return PlaylistsCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar PlaylistsCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    PlaylistsCtrl.$inject = [\"$scope\", \"backendSrv\", \"navModelSrv\"];\r\n    function PlaylistsCtrl($scope, backendSrv, navModelSrv) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.navModel = navModelSrv.getPlaylistsNav(0);\r\n        backendSrv.get('/api/playlists').then(function (result) {\r\n            _this.playlists = result;\r\n        });\r\n    }\r\n    PlaylistsCtrl.prototype.removePlaylistConfirmed = function (playlist) {\r\n        var _this = this;\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.remove(this.playlists, { id: playlist.id });\r\n        this.backendSrv.delete('/api/playlists/' + playlist.id)\r\n            .then(function () {\r\n            _this.$scope.appEvent('alert-success', ['Playlist deleted', '']);\r\n        }, function () {\r\n            _this.$scope.appEvent('alert-error', ['Unable to delete playlist', '']);\r\n            _this.playlists.push(playlist);\r\n        });\r\n    };\r\n    PlaylistsCtrl.prototype.removePlaylist = function (playlist) {\r\n        var _this = this;\r\n        this.$scope.appEvent('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete playlist ' + playlist.name + '?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-trash\",\r\n            onConfirm: function () {\r\n                _this.removePlaylistConfirmed(playlist);\r\n            }\r\n        });\r\n    };\r\n    return PlaylistsCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1__core_core_module__[\"default\"].controller('PlaylistsCtrl', PlaylistsCtrl);\r\n\n\n/***/ }),\n\n/***/ 1545:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlaylistSearchCtrl\", function() { return PlaylistSearchCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"playlistSearchDirective\"] = playlistSearchDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar PlaylistSearchCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    PlaylistSearchCtrl.$inject = [\"$timeout\", \"backendSrv\"];\r\n    function PlaylistSearchCtrl($timeout, backendSrv) {\r\n        var _this = this;\r\n        this.backendSrv = backendSrv;\r\n        this.query = { query: '', tag: [], starred: false, limit: 30 };\r\n        $timeout(function () {\r\n            _this.query.query = '';\r\n            _this.searchDashboards();\r\n        }, 100);\r\n    }\r\n    PlaylistSearchCtrl.prototype.searchDashboards = function () {\r\n        this.tagsMode = false;\r\n        var prom = {};\r\n        prom.promise = this.backendSrv.search(this.query).then(function (result) {\r\n            return {\r\n                dashboardResult: result,\r\n                tagResult: []\r\n            };\r\n        });\r\n        this.searchStarted(prom);\r\n    };\r\n    PlaylistSearchCtrl.prototype.showStarred = function () {\r\n        this.query.starred = !this.query.starred;\r\n        this.searchDashboards();\r\n    };\r\n    PlaylistSearchCtrl.prototype.queryHasNoFilters = function () {\r\n        return this.query.query === '' && this.query.starred === false && this.query.tag.length === 0;\r\n    };\r\n    PlaylistSearchCtrl.prototype.filterByTag = function (tag, evt) {\r\n        this.query.tag.push(tag);\r\n        this.searchDashboards();\r\n        if (evt) {\r\n            evt.stopPropagation();\r\n            evt.preventDefault();\r\n        }\r\n    };\r\n    PlaylistSearchCtrl.prototype.getTags = function () {\r\n        var prom = {};\r\n        prom.promise = this.backendSrv.get('/api/dashboards/tags').then(function (result) {\r\n            return {\r\n                dashboardResult: [],\r\n                tagResult: result\r\n            };\r\n        });\r\n        this.searchStarted(prom);\r\n    };\r\n    return PlaylistSearchCtrl;\r\n}());\r\n\r\nfunction playlistSearchDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: 'public/app/features/playlist/partials/playlist_search.html',\r\n        controller: PlaylistSearchCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            searchStarted: '&'\r\n        },\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_0__core_core_module__[\"default\"].directive('playlistSearch', playlistSearchDirective);\r\n\n\n/***/ }),\n\n/***/ 1546:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__ = __webpack_require__(464);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__ = __webpack_require__(53);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar PlaylistSrv = /** @class */ (function () {\r\n    /** @ngInject */\n    PlaylistSrv.$inject = [\"$location\", \"$timeout\", \"backendSrv\", \"$routeParams\"];\r\n    function PlaylistSrv($location, $timeout, backendSrv, $routeParams) {\r\n        this.$location = $location;\r\n        this.$timeout = $timeout;\r\n        this.backendSrv = backendSrv;\r\n        this.$routeParams = $routeParams;\r\n    }\r\n    PlaylistSrv.prototype.next = function () {\r\n        var _this = this;\r\n        this.$timeout.cancel(this.cancelPromise);\r\n        var playedAllDashboards = this.index > this.dashboards.length - 1;\r\n        if (playedAllDashboards) {\r\n            window.location.href = this.getUrlWithKioskMode();\r\n            return;\r\n        }\r\n        var dash = this.dashboards[this.index];\r\n        this.$location.url('dashboard/' + dash.uri);\r\n        this.index++;\r\n        this.cancelPromise = this.$timeout(function () { return _this.next(); }, this.interval);\r\n    };\r\n    PlaylistSrv.prototype.getUrlWithKioskMode = function () {\r\n        var inKioskMode = document.body.classList.contains('page-kiosk-mode');\r\n        // check if should add kiosk query param\r\n        if (inKioskMode && this.startUrl.indexOf('kiosk') === -1) {\r\n            return this.startUrl + '?kiosk=true';\r\n        }\r\n        // check if should remove kiosk query param\r\n        if (!inKioskMode) {\r\n            return this.startUrl.split(\"?\")[0];\r\n        }\r\n        // already has kiosk query param, just return startUrl\r\n        return this.startUrl;\r\n    };\r\n    PlaylistSrv.prototype.prev = function () {\r\n        this.index = Math.max(this.index - 2, 0);\r\n        this.next();\r\n    };\r\n    PlaylistSrv.prototype.start = function (playlistId) {\r\n        var _this = this;\r\n        this.stop();\r\n        this.startUrl = window.location.href;\r\n        this.index = 0;\r\n        this.playlistId = playlistId;\r\n        this.isPlaying = true;\r\n        if (this.$routeParams.kiosk) {\r\n            __WEBPACK_IMPORTED_MODULE_2_app_core_app_events__[\"a\" /* default */].emit('toggle-kiosk-mode');\r\n        }\r\n        this.backendSrv.get(\"/api/playlists/\" + playlistId).then(function (playlist) {\r\n            _this.backendSrv.get(\"/api/playlists/\" + playlistId + \"/dashboards\").then(function (dashboards) {\r\n                _this.dashboards = dashboards;\r\n                _this.interval = __WEBPACK_IMPORTED_MODULE_1_app_core_utils_kbn__[\"default\"].interval_to_ms(playlist.interval);\r\n                _this.next();\r\n            });\r\n        });\r\n    };\r\n    PlaylistSrv.prototype.stop = function () {\r\n        this.index = 0;\r\n        this.isPlaying = false;\r\n        this.playlistId = 0;\r\n        if (this.cancelPromise) {\r\n            this.$timeout.cancel(this.cancelPromise);\r\n        }\r\n    };\r\n    return PlaylistSrv;\r\n}());\r\n__WEBPACK_IMPORTED_MODULE_0__core_core_module__[\"default\"].service('playlistSrv', PlaylistSrv);\r\n\n\n/***/ }),\n\n/***/ 1547:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlaylistEditCtrl\", function() { return PlaylistEditCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar PlaylistEditCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    PlaylistEditCtrl.$inject = [\"$scope\", \"backendSrv\", \"$location\", \"$route\", \"navModelSrv\"];\r\n    function PlaylistEditCtrl($scope, backendSrv, $location, $route, navModelSrv) {\r\n        var _this = this;\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.$location = $location;\r\n        this.filteredDashboards = [];\r\n        this.filteredTags = [];\r\n        this.searchQuery = '';\r\n        this.loading = false;\r\n        this.playlist = {\r\n            interval: '5m',\r\n        };\r\n        this.playlistItems = [];\r\n        this.dashboardresult = [];\r\n        this.tagresult = [];\r\n        this.navModel = navModelSrv.getPlaylistsNav(0);\r\n        if ($route.current.params.id) {\r\n            var playlistId = $route.current.params.id;\r\n            backendSrv.get('/api/playlists/' + playlistId).then(function (result) {\r\n                _this.playlist = result;\r\n            });\r\n            backendSrv.get('/api/playlists/' + playlistId + '/items').then(function (result) {\r\n                _this.playlistItems = result;\r\n            });\r\n        }\r\n    }\r\n    PlaylistEditCtrl.prototype.filterFoundPlaylistItems = function () {\r\n        var _this = this;\r\n        this.filteredDashboards = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reject(this.dashboardresult, function (playlistItem) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(_this.playlistItems, function (listPlaylistItem) {\r\n                return parseInt(listPlaylistItem.value) === playlistItem.id;\r\n            });\r\n        });\r\n        this.filteredTags = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.reject(this.tagresult, function (tag) {\r\n            return __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.find(_this.playlistItems, function (listPlaylistItem) {\r\n                return listPlaylistItem.value === tag.term;\r\n            });\r\n        });\r\n    };\r\n    PlaylistEditCtrl.prototype.addPlaylistItem = function (playlistItem) {\r\n        playlistItem.value = playlistItem.id.toString();\r\n        playlistItem.type = 'dashboard_by_id';\r\n        playlistItem.order = this.playlistItems.length + 1;\r\n        this.playlistItems.push(playlistItem);\r\n        this.filterFoundPlaylistItems();\r\n    };\r\n    PlaylistEditCtrl.prototype.addTagPlaylistItem = function (tag) {\r\n        var playlistItem = {\r\n            value: tag.term,\r\n            type: 'dashboard_by_tag',\r\n            order: this.playlistItems.length + 1,\r\n            title: tag.term\r\n        };\r\n        this.playlistItems.push(playlistItem);\r\n        this.filterFoundPlaylistItems();\r\n    };\r\n    PlaylistEditCtrl.prototype.removePlaylistItem = function (playlistItem) {\r\n        __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.remove(this.playlistItems, function (listedPlaylistItem) {\r\n            return playlistItem === listedPlaylistItem;\r\n        });\r\n        this.filterFoundPlaylistItems();\r\n    };\r\n    PlaylistEditCtrl.prototype.savePlaylist = function (playlist, playlistItems) {\r\n        var _this = this;\r\n        var savePromise;\r\n        playlist.items = playlistItems;\r\n        savePromise = playlist.id\r\n            ? this.backendSrv.put('/api/playlists/' + playlist.id, playlist)\r\n            : this.backendSrv.post('/api/playlists', playlist);\r\n        savePromise\r\n            .then(function () {\r\n            _this.$scope.appEvent('alert-success', ['Playlist saved', '']);\r\n            _this.$location.path('/playlists');\r\n        }, function () {\r\n            _this.$scope.appEvent('alert-error', ['Unable to save playlist', '']);\r\n        });\r\n    };\r\n    PlaylistEditCtrl.prototype.isNew = function () {\r\n        return !this.playlist.id;\r\n    };\r\n    PlaylistEditCtrl.prototype.isPlaylistEmpty = function () {\r\n        return !this.playlistItems.length;\r\n    };\r\n    PlaylistEditCtrl.prototype.backToList = function () {\r\n        this.$location.path('/playlists');\r\n    };\r\n    PlaylistEditCtrl.prototype.searchStarted = function (promise) {\r\n        var _this = this;\r\n        promise.then(function (data) {\r\n            _this.dashboardresult = data.dashboardResult;\r\n            _this.tagresult = data.tagResult;\r\n            _this.filterFoundPlaylistItems();\r\n        });\r\n    };\r\n    PlaylistEditCtrl.prototype.movePlaylistItem = function (playlistItem, offset) {\r\n        var currentPosition = this.playlistItems.indexOf(playlistItem);\r\n        var newPosition = currentPosition + offset;\r\n        if (newPosition >= 0 && newPosition < this.playlistItems.length) {\r\n            this.playlistItems.splice(currentPosition, 1);\r\n            this.playlistItems.splice(newPosition, 0, playlistItem);\r\n        }\r\n    };\r\n    PlaylistEditCtrl.prototype.movePlaylistItemUp = function (playlistItem) {\r\n        this.movePlaylistItem(playlistItem, -1);\r\n    };\r\n    PlaylistEditCtrl.prototype.movePlaylistItemDown = function (playlistItem) {\r\n        this.movePlaylistItem(playlistItem, 1);\r\n    };\r\n    return PlaylistEditCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1__core_core_module__[\"default\"].controller('PlaylistEditCtrl', PlaylistEditCtrl);\r\n\n\n/***/ }),\n\n/***/ 1548:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7)\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.routes');\n\n  module.config([\"$routeProvider\", function($routeProvider) {\n    $routeProvider\n      .when('/playlists', {\n        templateUrl: 'public/app/features/playlist/partials/playlists.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistsCtrl'\n      })\n      .when('/playlists/create', {\n        templateUrl: 'public/app/features/playlist/partials/playlist.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistEditCtrl'\n      })\n      .when('/playlists/edit/:id', {\n        templateUrl: 'public/app/features/playlist/partials/playlist.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistEditCtrl'\n      })\n      .when('/playlists/play/:id', {\n        templateUrl: 'public/app/features/playlist/partials/playlists.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistsCtrl',\n        resolve: {\n          init: [\"playlistSrv\", \"$route\", function(playlistSrv, $route) {\n            var playlistId = $route.current.params.id;\n            playlistSrv.start(playlistId);\n          }]\n        }\n      });\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1549:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__snapshot_ctrl__ = __webpack_require__(1550);\n\r\n\n\n/***/ }),\n\n/***/ 1550:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export SnapshotsCtrl */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar SnapshotsCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    SnapshotsCtrl.$inject = [\"$rootScope\", \"backendSrv\"];\r\n    function SnapshotsCtrl($rootScope, backendSrv) {\r\n        var _this = this;\r\n        this.$rootScope = $rootScope;\r\n        this.backendSrv = backendSrv;\r\n        this.navModel = {\r\n            section: {\r\n                title: 'Snapshots',\r\n                icon: 'icon-gf icon-gf-snapshot',\r\n                url: 'dashboard/snapshots',\r\n            },\r\n            menu: [],\r\n        };\r\n        this.backendSrv.get('/api/dashboard/snapshots').then(function (result) {\r\n            _this.snapshots = result;\r\n        });\r\n    }\r\n    SnapshotsCtrl.prototype.removeSnapshotConfirmed = function (snapshot) {\r\n        var _this = this;\r\n        __WEBPACK_IMPORTED_MODULE_1_lodash___default.a.remove(this.snapshots, { key: snapshot.key });\r\n        this.backendSrv.get('/api/snapshots-delete/' + snapshot.deleteKey)\r\n            .then(function () {\r\n            _this.$rootScope.appEvent('alert-success', ['Snapshot deleted', '']);\r\n        }, function () {\r\n            _this.$rootScope.appEvent('alert-error', ['Unable to delete snapshot', '']);\r\n            _this.snapshots.push(snapshot);\r\n        });\r\n    };\r\n    SnapshotsCtrl.prototype.removeSnapshot = function (snapshot) {\r\n        var _this = this;\r\n        this.$rootScope.appEvent('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete snapshot ' + snapshot.name + '?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-trash\",\r\n            onConfirm: function () {\r\n                _this.removeSnapshotConfirmed(snapshot);\r\n            }\r\n        });\r\n    };\r\n    return SnapshotsCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.controllers').controller('SnapshotsCtrl', SnapshotsCtrl);\r\n\n\n/***/ }),\n\n/***/ 1551:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(1552),\n  __webpack_require__(1553),\n  __webpack_require__(1554),\n  __webpack_require__(1327),\n  __webpack_require__(1555),\n  __webpack_require__(1556),\n  __webpack_require__(1557),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1552:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(13),\n  __webpack_require__(7),\n  __webpack_require__(204),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, $, _, Tether) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('panelMenu', [\"$compile\", function($compile) {\n      var linkTemplate =\n          '<span class=\"panel-title drag-handle pointer\">' +\n            '<span class=\"icon-gf panel-alert-icon\"></span>' +\n            '<span class=\"panel-title-text drag-handle\">{{ctrl.panel.title | interpolateTemplateVars:this}}</span>' +\n            '<span class=\"panel-time-info\" ng-show=\"ctrl.timeInfo\"><i class=\"fa fa-clock-o\"></i> {{ctrl.timeInfo}}</span>' +\n          '</span>';\n\n      function createMenuTemplate(ctrl) {\n        var template = '<div class=\"panel-menu small\">';\n\n        if (ctrl.dashboard.meta.canEdit) {\n          template += '<div class=\"panel-menu-inner\">';\n          template += '<div class=\"panel-menu-row\">';\n          if (!ctrl.dashboard.meta.fullscreen) {\n            template += '<a class=\"panel-menu-icon pull-left\" ng-click=\"ctrl.updateColumnSpan(-1)\"><i class=\"fa fa-minus\"></i></a>';\n            template += '<a class=\"panel-menu-icon pull-left\" ng-click=\"ctrl.updateColumnSpan(1)\"><i class=\"fa fa-plus\"></i></a>';\n          }\n          template += '<a class=\"panel-menu-icon pull-right\" ng-click=\"ctrl.removePanel()\"><i class=\"fa fa-trash\"></i></a>';\n          template += '<div class=\"clearfix\"></div>';\n          template += '</div>';\n        }\n\n        template += '<div class=\"panel-menu-row\">';\n        template += '<a class=\"panel-menu-link\" gf-dropdown=\"extendedMenu\"><i class=\"fa fa-bars\"></i></a>';\n\n        _.each(ctrl.getMenu(), function(item) {\n          // skip edit actions if not editor\n          if (item.role === 'Editor' && !ctrl.dashboard.meta.canEdit) {\n            return;\n          }\n\n          template += '<a class=\"panel-menu-link\" ';\n          if (item.click) { template += ' ng-click=\"' + item.click + '\"'; }\n          if (item.href) { template += ' href=\"' + item.href + '\"'; }\n          template += '>';\n          template += item.text + '</a>';\n        });\n\n        template += '</div>';\n        template += '</div>';\n        template += '</div>';\n        return template;\n      }\n\n      function getExtendedMenu(ctrl) {\n        return ctrl.getExtendedMenu();\n      }\n\n      return {\n        restrict: 'A',\n        link: function($scope, elem) {\n          var $link = $(linkTemplate);\n          var $panelContainer = elem.parents(\".panel-container\");\n          var menuScope = null;\n          var ctrl = $scope.ctrl;\n          var timeout = null;\n          var $menu = null;\n          var teather;\n\n          elem.append($link);\n\n          function dismiss(time, force) {\n            clearTimeout(timeout);\n            timeout = null;\n\n            if (time) {\n              timeout = setTimeout(dismiss, time);\n              return;\n            }\n\n            // if hovering or draging pospone close\n            if (force !== true) {\n              if ($menu.is(':hover') || $scope.ctrl.dashboard.$$panelDragging) {\n                dismiss(2200);\n                return;\n              }\n            }\n\n            if (menuScope) {\n              teather.destroy();\n              $menu.unbind();\n              $menu.remove();\n              menuScope.$destroy();\n              menuScope = null;\n              $menu = null;\n              $panelContainer.removeClass('panel-highlight');\n            }\n          }\n\n          var showMenu = function(e) {\n            // if menu item is clicked and menu was just removed from dom ignore this event\n            if (!$.contains(document, e.target)) {\n              return;\n            }\n\n            if ($menu) {\n              dismiss();\n              return;\n            }\n\n            var menuTemplate;\n            menuTemplate = createMenuTemplate(ctrl);\n\n            $menu = $(menuTemplate);\n            $menu.mouseleave(function() {\n              dismiss(1000);\n            });\n\n            menuScope = $scope.$new();\n            menuScope.extendedMenu = getExtendedMenu(ctrl);\n            menuScope.dismiss = function() {\n              dismiss(null, true);\n            };\n\n            $(\".panel-container\").removeClass('panel-highlight');\n            $panelContainer.toggleClass('panel-highlight');\n\n            $('.panel-menu').remove();\n\n            elem.append($menu);\n\n            $scope.$apply(function() {\n              $compile($menu.contents())(menuScope);\n\n              teather = new Tether({\n                element: $menu,\n                target: $panelContainer,\n                attachment: 'bottom center',\n                targetAttachment: 'top center',\n                constraints: [\n                  {\n                    to: 'window',\n                    attachment: 'together',\n                    pin: true\n                  }\n                ]\n              });\n            });\n\n            dismiss(2200);\n          };\n\n          elem.click(showMenu);\n          $compile(elem.contents())($scope);\n        }\n      };\n    }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1553:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_tether_drop__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_tether_drop___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_tether_drop__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar module = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives');\r\nvar panelTemplate = \"\\n  <div class=\\\"panel-container\\\">\\n    <div class=\\\"panel-header\\\">\\n      <span class=\\\"panel-info-corner\\\">\\n        <i class=\\\"fa\\\"></i>\\n        <span class=\\\"panel-info-corner-inner\\\"></span>\\n      </span>\\n\\n      <span class=\\\"panel-loading\\\" ng-show=\\\"ctrl.loading\\\">\\n        <i class=\\\"fa fa-spinner fa-spin\\\"></i>\\n      </span>\\n\\n      <div class=\\\"panel-title-container drag-handle\\\" panel-menu></div>\\n    </div>\\n\\n    <div class=\\\"panel-content\\\">\\n      <ng-transclude></ng-transclude>\\n    </div>\\n    <panel-resizer></panel-resizer>\\n  </div>\\n\\n  <div class=\\\"panel-full-edit\\\" ng-if=\\\"ctrl.editMode\\\">\\n    <div class=\\\"tabbed-view tabbed-view--panel-edit\\\">\\n      <div class=\\\"tabbed-view-header\\\">\\n        <h2 class=\\\"tabbed-view-title\\\">\\n          {{ctrl.pluginName}}\\n        </h2>\\n\\n        <ul class=\\\"gf-tabs\\\">\\n          <li class=\\\"gf-tabs-item\\\" ng-repeat=\\\"tab in ::ctrl.editorTabs\\\">\\n            <a class=\\\"gf-tabs-link\\\" ng-click=\\\"ctrl.changeTab($index)\\\" ng-class=\\\"{active: ctrl.editorTabIndex === $index}\\\">\\n              {{::tab.title}}\\n            </a>\\n          </li>\\n        </ul>\\n\\n        <button class=\\\"tabbed-view-close-btn\\\" ng-click=\\\"ctrl.exitFullscreen();\\\">\\n          <i class=\\\"fa fa-remove\\\"></i>\\n        </button>\\n      </div>\\n\\n      <div class=\\\"tabbed-view-body\\\">\\n        <div ng-repeat=\\\"tab in ctrl.editorTabs\\\" ng-if=\\\"ctrl.editorTabIndex === $index\\\">\\n          <panel-editor-tab editor-tab=\\\"tab\\\" ctrl=\\\"ctrl\\\" index=\\\"$index\\\"></panel-editor-tab>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\";\r\nmodule.directive('grafanaPanel', [\"$rootScope\", \"$document\", function ($rootScope, $document) {\r\n    return {\r\n        restrict: 'E',\r\n        template: panelTemplate,\r\n        transclude: true,\r\n        scope: { ctrl: \"=\" },\r\n        link: function (scope, elem) {\r\n            var panelContainer = elem.find('.panel-container');\r\n            var cornerInfoElem = elem.find('.panel-info-corner');\r\n            var ctrl = scope.ctrl;\r\n            var infoDrop;\r\n            // the reason for handling these classes this way is for performance\r\n            // limit the watchers on panels etc\r\n            var transparentLastState = false;\r\n            var lastHasAlertRule = false;\r\n            var lastAlertState;\r\n            var hasAlertRule;\r\n            var lastHeight = 0;\r\n            function mouseEnter() {\r\n                panelContainer.toggleClass('panel-hover-highlight', true);\r\n                ctrl.dashboard.setPanelFocus(ctrl.panel.id);\r\n            }\r\n            function mouseLeave() {\r\n                panelContainer.toggleClass('panel-hover-highlight', false);\r\n                ctrl.dashboard.setPanelFocus(0);\r\n            }\r\n            // set initial height\r\n            if (!ctrl.containerHeight) {\r\n                ctrl.calculatePanelHeight();\r\n                panelContainer.css({ minHeight: ctrl.containerHeight });\r\n                lastHeight = ctrl.containerHeight;\r\n            }\r\n            // set initial transparency\r\n            if (ctrl.panel.transparent) {\r\n                transparentLastState = true;\r\n                panelContainer.addClass('panel-transparent', true);\r\n            }\r\n            ctrl.events.on('render', function () {\r\n                if (lastHeight !== ctrl.containerHeight) {\r\n                    panelContainer.css({ minHeight: ctrl.containerHeight });\r\n                    lastHeight = ctrl.containerHeight;\r\n                }\r\n                if (transparentLastState !== ctrl.panel.transparent) {\r\n                    panelContainer.toggleClass('panel-transparent', ctrl.panel.transparent === true);\r\n                    transparentLastState = ctrl.panel.transparent;\r\n                }\r\n                hasAlertRule = ctrl.panel.alert !== undefined;\r\n                if (lastHasAlertRule !== hasAlertRule) {\r\n                    panelContainer.toggleClass('panel-has-alert', hasAlertRule);\r\n                    lastHasAlertRule = hasAlertRule;\r\n                }\r\n                if (ctrl.alertState) {\r\n                    if (lastAlertState) {\r\n                        panelContainer.removeClass('panel-alert-state--' + lastAlertState);\r\n                    }\r\n                    if (ctrl.alertState.state === 'ok' || ctrl.alertState.state === 'alerting') {\r\n                        panelContainer.addClass('panel-alert-state--' + ctrl.alertState.state);\r\n                    }\r\n                    lastAlertState = ctrl.alertState.state;\r\n                }\r\n                else if (lastAlertState) {\r\n                    panelContainer.removeClass('panel-alert-state--' + lastAlertState);\r\n                    lastAlertState = null;\r\n                }\r\n            });\r\n            var lastFullscreen;\r\n            $rootScope.onAppEvent('panel-change-view', function (evt, payload) {\r\n                if (lastFullscreen !== ctrl.fullscreen) {\r\n                    elem.toggleClass('panel-fullscreen', ctrl.fullscreen ? true : false);\r\n                    lastFullscreen = ctrl.fullscreen;\r\n                }\r\n            }, scope);\r\n            function updatePanelCornerInfo() {\r\n                var cornerMode = ctrl.getInfoMode();\r\n                cornerInfoElem[0].className = 'panel-info-corner panel-info-corner--' + cornerMode;\r\n                if (cornerMode) {\r\n                    if (infoDrop) {\r\n                        infoDrop.destroy();\r\n                    }\r\n                    infoDrop = new __WEBPACK_IMPORTED_MODULE_2_tether_drop___default.a({\r\n                        target: cornerInfoElem[0],\r\n                        content: function () {\r\n                            return ctrl.getInfoContent({ mode: 'tooltip' });\r\n                        },\r\n                        classes: ctrl.error ? 'drop-error' : 'drop-help',\r\n                        openOn: 'hover',\r\n                        hoverOpenDelay: 100,\r\n                        tetherOptions: {\r\n                            attachment: 'bottom left',\r\n                            targetAttachment: 'top left',\r\n                            constraints: [\r\n                                {\r\n                                    to: 'window',\r\n                                    attachment: 'together',\r\n                                    pin: true\r\n                                }\r\n                            ],\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            scope.$watchGroup(['ctrl.error', 'ctrl.panel.description'], updatePanelCornerInfo);\r\n            scope.$watchCollection('ctrl.panel.links', updatePanelCornerInfo);\r\n            cornerInfoElem.on('click', function () {\r\n                infoDrop.close();\r\n                scope.$apply(ctrl.openInspector.bind(ctrl));\r\n            });\r\n            elem.on('mouseenter', mouseEnter);\r\n            elem.on('mouseleave', mouseLeave);\r\n            scope.$on('$destroy', function () {\r\n                elem.off();\r\n                cornerInfoElem.off();\r\n                if (infoDrop) {\r\n                    infoDrop.destroy();\r\n                }\r\n            });\r\n        }\r\n    };\r\n}]);\r\nmodule.directive('panelResizer', [\"$rootScope\", function ($rootScope) {\r\n    return {\r\n        restrict: 'E',\r\n        template: '<span class=\"resize-panel-handle icon-gf icon-gf-grabber\"></span>',\r\n        link: function (scope, elem) {\r\n            var resizing = false;\r\n            var lastPanel;\r\n            var ctrl = scope.ctrl;\r\n            var handleOffset;\r\n            var originalHeight;\r\n            var originalWidth;\r\n            var maxWidth;\r\n            function dragStartHandler(e) {\r\n                e.preventDefault();\r\n                resizing = true;\r\n                handleOffset = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(e.target).offset();\r\n                originalHeight = parseInt(ctrl.row.height);\r\n                originalWidth = ctrl.panel.span;\r\n                maxWidth = __WEBPACK_IMPORTED_MODULE_1_jquery___default()(document).width();\r\n                lastPanel = ctrl.row.panels[ctrl.row.panels.length - 1];\r\n                __WEBPACK_IMPORTED_MODULE_1_jquery___default()('body').on('mousemove', moveHandler);\r\n                __WEBPACK_IMPORTED_MODULE_1_jquery___default()('body').on('mouseup', dragEndHandler);\r\n            }\r\n            function moveHandler(e) {\r\n                ctrl.row.height = Math.round(originalHeight + (e.pageY - handleOffset.top));\r\n                ctrl.panel.span = originalWidth + (((e.pageX - handleOffset.left) / maxWidth) * 12);\r\n                ctrl.panel.span = Math.min(Math.max(ctrl.panel.span, 1), 12);\r\n                ctrl.row.updateRowSpan();\r\n                var rowSpan = ctrl.row.span;\r\n                // auto adjust other panels\r\n                if (Math.floor(rowSpan) < 14) {\r\n                    // last panel should not push row down\r\n                    if (lastPanel === ctrl.panel && rowSpan > 12) {\r\n                        lastPanel.span -= rowSpan - 12;\r\n                    }\r\n                    else if (lastPanel !== ctrl.panel) {\r\n                        // reduce width of last panel so total in row is 12\r\n                        lastPanel.span = lastPanel.span - (rowSpan - 12);\r\n                        lastPanel.span = Math.min(Math.max(lastPanel.span, 1), 12);\r\n                    }\r\n                }\r\n                ctrl.row.panelSpanChanged(true);\r\n                scope.$apply(function () {\r\n                    ctrl.render();\r\n                });\r\n            }\r\n            function dragEndHandler() {\r\n                ctrl.panel.span = Math.round(ctrl.panel.span);\r\n                if (lastPanel) {\r\n                    lastPanel.span = Math.round(lastPanel.span);\r\n                }\r\n                // first digest to propagate panel width change\r\n                // then render\r\n                $rootScope.$apply(function () {\r\n                    ctrl.row.panelSpanChanged();\r\n                    setTimeout(function () {\r\n                        $rootScope.$broadcast('render');\r\n                    });\r\n                });\r\n                __WEBPACK_IMPORTED_MODULE_1_jquery___default()('body').off('mousemove', moveHandler);\r\n                __WEBPACK_IMPORTED_MODULE_1_jquery___default()('body').off('mouseup', dragEndHandler);\r\n            }\r\n            elem.on('mousedown', dragStartHandler);\r\n            var unbind = scope.$on(\"$destroy\", function () {\r\n                elem.off('mousedown', dragStartHandler);\r\n                unbind();\r\n            });\r\n        }\r\n    };\r\n}]);\r\nmodule.directive('panelHelpCorner', [\"$rootScope\", function ($rootScope) {\r\n    return {\r\n        restrict: 'E',\r\n        template: \"\\n      <span class=\\\"alert-error panel-error small pointer\\\" ng-if=\\\"ctrl.error\\\" ng-click=\\\"ctrl.openInspector()\\\">\\n        <span data-placement=\\\"top\\\" bs-tooltip=\\\"ctrl.error\\\">\\n          <i class=\\\"fa fa-exclamation\\\"></i><span class=\\\"panel-error-arrow\\\"></span>\\n        </span>\\n      </span>\\n    \",\r\n        link: function (scope, elem) {\r\n        }\r\n    };\r\n}]);\r\n\n\n/***/ }),\n\n/***/ 1554:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(13),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, $) {\n  \"use strict\";\n\n  var module = angular.module('grafana.routes');\n\n  module.controller('SoloPanelCtrl', [\"$scope\", \"$routeParams\", \"$location\", \"dashboardLoaderSrv\", \"contextSrv\", function($scope, $routeParams, $location, dashboardLoaderSrv, contextSrv) {\n\n    var panelId;\n\n    $scope.init = function() {\n      contextSrv.sidemenu = false;\n\n      var params = $location.search();\n      panelId = parseInt(params.panelId);\n\n      $scope.onAppEvent(\"dashboard-initialized\", $scope.initPanelScope);\n\n      dashboardLoaderSrv.loadDashboard($routeParams.type, $routeParams.slug).then(function(result) {\n        result.meta.soloMode = true;\n        $scope.initDashboard(result, $scope);\n      });\n    };\n\n    $scope.initPanelScope = function() {\n      var panelInfo = $scope.dashboard.getPanelInfoById(panelId);\n\n      // fake row ctrl scope\n      $scope.ctrl = {\n        row: panelInfo.row,\n        dashboard: $scope.dashboard,\n      };\n\n      $scope.ctrl.row.height = $(window).height();\n      $scope.panel = panelInfo.panel;\n      $scope.$index = 0;\n\n      if (!$scope.panel) {\n        $scope.appEvent('alert-error', ['Panel not found', '']);\n        return;\n      }\n\n      $scope.panel.span = 12;\n    };\n\n    $scope.init();\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1555:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\npanelEditorTab.$inject = [\"dynamicDirectiveSrv\"];\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar directiveModule = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives');\r\n/** @ngInject */\r\nfunction panelEditorTab(dynamicDirectiveSrv) {\r\n    return dynamicDirectiveSrv.create({\r\n        scope: {\r\n            ctrl: \"=\",\r\n            editorTab: \"=\",\r\n            index: \"=\",\r\n        },\r\n        directive: function (scope) {\r\n            var pluginId = scope.ctrl.pluginId;\r\n            var tabIndex = scope.index;\r\n            // create a wrapper for directiveFn\r\n            // required for metrics tab directive\r\n            // that is the same for many panels but\r\n            // given different names in this function\r\n            var fn = function () { return scope.editorTab.directiveFn(); };\r\n            return Promise.resolve({\r\n                name: \"panel-editor-tab-\" + pluginId + tabIndex,\r\n                fn: fn,\r\n            });\r\n        }\r\n    });\r\n}\r\ndirectiveModule.directive('panelEditorTab', panelEditorTab);\r\n\n\n/***/ }),\n\n/***/ 1556:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryRowCtrl\", function() { return QueryRowCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\nvar module = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.module('grafana.directives');\r\nvar QueryRowCtrl = /** @class */ (function () {\r\n    function QueryRowCtrl() {\r\n        this.panelCtrl = this.queryCtrl.panelCtrl;\r\n        this.target = this.queryCtrl.target;\r\n        this.panel = this.panelCtrl.panel;\r\n        if (!this.target.refId) {\r\n            this.target.refId = this.panelCtrl.dashboard.getNextQueryLetter(this.panel);\r\n        }\r\n        this.toggleCollapse(true);\r\n        if (this.target.isNew) {\r\n            delete this.target.isNew;\r\n            this.toggleCollapse(false);\r\n        }\r\n        if (this.panel.targets.length < 4) {\r\n            this.collapsed = false;\r\n        }\r\n    }\r\n    QueryRowCtrl.prototype.toggleHideQuery = function () {\r\n        this.target.hide = !this.target.hide;\r\n        this.panelCtrl.refresh();\r\n    };\r\n    QueryRowCtrl.prototype.toggleCollapse = function (init) {\r\n        if (!this.canCollapse) {\r\n            return;\r\n        }\r\n        if (!this.panelCtrl.__collapsedQueryCache) {\r\n            this.panelCtrl.__collapsedQueryCache = {};\r\n        }\r\n        if (init) {\r\n            this.collapsed = this.panelCtrl.__collapsedQueryCache[this.target.refId] !== false;\r\n        }\r\n        else {\r\n            this.collapsed = !this.collapsed;\r\n            this.panelCtrl.__collapsedQueryCache[this.target.refId] = this.collapsed;\r\n        }\r\n        try {\r\n            this.collapsedText = this.queryCtrl.getCollapsedText();\r\n        }\r\n        catch (e) {\r\n            var err = e.message || e.toString();\r\n            this.collapsedText = 'Error: ' + err;\r\n        }\r\n    };\r\n    QueryRowCtrl.prototype.toggleEditorMode = function () {\r\n        if (this.canCollapse && this.collapsed) {\r\n            this.collapsed = false;\r\n        }\r\n        this.queryCtrl.toggleEditorMode();\r\n    };\r\n    QueryRowCtrl.prototype.removeQuery = function () {\r\n        if (this.panelCtrl.__collapsedQueryCache) {\r\n            delete this.panelCtrl.__collapsedQueryCache[this.target.refId];\r\n        }\r\n        this.panelCtrl.removeQuery(this.target);\r\n    };\r\n    QueryRowCtrl.prototype.duplicateQuery = function () {\r\n        var clone = __WEBPACK_IMPORTED_MODULE_0_angular___default.a.copy(this.target);\r\n        this.panelCtrl.addQuery(clone);\r\n    };\r\n    QueryRowCtrl.prototype.moveQuery = function (direction) {\r\n        this.panelCtrl.moveQuery(this.target, direction);\r\n    };\r\n    return QueryRowCtrl;\r\n}());\r\n\r\n/** @ngInject **/\r\nfunction queryEditorRowDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        controller: QueryRowCtrl,\r\n        bindToController: true,\r\n        controllerAs: \"ctrl\",\r\n        templateUrl: 'public/app/features/panel/partials/query_editor_row.html',\r\n        transclude: true,\r\n        scope: {\r\n            queryCtrl: \"=\",\r\n            canCollapse: \"=\",\r\n            hasTextEditMode: \"=\",\r\n        },\r\n    };\r\n}\r\nmodule.directive('queryEditorRow', queryEditorRowDirective);\r\n\n\n/***/ }),\n\n/***/ 1557:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QueryTroubleshooterCtrl\", function() { return QueryTroubleshooterCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"queryTroubleshooter\"] = queryTroubleshooter;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_core_core__ = __webpack_require__(465);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar template = \"\\n<div class=\\\"query-troubleshooter\\\" ng-if=\\\"ctrl.isOpen\\\">\\n  <div class=\\\"query-troubleshooter__header\\\">\\n    <a class=\\\"pointer\\\" ng-click=\\\"ctrl.toggleMocking()\\\">Mock Response</a>\\n    <a class=\\\"pointer\\\" ng-click=\\\"ctrl.toggleExpand()\\\" ng-hide=\\\"ctrl.allNodesExpanded\\\">\\n      <i class=\\\"fa fa-plus-square-o\\\"></i> Expand All\\n    </a>\\n    <a class=\\\"pointer\\\" ng-click=\\\"ctrl.toggleExpand()\\\" ng-show=\\\"ctrl.allNodesExpanded\\\">\\n      <i class=\\\"fa fa-minus-square-o\\\"></i> Collapse All\\n    </a>\\n    <a class=\\\"pointer\\\" clipboard-button=\\\"ctrl.getClipboardText()\\\"><i class=\\\"fa fa-clipboard\\\"></i> Copy to Clipboard</a>\\n  </div>\\n  <div class=\\\"query-troubleshooter__body\\\" ng-hide=\\\"ctrl.isMocking\\\">\\n    <i class=\\\"fa fa-spinner fa-spin\\\" ng-show=\\\"ctrl.isLoading\\\"></i>\\n    <div class=\\\"query-troubleshooter-json\\\"></div>\\n  </div>\\n  <div class=\\\"query-troubleshooter__body\\\" ng-show=\\\"ctrl.isMocking\\\">\\n    <div class=\\\"gf-form p-l-1 gf-form--v-stretch\\\">\\n\\t\\t\\t<textarea class=\\\"gf-form-input\\\" style=\\\"width: 95%\\\" rows=\\\"10\\\" ng-model=\\\"ctrl.mockedResponse\\\"  placeholder=\\\"JSON\\\"></textarea>\\n    </div>\\n  </div>\\n</div>\\n\";\r\nvar QueryTroubleshooterCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    QueryTroubleshooterCtrl.$inject = [\"$scope\", \"$timeout\"];\r\n    function QueryTroubleshooterCtrl($scope, $timeout) {\r\n        this.$timeout = $timeout;\r\n        this.onRequestErrorEventListener = this.onRequestError.bind(this);\r\n        this.onRequestResponseEventListener = this.onRequestResponse.bind(this);\r\n        __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__[\"a\" /* default */].on('ds-request-response', this.onRequestResponseEventListener);\r\n        __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__[\"a\" /* default */].on('ds-request-error', this.onRequestErrorEventListener);\r\n        $scope.$on('$destroy', this.removeEventsListeners.bind(this));\r\n        $scope.$watch('ctrl.isOpen', this.stateChanged.bind(this));\r\n    }\r\n    QueryTroubleshooterCtrl.prototype.removeEventsListeners = function () {\r\n        __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__[\"a\" /* default */].off('ds-request-response', this.onRequestResponseEventListener);\r\n        __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__[\"a\" /* default */].off('ds-request-error', this.onRequestErrorEventListener);\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.toggleMocking = function () {\r\n        this.isMocking = !this.isMocking;\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.onRequestError = function (err) {\r\n        // ignore if closed\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n        this.isOpen = true;\r\n        this.hasError = true;\r\n        this.onRequestResponse(err);\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.stateChanged = function () {\r\n        if (this.isOpen) {\r\n            this.panelCtrl.refresh();\r\n            this.isLoading = true;\r\n        }\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.getClipboardText = function () {\r\n        if (this.jsonExplorer) {\r\n            return JSON.stringify(this.jsonExplorer.json, null, 2);\r\n        }\r\n        return '';\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.handleMocking = function (data) {\r\n        var mockedData;\r\n        try {\r\n            mockedData = JSON.parse(this.mockedResponse);\r\n        }\r\n        catch (err) {\r\n            __WEBPACK_IMPORTED_MODULE_1_app_core_app_events__[\"a\" /* default */].emit('alert-error', ['Failed to parse mocked response']);\r\n            return;\r\n        }\r\n        data.data = mockedData;\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.onRequestResponse = function (data) {\r\n        // ignore if closed\r\n        if (!this.isOpen) {\r\n            return;\r\n        }\r\n        if (this.isMocking) {\r\n            this.handleMocking(data);\r\n            return;\r\n        }\r\n        this.isLoading = false;\r\n        data = __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.cloneDeep(data);\r\n        if (data.headers) {\r\n            delete data.headers;\r\n        }\r\n        if (data.config) {\r\n            data.request = data.config;\r\n            delete data.config;\r\n            delete data.request.transformRequest;\r\n            delete data.request.transformResponse;\r\n            delete data.request.paramSerializer;\r\n            delete data.request.jsonpCallbackParam;\r\n            delete data.request.headers;\r\n            delete data.request.requestId;\r\n            delete data.request.inspect;\r\n            delete data.request.retry;\r\n            delete data.request.timeout;\r\n        }\r\n        if (data.data) {\r\n            data.response = data.data;\r\n            if (data.status === 200) {\r\n                // if we are in error state, assume we automatically opened\r\n                // and auto close it again\r\n                if (this.hasError) {\r\n                    this.hasError = false;\r\n                    this.isOpen = false;\r\n                }\r\n            }\r\n            delete data.data;\r\n            delete data.status;\r\n            delete data.statusText;\r\n            delete data.$$config;\r\n        }\r\n        this.$timeout(__WEBPACK_IMPORTED_MODULE_0_lodash___default.a.partial(this.renderJsonExplorer, data));\r\n    };\r\n    QueryTroubleshooterCtrl.prototype.toggleExpand = function (depth) {\r\n        if (this.jsonExplorer) {\r\n            this.allNodesExpanded = !this.allNodesExpanded;\r\n            this.jsonExplorer.openAtDepth(this.allNodesExpanded ? 20 : 1);\r\n        }\r\n    };\r\n    return QueryTroubleshooterCtrl;\r\n}());\r\n\r\nfunction queryTroubleshooter() {\r\n    return {\r\n        restrict: 'E',\r\n        template: template,\r\n        controller: QueryTroubleshooterCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        scope: {\r\n            panelCtrl: \"=\",\r\n            isOpen: \"=\",\r\n        },\r\n        link: function (scope, elem, attrs, ctrl) {\r\n            ctrl.renderJsonExplorer = function (data) {\r\n                var jsonElem = elem.find('.query-troubleshooter-json');\r\n                ctrl.jsonExplorer = new __WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"JsonExplorer\"](data, 3, {\r\n                    animateOpen: true,\r\n                });\r\n                var html = ctrl.jsonExplorer.render(true);\r\n                jsonElem.html(html);\r\n            };\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_2_app_core_core__[\"coreModule\"].directive('queryTroubleshooter', queryTroubleshooter);\r\n\n\n/***/ }),\n\n/***/ 1558:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n\r\n\r\n\r\nvar StyleGuideCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    StyleGuideCtrl.$inject = [\"$http\", \"$routeParams\", \"backendSrv\", \"navModelSrv\"];\r\n    function StyleGuideCtrl($http, $routeParams, backendSrv, navModelSrv) {\r\n        this.$http = $http;\r\n        this.$routeParams = $routeParams;\r\n        this.backendSrv = backendSrv;\r\n        this.colors = [];\r\n        this.buttonNames = ['primary', 'secondary', 'inverse', 'success', 'warning', 'danger'];\r\n        this.buttonSizes = ['btn-small', '', 'btn-large'];\r\n        this.buttonVariants = ['-', '-outline-'];\r\n        this.icons = [];\r\n        this.pages = ['colors', 'buttons', 'icons', 'plugins'];\r\n        this.navModel = navModelSrv.getAdminNav();\r\n        this.theme = __WEBPACK_IMPORTED_MODULE_1_app_core_config__[\"default\"].bootData.user.lightTheme ? 'light' : 'dark';\r\n        this.page = {};\r\n        if ($routeParams.page) {\r\n            this.page[$routeParams.page] = 1;\r\n        }\r\n        else {\r\n            this.page.colors = true;\r\n        }\r\n        if (this.page.colors) {\r\n            this.loadColors();\r\n        }\r\n        if (this.page.icons) {\r\n            this.loadIcons();\r\n        }\r\n    }\r\n    StyleGuideCtrl.prototype.loadColors = function () {\r\n        var _this = this;\r\n        this.$http.get('public/build/styleguide.json').then(function (res) {\r\n            _this.colors = __WEBPACK_IMPORTED_MODULE_2_lodash___default.a.map(res.data[_this.theme], function (value, key) {\r\n                return { name: key, value: value };\r\n            });\r\n        });\r\n    };\r\n    StyleGuideCtrl.prototype.loadIcons = function () {\r\n        var _this = this;\r\n        this.$http.get('public/sass/icons.json').then(function (res) {\r\n            _this.icons = res.data;\r\n        });\r\n    };\r\n    StyleGuideCtrl.prototype.switchTheme = function () {\r\n        this.$routeParams.theme = this.theme === 'dark' ? 'light' : 'dark';\r\n        var cmd = {\r\n            theme: this.$routeParams.theme\r\n        };\r\n        this.backendSrv.put('/api/user/preferences', cmd).then(function () {\r\n            window.location.href = window.location.href;\r\n        });\r\n    };\r\n    return StyleGuideCtrl;\r\n}());\r\n__WEBPACK_IMPORTED_MODULE_0_app_core_core_module__[\"default\"].controller('StyleGuideCtrl', StyleGuideCtrl);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.b0001fe08d408503029c.js","define([\n  './panellinks/module',\n  './dashlinks/module',\n  './annotations/all',\n  './templating/all',\n  './plugins/all',\n  './dashboard/all',\n  './playlist/all',\n  './snapshot/all',\n  './panel/all',\n  './styleguide/styleguide',\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/all.js\n// module id = 1304\n// module chunks = 0","import kbn from 'app/core/utils/kbn';\nimport {assignModelProperties} from 'app/core/utils/model_utils';\n\nexport interface Variable {\n  setValue(option);\n  updateOptions();\n  dependsOn(variable);\n  setValueFromUrl(urlValue);\n  getValueForUrl();\n  getSaveModel();\n}\n\nexport var variableTypes = {};\nexport {\n  assignModelProperties\n};\n\nexport function containsVariable(...args: any[]) {\n  var variableName = args[args.length-1];\n  var str = args[0] || '';\n\n  for (var i = 1; i < args.length-1; i++) {\n    str += ' ' + args[i] || '';\n  }\n\n  variableName = kbn.regexEscape(variableName);\n  var findVarRegex = new RegExp('\\\\$(' + variableName + ')(?:\\\\W|$)|\\\\[\\\\[(' + variableName + ')\\\\]\\\\]', 'g');\n  var match = findVarRegex.exec(str);\n  return match !== null;\n}\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/variable.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {\n  QueryPartDef,\n  QueryPart,\n} from 'app/core/components/query_part/query_part';\n\nvar alertQueryDef = new QueryPartDef({\n  type: 'query',\n  params: [\n    {name: \"queryRefId\", type: 'string', dynamicLookup: true},\n    {name: \"from\", type: \"string\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h', '24h', '48h']},\n    {name: \"to\", type: \"string\", options: ['now']},\n  ],\n  defaultParams: ['#A', '15m', 'now', 'avg']\n});\n\nvar conditionTypes = [\n  {text: 'Query', value: 'query'},\n];\n\nvar alertStateSortScore = {\n  alerting: 1,\n  no_data: 2,\n  pending: 3,\n  ok: 4,\n  paused: 5,\n};\n\nvar evalFunctions = [\n  {text: 'IS ABOVE', value: 'gt'},\n  {text: 'IS BELOW', value: 'lt'},\n  {text: 'IS OUTSIDE RANGE', value: 'outside_range'},\n  {text: 'IS WITHIN RANGE', value: 'within_range'},\n  {text: 'HAS NO VALUE' , value: 'no_value'}\n];\n\nvar evalOperators = [\n  {text: 'OR', value: 'or'},\n  {text: 'AND', value: 'and'},\n];\n\nvar reducerTypes = [\n  {text: 'avg()', value: 'avg'},\n  {text: 'min()', value: 'min'},\n  {text: 'max()', value: 'max'},\n  {text: 'sum()' , value: 'sum'},\n  {text: 'count()', value: 'count'},\n  {text: 'last()', value: 'last'},\n  {text: 'median()', value: 'median'},\n  {text: 'diff()', value: 'diff'},\n  {text: 'percent_diff()', value: 'percent_diff'},\n  {text: 'count_non_null()', value: 'count_non_null'},\n];\n\nvar noDataModes = [\n  {text: 'Alerting', value: 'alerting'},\n  {text: 'No Data', value: 'no_data'},\n  {text: 'Keep Last State', value: 'keep_state'},\n  {text: 'Ok', value: 'ok'},\n];\n\nvar executionErrorModes = [\n  {text: 'Alerting', value: 'alerting'},\n  {text: 'Keep Last State', value: 'keep_state'},\n];\n\nfunction createReducerPart(model) {\n  var def = new QueryPartDef({type: model.type, defaultParams: []});\n  return new QueryPart(model, def);\n}\n\nfunction getStateDisplayModel(state) {\n  switch (state) {\n    case 'ok': {\n      return {\n        text: 'OK',\n        iconClass: 'icon-gf icon-gf-ok1',\n        stateClass: 'alert-state-ok'\n      };\n    }\n    case 'alerting': {\n      return {\n        text: 'ALERTING',\n        iconClass: 'icon-gf fa-question1',\n        stateClass: 'alert-state-critical'\n      };\n    }\n    case 'no_data': {\n      return {\n        text: 'NO DATA',\n        iconClass: \"fa icon-gf-critical1\",\n        stateClass: 'alert-state-warning'\n      };\n    }\n    case 'paused': {\n      return {\n        text: 'PAUSED',\n        iconClass: \"fa fa-pause\",\n        stateClass: 'alert-state-paused'\n      };\n    }\n    case 'pending': {\n      return {\n        text: 'PENDING',\n        iconClass: \"fa fa-exclamation\",\n        stateClass: 'alert-state-warning'\n      };\n    }\n  }\n\n  throw {message: 'Unknown alert state'};\n}\n\nfunction joinEvalMatches(matches, separator: string) {\n  return _.reduce(matches, (res, ev)=> {\n    if (ev.metric !== undefined && ev.value !== undefined) {\n      res.push(ev.metric + '=' + ev.value);\n    }\n\n    // For backwards compatibility . Should be be able to remove this after ~2017-06-01\n    if (ev.Metric !== undefined && ev.Value !== undefined) {\n      res.push(ev.Metric + '=' + ev.Value);\n    }\n\n    return res;\n  }, []).join(separator);\n}\n\nfunction getAlertAnnotationInfo(ah) {\n  // backward compatability, can be removed in grafana 5.x\n  // old way stored evalMatches in data property directly,\n  // new way stores it in evalMatches property on new data object\n\n  if (_.isArray(ah.data)) {\n    return joinEvalMatches(ah.data, ', ');\n  } else if (_.isArray(ah.data.evalMatches)) {\n    return joinEvalMatches(ah.data.evalMatches, ', ');\n  }\n\n  if (ah.data.error) {\n    return \"Error: \" + ah.data.error;\n  }\n\n  if (ah.data.noData || ah.data.no_data) {\n    return \"No Data\";\n  }\n\n  return \"\";\n}\n\nexport default {\n  alertQueryDef: alertQueryDef,\n  getStateDisplayModel: getStateDisplayModel,\n  conditionTypes: conditionTypes,\n  evalFunctions: evalFunctions,\n  evalOperators: evalOperators,\n  noDataModes: noDataModes,\n  executionErrorModes: executionErrorModes,\n  reducerTypes: reducerTypes,\n  createReducerPart: createReducerPart,\n  getAlertAnnotationInfo: getAlertAnnotationInfo,\n  alertStateSortScore: alertStateSortScore,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/alerting/alert_def.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      throw {message: 'Could not find query part ' + part.type};\n    }\n\n    part.params = part.params || _.clone(this.def.defaultParams);\n    this.params = part.params;\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString (strValue, index) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam (strValue, index) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      _.each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    var text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part, innerExpr) {\n  var str = part.def.type + '(';\n  var parameters = _.map(part.params, (value, index) => {\n    var paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\n\nexport function suffixRenderer(part, innerExpr) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part, innerExpr) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part, innerExpr) {\n  return '\"' + part.params[0] + '\"';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/components/query_part/query_part.ts","import kbn from 'app/core/utils/kbn';\nimport _ from 'lodash';\n\nfunction matchSeriesOverride(aliasOrRegex, seriesAlias) {\n  if (!aliasOrRegex) { return false; }\n\n  if (aliasOrRegex[0] === '/') {\n    var regex = kbn.stringToJsRegex(aliasOrRegex);\n    return seriesAlias.match(regex) != null;\n  }\n\n  return aliasOrRegex === seriesAlias;\n}\n\nfunction translateFillOption(fill) {\n  return fill === 0 ? 0.001 : fill/10;\n}\n\nexport default class TimeSeries {\n  datapoints: any;\n  id: string;\n  label: string;\n  alias: string;\n  aliasEscaped: string;\n  color: string;\n  valueFormater: any;\n  stats: any;\n  legend: boolean;\n  allIsNull: boolean;\n  allIsZero: boolean;\n  decimals: number;\n  scaledDecimals: number;\n  hasMsResolution: boolean;\n  isOutsideRange: boolean;\n\n  lines: any;\n  dashes: any;\n  bars: any;\n  points: any;\n  yaxis: any;\n  zindex: any;\n  stack: any;\n  nullPointMode: any;\n  fillBelowTo: any;\n  transform: any;\n  flotpairs: any;\n  unit: any;\n\n  constructor(opts) {\n    this.datapoints = opts.datapoints;\n    this.label = opts.alias;\n    this.id = opts.alias;\n    this.alias = opts.alias;\n    this.aliasEscaped = _.escape(opts.alias);\n    this.color = opts.color;\n    this.valueFormater = kbn.valueFormats.none;\n    this.stats = {};\n    this.legend = true;\n    this.unit = opts.unit;\n    this.hasMsResolution = this.isMsResolutionNeeded();\n  }\n\n  applySeriesOverrides(overrides) {\n    this.lines = {};\n    this.dashes = {\n      dashLength: []\n    };\n    this.points = {};\n    this.bars = {};\n    this.yaxis = 1;\n    this.zindex = 0;\n    this.nullPointMode = null;\n    delete this.stack;\n\n    for (var i = 0; i < overrides.length; i++) {\n      var override = overrides[i];\n      if (!matchSeriesOverride(override.alias, this.alias)) {\n        continue;\n      }\n      if (override.lines !== void 0) { this.lines.show = override.lines; }\n      if (override.dashes !== void 0) {\n         this.dashes.show = override.dashes;\n         this.lines.lineWidth = 0;\n      }\n      if (override.points !== void 0) { this.points.show = override.points; }\n      if (override.bars !== void 0) { this.bars.show = override.bars; }\n      if (override.fill !== void 0) { this.lines.fill = translateFillOption(override.fill); }\n      if (override.stack !== void 0) { this.stack = override.stack; }\n      if (override.linewidth !== void 0) {\n         this.lines.lineWidth = this.dashes.show ? 0: override.linewidth;\n         this.dashes.lineWidth = override.linewidth;\n      }\n      if (override.dashLength !== void 0) { this.dashes.dashLength[0] = override.dashLength; }\n      if (override.spaceLength !== void 0) { this.dashes.dashLength[1] = override.spaceLength; }\n      if (override.nullPointMode !== void 0) { this.nullPointMode = override.nullPointMode; }\n      if (override.pointradius !== void 0) { this.points.radius = override.pointradius; }\n      if (override.steppedLine !== void 0) { this.lines.steps = override.steppedLine; }\n      if (override.zindex !== void 0) { this.zindex = override.zindex; }\n      if (override.fillBelowTo !== void 0) { this.fillBelowTo = override.fillBelowTo; }\n      if (override.color !== void 0) { this.color = override.color; }\n      if (override.transform !== void 0) { this.transform = override.transform; }\n      if (override.legend !== void 0) { this.legend = override.legend; }\n\n      if (override.yaxis !== void 0) {\n        this.yaxis = override.yaxis;\n      }\n    }\n  }\n\n  getFlotPairs(fillStyle) {\n    var result = [];\n\n    this.stats.total = 0;\n    this.stats.max = -Number.MAX_VALUE;\n    this.stats.min = Number.MAX_VALUE;\n    this.stats.logmin = Number.MAX_VALUE;\n    this.stats.avg = null;\n    this.stats.current = null;\n    this.stats.first = null;\n    this.stats.delta = 0;\n    this.stats.diff = null;\n    this.stats.range = null;\n    this.stats.timeStep = Number.MAX_VALUE;\n    this.allIsNull = true;\n    this.allIsZero = true;\n\n    var ignoreNulls = fillStyle === 'connected';\n    var nullAsZero = fillStyle === 'null as zero';\n    var currentTime;\n    var currentValue;\n    var nonNulls = 0;\n    var previousTime;\n    var previousValue = 0;\n    var previousDeltaUp = true;\n\n    for (var i = 0; i < this.datapoints.length; i++) {\n      currentValue = this.datapoints[i][0];\n      currentTime = this.datapoints[i][1];\n\n      // Due to missing values we could have different timeStep all along the series\n      // so we have to find the minimum one (could occur with aggregators such as ZimSum)\n      if (previousTime !== undefined) {\n        let timeStep = currentTime - previousTime;\n        if (timeStep < this.stats.timeStep) {\n          this.stats.timeStep = timeStep;\n        }\n      }\n      previousTime = currentTime;\n\n      if (currentValue === null) {\n        if (ignoreNulls) { continue; }\n        if (nullAsZero) {\n          currentValue = 0;\n        }\n      }\n\n      if (currentValue !== null) {\n        if (_.isNumber(currentValue)) {\n          this.stats.total += currentValue;\n          this.allIsNull = false;\n          nonNulls++;\n        }\n\n        if (currentValue > this.stats.max) {\n          this.stats.max = currentValue;\n        }\n\n        if (currentValue < this.stats.min) {\n          this.stats.min = currentValue;\n        }\n\n        if (this.stats.first === null) {\n          this.stats.first = currentValue;\n        } else {\n          if (previousValue > currentValue) {   // counter reset\n            previousDeltaUp = false;\n            if (i === this.datapoints.length-1) {  // reset on last\n                this.stats.delta += currentValue;\n            }\n          } else {\n            if (previousDeltaUp) {\n              this.stats.delta += currentValue - previousValue;    // normal increment\n            } else {\n              this.stats.delta += currentValue;   // account for counter reset\n            }\n            previousDeltaUp = true;\n          }\n        }\n        previousValue = currentValue;\n\n        if (currentValue < this.stats.logmin && currentValue > 0) {\n          this.stats.logmin = currentValue;\n        }\n\n        if (currentValue !== 0) {\n          this.allIsZero = false;\n        }\n      }\n\n      result.push([currentTime, currentValue]);\n    }\n\n    if (this.stats.max === -Number.MAX_VALUE) { this.stats.max = null; }\n    if (this.stats.min === Number.MAX_VALUE) { this.stats.min = null; }\n\n    if (result.length && !this.allIsNull) {\n      this.stats.avg = (this.stats.total / nonNulls);\n      this.stats.current = result[result.length-1][1];\n      if (this.stats.current === null && result.length > 1) {\n        this.stats.current = result[result.length-2][1];\n      }\n    }\n    if (this.stats.max !== null && this.stats.min !== null) {\n      this.stats.range = this.stats.max - this.stats.min;\n    }\n    if (this.stats.current !== null && this.stats.first !== null) {\n      this.stats.diff = this.stats.current - this.stats.first;\n    }\n\n    this.stats.count = result.length;\n    return result;\n  }\n\n  updateLegendValues(formater, decimals, scaledDecimals) {\n    this.valueFormater = formater;\n    this.decimals = decimals;\n    this.scaledDecimals = scaledDecimals;\n  }\n\n  formatValue(value) {\n    if (!_.isFinite(value)) {\n      value = null; // Prevent NaN formatting\n    }\n    return this.valueFormater(value, this.decimals, this.scaledDecimals);\n  }\n\n  isMsResolutionNeeded() {\n    for (var i = 0; i < this.datapoints.length; i++) {\n      if (this.datapoints[i][1] !== null) {\n        var timestamp = this.datapoints[i][1].toString();\n        if (timestamp.length === 13 && (timestamp % 1000) !== 0) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  hideFromLegend(options) {\n    if (options.hideEmpty && this.allIsNull) {\n      return true;\n    }\n    // ignore series excluded via override\n    if (!this.legend) {\n      return true;\n    }\n\n    // ignore zero series\n    if (options.hideZero && this.allIsZero) {\n      return true;\n    }\n\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/time_series2.ts","\nexport default class TableModel {\n  columns: any[];\n  rows: any[];\n  type: string;\n  columnMap: any;\n\n  constructor() {\n    this.columns = [];\n    this.columnMap = {};\n    this.rows = [];\n    this.type = 'table';\n  }\n\n  sort(options) {\n    if (options.col === null || this.columns.length <= options.col) {\n      return;\n    }\n\n    this.rows.sort(function(a, b) {\n      a = a[options.col];\n      b = b[options.col];\n      if (a < b) {\n        return -1;\n      }\n      if (a > b) {\n        return 1;\n      }\n      return 0;\n    });\n\n    this.columns[options.col].sort = true;\n\n    if (options.desc) {\n      this.rows.reverse();\n      this.columns[options.col].desc = true;\n    } else {\n      this.columns[options.col].desc = false;\n    }\n  }\n\n  addColumn(col) {\n    if (!this.columnMap[col.text]) {\n      this.columns.push(col);\n      this.columnMap[col.text] = col;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/table_model.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport const metricAggTypes = [\n  {text: \"Count\",   value: 'count', requiresField: false},\n  {text: \"Average\",  value: 'avg', requiresField: true, supportsInlineScript: true, supportsMissing: true},\n  {text: \"Sum\",  value: 'sum', requiresField: true, supportsInlineScript: true, supportsMissing: true},\n  {text: \"Max\",  value: 'max', requiresField: true, supportsInlineScript: true, supportsMissing: true},\n  {text: \"Min\",  value: 'min', requiresField: true, supportsInlineScript: true, supportsMissing: true},\n  {text: \"Extended Stats\",  value: 'extended_stats', requiresField: true, supportsMissing: true, supportsInlineScript: true},\n  {text: \"Percentiles\",  value: 'percentiles', requiresField: true, supportsMissing: true, supportsInlineScript: true},\n  {text: \"Unique Count\", value: \"cardinality\", requiresField: true, supportsMissing: true},\n  {text: \"Moving Average\",  value: 'moving_avg', requiresField: false, isPipelineAgg: true, minVersion: 2},\n  {text: \"Derivative\",  value: 'derivative', requiresField: false, isPipelineAgg: true, minVersion: 2 },\n  {text: \"Raw Document\", value: \"raw_document\", requiresField: false}\n];\n\nexport const bucketAggTypes = [\n  {text: \"Terms\",           value: 'terms', requiresField: true},\n  {text: \"Filters\",         value: 'filters' },\n  {text: \"Geo Hash Grid\",   value: 'geohash_grid', requiresField: true},\n  {text: \"Date Histogram\",  value: 'date_histogram', requiresField: true},\n  {text: \"Histogram\",       value: 'histogram', requiresField: true},\n];\n\nexport const orderByOptions = [\n  {text: \"Doc Count\",  value: '_count' },\n  {text: \"Term value\", value: '_term' },\n];\n\nexport const orderOptions = [\n  {text: \"Top\",     value: 'desc' },\n  {text: \"Bottom\",  value: 'asc' },\n];\n\nexport const sizeOptions = [\n  {text: \"No limit\", value: '0' },\n  {text: \"1\", value: '1' },\n  {text: \"2\", value: '2' },\n  {text: \"3\", value: '3' },\n  {text: \"5\", value: '5' },\n  {text: \"10\", value: '10' },\n  {text: \"15\", value: '15' },\n  {text: \"20\", value: '20' },\n];\n\nexport const extendedStats = [\n  {text: 'Avg', value: 'avg'},\n  {text: 'Min', value: 'min'},\n  {text: 'Max', value: 'max'},\n  {text: 'Sum', value: 'sum'},\n  {text: 'Count', value: 'count'},\n  {text: 'Std Dev', value: 'std_deviation'},\n  {text: 'Std Dev Upper', value: 'std_deviation_bounds_upper'},\n  {text: 'Std Dev Lower', value: 'std_deviation_bounds_lower'},\n];\n\nexport const intervalOptions = [\n  {text: 'auto', value: 'auto'},\n  {text: '10s', value: '10s'},\n  {text: '1m', value: '1m'},\n  {text: '5m', value: '5m'},\n  {text: '10m', value: '10m'},\n  {text: '20m', value: '20m'},\n  {text: '1h', value: '1h'},\n  {text: '1d', value: '1d'},\n];\n\nexport const movingAvgModelOptions = [\n  {text: 'Simple', value: 'simple'},\n  {text: 'Linear', value: 'linear'},\n  {text: 'Exponentially Weighted', value: 'ewma'},\n  {text: 'Holt Linear', value: 'holt'},\n  {text: 'Holt Winters', value: 'holt_winters'},\n];\n\nexport const pipelineOptions = {\n  'moving_avg' : [\n    {text: 'window', default: 5},\n    {text: 'model', default: 'simple'},\n    {text: 'predict', default: undefined},\n    {text: 'minimize', default: false},\n  ],\n  'derivative': [\n    {text: 'unit', default: undefined},\n  ]\n};\n\nexport const movingAvgModelSettings = {\n  'simple' : [],\n  'linear' : [],\n  'ewma' : [\n    {text: \"Alpha\", value: \"alpha\", default: undefined}],\n  'holt' : [\n    {text: \"Alpha\", value: \"alpha\",  default: undefined},\n    {text: \"Beta\", value: \"beta\",  default: undefined},\n    ],\n  'holt_winters' : [\n    {text: \"Alpha\", value: \"alpha\", default: undefined},\n    {text: \"Beta\", value: \"beta\", default: undefined},\n    {text: \"Gamma\", value: \"gamma\", default: undefined},\n    {text: \"Period\", value: \"period\", default: undefined},\n    {text: \"Pad\", value: \"pad\", default: undefined, isCheckbox: true},\n    ],\n};\n\nexport function getMetricAggTypes(esVersion) {\n  return _.filter(metricAggTypes, function(f) {\n    if (f.minVersion) {\n      return f.minVersion <= esVersion;\n    } else {\n      return true;\n    }\n  });\n}\n\nexport function getPipelineOptions(metric) {\n  if (!isPipelineAgg(metric.type)) {\n    return [];\n  }\n\n  return pipelineOptions[metric.type];\n}\n\nexport function isPipelineAgg(metricType) {\n  if (metricType) {\n    var po = pipelineOptions[metricType];\n    return po !== null && po !== undefined;\n  }\n\n  return false;\n}\n\nexport function getPipelineAggOptions(targets) {\n  var result = [];\n  _.each(targets.metrics, function(metric) {\n    if (!isPipelineAgg(metric.type)) {\n      result.push({text: describeMetric(metric), value: metric.id });\n    }\n  });\n\n  return result;\n}\n\nexport function getMovingAvgSettings(model, filtered) {\n  var filteredResult = [];\n  if (filtered) {\n    _.each(movingAvgModelSettings[model], function(setting) {\n      if (!(setting.isCheckbox)) {\n        filteredResult.push(setting);\n      }\n    });\n    return filteredResult;\n  }\n  return movingAvgModelSettings[model];\n}\n\nexport function getOrderByOptions(target) {\n  var metricRefs = [];\n  _.each(target.metrics, function(metric) {\n    if (metric.type !== 'count') {\n      metricRefs.push({text: describeMetric(metric), value: metric.id});\n    }\n  });\n\n  return orderByOptions.concat(metricRefs);\n}\n\nexport function describeOrder(order) {\n  var def = _.find(orderOptions, {value: order});\n  return def.text;\n}\n\nexport function describeMetric(metric) {\n  var def = _.find(metricAggTypes, {value: metric.type});\n  return def.text + ' ' + metric.field;\n}\n\nexport function describeOrderBy(orderBy, target) {\n  var def = _.find(orderByOptions, {value: orderBy});\n  if (def) {\n    return def.text;\n  }\n  var metric = _.find(target.metrics, {id: orderBy});\n  if (metric) {\n    return describeMetric(metric);\n  } else {\n    return \"metric not found\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/query_def.ts","import store from 'app/core/store';\nimport _ from 'lodash';\nimport config from 'app/core/config';\n\nexport class ImpressionsStore {\n  constructor() {}\n\n  addDashboardImpression(dashboardId) {\n    var impressionsKey = this.impressionKey(config);\n    var impressions = [];\n    if (store.exists(impressionsKey)) {\n      impressions = JSON.parse(store.get(impressionsKey));\n      if (!_.isArray(impressions)) {\n        impressions = [];\n      }\n    }\n\n    impressions = impressions.filter((imp) => {\n      return dashboardId !== imp;\n    });\n\n    impressions.unshift(dashboardId);\n\n    if (impressions.length > 50) {\n      impressions.pop();\n    }\n    store.set(impressionsKey, JSON.stringify(impressions));\n  }\n\n  getDashboardOpened() {\n    var impressions = store.get(this.impressionKey(config)) || \"[]\";\n\n    impressions = JSON.parse(impressions);\n\n    impressions = _.filter(impressions, el => {\n      return _.isNumber(el);\n    });\n\n    return impressions;\n  }\n\n  impressionKey(config) {\n    return \"dashboard_impressions-\" + config.bootData.user.orgId;\n  }\n}\n\nvar impressions = new ImpressionsStore();\n\nexport {\n  impressions\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/impression_store.ts","import config from 'app/core/config';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport {profiler} from 'app/core/profiler';\nimport Remarkable from 'remarkable';\n\nconst TITLE_HEIGHT = 25;\nconst EMPTY_TITLE_HEIGHT = 9;\nconst PANEL_PADDING = 5;\nconst PANEL_BORDER = 2;\n\nimport {Emitter} from 'app/core/core';\n\nexport class PanelCtrl {\n  panel: any;\n  error: any;\n  row: any;\n  dashboard: any;\n  editorTabIndex: number;\n  pluginName: string;\n  pluginId: string;\n  editorTabs: any;\n  $scope: any;\n  $injector: any;\n  $timeout: any;\n  fullscreen: boolean;\n  inspector: any;\n  editModeInitiated: boolean;\n  editMode: any;\n  height: any;\n  containerHeight: any;\n  events: Emitter;\n  timing: any;\n\n  constructor($scope, $injector) {\n    this.$injector = $injector;\n    this.$scope = $scope;\n    this.$timeout = $injector.get('$timeout');\n    this.editorTabIndex = 0;\n    this.events = new Emitter();\n    this.timing = {};\n\n    var plugin = config.panels[this.panel.type];\n    if (plugin) {\n      this.pluginId = plugin.id;\n      this.pluginName = plugin.name;\n    }\n\n    $scope.$on(\"refresh\", () => this.refresh());\n    $scope.$on(\"render\", () => this.render());\n    $scope.$on(\"$destroy\", () => {\n      this.events.emit('panel-teardown');\n      this.events.removeAllListeners();\n    });\n\n    // we should do something interesting\n    // with newly added panels\n    if (this.panel.isNew) {\n      delete this.panel.isNew;\n    }\n  }\n\n  init() {\n    this.calculatePanelHeight();\n    this.publishAppEvent('panel-initialized', {scope: this.$scope});\n    this.events.emit('panel-initialized');\n  }\n\n  renderingCompleted() {\n    profiler.renderingCompleted(this.panel.id, this.timing);\n  }\n\n  refresh() {\n   this.events.emit('refresh', null);\n  }\n\n  publishAppEvent(evtName, evt) {\n    this.$scope.$root.appEvent(evtName, evt);\n  }\n\n  changeView(fullscreen, edit) {\n    this.publishAppEvent('panel-change-view', {\n      fullscreen: fullscreen, edit: edit, panelId: this.panel.id\n    });\n  }\n\n  viewPanel() {\n    this.changeView(true, false);\n  }\n\n  editPanel() {\n    this.changeView(true, true);\n  }\n\n  exitFullscreen() {\n    this.changeView(false, false);\n  }\n\n  initEditMode() {\n    this.editorTabs = [];\n    this.addEditorTab('General', 'public/app/partials/panelgeneral.html');\n    this.editModeInitiated = true;\n    this.events.emit('init-edit-mode', null);\n\n    var urlTab = (this.$injector.get('$routeParams').tab || '').toLowerCase();\n    if (urlTab) {\n      this.editorTabs.forEach((tab, i) => {\n        if (tab.title.toLowerCase() === urlTab) {\n          this.editorTabIndex = i;\n        }\n      });\n    }\n  }\n\n  changeTab(newIndex) {\n    this.editorTabIndex = newIndex;\n    var route = this.$injector.get('$route');\n    route.current.params.tab = this.editorTabs[newIndex].title.toLowerCase();\n    route.updateParams();\n  }\n\n  addEditorTab(title, directiveFn, index?) {\n    var editorTab = {title, directiveFn};\n\n    if (_.isString(directiveFn)) {\n      editorTab.directiveFn = function() {\n        return {templateUrl: directiveFn};\n      };\n    }\n    if (index) {\n      this.editorTabs.splice(index, 0, editorTab);\n    } else {\n      this.editorTabs.push(editorTab);\n    }\n  }\n\n  getMenu() {\n    let menu = [];\n    menu.push({text: 'View', click: 'ctrl.viewPanel(); dismiss();'});\n    menu.push({text: 'Edit', click: 'ctrl.editPanel(); dismiss();', role: 'Editor'});\n    if (!this.fullscreen) { //  duplication is not supported in fullscreen mode\n      menu.push({ text: 'Duplicate', click: 'ctrl.duplicate()', role: 'Editor' });\n    }\n    menu.push({text: 'Share', click: 'ctrl.sharePanel(); dismiss();'});\n    return menu;\n  }\n\n  getExtendedMenu() {\n    var actions = [{text: 'Panel JSON', click: 'ctrl.editPanelJson(); dismiss();'}];\n    this.events.emit('init-panel-actions', actions);\n    return actions;\n  }\n\n  otherPanelInFullscreenMode() {\n    return this.dashboard.meta.fullscreen && !this.fullscreen;\n  }\n\n  calculatePanelHeight() {\n    if (this.fullscreen) {\n      var docHeight = $(window).height();\n      var editHeight = Math.floor(docHeight * 0.4);\n      var fullscreenHeight = Math.floor(docHeight * 0.8);\n      this.containerHeight = this.editMode ? editHeight : fullscreenHeight;\n    } else {\n      this.containerHeight = this.panel.height || this.row.height;\n      if (_.isString(this.containerHeight)) {\n        this.containerHeight = parseInt(this.containerHeight.replace('px', ''), 10);\n      }\n    }\n\n    this.height = this.containerHeight - (PANEL_BORDER + PANEL_PADDING + (this.panel.title ? TITLE_HEIGHT : EMPTY_TITLE_HEIGHT));\n  }\n\n  render(payload?) {\n    // ignore if other panel is in fullscreen mode\n    if (this.otherPanelInFullscreenMode()) {\n      return;\n    }\n\n    this.calculatePanelHeight();\n    this.timing.renderStart = new Date().getTime();\n    this.events.emit('render', payload);\n  }\n\n  duplicate() {\n    this.dashboard.duplicatePanel(this.panel, this.row);\n    this.$timeout(() => {\n      this.$scope.$root.$broadcast('render');\n    });\n  }\n\n  updateColumnSpan(span) {\n    this.panel.span = Math.min(Math.max(Math.floor(this.panel.span + span), 1), 12);\n    this.row.panelSpanChanged();\n\n    this.$timeout(() => {\n      this.render();\n    });\n  }\n\n  removePanel() {\n    this.row.removePanel(this.panel);\n  }\n\n  editPanelJson() {\n    this.publishAppEvent('show-json-editor', {\n      object: this.panel,\n      updateHandler: this.replacePanel.bind(this)\n    });\n  }\n\n  replacePanel(newPanel, oldPanel) {\n    var index = _.indexOf(this.row.panels, oldPanel);\n    this.row.panels.splice(index, 1);\n\n    // adding it back needs to be done in next digest\n    this.$timeout(() => {\n      newPanel.id = oldPanel.id;\n      newPanel.span = oldPanel.span;\n      this.row.panels.splice(index, 0, newPanel);\n    });\n  }\n\n  sharePanel() {\n    var shareScope = this.$scope.$new();\n    shareScope.panel = this.panel;\n    shareScope.dashboard = this.dashboard;\n\n    this.publishAppEvent('show-modal', {\n      src: 'public/app/features/dashboard/partials/shareModal.html',\n      scope: shareScope\n    });\n  }\n\n  getInfoMode() {\n    if (this.error) {\n      return 'error';\n    }\n    if (!!this.panel.description) {\n      return 'info';\n    }\n    if (this.panel.links && this.panel.links.length) {\n      return 'links';\n    }\n    return '';\n  }\n\n  getInfoContent(options) {\n    var markdown = this.panel.description;\n\n    if (options.mode === 'tooltip') {\n      markdown = this.error || this.panel.description;\n    }\n\n    var linkSrv = this.$injector.get('linkSrv');\n    var templateSrv = this.$injector.get('templateSrv');\n    var interpolatedMarkdown = templateSrv.replace(markdown, this.panel.scopedVars);\n    var html = '<div class=\"markdown-html\">';\n\n    html += new Remarkable().render(interpolatedMarkdown);\n\n    if (this.panel.links && this.panel.links.length > 0) {\n      html += '<ul>';\n      for (let link of this.panel.links) {\n        var info = linkSrv.getPanelLinkAnchorInfo(link, this.panel.scopedVars);\n        html += '<li><a class=\"panel-menu-link\" href=\"' + info.href + '\" target=\"' + info.target + '\">' + info.title + '</a></li>';\n      }\n      html += '</ul>';\n    }\n\n    return html + '</div>';\n  }\n\n  openInspector() {\n    var modalScope = this.$scope.$new();\n    modalScope.panel = this.panel;\n    modalScope.dashboard = this.dashboard;\n    modalScope.panelInfoHtml = this.getInfoContent({mode: 'inspector'});\n\n    modalScope.inspector = $.extend(true, {}, this.inspector);\n    this.publishAppEvent('show-modal', {\n      src: 'public/app/features/dashboard/partials/inspector.html',\n      scope: modalScope\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/panel_ctrl.ts","/**\n * Calculate tick step.\n * Implementation from d3-array (ticks.js)\n * https://github.com/d3/d3-array/blob/master/src/ticks.js\n * @param start Start value\n * @param stop End value\n * @param count Ticks count\n */\nexport function tickStep(start: number, stop: number, count: number): number {\n  let e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\n  let step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n\n  if (error >= e10) {\n    step1 *= 10;\n  } else if (error >= e5) {\n    step1 *= 5;\n  } else if (error >= e2) {\n    step1 *= 2;\n  }\n\n  return stop < start ? -step1 : step1;\n}\n\nexport function getScaledDecimals(decimals, tick_size) {\n  return decimals - Math.floor(Math.log(tick_size) / Math.LN10);\n}\n\n/**\n * Calculate tick size based on min and max values, number of ticks and precision.\n * @param min           Axis minimum\n * @param max           Axis maximum\n * @param noTicks       Number of ticks\n * @param tickDecimals  Tick decimal precision\n */\nexport function getFlotTickSize(min: number, max: number, noTicks: number, tickDecimals: number) {\n  var delta = (max - min) / noTicks,\n    dec = -Math.floor(Math.log(delta) / Math.LN10),\n    maxDec = tickDecimals;\n\n  var magn = Math.pow(10, -dec),\n    norm = delta / magn, // norm is between 1.0 and 10.0\n    size;\n\n  if (norm < 1.5) {\n    size = 1;\n  } else if (norm < 3) {\n    size = 2;\n    // special case for 2.5, requires an extra decimal\n    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n      size = 2.5;\n      ++dec;\n    }\n  } else if (norm < 7.5) {\n    size = 5;\n  } else {\n    size = 10;\n  }\n\n  size *= magn;\n\n  return size;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/utils/ticks.ts","/* Javascript plotting library for jQuery, version 0.8.3.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\n*/\n\n// first an inline dependency, jquery.colorhelpers.js, we inline it here\n// for convenience\n\n/* Plugin for jQuery for working with colors.\n *\n * Version 1.1.\n *\n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */\n(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=a!=null?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){if(o.a>=1){return\"rgb(\"+[o.r,o.g,o.b].join(\",\")+\")\"}else{return\"rgba(\"+[o.r,o.g,o.b,o.a].join(\",\")+\")\"}};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(c!=\"\"&&c!=\"transparent\")break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),\"body\"));if(c==\"rgba(0, 0, 0, 0)\")c=\"transparent\";return $.color.parse(c)};$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55);if(res=/rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55,parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();if(name==\"transparent\")return m(255,255,255,0);else{res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])}};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);\n\n// the actual Flot code\n(function($) {\n\n\t// Cache the prototype hasOwnProperty for faster access\n\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    // A shim to provide 'detach' to jQuery versions prior to 1.4.  Using a DOM\n    // operation produces the same effect as detach, i.e. removing the element\n    // without touching its jQuery data.\n\n    // Do not merge this into Flot 0.9, since it requires jQuery 1.4.4+.\n\n    if (!$.fn.detach) {\n        $.fn.detach = function() {\n            return this.each(function() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild( this );\n                }\n            });\n        };\n    }\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The Canvas object is a wrapper around an HTML5 <canvas> tag.\n\t//\n\t// @constructor\n\t// @param {string} cls List of classes to apply to the canvas.\n\t// @param {element} container Element onto which to append the canvas.\n\t//\n\t// Requiring a container is a little iffy, but unfortunately canvas\n\t// operations don't work unless the canvas is attached to the DOM.\n\n\tfunction Canvas(cls, container) {\n\n\t\tvar element = container.children(\".\" + cls)[0];\n\n\t\tif (element == null) {\n\n\t\t\telement = document.createElement(\"canvas\");\n\t\t\telement.className = cls;\n\n\t\t\t$(element).css({ direction: \"ltr\", position: \"absolute\", left: 0, top: 0 })\n\t\t\t\t.appendTo(container);\n\n\t\t\t// If HTML5 Canvas isn't available, fall back to [Ex|Flash]canvas\n\n\t\t\tif (!element.getContext) {\n\t\t\t\tif (window.G_vmlCanvasManager) {\n\t\t\t\t\telement = window.G_vmlCanvasManager.initElement(element);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element = element;\n\n\t\tvar context = this.context = element.getContext(\"2d\");\n\n\t\t// Determine the screen's ratio of physical to device-independent\n\t\t// pixels.  This is the ratio between the canvas width that the browser\n\t\t// advertises and the number of pixels actually present in that space.\n\n\t\t// The iPhone 4, for example, has a device-independent width of 320px,\n\t\t// but its screen is actually 640px wide.  It therefore has a pixel\n\t\t// ratio of 2, while most normal devices have a ratio of 1.\n\n\t\tvar devicePixelRatio = window.devicePixelRatio || 1,\n\t\t\tbackingStoreRatio =\n\t\t\t\tcontext.webkitBackingStorePixelRatio ||\n\t\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\t\tcontext.backingStorePixelRatio || 1;\n\n\t\tthis.pixelRatio = devicePixelRatio / backingStoreRatio;\n\n\t\t// Size the canvas to match the internal dimensions of its container\n\n\t\tthis.resize(container.width(), container.height());\n\n\t\t// Collection of HTML div layers for text overlaid onto the canvas\n\n\t\tthis.textContainer = null;\n\t\tthis.text = {};\n\n\t\t// Cache of text fragments and metrics, so we can avoid expensively\n\t\t// re-calculating them when the plot is re-rendered in a loop.\n\n\t\tthis._textCache = {};\n\t\tthis._textSizeCache = window.flotTextSizeCache = window.flotTextSizeCache || {};\n\t}\n\n\t// Resizes the canvas to the given dimensions.\n\t//\n\t// @param {number} width New width of the canvas, in pixels.\n\t// @param {number} width New height of the canvas, in pixels.\n\n\tCanvas.prototype.resize = function(width, height) {\n\n\t\tif (width <= 0 || height <= 0) {\n\t\t\tthrow new Error(\"Invalid dimensions for plot, width = \" + width + \", height = \" + height);\n\t\t}\n\n\t\tvar element = this.element,\n\t\t\tcontext = this.context,\n\t\t\tpixelRatio = this.pixelRatio;\n\n\t\t// Resize the canvas, increasing its density based on the display's\n\t\t// pixel ratio; basically giving it more pixels without increasing the\n\t\t// size of its element, to take advantage of the fact that retina\n\t\t// displays have that many more pixels in the same advertised space.\n\n\t\t// Resizing should reset the state (excanvas seems to be buggy though)\n\n\t\tif (this.width != width) {\n\t\t\telement.width = width * pixelRatio;\n\t\t\telement.style.width = width + \"px\";\n\t\t\tthis.width = width;\n\t\t}\n\n\t\tif (this.height != height) {\n\t\t\telement.height = height * pixelRatio;\n\t\t\telement.style.height = height + \"px\";\n\t\t\tthis.height = height;\n\t\t}\n\n\t\t// Save the context, so we can reset in case we get replotted.  The\n\t\t// restore ensure that we're really back at the initial state, and\n\t\t// should be safe even if we haven't saved the initial state yet.\n\n\t\tcontext.restore();\n\t\tcontext.save();\n\n\t\t// Scale the coordinate space to match the display density; so even though we\n\t\t// may have twice as many pixels, we still want lines and other drawing to\n\t\t// appear at the same size; the extra pixels will just make them crisper.\n\n\t\tcontext.scale(pixelRatio, pixelRatio);\n\t};\n\n\t// Clears the entire canvas area, not including any overlaid HTML text\n\n\tCanvas.prototype.clear = function() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t};\n\n\t// Finishes rendering the canvas, including managing the text overlay.\n\n\tCanvas.prototype.render = function() {\n\n\t\tvar cache = this._textCache;\n\n\t\t// For each text layer, add elements marked as active that haven't\n\t\t// already been rendered, and remove those that are no longer active.\n\n\t\tfor (var layerKey in cache) {\n\t\t\tif (hasOwnProperty.call(cache, layerKey)) {\n\n\t\t\t\tvar layer = this.getTextLayer(layerKey),\n\t\t\t\t\tlayerCache = cache[layerKey];\n\n\t\t\t\tlayer.hide();\n\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tif (position.active) {\n\t\t\t\t\t\t\t\t\t\tif (!position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tlayer.append(position.element);\n\t\t\t\t\t\t\t\t\t\t\tposition.rendered = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tpositions.splice(i--, 1);\n\t\t\t\t\t\t\t\t\t\tif (position.rendered) {\n\t\t\t\t\t\t\t\t\t\t\tposition.element.detach();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (positions.length == 0) {\n\t\t\t\t\t\t\t\t\tdelete styleCache[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlayer.show();\n\t\t\t}\n\t\t}\n\t};\n\n\t// Creates (if necessary) and returns the text overlay container.\n\t//\n\t// @param {string} classes String of space-separated CSS classes used to\n\t//     uniquely identify the text layer.\n\t// @return {object} The jQuery-wrapped text-layer div.\n\n\tCanvas.prototype.getTextLayer = function(classes) {\n\n\t\tvar layer = this.text[classes];\n\n\t\t// Create the text layer if it doesn't exist\n\n\t\tif (layer == null) {\n\n\t\t\t// Create the text layer container, if it doesn't exist\n\n\t\t\tif (this.textContainer == null) {\n\t\t\t\tthis.textContainer = $(\"<div class='flot-text flot-temp-elem'></div>\")\n\t\t\t\t\t.css({\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t'font-size': \"smaller\",\n\t\t\t\t\t\tcolor: \"#545454\"\n\t\t\t\t\t})\n\t\t\t\t\t.insertAfter(this.element);\n\t\t\t}\n\n\t\t\tlayer = this.text[classes] = $(\"<div></div>\")\n\t\t\t\t.addClass(classes)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tright: 0\n\t\t\t\t})\n\t\t\t\t.appendTo(this.textContainer);\n\t\t}\n\n\t\treturn layer;\n\t};\n\n\t// Creates (if necessary) and returns a text info object.\n\t//\n\t// The object looks like this:\n\t//\n\t// {\n\t//     width: Width of the text's wrapper div.\n\t//     height: Height of the text's wrapper div.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     positions: Array of positions at which this text is drawn.\n\t// }\n\t//\n\t// The positions array contains objects that look like this:\n\t//\n\t// {\n\t//     active: Flag indicating whether the text should be visible.\n\t//     rendered: Flag indicating whether the text is currently visible.\n\t//     element: The jQuery-wrapped HTML div containing the text.\n\t//     x: X coordinate at which to draw the text.\n\t//     y: Y coordinate at which to draw the text.\n\t// }\n\t//\n\t// Each position after the first receives a clone of the original element.\n\t//\n\t// The idea is that that the width, height, and general 'identity' of the\n\t// text is constant no matter where it is placed; the placements are a\n\t// secondary property.\n\t//\n\t// Canvas maintains a cache of recently-used text info objects; getTextInfo\n\t// either returns the cached element or creates a new entry.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {string} text Text string to retrieve info for.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @return {object} a text info object.\n\n\tCanvas.prototype.getTextInfo = function(layer, text, font, angle, width) {\n\n\t\tvar textStyle, layerCache, styleCache, info;\n\n\t\t// Cast the value to a string, in case we were given a number or such\n\n\t\ttext = \"\" + text;\n\n\t\t// If the font is a font-spec object, generate a CSS font definition\n\n\t\tif (typeof font === \"object\") {\n\t\t\ttextStyle = font.style + \" \" + font.variant + \" \" + font.weight + \" \" + font.size + \"px/\" + font.lineHeight + \"px \" + font.family;\n\t\t} else {\n\t\t\ttextStyle = font;\n\t\t}\n\n\t\t// Retrieve (or create) the cache for the text's layer and styles\n\n\t\tlayerCache = this._textCache[layer];\n\n\t\tif (layerCache == null) {\n\t\t\tlayerCache = this._textCache[layer] = {};\n\t\t}\n\n\t\tstyleCache = layerCache[textStyle];\n\n\t\tif (styleCache == null) {\n\t\t\tstyleCache = layerCache[textStyle] = {};\n\t\t}\n\n\t\tinfo = styleCache[text];\n\n\t\t// If we can't find a matching element in our cache, create a new one\n\n\t\tif (info == null) {\n\n\t\t\tvar element = $(\"<div></div>\").html(text)\n\t\t\t\t.css({\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t'max-width': width,\n\t\t\t\t\ttop: -9999\n\t\t\t\t})\n\t\t\t\t.appendTo(this.getTextLayer(layer));\n\n\t\t\tif (typeof font === \"object\") {\n\t\t\t\telement.css({\n\t\t\t\t\tfont: textStyle,\n\t\t\t\t\tcolor: font.color\n\t\t\t\t});\n\t\t\t} else if (typeof font === \"string\") {\n\t\t\t\telement.addClass(font);\n\t\t\t}\n\n      info = styleCache[text] = { element: element, positions: [] };\n\n      var size = this._textSizeCache[text];\n\t\t\tif (size) {\n        info.width = size.width;\n        info.height = size.height;\n\t\t\t} else {\n        info.width = element.outerWidth(true);\n        info.height = element.outerHeight(true);\n        this._textSizeCache[text] = { width: info.width, height: info.height };\n\t\t\t}\n\t\t\telement.detach();\n\t\t}\n\n\t\treturn info;\n\t};\n\n\t// Adds a text string to the canvas text overlay.\n\t//\n\t// The text isn't drawn immediately; it is marked as rendering, which will\n\t// result in its addition to the canvas on the next render pass.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number} x X coordinate at which to draw the text.\n\t// @param {number} y Y coordinate at which to draw the text.\n\t// @param {string} text Text string to draw.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which to rotate the text, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\t// @param {number=} width Maximum width of the text before it wraps.\n\t// @param {string=} halign Horizontal alignment of the text; either \"left\",\n\t//     \"center\" or \"right\".\n\t// @param {string=} valign Vertical alignment of the text; either \"top\",\n\t//     \"middle\" or \"bottom\".\n\n\tCanvas.prototype.addText = function(layer, x, y, text, font, angle, width, halign, valign) {\n\n\t\tvar info = this.getTextInfo(layer, text, font, angle, width),\n\t\t\tpositions = info.positions;\n\n\t\t// Tweak the div's position to match the text's alignment\n\n\t\tif (halign == \"center\") {\n\t\t\tx -= info.width / 2;\n\t\t} else if (halign == \"right\") {\n\t\t\tx -= info.width;\n\t\t}\n\n\t\tif (valign == \"middle\") {\n\t\t\ty -= info.height / 2;\n\t\t} else if (valign == \"bottom\") {\n\t\t\ty -= info.height;\n\t\t}\n\n\t\t// Determine whether this text already exists at this position.\n\t\t// If so, mark it for inclusion in the next render pass.\n\n\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\tposition.active = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If the text doesn't exist at this position, create a new entry\n\n\t\t// For the very first position we'll re-use the original element,\n\t\t// while for subsequent ones we'll clone it.\n\n\t\tposition = {\n\t\t\tactive: true,\n\t\t\trendered: false,\n\t\t\telement: positions.length ? info.element.clone() : info.element,\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\n\t\tpositions.push(position);\n\n\t\t// Move the element to its final position within the container\n\n\t\tposition.element.css({\n\t\t\ttop: Math.round(y),\n\t\t\tleft: Math.round(x),\n\t\t\t'text-align': halign\t// In case the text wraps\n\t\t});\n\t};\n\n\t// Removes one or more text strings from the canvas text overlay.\n\t//\n\t// If no parameters are given, all text within the layer is removed.\n\t//\n\t// Note that the text is not immediately removed; it is simply marked as\n\t// inactive, which will result in its removal on the next render pass.\n\t// This avoids the performance penalty for 'clear and redraw' behavior,\n\t// where we potentially get rid of all text on a layer, but will likely\n\t// add back most or all of it later, as when redrawing axes, for example.\n\t//\n\t// @param {string} layer A string of space-separated CSS classes uniquely\n\t//     identifying the layer containing this text.\n\t// @param {number=} x X coordinate of the text.\n\t// @param {number=} y Y coordinate of the text.\n\t// @param {string=} text Text string to remove.\n\t// @param {(string|object)=} font Either a string of space-separated CSS\n\t//     classes or a font-spec object, defining the text's font and style.\n\t// @param {number=} angle Angle at which the text is rotated, in degrees.\n\t//     Angle is currently unused, it will be implemented in the future.\n\n\tCanvas.prototype.removeText = function(layer, x, y, text, font, angle) {\n\t\tif (text == null) {\n\t\t\tvar layerCache = this._textCache[layer];\n\t\t\tif (layerCache != null) {\n\t\t\t\tfor (var styleKey in layerCache) {\n\t\t\t\t\tif (hasOwnProperty.call(layerCache, styleKey)) {\n\t\t\t\t\t\tvar styleCache = layerCache[styleKey];\n\t\t\t\t\t\tfor (var key in styleCache) {\n\t\t\t\t\t\t\tif (hasOwnProperty.call(styleCache, key)) {\n\t\t\t\t\t\t\t\tvar positions = styleCache[key].positions;\n\t\t\t\t\t\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\t\t\t\t\t\tposition.active = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar positions = this.getTextInfo(layer, text, font, angle).positions;\n\t\t\tfor (var i = 0, position; position = positions[i]; i++) {\n\t\t\t\tif (position.x == x && position.y == y) {\n\t\t\t\t\tposition.active = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t///////////////////////////////////////////////////////////////////////////\n\t// The top-level container for the entire plot.\n\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n\n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                legend: {\n                    show: true,\n                    noColumns: 1, // number of colums in legend table\n                    labelFormatter: null, // fn: string -> string\n                    labelBoxBorderColor: \"#ccc\", // border color for the little label boxes\n                    container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n                    position: \"ne\", // position of default legend container within plot\n                    margin: 5, // distance from grid edge to default legend container within plot\n                    backgroundColor: null, // null means auto-detect\n                    backgroundOpacity: 0.85, // set to 0 to avoid background\n                    sorted: null    // default to no legend sorting\n                },\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    font: null, // null (derived from CSS in placeholder) or object like { size: 11, lineHeight: 13, style: \"italic\", weight: \"bold\", family: \"sans-serif\", variant: \"small-caps\" }\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoscaleMargin: null, // margin in % to add if auto-setting min/max\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of ticks, or \"full\" for whole line\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null // number or [number, \"unit\"]\n                },\n                yaxis: {\n                    autoscaleMargin: 0.02,\n                    position: \"left\" // or \"right\"\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: \"circle\" // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled\n                        lineWidth: 2, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                        // Omit 'zero', so we can later default its value to\n                        // match that of the 'fill' option.\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        barWidth: 1, // in units of the x axis\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // \"left\", \"right\", or \"center\"\n                        horizontal: false,\n                        zero: true\n                    },\n                    shadowSize: 3,\n                    highlightColor: null\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    margin: 0, // distance from the canvas edge to the grid\n                    labelMargin: 5, // in pixels\n                    eventSectionHeight: 0, // space for event section\n                    axisMargin: 8, // in pixels\n                    borderWidth: 2, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 10 // how far the mouse can be away to activate an item\n                },\n                interaction: {\n                    redrawOverlayInterval: 1000/60 // time between updates, -1 means in same flow\n                },\n                hooks: {}\n            },\n        surface = null,     // the canvas for the plot itself\n        overlay = null,     // canvas for interactive stuff on top of plot\n        eventHolder = null, // jQuery object that events should be bound to\n        ctx = null, octx = null,\n        xaxes = [], yaxes = [],\n        plotOffset = { left: 0, right: 0, top: 0, bottom: 0},\n        plotWidth = 0, plotHeight = 0,\n        hooks = {\n            processOptions: [],\n            processRawData: [],\n            processDatapoints: [],\n            processOffset: [],\n            drawBackground: [],\n            drawSeries: [],\n            draw: [],\n            bindEvents: [],\n            drawOverlay: [],\n            shutdown: []\n        },\n        plot = this;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() { return placeholder; };\n        plot.getCanvas = function() { return surface.element; };\n        plot.getPlotOffset = function() { return plotOffset; };\n        plot.width = function () { return plotWidth; };\n        plot.height = function () { return plotHeight; };\n        plot.offset = function () {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function () { return series; };\n        plot.getAxes = function () {\n            var res = {}, i;\n            $.each(xaxes.concat(yaxes), function (_, axis) {\n                if (axis)\n                    res[axis.direction + (axis.n != 1 ? axis.n : \"\") + \"axis\"] = axis;\n            });\n            return res;\n        };\n        plot.getXAxes = function () { return xaxes; };\n        plot.getYAxes = function () { return yaxes; };\n        plot.c2p = canvasToAxisCoords;\n        plot.p2c = axisToCanvasCoords;\n        plot.getOptions = function () { return options; };\n        plot.highlight = highlight;\n        plot.unhighlight = unhighlight;\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left, 10),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top, 10)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.destroy = function () {\n            shutdown();\n            placeholder.removeData(\"plot\").empty();\n\n            series = [];\n            options = null;\n            surface = null;\n            overlay = null;\n            eventHolder = null;\n            ctx = null;\n            octx = null;\n            xaxes = [];\n            yaxes = [];\n            hooks = null;\n            highlights = [];\n            plot = null;\n        };\n        plot.resize = function () {\n        \tvar width = placeholder.width(),\n        \t\theight = placeholder.height();\n            surface.resize(width, height);\n            overlay.resize(width, height);\n        };\n\n        // public attributes\n        plot.hooks = hooks;\n\n        // initialize\n        initPlugins(plot);\n        parseOptions(options_);\n        setupCanvases();\n        setData(data_);\n        setupGrid();\n        draw();\n        bindEvents();\n\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i)\n                hook[i].apply(this, args);\n        }\n\n        function initPlugins() {\n\n            // References to key classes, allowing plugins to modify them\n\n            var classes = {\n                Canvas: Canvas\n            };\n\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot, classes);\n                if (p.options)\n                    $.extend(true, options, p.options);\n            }\n        }\n\n        function parseOptions(opts) {\n\n            $.extend(true, options, opts);\n\n            // $.extend merges arrays, rather than replacing them.  When less\n            // colors are provided than the size of the default palette, we\n            // end up with those colors plus the remaining defaults, which is\n            // not expected behavior; avoid it by replacing them here.\n\n            if (opts && opts.colors) {\n            \toptions.colors = opts.colors;\n            }\n\n            if (options.xaxis.color == null)\n                options.xaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            if (options.yaxis.color == null)\n                options.yaxis.color = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            if (options.xaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.xaxis.tickColor = options.grid.tickColor || options.xaxis.color;\n            if (options.yaxis.tickColor == null) // grid.tickColor for back-compatibility\n                options.yaxis.tickColor = options.grid.tickColor || options.yaxis.color;\n\n            if (options.grid.borderColor == null)\n                options.grid.borderColor = options.grid.color;\n            if (options.grid.tickColor == null)\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n\n            // Fill in defaults for axis options, including any unspecified\n            // font-spec fields, if a font-spec was provided.\n\n            // If no x/y axis options were provided, create one of each anyway,\n            // since the rest of the code assumes that they exist.\n\n            var i, axisOptions, axisCount,\n                fontSize = placeholder.css(\"font-size\"),\n                fontSizeDefault = fontSize ? +fontSize.replace(\"px\", \"\") : 13,\n                fontDefaults = {\n                    style: placeholder.css(\"font-style\"),\n                    size: Math.round(0.8 * fontSizeDefault),\n                    variant: placeholder.css(\"font-variant\"),\n                    weight: placeholder.css(\"font-weight\"),\n                    family: placeholder.css(\"font-family\")\n                };\n\n            axisCount = options.xaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.xaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.xaxis, axisOptions);\n                options.xaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            axisCount = options.yaxes.length || 1;\n            for (i = 0; i < axisCount; ++i) {\n\n                axisOptions = options.yaxes[i];\n                if (axisOptions && !axisOptions.tickColor) {\n                    axisOptions.tickColor = axisOptions.color;\n                }\n\n                axisOptions = $.extend(true, {}, options.yaxis, axisOptions);\n                options.yaxes[i] = axisOptions;\n\n                if (axisOptions.font) {\n                    axisOptions.font = $.extend({}, fontDefaults, axisOptions.font);\n                    if (!axisOptions.font.color) {\n                        axisOptions.font.color = axisOptions.color;\n                    }\n                    if (!axisOptions.font.lineHeight) {\n                        axisOptions.font.lineHeight = Math.round(axisOptions.font.size * 1.15);\n                    }\n                }\n            }\n\n            // backwards compatibility, to be removed in future\n            if (options.xaxis.noTicks && options.xaxis.ticks == null)\n                options.xaxis.ticks = options.xaxis.noTicks;\n            if (options.yaxis.noTicks && options.yaxis.ticks == null)\n                options.yaxis.ticks = options.yaxis.noTicks;\n            if (options.x2axis) {\n                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);\n                options.xaxes[1].position = \"top\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.x2axis.min == null) {\n                    options.xaxes[1].min = null;\n                }\n                if (options.x2axis.max == null) {\n                    options.xaxes[1].max = null;\n                }\n            }\n            if (options.y2axis) {\n                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);\n                options.yaxes[1].position = \"right\";\n                // Override the inherit to allow the axis to auto-scale\n                if (options.y2axis.min == null) {\n                    options.yaxes[1].min = null;\n                }\n                if (options.y2axis.max == null) {\n                    options.yaxes[1].max = null;\n                }\n            }\n            if (options.grid.coloredAreas)\n                options.grid.markings = options.grid.coloredAreas;\n            if (options.grid.coloredAreasColor)\n                options.grid.markingsColor = options.grid.coloredAreasColor;\n            if (options.lines)\n                $.extend(true, options.series.lines, options.lines);\n            if (options.points)\n                $.extend(true, options.series.points, options.points);\n            if (options.bars)\n                $.extend(true, options.series.bars, options.bars);\n            if (options.shadowSize != null)\n                options.series.shadowSize = options.shadowSize;\n            if (options.highlightColor != null)\n                options.series.highlightColor = options.highlightColor;\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i)\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            for (i = 0; i < options.yaxes.length; ++i)\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n\n            // add hooks from options\n            for (var n in hooks)\n                if (options.hooks[n] && options.hooks[n].length)\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData();\n        }\n\n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                }\n                else\n                    s.data = d[i];\n                res.push(s);\n            }\n\n            return res;\n        }\n\n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a == \"object\") // if we got a real axis, extract number\n                a = a.n;\n            if (typeof a != \"number\")\n                a = 1; // default to first axis\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return $.grep(xaxes.concat(yaxes), function (a) { return a; });\n        }\n\n        function canvasToAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes\n            var res = {}, i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used)\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used)\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n            }\n\n            if (res.x1 !== undefined)\n                res.x = res.x1;\n            if (res.y1 !== undefined)\n                res.y = res.y1;\n\n            return res;\n        }\n\n        function axisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {}, i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"x\";\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"y\";\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n\n            return res;\n        }\n\n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1])\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes == xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)\n                };\n\n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n\n            var neededColors = series.length, maxIndex = -1, i;\n\n            // Subtract the number of series that already have fixed colors or\n            // color indexes from the number that we still need to generate.\n\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    neededColors--;\n                    if (typeof sc == \"number\" && sc > maxIndex) {\n                        maxIndex = sc;\n                    }\n                }\n            }\n\n            // If any of the series have fixed color indexes, then we need to\n            // generate at least as many colors as the highest index.\n\n            if (neededColors <= maxIndex) {\n                neededColors = maxIndex + 1;\n            }\n\n            // Generate all the colors, using first the option colors and then\n            // variations on those colors once they're exhausted.\n\n            var c, colors = [], colorPool = options.colors,\n                colorPoolSize = colorPool.length, variation = 0;\n\n            for (i = 0; i < neededColors; i++) {\n\n                c = $.color.parse(colorPool[i % colorPoolSize] || \"#666\");\n\n                // Each time we exhaust the colors in the pool we adjust\n                // a scaling factor used to produce more variations on\n                // those colors. The factor alternates negative/positive\n                // to produce lighter/darker colors.\n\n                // Reset the variation after every few cycles, or else\n                // it will end up producing only white or black colors.\n\n                if (i % colorPoolSize == 0 && i) {\n                    if (variation >= 0) {\n                        if (variation < 0.5) {\n                            variation = -variation - 0.2;\n                        } else variation = 0;\n                    } else variation = -variation;\n                }\n\n                colors[i] = c.scale('rgb', 1 + variation);\n            }\n\n            // Finalize the series options, filling in their colors\n\n            var colori = 0, s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                }\n                else if (typeof s.color == \"number\")\n                    s.color = colors[s.color].toString();\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s)\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    if (show)\n                        s.lines.show = true;\n                }\n\n                // If nothing was provided for lines.zero, default it to match\n                // lines.fill, since areas by default should extend to zero.\n\n                if (s.lines.zero == null) {\n                    s.lines.zero = !!s.lines.fill;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n\n        function processData() {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                fakeInfinity = Number.MAX_VALUE,\n                i, j, k, m, length,\n                s, points, ps, x, y, axis, val, f, p,\n                data, format;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min != -fakeInfinity)\n                    axis.datamin = min;\n                if (max > axis.datamax && max != fakeInfinity)\n                    axis.datamax = max;\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                // init axis\n                axis.datamin = topSentry;\n                axis.datamax = bottomSentry;\n                axis.used = false;\n            });\n\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = { points: [] };\n\n                executeHooks(hooks.processRawData, [ s, s.data, s.datapoints ]);\n            }\n\n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                data = s.data;\n                format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({ x: true, number: true, required: true });\n                    format.push({ y: true, number: true, required: true });\n\n                    if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                        var autoscale = !!((s.bars.show && s.bars.zero) || (s.lines.show && s.lines.zero));\n                        format.push({ y: true, number: true, required: false, defaultValue: 0, autoscale: autoscale });\n                        if (s.bars.horizontal) {\n                            delete format[format.length - 1].y;\n                            format[format.length - 1].x = true;\n                        }\n                    }\n\n                    s.datapoints.format = format;\n                }\n\n                if (s.datapoints.pointsize != null)\n                    continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n\n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                var insertSteps = s.lines.show && s.lines.steps;\n                s.xaxis.used = s.yaxis.used = true;\n\n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val))\n                                        val = null;\n                                    else if (val == Infinity)\n                                        val = fakeInfinity;\n                                    else if (val == -Infinity)\n                                        val = -fakeInfinity;\n                                }\n\n                                if (val == null) {\n                                    if (f.required)\n                                        nullify = true;\n\n                                    if (f.defaultValue != null)\n                                        val = f.defaultValue;\n                                }\n                            }\n\n                            points[k + m] = val;\n                        }\n                    }\n\n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.autoscale !== false) {\n                                    if (f.x) {\n                                        updateAxis(s.xaxis, val, val);\n                                    }\n                                    if (f.y) {\n                                        updateAxis(s.yaxis, val, val);\n                                    }\n                                }\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n\n                    if (insertSteps && k > 0 && (!nullify || points[k - ps] != null)) {\n                        // copy the point to make room for a middle point\n                        for (m = 0; m < ps; ++m)\n                            points[k + ps + m] = points[k + m];\n\n                        // middle point has same y\n                        points[k + 1] = points[k - ps + 1] || 0;\n\n                        // if series has null values, let's give the last !null value a nice step\n                        if(nullify)\n                        \tpoints[k] = p[0];\n\n                        // we've added a point, better reflect that\n                        k += ps;\n                    }\n                }\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points;\n                ps = s.datapoints.pointsize;\n\n                // grafana\n                if (s.transform === 'negative-Y') {\n                  for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                      val = points[j + 1];\n                      points[j + 1] = -val;\n                  }\n                }\n\n                executeHooks(hooks.processDatapoints, [ s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points;\n                ps = s.datapoints.pointsize;\n                format = s.datapoints.format;\n\n                var xmin = topSentry, ymin = topSentry,\n                    xmax = bottomSentry, ymax = bottomSentry;\n\n                for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                    for (m = 0; m < ps; ++m) {\n                        val = points[j + m];\n                        f = format[m];\n                        if (!f || f.autoscale === false || val == fakeInfinity || val == -fakeInfinity)\n                            continue;\n\n                        if (f.x) {\n                            if (val < xmin)\n                                xmin = val;\n                            if (val > xmax)\n                                xmax = val;\n                        }\n                        if (f.y) {\n                            if (val < ymin)\n                                ymin = val;\n                            if (val > ymax)\n                                ymax = val;\n                        }\n                    }\n                }\n\n                if (s.bars.show) {\n                    // make sure we got room for the bar on the dancing floor\n                    var delta;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            delta = 0;\n                            break;\n                        case \"right\":\n                            delta = -s.bars.barWidth;\n                            break;\n                        default:\n                            delta = -s.bars.barWidth / 2;\n                    }\n\n                    if (s.bars.horizontal) {\n                        ymin += delta;\n                        ymax += delta + s.bars.barWidth;\n                    }\n                    else {\n                        xmin += delta;\n                        xmax += delta + s.bars.barWidth;\n                    }\n                }\n\n                updateAxis(s.xaxis, xmin, xmax);\n                updateAxis(s.yaxis, ymin, ymax);\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                if (axis.datamin == topSentry)\n                    axis.datamin = null;\n                if (axis.datamax == bottomSentry)\n                    axis.datamax = null;\n            });\n        }\n\n        function setupCanvases() {\n            // Make sure the placeholder is clear of everything except canvases\n            // from a previous plot in this container that we'll try to re-use.\n\n            placeholder.find(\".flot-temp-elem\").remove();\n\n            if (placeholder.css(\"position\") == 'static')\n                placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n\n            surface = new Canvas(\"flot-base\", placeholder);\n            overlay = new Canvas(\"flot-overlay\", placeholder); // overlay canvas for interactive features\n\n            ctx = surface.context;\n            octx = overlay.context;\n\n            // define which element we're listening for events on\n            eventHolder = $(overlay.element).unbind();\n\n            // If we're re-using a plot object, shut down the old one\n\n            var existing = placeholder.data(\"plot\");\n\n            if (existing) {\n                existing.shutdown();\n                overlay.clear();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            // bind events\n            if (options.grid.hoverable) {\n                eventHolder.mousemove(onMouseMove);\n\n                // Use bind, rather than .mouseleave, because we officially\n                // still support jQuery 1.2.6, which doesn't define a shortcut\n                // for mouseenter or mouseleave.  This was a bug/oversight that\n                // was fixed somewhere around 1.3.x.  We can return to using\n                // .mouseleave when we drop support for 1.2.6.\n\n                eventHolder.bind(\"mouseleave\", onMouseLeave);\n            }\n\n            if (options.grid.clickable)\n                eventHolder.click(onClick);\n\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function shutdown() {\n            if (redrawTimeout)\n                clearTimeout(redrawTimeout);\n\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n\n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n\n            function identity(x) { return x; }\n\n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n\n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction == \"x\") {\n                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                m = Math.min(t(axis.max), t(axis.min));\n            }\n            else {\n                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t == identity) // slight optimization\n                axis.p2c = function (p) { return (p - m) * s; };\n            else\n                axis.p2c = function (p) { return (t(p) - m) * s; };\n            // canvas coordinate to data point\n            if (!it)\n                axis.c2p = function (c) { return m + c / s; };\n            else\n                axis.c2p = function (c) { return it(m + c / s); };\n        }\n\n        function measureTickLabels(axis) {\n\n            var opts = axis.options,\n                ticks = axis.ticks || [],\n                labelWidth = opts.labelWidth || 0,\n                labelHeight = opts.labelHeight || 0,\n                maxWidth = labelWidth || (axis.direction == \"x\" ? Math.floor(surface.width / (ticks.length || 1)) : null),\n                legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                font = opts.font || \"flot-tick-label tickLabel\";\n\n            for (var i = 0; i < ticks.length; ++i) {\n\n                var t = ticks[i];\n\n                if (!t.label)\n                    continue;\n\n                var info = surface.getTextInfo(layer, t.label, font, null, maxWidth);\n\n                /// Grafana fix, add +1 to label width\n                labelWidth = Math.max(labelWidth, info.width + 1);\n                labelHeight = Math.max(labelHeight, info.height);\n            }\n\n            axis.labelWidth = opts.labelWidth || labelWidth;\n            axis.labelHeight = opts.labelHeight || labelHeight;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset; this first phase only looks at one\n            // dimension per axis, the other dimension depends on the\n            // other axes so will have to wait\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                isXAxis = axis.direction === \"x\",\n                tickLength = axis.options.tickLength,\n                axisMargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                eventSectionPadding = options.grid.eventSectionHeight,\n                innermost = true,\n                outermost = true,\n                first = true,\n                found = false;\n\n            // Determine the axis's position in its direction and on its side\n\n            $.each(isXAxis ? xaxes : yaxes, function(i, a) {\n                if (a && (a.show || a.reserveSpace)) {\n                    if (a === axis) {\n                        found = true;\n                    } else if (a.options.position === pos) {\n                        if (found) {\n                            outermost = false;\n                        } else {\n                            innermost = false;\n                        }\n                    }\n                    if (!found) {\n                        first = false;\n                    }\n                }\n            });\n\n            // The outermost axis on each side has no margin\n\n            if (outermost) {\n                axisMargin = 0;\n            }\n\n            // The ticks for the first axis in each direction stretch across\n\n            if (tickLength == null) {\n                tickLength = first ? \"full\" : 5;\n            }\n\n            if (!isNaN(+tickLength))\n                padding += +tickLength;\n\n            if (isXAxis) {\n                // Add space for event section\n                lh += padding;\n                lh += eventSectionPadding;\n\n                if (pos == \"bottom\") {\n                    plotOffset.bottom += lh + axisMargin;\n                    axis.box = { top: surface.height - plotOffset.bottom, height: lh };\n                }\n                else {\n                    axis.box = { top: plotOffset.top + axisMargin, height: lh };\n                    plotOffset.top += lh + axisMargin;\n                }\n            }\n            else {\n                lw += padding;\n\n                if (pos == \"left\") {\n                    axis.box = { left: plotOffset.left + axisMargin, width: lw };\n                    plotOffset.left += lw + axisMargin;\n                }\n                else {\n                    plotOffset.right += lw + axisMargin;\n                    axis.box = { left: surface.width - plotOffset.right, width: lw };\n                }\n            }\n\n             // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.box.padding = padding;\n            axis.box.eventSectionPadding = eventSectionPadding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // now that all axis boxes have been placed in one\n            // dimension, we can set the remaining dimension coordinates\n            if (axis.direction == \"x\") {\n                axis.box.left = plotOffset.left - axis.labelWidth / 2;\n                axis.box.width = surface.width - plotOffset.left - plotOffset.right + axis.labelWidth;\n            }\n            else {\n                axis.box.top = plotOffset.top - axis.labelHeight / 2;\n                axis.box.height = surface.height - plotOffset.bottom - plotOffset.top + axis.labelHeight;\n            }\n        }\n\n        function adjustLayoutForThingsStickingOut() {\n            // possibly adjust plot offset to ensure everything stays\n            // inside the canvas and isn't clipped off\n\n            var minMargin = options.grid.minBorderMargin,\n                axis, i;\n\n            // check stuff from the plot (FIXME: this should just read\n            // a value from the series, otherwise it's impossible to\n            // customize)\n            if (minMargin == null) {\n                minMargin = 0;\n                for (i = 0; i < series.length; ++i)\n                    minMargin = Math.max(minMargin, 2 * (series[i].points.radius + series[i].points.lineWidth/2));\n            }\n\n            var margins = {\n                left: minMargin,\n                right: minMargin,\n                top: minMargin,\n                bottom: minMargin\n            };\n\n            // check axis labels, note we don't check the actual\n            // labels but instead use the overall width/height to not\n            // jump as much around with replots\n            $.each(allAxes(), function (_, axis) {\n                if (axis.reserveSpace && axis.ticks && axis.ticks.length) {\n                    if (axis.direction === \"x\") {\n                        margins.left = Math.max(margins.left, axis.labelWidth / 2);\n                        margins.right = Math.max(margins.right, axis.labelWidth / 2);\n                    } else {\n                        margins.bottom = Math.max(margins.bottom, axis.labelHeight / 2);\n                        margins.top = Math.max(margins.top, axis.labelHeight / 2);\n                    }\n                }\n            });\n\n            plotOffset.left = Math.ceil(Math.max(margins.left, plotOffset.left));\n            plotOffset.right = Math.ceil(Math.max(margins.right, plotOffset.right));\n            plotOffset.top = Math.ceil(Math.max(margins.top, plotOffset.top));\n            plotOffset.bottom = Math.ceil(Math.max(margins.bottom, plotOffset.bottom));\n        }\n\n        function setupGrid() {\n            var i, axes = allAxes(), showGrid = options.grid.show;\n\n            // Initialize the plot's offset from the edge of the canvas\n\n            for (var a in plotOffset) {\n                var margin = options.grid.margin || 0;\n                plotOffset[a] = typeof margin == \"number\" ? margin : margin[a] || 0;\n            }\n\n            executeHooks(hooks.processOffset, [plotOffset]);\n\n            // If the grid is visible, add its border width to the offset\n\n            for (var a in plotOffset) {\n                if(typeof(options.grid.borderWidth) == \"object\") {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth[a] : 0;\n                }\n                else {\n                    plotOffset[a] += showGrid ? options.grid.borderWidth : 0;\n                }\n            }\n\n            $.each(axes, function (_, axis) {\n                var axisOpts = axis.options;\n                axis.show = axisOpts.show == null ? axis.used : axisOpts.show;\n                axis.reserveSpace = axisOpts.reserveSpace == null ? axis.show : axisOpts.reserveSpace;\n                setRange(axis);\n            });\n\n            if (showGrid) {\n\n                var allocatedAxes = $.grep(axes, function (axis) {\n                    return axis.show || axis.reserveSpace;\n                });\n\n                $.each(allocatedAxes, function (_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks);\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions calculated, we can compute the\n                // axis bounding boxes, start from the outside\n                // (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i)\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n\n                // make sure we've got enough space for things that\n                // might stick out\n                adjustLayoutForThingsStickingOut();\n\n                $.each(allocatedAxes, function (_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n            }\n\n            plotWidth = surface.width - plotOffset.left - plotOffset.right;\n            plotHeight = surface.height - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plot dimensions, we can compute the scaling\n            $.each(axes, function (_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (showGrid) {\n                drawAxisLabels();\n            }\n\n            insertLegend();\n        }\n\n        function setRange(axis) {\n            var opts = axis.options,\n                min = +(opts.min != null ? opts.min : axis.datamin),\n                max = +(opts.max != null ? opts.max : axis.datamax),\n                delta = max - min;\n\n            if (delta == 0.0) {\n                // Grafana fix: wide Y min and max using increased wideFactor\n                // when all series values are the same\n                var wideFactor = 0.25;\n                var widen = Math.abs(max == 0 ? 1 : max * wideFactor);\n\n                if (opts.min == null) {\n                  min -= widen;\n                }\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (opts.max == null || opts.min != null) {\n                  max += widen;\n                }\n            }\n            else {\n                // consider autoscaling\n                var margin = opts.autoscaleMargin;\n                if (margin != null) {\n                    if (opts.min == null) {\n                        min -= delta * margin;\n                        // make sure we don't go below zero if all values\n                        // are positive\n                        if (min < 0 && axis.datamin != null && axis.datamin >= 0)\n                            min = 0;\n                    }\n                    if (opts.max == null) {\n                        max += delta * margin;\n                        if (max > 0 && axis.datamax != null && axis.datamax <= 0)\n                            max = 0;\n                    }\n                }\n            }\n            axis.min = min;\n            axis.max = max;\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n\n            // estimate number of ticks\n            var noTicks;\n            if (typeof opts.ticks == \"number\" && opts.ticks > 0)\n                noTicks = opts.ticks;\n            else\n                // heuristic based on the model a*sqrt(x) fitted to\n                // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(axis.direction == \"x\" ? surface.width : surface.height);\n\n            var delta = (axis.max - axis.min) / noTicks,\n                dec = -Math.floor(Math.log(delta) / Math.LN10),\n                maxDec = opts.tickDecimals;\n\n            if (maxDec != null && dec > maxDec) {\n                dec = maxDec;\n            }\n\n            var magn = Math.pow(10, -dec),\n                norm = delta / magn, // norm is between 1.0 and 10.0\n                size;\n\n            if (norm < 1.5) {\n                size = 1;\n            } else if (norm < 3) {\n                size = 2;\n                // special case for 2.5, requires an extra decimal\n                if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n                    size = 2.5;\n                    ++dec;\n                }\n            } else if (norm < 7.5) {\n                size = 5;\n            } else {\n                size = 10;\n            }\n\n            size *= magn;\n\n            if (opts.minTickSize != null && size < opts.minTickSize) {\n                size = opts.minTickSize;\n            }\n\n            axis.delta = delta;\n            axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n            axis.tickSize = opts.tickSize || size;\n            // grafana addition\n            axis.scaledDecimals = axis.tickDecimals - Math.floor(Math.log(axis.tickSize) / Math.LN10);\n\n            // Time mode was moved to a plug-in in 0.8, and since so many people use it\n            // we'll add an especially friendly reminder to make sure they included it.\n\n            if (opts.mode == \"time\" && !axis.tickGenerator) {\n                throw new Error(\"Time mode requires the flot.time plugin.\");\n            }\n\n            // Flot supports base-10 axes; any other mode else is handled by a plug-in,\n            // like flot.time.js.\n\n            if (!axis.tickGenerator) {\n\n                axis.tickGenerator = function (axis) {\n\n                    var ticks = [],\n                        start = floorInBase(axis.min, axis.tickSize),\n                        i = 0,\n                        v = Number.NaN,\n                        prev;\n\n                    do {\n                        prev = v;\n                        v = start + i * axis.tickSize;\n                        ticks.push(v);\n                        ++i;\n                    } while (v < axis.max && v != prev);\n                    return ticks;\n                };\n\n\t\t\t\taxis.tickFormatter = function (value, axis) {\n\n\t\t\t\t\tvar factor = axis.tickDecimals ? Math.pow(10, axis.tickDecimals) : 1;\n\t\t\t\t\tvar formatted = \"\" + Math.round(value * factor) / factor;\n\n\t\t\t\t\t// If tickDecimals was specified, ensure that we have exactly that\n\t\t\t\t\t// much precision; otherwise default to the value's own precision.\n\n\t\t\t\t\tif (axis.tickDecimals != null) {\n\t\t\t\t\t\tvar decimal = formatted.indexOf(\".\");\n\t\t\t\t\t\tvar precision = decimal == -1 ? 0 : formatted.length - decimal - 1;\n\t\t\t\t\t\tif (precision < axis.tickDecimals) {\n\t\t\t\t\t\t\treturn (precision ? formatted : formatted + \".\") + (\"\" + factor).substr(1, axis.tickDecimals - precision);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n                    return formatted;\n                };\n            }\n\n            if ($.isFunction(opts.tickFormatter))\n                axis.tickFormatter = function (v, axis) { return \"\" + opts.tickFormatter(v, axis); };\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction == \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis != axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = axis.tickGenerator(axis);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null)\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        if (opts.max == null && niceTicks.length > 1)\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                    }\n\n                    axis.tickGenerator = function (axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [], v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n\n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (!axis.mode && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(axis.delta) / Math.LN10) + 1),\n                            ts = axis.tickGenerator(axis);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec))))\n                            axis.tickDecimals = extraDec;\n                    }\n                }\n            }\n        }\n\n        function setTicks(axis) {\n            var oticks = axis.options.ticks, ticks = [];\n            if (oticks == null || (typeof oticks == \"number\" && oticks > 0))\n                ticks = axis.tickGenerator(axis);\n            else if (oticks) {\n                if ($.isFunction(oticks))\n                    // generate the ticks\n                    ticks = oticks(axis);\n                else\n                    ticks = oticks;\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t == \"object\") {\n                    v = +t[0];\n                    if (t.length > 1)\n                        label = t[1];\n                }\n                else\n                    v = +t;\n                if (label == null)\n                    label = axis.tickFormatter(v, axis);\n                if (!isNaN(v))\n                    axis.ticks.push({ v: v, label: label });\n            }\n        }\n\n        function snapRangeToTicks(axis, ticks) {\n            if (axis.options.autoscaleMargin && ticks.length > 0) {\n                // snap to ticks\n                if (axis.options.min == null)\n                    axis.min = Math.min(axis.min, ticks[0].v);\n                if (axis.options.max == null && ticks.length > 1)\n                    axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n\n        function draw() {\n\n            surface.clear();\n\n            executeHooks(hooks.drawBackground, [ctx]);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor)\n                drawBackground();\n\n            if (grid.show && !grid.aboveData) {\n                drawGrid();\n            }\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i]]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n\n            if (grid.show && grid.aboveData) {\n                drawGrid();\n            }\n\n            surface.render();\n\n            // A draw implies that either the axes or data have changed, so we\n            // should probably update the overlay highlights as well.\n\n            triggerRedrawOverlay();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (var i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawGrid() {\n            var i, axes, bw, bc;\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // draw markings\n            var markings = options.grid.markings;\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n\n                    markings = markings(axes);\n                }\n\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null)\n                        xrange.from = xrange.axis.min;\n                    if (xrange.to == null)\n                        xrange.to = xrange.axis.max;\n                    if (yrange.from == null)\n                        yrange.from = yrange.axis.min;\n                    if (yrange.to == null)\n                        yrange.to = yrange.axis.max;\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max)\n                        continue;\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    var xequal = xrange.from === xrange.to,\n                        yequal = yrange.from === yrange.to;\n\n                    if (xequal && yequal) {\n                        continue;\n                    }\n\n                    // then draw\n                    xrange.from = Math.floor(xrange.axis.p2c(xrange.from));\n                    xrange.to = Math.floor(xrange.axis.p2c(xrange.to));\n                    yrange.from = Math.floor(yrange.axis.p2c(yrange.from));\n                    yrange.to = Math.floor(yrange.axis.p2c(yrange.to));\n\n                    if (xequal || yequal) {\n                        var lineWidth = m.lineWidth || options.grid.markingsLineWidth,\n                            subPixel = lineWidth % 2 ? 0.5 : 0;\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = lineWidth;\n                        if (xequal) {\n                            ctx.moveTo(xrange.to + subPixel, yrange.from);\n                            ctx.lineTo(xrange.to + subPixel, yrange.to);\n                        } else {\n                            ctx.moveTo(xrange.from, yrange.to + subPixel);\n                            ctx.lineTo(xrange.to, yrange.to + subPixel);\n                        }\n                        ctx.stroke();\n                    } else {\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                                     xrange.to - xrange.from,\n                                     yrange.from - yrange.to);\n                    }\n                }\n            }\n\n            // draw the ticks\n            axes = allAxes();\n            bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box,\n                    t = axis.tickLength, x, y, xoff, yoff;\n                if (!axis.show || axis.ticks.length == 0)\n                    continue;\n\n                ctx.lineWidth = 1;\n\n                // find the edges\n                if (axis.direction == \"x\") {\n                    x = 0;\n                    if (t == \"full\")\n                        y = (axis.position == \"top\" ? 0 : plotHeight);\n                    else\n                        y = box.top - plotOffset.top + (axis.position == \"top\" ? box.height : 0);\n                }\n                else {\n                    y = 0;\n                    if (t == \"full\")\n                        x = (axis.position == \"left\" ? 0 : plotWidth);\n                    else\n                        x = box.left - plotOffset.left + (axis.position == \"left\" ? box.width : 0);\n                }\n\n                // draw tick bar\n                if (!axis.innermost) {\n                    ctx.strokeStyle = axis.options.color;\n                    ctx.beginPath();\n                    xoff = yoff = 0;\n                    if (axis.direction == \"x\")\n                        xoff = plotWidth + 1;\n                    else\n                        yoff = plotHeight + 1;\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\") {\n                            y = Math.floor(y) + 0.5;\n                        } else {\n                            x = Math.floor(x) + 0.5;\n                        }\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                    ctx.stroke();\n                }\n\n                // draw ticks\n\n                ctx.strokeStyle = axis.options.tickColor;\n\n                ctx.beginPath();\n                for (i = 0; i < axis.ticks.length; ++i) {\n                    var v = axis.ticks[i].v;\n\n                    xoff = yoff = 0;\n\n                    if (isNaN(v) || v < axis.min || v > axis.max\n                        // skip those lying on the axes if we got a border\n                        || (t == \"full\"\n                            && ((typeof bw == \"object\" && bw[axis.position] > 0) || bw > 0)\n                            && (v == axis.min || v == axis.max)))\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t == \"full\" ? -plotHeight : t;\n\n                        if (axis.position == \"top\")\n                            yoff = -yoff;\n                    }\n                    else {\n                        y = axis.p2c(v);\n                        xoff = t == \"full\" ? -plotWidth : t;\n\n                        if (axis.position == \"left\")\n                            xoff = -xoff;\n                    }\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\")\n                            x = Math.floor(x) + 0.5;\n                        else\n                            y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n\n                ctx.stroke();\n            }\n\n\n            // draw border\n            if (bw) {\n                // If either borderWidth or borderColor is an object, then draw the border\n                // line by line instead of as one rectangle\n                bc = options.grid.borderColor;\n                if(typeof bw == \"object\" || typeof bc == \"object\") {\n                    if (typeof bw !== \"object\") {\n                        bw = {top: bw, right: bw, bottom: bw, left: bw};\n                    }\n                    if (typeof bc !== \"object\") {\n                        bc = {top: bc, right: bc, bottom: bc, left: bc};\n                    }\n\n                    if (bw.top > 0) {\n                        ctx.strokeStyle = bc.top;\n                        ctx.lineWidth = bw.top;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left, 0 - bw.top/2);\n                        ctx.lineTo(plotWidth, 0 - bw.top/2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.right > 0) {\n                        ctx.strokeStyle = bc.right;\n                        ctx.lineWidth = bw.right;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right / 2, 0 - bw.top);\n                        ctx.lineTo(plotWidth + bw.right / 2, plotHeight);\n                        ctx.stroke();\n                    }\n\n                    if (bw.bottom > 0) {\n                        ctx.strokeStyle = bc.bottom;\n                        ctx.lineWidth = bw.bottom;\n                        ctx.beginPath();\n                        ctx.moveTo(plotWidth + bw.right, plotHeight + bw.bottom / 2);\n                        ctx.lineTo(0, plotHeight + bw.bottom / 2);\n                        ctx.stroke();\n                    }\n\n                    if (bw.left > 0) {\n                        ctx.strokeStyle = bc.left;\n                        ctx.lineWidth = bw.left;\n                        ctx.beginPath();\n                        ctx.moveTo(0 - bw.left/2, plotHeight + bw.bottom);\n                        ctx.lineTo(0- bw.left/2, 0);\n                        ctx.stroke();\n                    }\n                }\n                else {\n                    ctx.lineWidth = bw;\n                    ctx.strokeStyle = options.grid.borderColor;\n                    ctx.strokeRect(-bw/2, -bw/2, plotWidth + bw, plotHeight + bw);\n                }\n            }\n\n            ctx.restore();\n        }\n\n        function drawAxisLabels() {\n\n            $.each(allAxes(), function (_, axis) {\n                var box = axis.box,\n                    legacyStyles = axis.direction + \"Axis \" + axis.direction + axis.n + \"Axis\",\n                    layer = \"flot-\" + axis.direction + \"-axis flot-\" + axis.direction + axis.n + \"-axis \" + legacyStyles,\n                    font = axis.options.font || \"flot-tick-label tickLabel\",\n                    tick, x, y, halign, valign;\n\n                // Remove text before checking for axis.show and ticks.length;\n                // otherwise plugins, like flot-tickrotor, that draw their own\n                // tick labels will end up with both theirs and the defaults.\n\n                surface.removeText(layer);\n\n                if (!axis.show || axis.ticks.length == 0)\n                    return;\n\n                for (var i = 0; i < axis.ticks.length; ++i) {\n\n                    tick = axis.ticks[i];\n                    if (!tick.label || tick.v < axis.min || tick.v > axis.max)\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        halign = \"center\";\n                        x = plotOffset.left + axis.p2c(tick.v);\n                        if (axis.position == \"bottom\") {\n                            y = box.top + box.padding + box.eventSectionPadding;\n                        } else {\n                            y = box.top + box.height - box.padding;\n                            valign = \"bottom\";\n                        }\n                    } else {\n                        valign = \"middle\";\n                        y = plotOffset.top + axis.p2c(tick.v);\n                        if (axis.position == \"left\") {\n                            x = box.left + box.width - box.padding;\n                            halign = \"right\";\n                        } else {\n                            x = box.left + box.padding;\n                        }\n                    }\n\n                    surface.addText(layer, x, y, tick.label, font, null, null, halign, valign);\n                }\n            });\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show)\n                drawSeriesLines(series);\n            if (series.bars.show)\n                drawSeriesBars(series);\n            if (series.points.show)\n                drawSeriesPoints(series);\n        }\n\n        function drawSeriesLines(series) {\n            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    prevx = null, prevy = null;\n\n                ctx.beginPath();\n                for (var i = ps; i < points.length; i += ps) {\n                    var x1 = points[i - ps], y1 = points[i - ps + 1],\n                        x2 = points[i], y2 = points[i + 1];\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min) {\n                        if (y2 < axisy.min)\n                            continue;   // line segment is outside\n                        // compute new intersection point\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min) {\n                        if (y1 < axisy.min)\n                            continue;\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max) {\n                        if (y2 > axisy.max)\n                            continue;\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max) {\n                        if (y1 > axisy.max)\n                            continue;\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (x1 != prevx || y1 != prevy)\n                        ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n\n                    prevx = x2;\n                    prevy = y2;\n                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n                }\n                ctx.stroke();\n            }\n\n            function plotLineArea(datapoints, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),\n                    i = 0, top, areaOpen = false,\n                    ypos = 1, segmentStart = 0, segmentEnd = 0;\n\n                // we process each segment in two turns, first forward\n                // direction to sketch out top, then once we hit the\n                // end we go backwards to sketch the bottom\n                while (true) {\n                    if (ps > 0 && i > points.length + ps)\n                        break;\n\n                    i += ps; // ps is negative if going backwards\n\n                    var x1 = points[i - ps],\n                        y1 = points[i - ps + ypos],\n                        x2 = points[i], y2 = points[i + ypos];\n\n                    if (areaOpen) {\n                        if (ps > 0 && x1 != null && x2 == null) {\n                            // at turning point\n                            segmentEnd = i;\n                            ps = -ps;\n                            ypos = 2;\n                            continue;\n                        }\n\n                        if (ps < 0 && i == segmentStart + ps) {\n                            // done with the reverse sweep\n                            ctx.fill();\n                            areaOpen = false;\n                            ps = -ps;\n                            ypos = 1;\n                            i = segmentStart = segmentEnd + ps;\n                            continue;\n                        }\n                    }\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip x values\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (!areaOpen) {\n                        // open area\n                        ctx.beginPath();\n                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                        areaOpen = true;\n                    }\n\n                    // now first check the case where both is outside\n                    if (y1 >= axisy.max && y2 >= axisy.max) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                        continue;\n                    }\n                    else if (y1 <= axisy.min && y2 <= axisy.min) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                        continue;\n                    }\n\n                    // else it's a bit more complicated, there might\n                    // be a flat maxed out rectangle first, then a\n                    // triangular cutout or reverse; to find these\n                    // keep track of the current x values\n                    var x1old = x1, x2old = x2;\n\n                    // clip the y values, without shortcutting, we\n                    // go through all cases in turn\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // if the x value was changed we got a rectangle\n                    // to fill\n                    if (x1 != x1old) {\n                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                        // it goes to (x1, y1), but we fill that below\n                    }\n\n                    // fill triangular section, this sometimes result\n                    // in redundant points if (x1, y1) hasn't changed\n                    // from previous line to, but we just ignore that\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                    // fill the other rectangle if it's there\n                    if (x2 != x2old) {\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                    }\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            var lw = series.lines.lineWidth,\n                sw = series.shadowSize;\n            // FIXME: consider another form of shadow when filling is turned on\n            if (lw > 0 && sw > 0) {\n                // draw shadow as a thick and thin line with transparency\n                ctx.lineWidth = sw;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                // position shadow at angle from the mid of line\n                var angle = Math.PI/18;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2), series.xaxis, series.yaxis);\n                ctx.lineWidth = sw/2;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4), series.xaxis, series.yaxis);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(series.datapoints, series.xaxis, series.yaxis);\n            }\n\n            if (lw > 0)\n                plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function drawSeriesPoints(series) {\n            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i], y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                        continue;\n\n                    ctx.beginPath();\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n                    if (symbol == \"circle\")\n                        ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n                    else\n                        symbol(ctx, x, y, radius, shadow);\n                    ctx.closePath();\n\n                    if (fillStyle) {\n                        ctx.fillStyle = fillStyle;\n                        ctx.fill();\n                    }\n                    ctx.stroke();\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var lw = series.points.lineWidth,\n                sw = series.shadowSize,\n                radius = series.points.radius,\n                symbol = series.points.symbol;\n\n            // If the user sets the line width to 0, we change it to a very\n            // small value. A line width of 0 seems to force the default of 1.\n            // Doing the conditional here allows the shadow setting to still be\n            // optional even with a lineWidth of 0.\n\n            if( lw == 0 )\n                lw = 0.0001;\n\n            if (lw > 0 && sw > 0) {\n                // draw shadow in two steps\n                var w = sw / 2;\n                ctx.lineWidth = w;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                plotPoints(series.datapoints, radius, null, w + w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n\n                ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                plotPoints(series.datapoints, radius, null, w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            plotPoints(series.datapoints, radius,\n                       getFillStyle(series.points, series.color), 0, false,\n                       series.xaxis, series.yaxis, symbol);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left, right, bottom, top,\n                drawLeft, drawRight, drawTop, drawBottom,\n                tmp;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            }\n            else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n\n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max)\n                return;\n\n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n\n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n\n            // fill the bar\n            if (fillStyleCallback) {\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fillRect(left, top, right - left, bottom - top)\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom);\n                if (drawLeft)\n                    c.lineTo(left, top);\n                else\n                    c.moveTo(left, top);\n                if (drawTop)\n                    c.lineTo(right, top);\n                else\n                    c.moveTo(right, top);\n                if (drawRight)\n                    c.lineTo(right, bottom);\n                else\n                    c.moveTo(right, bottom);\n                if (drawBottom)\n                    c.lineTo(left, bottom);\n                else\n                    c.moveTo(left, bottom);\n                c.stroke();\n            }\n        }\n\n        function drawSeriesBars(series) {\n            function plotBars(datapoints, barLeft, barRight, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null)\n                        continue;\n                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // FIXME: figure out a way to add shadows (for instance along the right edge)\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n\n            var barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            var fillStyleCallback = series.bars.fill ? function (bottom, top) { return getFillStyle(series.bars, series.color, bottom, top); } : null;\n            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top) {\n            var fill = filloptions.fill;\n            if (!fill)\n                return null;\n\n            if (filloptions.fillColor)\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n\n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill == \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n\n        function insertLegend() {\n\n            if (options.legend.container != null) {\n                $(options.legend.container).html(\"\");\n            } else {\n                placeholder.find(\".legend\").remove();\n            }\n\n            if (!options.legend.show) {\n                return;\n            }\n\n            var fragments = [], entries = [], rowStarted = false,\n                lf = options.legend.labelFormatter, s, label;\n\n            // Build a list of legend entries, with each having a label and a color\n\n            for (var i = 0; i < series.length; ++i) {\n                s = series[i];\n                if (s.label) {\n                    label = lf ? lf(s.label, s) : s.label;\n                    if (label) {\n                        entries.push({\n                            label: label,\n                            color: s.color\n                        });\n                    }\n                }\n            }\n\n            // Sort the legend using either the default or a custom comparator\n\n            if (options.legend.sorted) {\n                if ($.isFunction(options.legend.sorted)) {\n                    entries.sort(options.legend.sorted);\n                } else if (options.legend.sorted == \"reverse\") {\n                \tentries.reverse();\n                } else {\n                    var ascending = options.legend.sorted != \"descending\";\n                    entries.sort(function(a, b) {\n                        return a.label == b.label ? 0 : (\n                            (a.label < b.label) != ascending ? 1 : -1   // Logical XOR\n                        );\n                    });\n                }\n            }\n\n            // Generate markup for the list of entries, in their final order\n\n            for (var i = 0; i < entries.length; ++i) {\n\n                var entry = entries[i];\n\n                if (i % options.legend.noColumns == 0) {\n                    if (rowStarted)\n                        fragments.push('</tr>');\n                    fragments.push('<tr>');\n                    rowStarted = true;\n                }\n\n                fragments.push(\n                    '<td class=\"legendColorBox\"><div style=\"border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px\"><div style=\"width:4px;height:0;border:5px solid ' + entry.color + ';overflow:hidden\"></div></div></td>' +\n                    '<td class=\"legendLabel\">' + entry.label + '</td>'\n                );\n            }\n\n            if (rowStarted)\n                fragments.push('</tr>');\n\n            if (fragments.length == 0)\n                return;\n\n            var table = '<table style=\"font-size:smaller;color:' + options.grid.color + '\">' + fragments.join(\"\") + '</table>';\n            if (options.legend.container != null)\n                $(options.legend.container).html(table);\n            else {\n                var pos = \"\",\n                    p = options.legend.position,\n                    m = options.legend.margin;\n                if (m[0] == null)\n                    m = [m, m];\n                if (p.charAt(0) == \"n\")\n                    pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n                else if (p.charAt(0) == \"s\")\n                    pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n                if (p.charAt(1) == \"e\")\n                    pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n                else if (p.charAt(1) == \"w\")\n                    pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n                var legend = $('<div class=\"legend\">' + table.replace('style=\"', 'style=\"position:absolute;' + pos +';') + '</div>').appendTo(placeholder);\n                if (options.legend.backgroundOpacity != 0.0) {\n                    // put in the transparent background\n                    // separately to avoid blended labels and\n                    // label boxes\n                    var c = options.legend.backgroundColor;\n                    if (c == null) {\n                        c = options.grid.backgroundColor;\n                        if (c && typeof c == \"string\")\n                            c = $.color.parse(c);\n                        else\n                            c = $.color.extract(legend, 'background-color');\n                        c.a = 1;\n                        c = c.toString();\n                    }\n                    var div = legend.children();\n                    $('<div style=\"position:absolute;width:' + div.width() + 'px;height:' + div.height() + 'px;' + pos +'background-color:' + c + ';\"> </div>').prependTo(legend).css('opacity', options.legend.backgroundOpacity);\n                }\n            }\n        }\n\n\n        // interactive features\n\n        var highlights = [],\n            redrawTimeout = null;\n\n        // returns the data item the mouse is over, or null if none is found\n        function findNearbyItem(mouseX, mouseY, seriesFilter) {\n            var maxDistance = options.grid.mouseActiveRadius,\n                smallestDistance = maxDistance * maxDistance + 1,\n                item = null, foundPoint = false, i, j, ps;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(series[i]))\n                    continue;\n\n                var s = series[i],\n                    axisx = s.xaxis,\n                    axisy = s.yaxis,\n                    points = s.datapoints.points,\n                    mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n                    my = axisy.c2p(mouseY),\n                    maxx = maxDistance / axisx.scale,\n                    maxy = maxDistance / axisy.scale;\n\n                ps = s.datapoints.pointsize;\n                // with inverse transforms, we can't use the maxx/maxy\n                // optimization, sadly\n                if (axisx.options.inverseTransform)\n                    maxx = Number.MAX_VALUE;\n                if (axisy.options.inverseTransform)\n                    maxy = Number.MAX_VALUE;\n\n                if (s.lines.show || s.points.show) {\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1];\n                        if (x == null)\n                            continue;\n\n                        // For points and lines, the cursor must be within a\n                        // certain distance to the data point\n                        if (x - mx > maxx || x - mx < -maxx ||\n                            y - my > maxy || y - my < -maxy)\n                            continue;\n\n                        // We have to calculate distances in pixels, not in\n                        // data units, because the scales of the axes may be different\n                        var dx = Math.abs(axisx.p2c(x) - mouseX),\n                            dy = Math.abs(axisy.p2c(y) - mouseY),\n                            dist = dx * dx + dy * dy; // we save the sqrt\n\n                        // use <= to ensure last point takes precedence\n                        // (last generally means on top of)\n                        if (dist < smallestDistance) {\n                            smallestDistance = dist;\n                            item = [i, j / ps];\n                        }\n                    }\n                }\n\n                if (s.bars.show && !item) { // no other point can be nearby\n\n                    var barLeft, barRight;\n\n                    switch (s.bars.align) {\n                        case \"left\":\n                            barLeft = 0;\n                            break;\n                        case \"right\":\n                            barLeft = -s.bars.barWidth;\n                            break;\n                        default:\n                            barLeft = -s.bars.barWidth / 2;\n                    }\n\n                    barRight = barLeft + s.bars.barWidth;\n\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1], b = points[j + 2];\n                        if (x == null)\n                            continue;\n\n                        // for a bar graph, the cursor must be inside the bar\n                        if (series[i].bars.horizontal ?\n                            (mx <= Math.max(b, x) && mx >= Math.min(b, x) &&\n                             my >= y + barLeft && my <= y + barRight) :\n                            (mx >= x + barLeft && mx <= x + barRight &&\n                             my >= Math.min(b, y) && my <= Math.max(b, y)))\n                                item = [i, j / ps];\n                    }\n                }\n            }\n\n            if (item) {\n                i = item[0];\n                j = item[1];\n                ps = series[i].datapoints.pointsize;\n\n                return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                         dataIndex: j,\n                         series: series[i],\n                         seriesIndex: i };\n            }\n\n            return null;\n        }\n\n        function onMouseMove(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return s[\"hoverable\"] != false; });\n        }\n\n        function onMouseLeave(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return false; });\n        }\n\n        function onClick(e) {\n          if (plot.isSelecting) {\n            return;\n          }\n\n          triggerClickHoverEvent(\"plotclick\", e, function (s) { return s[\"clickable\"] != false; });\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter) {\n            var offset = eventHolder.offset(),\n                canvasX = event.pageX - offset.left - plotOffset.left,\n                canvasY = event.pageY - offset.top - plotOffset.top,\n            pos = canvasToAxisCoords({ left: canvasX, top: canvasY });\n\n            pos.pageX = event.pageX;\n            pos.pageY = event.pageY;\n\n            // Add ctrlKey and metaKey to event\n            pos.ctrlKey = event.ctrlKey;\n            pos.metaKey = event.metaKey;\n\n            var item = findNearbyItem(canvasX, canvasY, seriesFilter);\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left, 10);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top, 10);\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto == eventname &&\n                        !(item && h.series == item.series &&\n                          h.point[0] == item.datapoint[0] &&\n                          h.point[1] == item.datapoint[1]))\n                        unhighlight(h.series, h.point);\n                }\n\n                if (item)\n                    highlight(item.series, item.datapoint, eventname);\n            }\n\n            placeholder.trigger(eventname, [ pos, item ]);\n        }\n\n        function triggerRedrawOverlay() {\n            var t = options.interaction.redrawOverlayInterval;\n            if (t == -1) {      // skip event queue\n                drawOverlay();\n                return;\n            }\n\n            if (!redrawTimeout)\n                redrawTimeout = setTimeout(drawOverlay, t);\n        }\n\n        function drawOverlay() {\n            redrawTimeout = null;\n\n            // draw highlights\n            octx.save();\n            overlay.clear();\n            octx.translate(plotOffset.left, plotOffset.top);\n\n            var i, hi;\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show)\n                    drawBarHighlight(hi.series, hi.point);\n                else\n                    drawPointHighlight(hi.series, hi.point);\n            }\n            octx.restore();\n\n            executeHooks(hooks.drawOverlay, [octx]);\n        }\n\n        function highlight(s, point, auto) {\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i == -1) {\n                highlights.push({ series: s, point: point, auto: auto });\n\n                triggerRedrawOverlay();\n            }\n            else if (!auto)\n                highlights[i].auto = false;\n        }\n\n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                triggerRedrawOverlay();\n                return;\n            }\n\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i != -1) {\n                highlights.splice(i, 1);\n\n                triggerRedrawOverlay();\n            }\n        }\n\n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series == s && h.point[0] == p[0]\n                    && h.point[1] == p[1])\n                    return i;\n            }\n            return -1;\n        }\n\n        function drawPointHighlight(series, point) {\n            var x = point[0], y = point[1],\n                axisx = series.xaxis, axisy = series.yaxis,\n                highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString();\n\n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                return;\n\n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = highlightColor;\n            var radius = 1.5 * pointRadius;\n            x = axisx.p2c(x);\n            y = axisy.p2c(y);\n\n            octx.beginPath();\n            if (series.points.symbol == \"circle\")\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            else\n                series.points.symbol(octx, x, y, radius, false);\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point) {\n            var highlightColor = (typeof series.highlightColor === \"string\") ? series.highlightColor : $.color.parse(series.color).scale('a', 0.5).toString(),\n                fillStyle = highlightColor,\n                barLeft;\n\n            switch (series.bars.align) {\n                case \"left\":\n                    barLeft = 0;\n                    break;\n                case \"right\":\n                    barLeft = -series.bars.barWidth;\n                    break;\n                default:\n                    barLeft = -series.bars.barWidth / 2;\n            }\n\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = highlightColor;\n\n            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth,\n                    function () { return fillStyle; }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec == \"string\")\n                return spec;\n            else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n\n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c != \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null)\n                            co = co.scale('rgb', c.brightness);\n                        if (c.opacity != null)\n                            co.a *= c.opacity;\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n\n                return gradient;\n            }\n        }\n    }\n\n    // Add the plot function to the top level of the jQuery object\n\n    $.plot = function(placeholder, data, options) {\n        //var t0 = new Date();\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        //(window.console ? console.log : alert)(\"time used (msecs): \" + ((new Date()).getTime() - t0.getTime()));\n        return plot;\n    };\n\n    $.plot.version = \"0.8.3\";\n\n    $.plot.plugins = [];\n\n    // Also add the plot function as a chainable property\n\n    $.fn.plot = function(data, options) {\n        return this.each(function() {\n            $.plot(this, data, options);\n        });\n    };\n\n    // round to nearby lower multiple of base\n    function floorInBase(n, base) {\n        return base * Math.floor(n / base);\n    }\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.js\n// module id = 1315\n// module chunks = 0","import System from 'systemjs/dist/system.js';\nimport _ from 'lodash';\nimport * as sdk from 'app/plugins/sdk';\nimport kbn from 'app/core/utils/kbn';\nimport moment from 'moment';\nimport angular from 'angular';\nimport jquery from 'jquery';\nimport config from 'app/core/config';\nimport TimeSeries from 'app/core/time_series2';\nimport TableModel from 'app/core/table_model';\nimport {coreModule, appEvents, contextSrv} from 'app/core/core';\nimport * as datemath from 'app/core/utils/datemath';\nimport * as fileExport from 'app/core/utils/file_export';\nimport * as flatten from 'app/core/utils/flatten';\nimport * as ticks from 'app/core/utils/ticks';\nimport {impressions} from 'app/features/dashboard/impression_store';\nimport builtInPlugins from './built_in_plugins';\nimport * as d3 from 'd3';\n\n// rxjs\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\n\n// these imports add functions to Observable\nimport 'rxjs/add/observable/empty';\nimport 'rxjs/add/observable/from';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/combineAll';\n\nSystem.config({\n  baseURL: 'public',\n  defaultExtension: 'js',\n  packages: {\n    'plugins': {\n      defaultExtension: 'js'\n    }\n  },\n  map: {\n    text: 'vendor/plugin-text/text.js',\n    css: 'vendor/plugin-css/css.js'\n  },\n  meta: {\n    '*': {\n      esModule: true,\n      authorization: true,\n    }\n  }\n});\n\n// add cache busting\nvar systemLocate = System.locate;\nSystem.cacheBust = '?bust=' + Date.now();\nSystem.locate = function(load) {\n  var System = this;\n  return Promise.resolve(systemLocate.call(this, load)).then(function(address) {\n    return address + System.cacheBust;\n  });\n};\n\nfunction exposeToPlugin(name: string, component: any) {\n  System.registerDynamic(name, [], true, function(require, exports, module) {\n    module.exports = component;\n  });\n}\n\nexposeToPlugin('lodash', _);\nexposeToPlugin('moment', moment);\nexposeToPlugin('jquery', jquery);\nexposeToPlugin('angular', angular);\nexposeToPlugin('d3', d3);\nexposeToPlugin('rxjs/Subject', Subject);\nexposeToPlugin('rxjs/Observable', Observable);\n\n// backward compatible path\nexposeToPlugin('vendor/npm/rxjs/Rx', {\n  Subject: Subject,\n  Observable: Observable\n});\n\nexposeToPlugin('app/features/dashboard/impression_store', {\n  impressions: impressions,\n  __esModule: true\n});\n\n////////////\nimport { EventManager } from 'app/features/annotations/all';\nimport {DataProcessor} from \"../../plugins/panel/graph/data_processor\";\nexposeToPlugin('app/features/annotations/all', EventManager);\nexposeToPlugin('app/plugins/panel/graph/graph', {name: 1});\nexposeToPlugin('app/plugins/panel/graph/legend', {name: 2});\nexposeToPlugin('app/plugins/panel/graph/data_processor', DataProcessor);\n///////////////\n\nexposeToPlugin('app/plugins/sdk', sdk);\nexposeToPlugin('app/core/utils/datemath', datemath);\nexposeToPlugin('app/core/utils/file_export', fileExport);\nexposeToPlugin('app/core/utils/flatten', flatten);\nexposeToPlugin('app/core/utils/kbn', kbn);\nexposeToPlugin('app/core/utils/ticks', ticks);\n\nexposeToPlugin('app/core/config', config);\nexposeToPlugin('app/core/time_series', TimeSeries);\nexposeToPlugin('app/core/time_series2', TimeSeries);\nexposeToPlugin('app/core/table_model', TableModel);\nexposeToPlugin('app/core/app_events', appEvents);\nexposeToPlugin('app/core/core_module', coreModule);\nexposeToPlugin('app/core/core', {\n  coreModule: coreModule,\n  appEvents: appEvents,\n  contextSrv: contextSrv,\n  __esModule: true\n});\n\nimport 'vendor/flot/jquery.flot';\nimport 'vendor/flot/jquery.flot.selection';\nimport 'vendor/flot/jquery.flot.time';\nimport 'vendor/flot/jquery.flot.stack';\nimport 'vendor/flot/jquery.flot.pie';\nimport 'vendor/flot/jquery.flot.stackpercent';\nimport 'vendor/flot/jquery.flot.fillbelow';\nimport 'vendor/flot/jquery.flot.crosshair';\nimport 'vendor/flot/jquery.flot.dashes';\n\nconst flotDeps = [\n  'jquery.flot', 'jquery.flot.pie', 'jquery.flot.time', 'jquery.flot.fillbelow', 'jquery.flot.crosshair',\n  'jquery.flot.stack', 'jquery.flot.selection', 'jquery.flot.stackpercent', 'jquery.flot.events'\n];\nfor (let flotDep of flotDeps) {\n  exposeToPlugin(flotDep, {fakeDep: 1});\n}\n\nexport function importPluginModule(path: string): Promise<any> {\n  let builtIn = builtInPlugins[path];\n  if (builtIn) {\n    return Promise.resolve(builtIn);\n  }\n  return System.import(path);\n}\n\nexport function loadPluginCss(options) {\n  if (config.bootData.user.lightTheme) {\n    System.import(options.light + '!css');\n  } else {\n    System.import(options.dark + '!css');\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/plugin_loader.ts","import _ from 'lodash';\nimport {isVersionGtOrEq} from 'app/core/utils/version';\n\n\nvar index = [];\nvar categories = {\n  Combine: [],\n  Transform: [],\n  Calculate: [],\n  Filter: [],\n  Special: [],\n};\n\nfunction addFuncDef(funcDef) {\n  funcDef.params = funcDef.params || [];\n  funcDef.defaultParams = funcDef.defaultParams || [];\n\n  if (funcDef.category) {\n    funcDef.category.push(funcDef);\n  }\n  index[funcDef.name] = funcDef;\n  index[funcDef.shortName || funcDef.name] = funcDef;\n}\n\nvar optionalSeriesRefArgs = [\n  { name: 'other', type: 'value_or_series', optional: true },\n  { name: 'other', type: 'value_or_series', optional: true },\n  { name: 'other', type: 'value_or_series', optional: true },\n  { name: 'other', type: 'value_or_series', optional: true },\n  { name: 'other', type: 'value_or_series', optional: true },\n];\n\naddFuncDef({\n  name: 'scaleToSeconds',\n  category: categories.Transform,\n  params: [{ name: 'seconds', type: 'int' }],\n  defaultParams: [1],\n});\n\naddFuncDef({\n  name: 'perSecond',\n  category: categories.Transform,\n  params: [{ name: 'max value', type: 'int', optional: true }],\n  defaultParams: [],\n});\n\naddFuncDef({\n  name: 'holtWintersForecast',\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'holtWintersConfidenceBands',\n  category: categories.Calculate,\n  params: [{ name: 'delta', type: 'int' }],\n  defaultParams: [3],\n});\n\naddFuncDef({\n  name: 'holtWintersAberration',\n  category: categories.Calculate,\n  params: [{ name: 'delta', type: 'int' }],\n  defaultParams: [3],\n});\n\naddFuncDef({\n  name: 'nPercentile',\n  category: categories.Calculate,\n  params: [{ name: 'Nth percentile', type: 'int' }],\n  defaultParams: [95],\n});\n\naddFuncDef({\n  name: 'diffSeries',\n  params: optionalSeriesRefArgs,\n  defaultParams: ['#A'],\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'stddevSeries',\n  params: optionalSeriesRefArgs,\n  defaultParams: [''],\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'divideSeries',\n  params: optionalSeriesRefArgs,\n  defaultParams: ['#A'],\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'multiplySeries',\n  params: optionalSeriesRefArgs,\n  defaultParams: ['#A'],\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'asPercent',\n  params: optionalSeriesRefArgs,\n  defaultParams: ['#A'],\n  category: categories.Calculate,\n});\n\naddFuncDef({\n  name: 'group',\n  params: optionalSeriesRefArgs,\n  defaultParams: ['#A', '#B'],\n  category: categories.Combine,\n});\n\naddFuncDef({\n  name: 'sumSeries',\n  shortName: 'sum',\n  category: categories.Combine,\n  params: optionalSeriesRefArgs,\n  defaultParams: [''],\n});\n\naddFuncDef({\n  name: 'averageSeries',\n  shortName: 'avg',\n  category: categories.Combine,\n  params: optionalSeriesRefArgs,\n  defaultParams: [''],\n});\n\naddFuncDef({\n  name: 'rangeOfSeries',\n  category: categories.Combine,\n});\n\naddFuncDef({\n  name: 'percentileOfSeries',\n  category: categories.Combine,\n  params: [{ name: 'n', type: 'int' }, { name: 'interpolate', type: 'boolean', options: ['true', 'false'] }],\n  defaultParams: [95, 'false'],\n});\n\naddFuncDef({\n  name: 'sumSeriesWithWildcards',\n  category: categories.Combine,\n  params: [\n    { name: 'node', type: 'int' },\n    { name: 'node', type: 'int', optional: true },\n    { name: 'node', type: 'int', optional: true },\n    { name: 'node', type: 'int', optional: true },\n  ],\n  defaultParams: [3],\n});\n\naddFuncDef({\n  name: 'maxSeries',\n  shortName: 'max',\n  category: categories.Combine,\n});\n\naddFuncDef({\n  name: 'minSeries',\n  shortName: 'min',\n  category: categories.Combine,\n});\n\naddFuncDef({\n  name: 'averageSeriesWithWildcards',\n  category: categories.Combine,\n  params: [{ name: 'node', type: 'int' }, { name: 'node', type: 'int', optional: true }],\n  defaultParams: [3],\n});\n\naddFuncDef({\n  name: 'alias',\n  category: categories.Special,\n  params: [{ name: 'alias', type: 'string' }],\n  defaultParams: ['alias'],\n});\n\naddFuncDef({\n  name: 'aliasSub',\n  category: categories.Special,\n  params: [{ name: 'search', type: 'string' }, { name: 'replace', type: 'string' }],\n  defaultParams: ['', '\\\\1'],\n});\n\naddFuncDef({\n  name: 'stacked',\n  category: categories.Special,\n  params: [{ name: 'stack', type: 'string' }],\n  defaultParams: ['stacked'],\n});\n\naddFuncDef({\n  name: 'consolidateBy',\n  category: categories.Special,\n  params: [\n    {\n      name: 'function',\n      type: 'string',\n      options: ['sum', 'average', 'min', 'max'],\n    },\n  ],\n  defaultParams: ['max'],\n});\n\naddFuncDef({\n  name: 'cumulative',\n  category: categories.Special,\n  params: [],\n  defaultParams: [],\n});\n\naddFuncDef({\n  name: 'groupByNode',\n  category: categories.Special,\n  params: [\n    {\n      name: 'node',\n      type: 'int',\n      options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12],\n    },\n    {\n      name: 'function',\n      type: 'string',\n      options: ['sum', 'avg', 'maxSeries'],\n    },\n  ],\n  defaultParams: [3, 'sum'],\n});\n\naddFuncDef({\n  name: 'aliasByNode',\n  category: categories.Special,\n  params: [\n    { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n  ],\n  defaultParams: [3],\n});\n\naddFuncDef({\n  name: 'substr',\n  category: categories.Special,\n  params: [\n    { name: 'start', type: 'int', options: [-6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n    { name: 'stop', type: 'int', options: [-6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n  ],\n  defaultParams: [0, 0],\n});\n\naddFuncDef({\n  name: 'sortByName',\n  category: categories.Special,\n  params: [{ name: 'natural', type: 'boolean', options: ['true', 'false'], optional: true }],\n  defaultParams: ['false'],\n});\n\naddFuncDef({\n  name: 'sortByMaxima',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'sortByMinima',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'sortByTotal',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'aliasByMetric',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'randomWalk',\n  fake: true,\n  category: categories.Special,\n  params: [{ name: 'name', type: 'string' }],\n  defaultParams: ['randomWalk'],\n});\n\naddFuncDef({\n  name: 'countSeries',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'constantLine',\n  category: categories.Special,\n  params: [{ name: 'value', type: 'int' }],\n  defaultParams: [10],\n});\n\naddFuncDef({\n  name: 'cactiStyle',\n  category: categories.Special,\n});\n\naddFuncDef({\n  name: 'keepLastValue',\n  category: categories.Special,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [100],\n});\n\naddFuncDef({\n  name: 'changed',\n  category: categories.Special,\n  params: [],\n  defaultParams: [],\n});\n\naddFuncDef({\n  name: 'scale',\n  category: categories.Transform,\n  params: [{ name: 'factor', type: 'int' }],\n  defaultParams: [1],\n});\n\naddFuncDef({\n  name: 'offset',\n  category: categories.Transform,\n  params: [{ name: 'amount', type: 'int' }],\n  defaultParams: [10],\n});\n\naddFuncDef({\n  name: 'transformNull',\n  category: categories.Transform,\n  params: [{ name: 'amount', type: 'int' }],\n  defaultParams: [0],\n});\n\naddFuncDef({\n  name: 'integral',\n  category: categories.Transform,\n});\n\naddFuncDef({\n  name: 'derivative',\n  category: categories.Transform,\n});\n\naddFuncDef({\n  name: 'nonNegativeDerivative',\n  category: categories.Transform,\n  params: [{ name: 'max value or 0', type: 'int', optional: true }],\n  defaultParams: [''],\n});\n\naddFuncDef({\n  name: 'timeShift',\n  category: categories.Transform,\n  params: [{ name: 'amount', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] }],\n  defaultParams: ['1d'],\n});\n\naddFuncDef({\n  name: 'timeStack',\n  category: categories.Transform,\n  params: [\n    { name: 'timeShiftUnit', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] },\n    { name: 'timeShiftStart', type: 'int' },\n    { name: 'timeShiftEnd', type: 'int' },\n  ],\n  defaultParams: ['1d', 0, 7],\n});\n\naddFuncDef({\n  name: 'summarize',\n  category: categories.Transform,\n  params: [\n    { name: 'interval', type: 'string' },\n    { name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] },\n    { name: 'alignToFrom', type: 'boolean', optional: true, options: ['false', 'true'] },\n  ],\n  defaultParams: ['1h', 'sum', 'false'],\n});\n\naddFuncDef({\n  name: 'smartSummarize',\n  category: categories.Transform,\n  params: [\n    { name: 'interval', type: 'string' },\n    { name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] },\n  ],\n  defaultParams: ['1h', 'sum'],\n});\n\naddFuncDef({\n  name: 'absolute',\n  category: categories.Transform,\n});\n\naddFuncDef({\n  name: 'hitcount',\n  category: categories.Transform,\n  params: [{ name: 'interval', type: 'string' }],\n  defaultParams: ['10s'],\n});\n\naddFuncDef({\n  name: 'log',\n  category: categories.Transform,\n  params: [{ name: 'base', type: 'int' }],\n  defaultParams: ['10'],\n});\n\naddFuncDef({\n  name: 'averageAbove',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [25],\n});\n\naddFuncDef({\n  name: 'averageBelow',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [25],\n});\n\naddFuncDef({\n  name: 'currentAbove',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [25],\n});\n\naddFuncDef({\n  name: 'currentBelow',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [25],\n});\n\naddFuncDef({\n  name: 'maximumAbove',\n  category: categories.Filter,\n  params: [{ name: 'value', type: 'int' }],\n  defaultParams: [0],\n});\n\naddFuncDef({\n  name: 'maximumBelow',\n  category: categories.Filter,\n  params: [{ name: 'value', type: 'int' }],\n  defaultParams: [0],\n});\n\naddFuncDef({\n  name: 'minimumAbove',\n  category: categories.Filter,\n  params: [{ name: 'value', type: 'int' }],\n  defaultParams: [0],\n});\n\naddFuncDef({\n  name: 'minimumBelow',\n  category: categories.Filter,\n  params: [{ name: 'value', type: 'int' }],\n  defaultParams: [0],\n});\n\naddFuncDef({\n  name: 'limit',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'mostDeviant',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [10],\n});\n\naddFuncDef({\n  name: 'exclude',\n  category: categories.Filter,\n  params: [{ name: 'exclude', type: 'string' }],\n  defaultParams: ['exclude'],\n});\n\naddFuncDef({\n  name: 'highestCurrent',\n  category: categories.Filter,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'highestMax',\n  category: categories.Filter,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'lowestCurrent',\n  category: categories.Filter,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'movingAverage',\n  category: categories.Filter,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: [10],\n});\n\naddFuncDef({\n  name: 'movingMedian',\n  category: categories.Filter,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: ['5'],\n});\n\naddFuncDef({\n  name: 'stdev',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }, { name: 'tolerance', type: 'int' }],\n  defaultParams: [5, 0.1],\n});\n\naddFuncDef({\n  name: 'highestAverage',\n  category: categories.Filter,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'lowestAverage',\n  category: categories.Filter,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'removeAbovePercentile',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'removeAboveValue',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'removeBelowPercentile',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'removeBelowValue',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [5],\n});\n\naddFuncDef({\n  name: 'useSeriesAbove',\n  category: categories.Filter,\n  params: [{ name: 'value', type: 'int' }, { name: 'search', type: 'string' }, { name: 'replace', type: 'string' }],\n  defaultParams: [0, 'search', 'replace'],\n});\n\n////////////////////\n// Graphite 1.0.x //\n////////////////////\n\naddFuncDef({\n  name: 'aggregateLine',\n  category: categories.Combine,\n  params: [{ name: 'func', type: 'select', options: ['sum', 'avg', 'min', 'max', 'last'] }],\n  defaultParams: ['avg'],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'averageOutsidePercentile',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [95],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'delay',\n  category: categories.Transform,\n  params: [{ name: 'steps', type: 'int' }],\n  defaultParams: [1],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'exponentialMovingAverage',\n  category: categories.Calculate,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: [10],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'fallbackSeries',\n  category: categories.Special,\n  params: [{ name: 'fallback', type: 'string' }],\n  defaultParams: ['constantLine(0)'],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'grep',\n  category: categories.Filter,\n  params: [{ name: 'grep', type: 'string' }],\n  defaultParams: ['grep'],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'groupByNodes',\n  category: categories.Special,\n  params: [\n    {\n      name: 'function',\n      type: 'string',\n      options: ['sum', 'avg', 'maxSeries'],\n    },\n    { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'node', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n  ],\n  defaultParams: ['sum', 3],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'integralByInterval',\n  category: categories.Transform,\n  params: [{ name: 'intervalUnit', type: 'select', options: ['1h', '6h', '12h', '1d', '2d', '7d', '14d', '30d'] }],\n  defaultParams: ['1d'],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'interpolate',\n  category: categories.Transform,\n  params: [{ name: 'limit', type: 'int', optional: true }],\n  defaultParams: [],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'invert',\n  category: categories.Transform,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'isNonNull',\n  category: categories.Combine,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'linearRegression',\n  category: categories.Calculate,\n  params: [\n    {\n      name: 'startSourceAt',\n      type: 'select',\n      options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\n      optional: true,\n    },\n    {\n      name: 'endSourceAt',\n      type: 'select',\n      options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\n      optional: true,\n    },\n  ],\n  defaultParams: [],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'mapSeries',\n  shortName: 'map',\n  params: [{ name: 'node', type: 'int' }],\n  defaultParams: [3],\n  category: categories.Combine,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'movingMin',\n  category: categories.Calculate,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: [10],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'movingMax',\n  category: categories.Calculate,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: [10],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'movingSum',\n  category: categories.Calculate,\n  params: [\n    { name: 'windowSize', type: 'int_or_interval', options: ['5', '7', '10', '5min', '10min', '30min', '1hour'] },\n  ],\n  defaultParams: [10],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'multiplySeriesWithWildcards',\n  category: categories.Calculate,\n  params: [\n    { name: 'position', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n    { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n    { name: 'position', type: 'int', options: [0, -1, -2, -3, -4, -5, -6, -7], optional: true },\n  ],\n  defaultParams: [2],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'offsetToZero',\n  category: categories.Transform,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'pow',\n  category: categories.Transform,\n  params: [{ name: 'factor', type: 'int' }],\n  defaultParams: [10],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'powSeries',\n  category: categories.Transform,\n  params: optionalSeriesRefArgs,\n  defaultParams: [''],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'reduceSeries',\n  shortName: 'reduce',\n  params: [\n    { name: 'function', type: 'string', options: ['asPercent', 'diffSeries', 'divideSeries'] },\n    { name: 'reduceNode', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13] },\n    { name: 'reduceMatchers', type: 'string' },\n    { name: 'reduceMatchers', type: 'string' },\n  ],\n  defaultParams: ['asPercent', 2, 'used_bytes', 'total_bytes'],\n  category: categories.Combine,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'removeBetweenPercentile',\n  category: categories.Filter,\n  params: [{ name: 'n', type: 'int' }],\n  defaultParams: [95],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'removeEmptySeries',\n  category: categories.Filter,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'squareRoot',\n  category: categories.Transform,\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'timeSlice',\n  category: categories.Transform,\n  params: [\n    { name: 'startSliceAt', type: 'select', options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'] },\n    {\n      name: 'endSliceAt',\n      type: 'select',\n      options: ['-1h', '-6h', '-12h', '-1d', '-2d', '-7d', '-14d', '-30d'],\n      optional: true,\n    },\n  ],\n  defaultParams: ['-1h'],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'weightedAverage',\n  category: categories.Filter,\n  params: [\n    { name: 'other', type: 'value_or_series', optional: true },\n    { name: 'node', type: 'int', options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12] },\n  ],\n  defaultParams: ['#A', 4],\n  version: '1.0',\n});\n\naddFuncDef({\n  name: 'seriesByTag',\n  category: categories.Special,\n  params: [\n    { name: 'tagExpression', type: 'string' },\n    { name: 'tagExpression', type: 'string', optional: true },\n    { name: 'tagExpression', type: 'string', optional: true },\n    { name: 'tagExpression', type: 'string', optional: true },\n  ],\n  version: '1.1',\n});\n\naddFuncDef({\n  name: 'groupByTags',\n  category: categories.Special,\n  params: [\n    {\n      name: 'function',\n      type: 'string',\n      options: ['sum', 'avg', 'maxSeries'],\n    },\n    { name: 'tag', type: 'string' },\n    { name: 'tag', type: 'string', optional: true },\n    { name: 'tag', type: 'string', optional: true },\n    { name: 'tag', type: 'string', optional: true },\n  ],\n  defaultParams: ['sum', 'tag'],\n  version: '1.1',\n});\n\naddFuncDef({\n  name: 'aliasByTags',\n  category: categories.Special,\n  params: [\n    { name: 'tag', type: 'string' },\n    { name: 'tag', type: 'string', optional: true },\n    { name: 'tag', type: 'string', optional: true },\n    { name: 'tag', type: 'string', optional: true },\n  ],\n  defaultParams: ['tag'],\n  version: '1.1',\n});\n\n_.each(categories, function(funcList, catName) {\n  categories[catName] = _.sortBy(funcList, 'name');\n});\n\nfunction FuncInstance(funcDef, options?) {\n  this.def = funcDef;\n  this.params = [];\n\n  if (options && options.withDefaultParams) {\n    this.params = funcDef.defaultParams.slice(0);\n  }\n\n  this.updateText();\n}\n\nfunction isNumeric(obj) {\n  return !isNaN(parseFloat(obj)) && isFinite(obj);\n}\n\nFuncInstance.prototype.render = function(metricExp) {\n  var str = this.def.name + '(';\n  var parameters = _.map(\n    this.params,\n    function(value, index) {\n      var paramType = this.def.params[index].type;\n      if (paramType === 'int' || paramType === 'value_or_series' || paramType === 'boolean') {\n        return value;\n      } else if (paramType === 'int_or_interval' && isNumeric(value)) {\n        return value;\n      }\n\n      return \"'\" + value + \"'\";\n    }.bind(this),\n  );\n\n  if (metricExp) {\n    parameters.unshift(metricExp);\n  }\n\n  return str + parameters.join(', ') + ')';\n};\n\nFuncInstance.prototype._hasMultipleParamsInString = function(strValue, index) {\n  if (strValue.indexOf(',') === -1) {\n    return false;\n  }\n\n  return this.def.params[index + 1] && this.def.params[index + 1].optional;\n};\n\nFuncInstance.prototype.updateParam = function(strValue, index) {\n  // handle optional parameters\n  // if string contains ',' and next param is optional, split and update both\n  if (this._hasMultipleParamsInString(strValue, index)) {\n    _.each(\n      strValue.split(','),\n      function(partVal, idx) {\n        this.updateParam(partVal.trim(), index + idx);\n      }.bind(this),\n    );\n    return;\n  }\n\n  if (strValue === '' && this.def.params[index].optional) {\n    this.params.splice(index, 1);\n  } else {\n    this.params[index] = strValue;\n  }\n\n  this.updateText();\n};\n\nFuncInstance.prototype.updateText = function() {\n  if (this.params.length === 0) {\n    this.text = this.def.name + '()';\n    return;\n  }\n\n  var text = this.def.name + '(';\n  text += this.params.join(', ');\n  text += ')';\n  this.text = text;\n};\n\nfunction isVersionRelatedFunction(func, graphiteVersion) {\n  return isVersionGtOrEq(graphiteVersion, func.version) || !func.version;\n}\n\nexport default {\n  createFuncInstance: function(funcDef, options?) {\n    if (_.isString(funcDef)) {\n      if (!index[funcDef]) {\n        throw { message: 'Method not found ' + name };\n      }\n      funcDef = index[funcDef];\n    }\n    return new FuncInstance(funcDef, options);\n  },\n\n  getFuncDef: function(name) {\n    return index[name];\n  },\n\n  getCategories: function(graphiteVersion) {\n    var filteredCategories: any = {};\n    _.each(categories, function(functions, category) {\n      var filteredFuncs = _.filter(functions, function(func) {\n        return isVersionRelatedFunction(func, graphiteVersion);\n      });\n      if (filteredFuncs.length) {\n        filteredCategories[category] = filteredFuncs;\n      }\n    });\n\n    return filteredCategories;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/gfunc.ts","import _ from 'lodash';\n\nlet VALUE_INDEX = 0;\nlet TIME_INDEX = 1;\n\ninterface XBucket {\n  x: number;\n  buckets: any;\n}\n\ninterface YBucket {\n  y: number;\n  values: number[];\n}\n\nfunction elasticHistogramToHeatmap(seriesList) {\n  let heatmap = {};\n\n  for (let series of seriesList) {\n    let bound = Number(series.alias);\n    if (isNaN(bound)) {\n      return heatmap;\n    }\n\n    for (let point of series.datapoints) {\n      let count = point[VALUE_INDEX];\n      let time = point[TIME_INDEX];\n\n      if (!_.isNumber(count)) {\n        continue;\n      }\n\n      let bucket = heatmap[time];\n      if (!bucket) {\n        bucket = heatmap[time] = {x: time, buckets: {}};\n      }\n\n      bucket.buckets[bound] = {y: bound, count: count, values: [], points: []};\n    }\n  }\n\n  return heatmap;\n}\n\n/**\n * Convert buckets into linear array of \"cards\" - objects, represented heatmap elements.\n * @param  {Object} buckets\n * @return {Array}          Array of \"card\" objects\n */\nfunction convertToCards(buckets) {\n  let min = 0, max = 0;\n  let cards = [];\n  _.forEach(buckets, xBucket => {\n    _.forEach(xBucket.buckets, yBucket=> {\n      let card = {\n        x: xBucket.x,\n        y: yBucket.y,\n        yBounds: yBucket.bounds,\n        values: yBucket.values,\n        count: yBucket.count,\n      };\n      cards.push(card);\n\n      if (cards.length === 1) {\n        min = yBucket.count;\n        max = yBucket.count;\n      }\n\n      min = yBucket.count < min ? yBucket.count : min;\n      max = yBucket.count > max ? yBucket.count : max;\n    });\n  });\n\n  let cardStats = {min, max};\n  return {cards, cardStats};\n}\n\n/**\n * Special method for log scales. When series converted into buckets with log scale,\n * for simplification, 0 values are converted into 0, not into -Infinity. On the other hand, we mean\n * that all values less than series minimum, is 0 values, and we create special \"minimum\" bucket for\n * that values (actually, there're no values less than minimum, so this bucket is empty).\n *  8-16|    | ** |    |  * |  **|\n *   4-8|  * |*  *|*   |** *| *  |\n *   2-4| * *|    | ***|    |*   |\n *   1-2|*   |    |    |    |    | This bucket contains minimum series value\n * 0.5-1|____|____|____|____|____| This bucket should be displayed as 0 on graph\n *     0|____|____|____|____|____| This bucket is for 0 values (should actually be -Infinity)\n * So we should merge two bottom buckets into one (0-value bucket).\n *\n * @param  {Object} buckets  Heatmap buckets\n * @param  {Number} minValue Minimum series value\n * @return {Object}          Transformed buckets\n */\nfunction mergeZeroBuckets(buckets, minValue) {\n  _.forEach(buckets, xBucket => {\n    let yBuckets = xBucket.buckets;\n\n    let emptyBucket = {\n      bounds: {bottom: 0, top: 0},\n      values: [],\n      points: [],\n      count: 0,\n    };\n\n    let nullBucket = yBuckets[0] || emptyBucket;\n    let minBucket = yBuckets[minValue] || emptyBucket;\n\n    let newBucket = {\n      y: 0,\n      bounds: {bottom: minValue, top: minBucket.bounds.top || minValue},\n      values: [],\n      points: [],\n      count: 0,\n    };\n\n    newBucket.points = nullBucket.points.concat(minBucket.points);\n    newBucket.values = nullBucket.values.concat(minBucket.values);\n    newBucket.count = newBucket.values.length;\n\n    if (newBucket.count === 0) {\n      return;\n    }\n\n    delete yBuckets[minValue];\n    yBuckets[0] = newBucket;\n  });\n\n  return buckets;\n}\n\n/**\n   * Convert set of time series into heatmap buckets\n   * @return {Object}    Heatmap object:\n * {\n *   xBucketBound_1: {\n *     x: xBucketBound_1,\n *     buckets: {\n *       yBucketBound_1: {\n *         y: yBucketBound_1,\n *         bounds: {bottom, top}\n *         values: [val_1, val_2, ..., val_K],\n *         points: [[val_Y, val_X, series_name], ..., [...]],\n *         seriesStat: {seriesName_1: val_1, seriesName_2: val_2}\n *       },\n *       ...\n *       yBucketBound_M: {}\n *     },\n *     values: [val_1, val_2, ..., val_K],\n *     points: [\n *       [val_Y, val_X, series_name], (point_1)\n *       ...\n *       [...] (point_K)\n *     ]\n *   },\n *   xBucketBound_2: {},\n *   ...\n *   xBucketBound_N: {}\n * }\n */\nfunction convertToHeatMap(seriesList, yBucketSize, xBucketSize, logBase = 1) {\n  let heatmap = {};\n\n  for (let series of seriesList) {\n    let datapoints = series.datapoints;\n    let seriesName = series.label;\n\n    // Slice series into X axis buckets\n    // |    | ** |    |  * |  **|\n    // |  * |*  *|*   |** *| *  |\n    // |** *|    | ***|    |*   |\n    // |____|____|____|____|____|_\n    //\n    _.forEach(datapoints, point => {\n      let bucketBound = getBucketBound(point[TIME_INDEX], xBucketSize);\n      pushToXBuckets(heatmap, point, bucketBound, seriesName);\n    });\n  }\n\n  // Slice X axis buckets into Y (value) buckets\n  // |  **|     |2|,\n  // | *  | --\\ |1|,\n  // |*   | --/ |1|,\n  // |____|     |0|\n  //\n  _.forEach(heatmap, xBucket => {\n    if (logBase !== 1) {\n      xBucket.buckets = convertToLogScaleValueBuckets(xBucket, yBucketSize, logBase);\n    } else {\n      xBucket.buckets = convertToValueBuckets(xBucket, yBucketSize);\n    }\n  });\n\n  return heatmap;\n}\n\nfunction pushToXBuckets(buckets, point, bucketNum, seriesName) {\n  let value = point[VALUE_INDEX];\n  if (value === null || value === undefined || isNaN(value)) { return; }\n\n  // Add series name to point for future identification\n  let point_ext = _.concat(point, seriesName);\n\n  if (buckets[bucketNum] && buckets[bucketNum].values) {\n    buckets[bucketNum].values.push(value);\n    buckets[bucketNum].points.push(point_ext);\n  } else {\n    buckets[bucketNum] = {\n      x: bucketNum,\n      values: [value],\n      points: [point_ext]\n    };\n  }\n}\n\nfunction pushToYBuckets(buckets, bucketNum, value, point, bounds) {\n  var count = 1;\n  // Use the 3rd argument as scale/count\n  if (point.length > 3) {\n    count = parseInt(point[2]);\n  }\n  if (buckets[bucketNum]) {\n    buckets[bucketNum].values.push(value);\n    buckets[bucketNum].points.push(point);\n    buckets[bucketNum].count += count;\n  } else {\n    buckets[bucketNum] = {\n      y: bucketNum,\n      bounds: bounds,\n      values: [value],\n      points: [point],\n      count: count,\n    };\n  }\n}\n\nfunction getValueBucketBound(value, yBucketSize, logBase) {\n  if (logBase === 1) {\n    return getBucketBound(value, yBucketSize);\n  } else {\n    return getLogScaleBucketBound(value, yBucketSize, logBase);\n  }\n}\n\n/**\n * Find bucket for given value (for linear scale)\n */\nfunction getBucketBounds(value, bucketSize) {\n  let bottom, top;\n  bottom = Math.floor(value / bucketSize) * bucketSize;\n  top = (Math.floor(value / bucketSize) + 1) * bucketSize;\n\n  return {bottom, top};\n}\n\nfunction getBucketBound(value, bucketSize) {\n  let bounds = getBucketBounds(value, bucketSize);\n  return bounds.bottom;\n}\n\nfunction convertToValueBuckets(xBucket, bucketSize) {\n  let values = xBucket.values;\n  let points = xBucket.points;\n  let buckets = {};\n\n  _.forEach(values, (val, index) => {\n    let bounds = getBucketBounds(val, bucketSize);\n    let bucketNum = bounds.bottom;\n    pushToYBuckets(buckets, bucketNum, val, points[index], bounds);\n  });\n\n  return buckets;\n}\n\n/**\n * Find bucket for given value (for log scales)\n */\nfunction getLogScaleBucketBounds(value, yBucketSplitFactor, logBase) {\n  let top, bottom;\n  if (value === 0) {\n    return {bottom: 0, top: 0};\n  }\n\n  let value_log = logp(value, logBase);\n  let pow, powTop;\n  if (yBucketSplitFactor === 1 || !yBucketSplitFactor) {\n    pow = Math.floor(value_log);\n    powTop = pow + 1;\n  } else {\n    let additional_bucket_size = 1 / yBucketSplitFactor;\n    let additional_log = value_log - Math.floor(value_log);\n    additional_log = Math.floor(additional_log / additional_bucket_size) * additional_bucket_size;\n    pow = Math.floor(value_log) + additional_log;\n    powTop = pow + additional_bucket_size;\n  }\n  bottom = Math.pow(logBase, pow);\n  top = Math.pow(logBase, powTop);\n\n  return {bottom, top};\n}\n\nfunction getLogScaleBucketBound(value, yBucketSplitFactor, logBase) {\n  let bounds = getLogScaleBucketBounds(value, yBucketSplitFactor, logBase);\n  return bounds.bottom;\n}\n\nfunction convertToLogScaleValueBuckets(xBucket, yBucketSplitFactor, logBase) {\n  let values = xBucket.values;\n  let points = xBucket.points;\n\n  let buckets = {};\n  _.forEach(values, (val, index) => {\n    let bounds = getLogScaleBucketBounds(val, yBucketSplitFactor, logBase);\n    let bucketNum = bounds.bottom;\n    pushToYBuckets(buckets, bucketNum, val, points[index], bounds);\n  });\n\n  return buckets;\n}\n\n/**\n * Logarithm for custom base\n * @param value\n * @param base logarithm base\n */\nfunction logp(value, base) {\n  return Math.log(value) / Math.log(base);\n}\n\n/**\n * Calculate size of Y bucket from given buckets bounds.\n * @param bounds Array of Y buckets bounds\n * @param logBase Logarithm base\n */\nfunction calculateBucketSize(bounds: number[], logBase = 1): number {\n  let bucketSize = Infinity;\n\n  if (bounds.length === 0) {\n    return 0;\n  } else if (bounds.length === 1) {\n    return bounds[0];\n  } else {\n    bounds = _.sortBy(bounds);\n    for (let i = 1; i < bounds.length; i++) {\n      let distance = getDistance(bounds[i], bounds[i - 1], logBase);\n      bucketSize = distance < bucketSize ? distance : bucketSize;\n    }\n  }\n\n  return bucketSize;\n}\n\n/**\n * Calculate distance between two numbers in given scale (linear or logarithmic).\n * @param a\n * @param b\n * @param logBase\n */\nfunction getDistance(a: number, b: number, logBase = 1): number {\n  if (logBase === 1) {\n    // Linear distance\n    return Math.abs(b - a);\n  } else {\n    // logarithmic distance\n    let ratio = Math.max(a, b) / Math.min(a, b);\n    return logp(ratio, logBase);\n  }\n}\n\n/**\n * Compare two heatmap data objects\n * @param objA\n * @param objB\n */\nfunction isHeatmapDataEqual(objA: any, objB: any): boolean {\n  let is_eql = !emptyXOR(objA, objB);\n\n  _.forEach(objA, (xBucket: XBucket, x) => {\n    if (objB[x]) {\n      if (emptyXOR(xBucket.buckets, objB[x].buckets)) {\n        is_eql = false;\n        return false;\n      }\n\n      _.forEach(xBucket.buckets, (yBucket: YBucket, y) => {\n        if (objB[x].buckets && objB[x].buckets[y]) {\n          if (objB[x].buckets[y].values) {\n            is_eql = _.isEqual(_.sortBy(yBucket.values), _.sortBy(objB[x].buckets[y].values));\n            if (!is_eql) {\n              return false;\n            } else {\n              return true;\n            }\n          } else {\n            is_eql = false;\n            return false;\n          }\n        } else {\n          is_eql = false;\n          return false;\n        }\n      });\n\n      if (!is_eql) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      is_eql = false;\n      return false;\n    }\n  });\n\n  return is_eql;\n}\n\nfunction emptyXOR(foo: any, bar: any): boolean {\n  return (_.isEmpty(foo) || _.isEmpty(bar)) && !(_.isEmpty(foo) && _.isEmpty(bar));\n}\n\nexport {\n  convertToHeatMap,\n  elasticHistogramToHeatmap,\n  convertToCards,\n  mergeZeroBuckets,\n  getValueBucketBound,\n  isHeatmapDataEqual,\n  calculateBucketSize\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/heatmap_data_converter.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/EmptyObservable.js\n// module id = 1320\n// module chunks = 0","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/symbol/iterator.js\n// module id = 1321\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {Emitter, appEvents, assignModelProperties} from 'app/core/core';\n\nexport class DashboardRow {\n  panels: any;\n  title: any;\n  showTitle: any;\n  titleSize: any;\n  events: Emitter;\n  span: number;\n  height: number;\n  collapse: boolean;\n\n  defaults = {\n    title: 'Dashboard Row',\n    panels: [],\n    showTitle: false,\n    titleSize: 'h6',\n    height: 250,\n    isNew: false,\n    repeat: null,\n    repeatRowId: null,\n    repeatIteration: null,\n    collapse: false,\n  };\n\n  constructor(private model) {\n    assignModelProperties(this, model, this.defaults);\n    this.events = new Emitter();\n    this.updateRowSpan();\n  }\n\n  getSaveModel() {\n    this.model = {};\n    assignModelProperties(this.model, this, this.defaults);\n\n    // remove properties that dont server persisted purpose\n    delete this.model.isNew;\n    return this.model;\n  }\n\n  updateRowSpan() {\n    this.span = 0;\n    for (let panel of this.panels) {\n      this.span += panel.span;\n    }\n  }\n\n  panelSpanChanged(alwaysSendEvent?) {\n    var oldSpan = this.span;\n    this.updateRowSpan();\n\n    if (alwaysSendEvent || oldSpan !== this.span) {\n      this.events.emit('span-changed');\n    }\n  }\n\n  addPanel(panel) {\n    var rowSpan = this.span;\n    var panelCount = this.panels.length;\n    var space = (12 - rowSpan) - panel.span;\n\n    // try to make room of there is no space left\n    if (space <= 0) {\n      if (panelCount === 1) {\n        this.panels[0].span = 6;\n        panel.span = 6;\n      } else if (panelCount === 2) {\n        this.panels[0].span = 4;\n        this.panels[1].span = 4;\n        panel.span = 4;\n      } else if (panelCount === 3) {\n        this.panels[0].span = 3;\n        this.panels[1].span = 3;\n        this.panels[2].span = 3;\n        panel.span = 3;\n      }\n    }\n\n    this.panels.push(panel);\n    this.events.emit('panel-added', panel);\n    this.panelSpanChanged();\n  }\n\n  removePanel(panel, ask?) {\n    if (ask !== false) {\n      var text2, confirmText;\n      if (panel.alert) {\n        text2 = \"Panel includes an alert rule, removing panel will also remove alert rule\";\n        confirmText = \"YES\";\n      }\n\n      appEvents.emit('confirm-modal', {\n        title: 'Remove Panel',\n        text: 'Are you sure you want to remove this panel?',\n        text2: text2,\n        icon: 'fa-trash',\n        confirmText: confirmText,\n        yesText: 'Remove',\n        onConfirm: () => {\n          this.removePanel(panel, false);\n        }\n      });\n      return;\n    }\n\n    var index = _.indexOf(this.panels, panel);\n    this.panels.splice(index, 1);\n    this.events.emit('panel-removed', panel);\n    this.panelSpanChanged();\n  }\n\n  movePanel(fromIndex, toIndex) {\n    this.panels.splice(toIndex, 0, this.panels.splice(fromIndex, 1)[0]);\n  }\n\n  destroy() {\n    this.events.removeAllListeners();\n  }\n\n  copyPropertiesFromRowSource(source) {\n    this.height = source.height;\n    this.title = source.title;\n    this.showTitle = source.showTitle;\n    this.titleSize = source.titleSize;\n  }\n\n  toggleCollapse() {\n    this.collapse = !this.collapse;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/row/row_model.ts","import _ from 'lodash';\nimport moment from 'moment';\nimport {saveAs} from 'file-saver';\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DDTHH:mm:ssZ';\n\nexport function exportSeriesListToCsv(seriesList, dateTimeFormat = DEFAULT_DATETIME_FORMAT, excel = false) {\n    var text = (excel ? 'sep=;\\n' : '') + 'Series;Time;Value\\n';\n    _.each(seriesList, function(series) {\n        _.each(series.datapoints, function(dp) {\n            text += series.alias + ';' + moment(dp[1]).format(dateTimeFormat) + ';' + dp[0] + '\\n';\n        });\n    });\n    saveSaveBlob(text, 'grafana_data_export.csv');\n}\n\nexport function exportSeriesListToCsvColumns(seriesList, dateTimeFormat = DEFAULT_DATETIME_FORMAT, excel = false) {\n    var text = (excel ? 'sep=;\\n' : '') + 'Time;';\n    // add header\n    _.each(seriesList, function(series) {\n        text += series.alias + ';';\n    });\n    text = text.substring(0,text.length-1);\n    text += '\\n';\n\n    // process data\n    var dataArr = [[]];\n    var sIndex = 1;\n    _.each(seriesList, function(series) {\n        var cIndex = 0;\n        dataArr.push([]);\n        _.each(series.datapoints, function(dp) {\n            dataArr[0][cIndex] = moment(dp[1]).format(dateTimeFormat);\n            dataArr[sIndex][cIndex] = dp[0];\n            cIndex++;\n        });\n        sIndex++;\n    });\n\n    // make text\n    for (var i = 0; i < dataArr[0].length; i++) {\n        text += dataArr[0][i] + ';';\n        for (var j = 1; j < dataArr.length; j++) {\n            text += dataArr[j][i] + ';';\n        }\n        text = text.substring(0,text.length-1);\n        text += '\\n';\n    }\n    saveSaveBlob(text, 'grafana_data_export.csv');\n}\n\nexport function exportTableDataToCsv(table, excel = false) {\n  var text = excel ? 'sep=;\\n' : '';\n    // add header\n    _.each(table.columns, function(column) {\n        text += (column.title || column.text) + ';';\n    });\n    text += '\\n';\n    // process data\n    _.each(table.rows, function(row) {\n        _.each(row, function(value) {\n            text += value + ';';\n        });\n        text += '\\n';\n    });\n    saveSaveBlob(text, 'grafana_data_export.csv');\n}\n\nexport function saveSaveBlob(payload, fname) {\n    var blob = new Blob([payload], { type: \"text/csv;charset=utf-8\" });\n    saveAs(blob, fname);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/utils/file_export.ts","import angular from 'angular';\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\n\nexport class LinkSrv {\n\n  /** @ngInject */\n  constructor(private templateSrv, private timeSrv) {}\n\n  getLinkUrl(link) {\n    var url = this.templateSrv.replace(link.url || '');\n    var params = {};\n\n    if (link.keepTime) {\n      var range = this.timeSrv.timeRangeForUrl();\n      params['from'] = range.from;\n      params['to'] = range.to;\n    }\n\n    if (link.includeVars) {\n      this.templateSrv.fillVariableValuesForUrl(params);\n    }\n\n    return this.addParamsToUrl(url, params);\n  }\n\n  addParamsToUrl(url, params) {\n    var paramsArray = [];\n\n    _.each(params, function(value, key) {\n      if (value === null) {\n        return;\n      }\n      if (value === true) {\n        paramsArray.push(key);\n      } else if (_.isArray(value)) {\n        _.each(value, function(instance) {\n          paramsArray.push(key + '=' + encodeURIComponent(instance));\n        });\n      } else {\n        paramsArray.push(key + '=' + encodeURIComponent(value));\n      }\n    });\n\n    if (paramsArray.length === 0) {\n      return url;\n    }\n\n    return this.appendToQueryString(url, paramsArray.join('&'));\n  }\n\n  appendToQueryString(url, stringToAppend) {\n    if (!_.isUndefined(stringToAppend) && stringToAppend !== null && stringToAppend !== '') {\n      var pos = url.indexOf('?');\n      if (pos !== -1) {\n        if (url.length - pos > 1) {\n          url += '&';\n        }\n      } else {\n        url += '?';\n      }\n      url += stringToAppend;\n    }\n\n    return url;\n  }\n\n  getAnchorInfo(link) {\n    var info: any = {};\n    info.href = this.getLinkUrl(link);\n    info.title = this.templateSrv.replace(link.title || '');\n    return info;\n  }\n\n  getPanelLinkAnchorInfo(link, scopedVars) {\n    var info: any = {};\n    if (link.type === 'absolute') {\n      info.target = link.targetBlank ? '_blank' : '_self';\n      info.href = this.templateSrv.replace(link.url || '', scopedVars);\n      info.title = this.templateSrv.replace(link.title || '', scopedVars);\n    } else if (link.dashUri) {\n      info.href = 'dashboard/' + link.dashUri + '?';\n      info.title = this.templateSrv.replace(link.title || '', scopedVars);\n      info.target = link.targetBlank ? '_blank' : '';\n    } else {\n      info.title = this.templateSrv.replace(link.title || '', scopedVars);\n      var slug = kbn.slugifyForUrl(link.dashboard || '');\n      info.href = 'dashboard/db/' + slug + '?';\n    }\n\n    var params = {};\n\n    if (link.keepTime) {\n      var range = this.timeSrv.timeRangeForUrl();\n      params['from'] = range.from;\n      params['to'] = range.to;\n    }\n\n    if (link.includeVars) {\n      this.templateSrv.fillVariableValuesForUrl(params, scopedVars);\n    }\n\n    info.href = this.addParamsToUrl(info.href, params);\n\n    if (link.params) {\n      info.href = this.appendToQueryString(info.href, this.templateSrv.replace(link.params, scopedVars));\n    }\n\n    return info;\n  }\n}\n\nangular.module('grafana.services').service('linkSrv', LinkSrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panellinks/link_srv.ts","\nexport class AnnotationEvent {\n  dashboardId: number;\n  panelId: number;\n  userId: number;\n  time: any;\n  timeEnd: any;\n  isRegion: boolean;\n  text: string;\n  type: string;\n  tags: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/event.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport class QueryCtrl {\n  target: any;\n  datasource: any;\n  panelCtrl: any;\n  panel: any;\n  hasRawMode: boolean;\n  error: string;\n  isLastQuery: boolean;\n\n  constructor(public $scope, public $injector) {\n    this.panel = this.panelCtrl.panel;\n    this.isLastQuery = _.indexOf(this.panel.targets, this.target) === (this.panel.targets.length - 1);\n  }\n\n  refresh() {\n    this.panelCtrl.refresh();\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/query_ctrl.ts","// Copyright (c) 2014, Hugh Kennedy\n// Based on code from https://github.com/hughsk/flat/blob/master/index.js\n//\nexport default function flatten(target, opts): any {\n  opts = opts || {};\n\n  var delimiter = opts.delimiter || '.';\n  var maxDepth = opts.maxDepth || 3;\n  var currentDepth = 1;\n  var output = {};\n\n  function step(object, prev) {\n    Object.keys(object).forEach(function(key) {\n      var value = object[key];\n      var isarray = opts.safe && Array.isArray(value);\n      var type = Object.prototype.toString.call(value);\n      var isobject = type === \"[object Object]\";\n\n      var newKey = prev ? prev + delimiter + key : key;\n\n      if (!opts.maxDepth) {\n        maxDepth = currentDepth + 1;\n      }\n\n      if (!isarray && isobject && Object.keys(value).length && currentDepth < maxDepth) {\n        ++currentDepth;\n        return step(value, newKey);\n      }\n\n      output[newKey] = value;\n    });\n  }\n\n  step(target, null);\n\n  return output;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/utils/flatten.ts","import _ from 'lodash';\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\n\nexport class SemVersion {\n  major: number;\n  minor: number;\n  patch: number;\n  meta: string;\n\n  constructor(version: string) {\n    let match = versionPattern.exec(version);\n    if (match) {\n      this.major = Number(match[1]);\n      this.minor = Number(match[2] || 0);\n      this.patch = Number(match[3] || 0);\n      this.meta = match[4];\n    }\n  }\n\n  isGtOrEq(version: string): boolean {\n    let compared = new SemVersion(version);\n    return !(this.major < compared.major || this.minor < compared.minor || this.patch < compared.patch);\n  }\n\n  isValid(): boolean {\n    return _.isNumber(this.major);\n  }\n}\n\nexport function isVersionGtOrEq(a: string, b: string): boolean {\n  let a_semver = new SemVersion(a);\n  return a_semver.isGtOrEq(b);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/utils/version.ts","define([\n  'angular',\n  'lodash',\n],\nfunction (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.directive('cloudwatchQueryParameter', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/cloudwatch/partials/query.parameter.html',\n      controller: 'CloudWatchQueryParameterCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        datasource: \"=\",\n        onChange: \"&\",\n      }\n    };\n  });\n\n  module.controller('CloudWatchQueryParameterCtrl', function($scope, templateSrv, uiSegmentSrv, datasourceSrv, $q) {\n\n    $scope.init = function() {\n      var target = $scope.target;\n      target.namespace = target.namespace || '';\n      target.metricName = target.metricName || '';\n      target.statistics = target.statistics || ['Average'];\n      target.dimensions = target.dimensions || {};\n      target.period = target.period || '';\n      target.region = target.region || '';\n\n      $scope.regionSegment =  uiSegmentSrv.getSegmentForValue($scope.target.region, 'select region');\n      $scope.namespaceSegment = uiSegmentSrv.getSegmentForValue($scope.target.namespace, 'select namespace');\n      $scope.metricSegment = uiSegmentSrv.getSegmentForValue($scope.target.metricName, 'select metric');\n\n      $scope.dimSegments = _.reduce($scope.target.dimensions, function(memo, value, key) {\n        memo.push(uiSegmentSrv.newKey(key));\n        memo.push(uiSegmentSrv.newOperator(\"=\"));\n        memo.push(uiSegmentSrv.newKeyValue(value));\n        return memo;\n      }, []);\n\n      $scope.statSegments = _.map($scope.target.statistics, function(stat) {\n        return uiSegmentSrv.getSegmentForValue(stat);\n      });\n\n      $scope.ensurePlusButton($scope.statSegments);\n      $scope.ensurePlusButton($scope.dimSegments);\n      $scope.removeDimSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove dimension --'});\n      $scope.removeStatSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove stat --'});\n\n      if (_.isEmpty($scope.target.region)) {\n        $scope.target.region = $scope.datasource.getDefaultRegion();\n      }\n\n      if (!$scope.onChange) {\n        $scope.onChange = function() {};\n      }\n    };\n\n    $scope.getStatSegments = function() {\n      return $q.when(_.flatten([\n        angular.copy($scope.removeStatSegment),\n        _.map($scope.datasource.standardStatistics, function(s) {\n          return uiSegmentSrv.getSegmentForValue(s);\n        }),\n        uiSegmentSrv.getSegmentForValue('pNN.NN'),\n      ]));\n    };\n\n    $scope.statSegmentChanged = function(segment, index) {\n      if (segment.value === $scope.removeStatSegment.value) {\n        $scope.statSegments.splice(index, 1);\n      } else {\n        segment.type = 'value';\n      }\n\n      $scope.target.statistics = _.reduce($scope.statSegments, function(memo, seg) {\n        if (!seg.fake) { memo.push(seg.value); } return memo;\n      }, []);\n\n      $scope.ensurePlusButton($scope.statSegments);\n      $scope.onChange();\n    };\n\n    $scope.ensurePlusButton = function(segments) {\n      var count = segments.length;\n      var lastSegment = segments[Math.max(count-1, 0)];\n\n      if (!lastSegment || lastSegment.type !== 'plus-button') {\n        segments.push(uiSegmentSrv.newPlusButton());\n      }\n    };\n\n    $scope.getDimSegments = function(segment, $index) {\n      if (segment.type === 'operator') { return $q.when([]); }\n\n      var target = $scope.target;\n      var query = $q.when([]);\n\n      if (segment.type === 'key' || segment.type === 'plus-button') {\n        query = $scope.datasource.getDimensionKeys($scope.target.namespace, $scope.target.region);\n      } else if (segment.type === 'value')  {\n        var dimensionKey = $scope.dimSegments[$index-2].value;\n        query = $scope.datasource.getDimensionValues(target.region, target.namespace, target.metricName, dimensionKey, target.dimensions);\n      }\n\n      return query.then($scope.transformToSegments(true)).then(function(results) {\n        if (segment.type === 'key') {\n          results.splice(0, 0, angular.copy($scope.removeDimSegment));\n        }\n        return results;\n      });\n    };\n\n    $scope.dimSegmentChanged = function(segment, index) {\n      $scope.dimSegments[index] = segment;\n\n      if (segment.value === $scope.removeDimSegment.value) {\n        $scope.dimSegments.splice(index, 3);\n      }\n      else if (segment.type === 'plus-button') {\n        $scope.dimSegments.push(uiSegmentSrv.newOperator('='));\n        $scope.dimSegments.push(uiSegmentSrv.newFake('select dimension value', 'value', 'query-segment-value'));\n        segment.type = 'key';\n        segment.cssClass = 'query-segment-key';\n      }\n\n      $scope.syncDimSegmentsWithModel();\n      $scope.ensurePlusButton($scope.dimSegments);\n      $scope.onChange();\n    };\n\n    $scope.syncDimSegmentsWithModel = function() {\n      var dims = {};\n      var length = $scope.dimSegments.length;\n\n      for (var i = 0; i < length - 2; i += 3) {\n        var keySegment = $scope.dimSegments[i];\n        var valueSegment = $scope.dimSegments[i + 2];\n        if (!valueSegment.fake) {\n          dims[keySegment.value] = valueSegment.value;\n        }\n      }\n\n      $scope.target.dimensions = dims;\n    };\n\n    $scope.getRegions = function() {\n      return $scope.datasource.metricFindQuery('regions()')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.getNamespaces = function() {\n      return $scope.datasource.metricFindQuery('namespaces()')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.getMetrics = function() {\n      return $scope.datasource.metricFindQuery('metrics(' + $scope.target.namespace + ',' + $scope.target.region + ')')\n      .then($scope.transformToSegments(true));\n    };\n\n    $scope.regionChanged = function() {\n      $scope.target.region = $scope.regionSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.namespaceChanged = function() {\n      $scope.target.namespace = $scope.namespaceSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.metricChanged = function() {\n      $scope.target.metricName = $scope.metricSegment.value;\n      $scope.onChange();\n    };\n\n    $scope.transformToSegments = function(addTemplateVars) {\n      return function(results) {\n        var segments = _.map(results, function(segment) {\n          return uiSegmentSrv.newSegment({ value: segment.text, expandable: segment.expandable });\n        });\n\n        if (addTemplateVars) {\n          _.each(templateSrv.variables, function(variable) {\n            segments.unshift(uiSegmentSrv.newSegment({ type: 'template', value: '$' + variable.name, expandable: true }));\n          });\n        }\n\n        return segments;\n      };\n    };\n\n    $scope.init();\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/cloudwatch/query_parameter_ctrl.js\n// module id = 1330\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'app/core/utils/kbn';\n\nexport default class InfluxQuery {\n  target: any;\n  selectModels: any[];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n\n  /** @ngInject */\n  constructor(target, templateSrv?, scopedVars?) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || 'default';\n    target.dsType = 'influxdb';\n    target.resultFormat = target.resultFormat || 'time_series';\n    target.orderByTime = target.orderByTime || 'ASC';\n    target.tags = target.tags || [];\n    target.groupBy = target.groupBy || [\n      {type: 'time', params: ['$__interval']},\n      {type: 'fill', params: ['null']},\n    ];\n    target.select = target.select || [[\n      {type: 'field', params: ['value']},\n      {type: 'mean', params: []},\n    ]];\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = _.map(this.target.select, function(parts: any) {\n      return _.map(parts, queryPart.create);\n    });\n    this.groupByParts = _.map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = _.map(this.selectModels, function(selectParts) {\n      return _.map(selectParts, function(part: any) {\n        return {type: part.def.type, params: part.params};\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return _.find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return _.find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value) {\n    var stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n    var typePart = stringParts[1];\n    var arg = stringParts[2];\n    var partModel = queryPart.create({type: typePart, params: [arg]});\n    var partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount-1].type === 'fill') {\n        this.target.groupBy.splice(partCount-1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part, index) {\n    var categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = _.filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = _.map(this.target.select, (s: any) => {\n        return _.filter(s, (part: any) => {\n          var partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts, part) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        var modelsIndex = _.indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      var partIndex = _.indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts, type) {\n    var partModel = queryPart.create({type: type});\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  private renderTagCondition(tag, index, interpolate) {\n    var str = \"\";\n    var operator = tag.operator;\n    var value = tag.value;\n    if (index > 0) {\n      str = (tag.condition || 'AND') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\') + \"'\";\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n\n  getMeasurementAndPolicy(interpolate) {\n    var policy = this.target.policy;\n    var measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement+ '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = \"\";\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value, variable, defaultFormatFn) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    var escapedValues = _.map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?) {\n    var target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    var query = 'SELECT ';\n    var i, y;\n    for (i = 0; i < this.selectModels.length; i++) {\n      let parts = this.selectModels[i];\n      var selectText = \"\";\n      for (y = 0; y < parts.length; y++) {\n        let part = parts[y];\n        selectText = part.render(selectText);\n      }\n\n      if (i > 0) {\n        query += ', ';\n      }\n      query += selectText;\n    }\n\n    query += ' FROM ' + this.getMeasurementAndPolicy(interpolate) + ' WHERE ';\n    var conditions = _.map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') AND ';\n    }\n\n    query += '$timeFilter';\n\n    var groupBySection = \"\";\n    for (i = 0; i < this.groupByParts.length; i++) {\n      var part = this.groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no seperator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' GROUP BY ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n\n    if (target.orderByTime === 'DESC') {\n      query += ' ORDER BY time DESC';\n    }\n\n    if (target.limit) {\n      query += ' LIMIT ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' SLIMIT ' + target.slimit;\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters) {\n    var conditions = _.map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, false);\n    });\n    return conditions.join(' ');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/influx_query.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {\n  QueryPartDef,\n  QueryPart,\n  functionRenderer,\n  suffixRenderer,\n} from 'app/core/components/query_part/query_part';\n\nvar index = [];\nvar categories = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part): any {\n  var def = index[part.type];\n  if (!def) {\n    throw {message: 'Could not find query part ' + part.type};\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nvar groupByTimeFunctions = [];\n\nfunction aliasRenderer(part, innerExpr) {\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part, innerExpr) {\n  if (part.params[0] === '*')  {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts, partModel) {\n  // look for existing aggregation\n  for (var i = 0; i < selectParts.length; i++) {\n    var part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts, partModel) {\n  var i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    var part = selectParts[i];\n    if (part.def.category === categories.Math  || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addMathStrategy(selectParts, partModel) {\n  var partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount-1].def.type === 'math') {\n      selectParts[partCount-1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount-2].def.type === 'math') {\n      selectParts[partCount-2] = partModel;\n      return;\n    } else if (selectParts[partCount-1].def.type === 'alias') { // if last is alias add it before\n      selectParts.splice(partCount-1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts, partModel) {\n  var partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount-1].def.type === 'alias') {\n      selectParts[partCount-1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts, partModel, query) {\n  // copy all parts\n  var parts = _.map(selectParts, function(part: any) {\n    return createPart({type: part.def.type, params: _.clone(part.params)});\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{type: 'field', dynamicLookup: true}],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h']}],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h']}],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: \"window\", type: \"int\", options: [5, 10, 20, 30, 40]}],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [{ name: \"interval\", type: \"time\", options: ['$__interval', '1s', '10s', '1m', '5m', '10m', '15m', '1h']}],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [{ name: \"fill\", type: \"string\", options: ['none', 'null', '0', 'previous', 'linear'] }],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: \"duration\", type: \"interval\", options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h']}],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [{ name: \"number\", type: \"int\", options: [5, 10, 20, 30, 40]}, { name: \"season\", type: \"int\", options: [0, 1, 2, 5, 10]}],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [{ name: \"number\", type: \"int\", options: [5, 10, 20, 30, 40]}, { name: \"season\", type: \"int\", options: [0, 1, 2, 5, 10]}],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{name: 'count', type: 'int'}],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{name: 'nth', type: 'int'}],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{name: 'count', type: 'int'}],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{name: 'tag', type: 'string', dynamicLookup: true}],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: \"expr\", type: \"string\"}],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: \"name\", type: \"string\", quote: 'double'}],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\n\nexport default {\n  create: createPart,\n  getCategories: function() {\n    return categories;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/query_part.ts","import _ from 'lodash';\n\nfunction renderTagCondition(tag, index) {\n  var str = '';\n  var operator = tag.operator;\n  var value = tag.value;\n  if (index > 0) {\n    str = (tag.condition || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number\n  if (operator !== '=~' && operator !== '!~' && isNaN(+value)) {\n    value = \"'\" + value + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class InfluxQueryBuilder {\n\n  constructor(private target, private database?) { }\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string) {\n    var query;\n    var measurement;\n    var policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'SHOW TAG KEYS';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'SHOW TAG VALUES';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'SHOW MEASUREMENTS';\n      if (withMeasurementFilter) {\n        query += ' WITH MEASUREMENT =~ /' + withMeasurementFilter + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'SHOW FIELD KEYS FROM ' + measurement;\n\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'SHOW RETENTION POLICIES on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' FROM ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' WITH KEY = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      var whereConditions = _.reduce(\n        this.target.tags,\n        function(memo, tag) {\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [],\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' WHERE ' + whereConditions.join(' ');\n      }\n    }\n    if (type === 'MEASUREMENTS') {\n      query += ' LIMIT 100';\n      //Solve issue #2524 by limiting the number of measurements returned\n      //LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      //This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n    return query;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/query_builder.ts","/* Flot plugin for selecting regions of a plot.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\nselection: {\n\tmode: null or \"x\" or \"y\" or \"xy\",\n\tcolor: color,\n\tshape: \"round\" or \"miter\" or \"bevel\",\n\tminSize: number of pixels\n}\n\nSelection support is enabled by setting the mode to one of \"x\", \"y\" or \"xy\".\nIn \"x\" mode, the user will only be able to specify the x range, similarly for\n\"y\" mode. For \"xy\", the selection becomes a rectangle where both ranges can be\nspecified. \"color\" is color of the selection (if you need to change the color\nlater on, you can get to it with plot.getOptions().selection.color). \"shape\"\nis the shape of the corners of the selection.\n\n\"minSize\" is the minimum size a selection can be in pixels. This value can\nbe customized to determine the smallest size a selection can be and still\nhave the selection rectangle be displayed. When customizing this value, the\nfact that it refers to pixels, not axis units must be taken into account.\nThus, for example, if there is a bar graph in time mode with BarWidth set to 1\nminute, setting \"minSize\" to 1 will not make the minimum selection size 1\nminute, but rather 1 pixel. Note also that setting \"minSize\" to 0 will prevent\n\"plotunselected\" events from being fired when the user clicks the mouse without\ndragging.\n\nWhen selection support is enabled, a \"plotselected\" event will be emitted on\nthe DOM element you passed into the plot function. The event handler gets a\nparameter with the ranges selected on the axes, like this:\n\n\tplaceholder.bind( \"plotselected\", function( event, ranges ) {\n\t\talert(\"You selected \" + ranges.xaxis.from + \" to \" + ranges.xaxis.to)\n\t\t// similar for yaxis - with multiple axes, the extra ones are in\n\t\t// x2axis, x3axis, ...\n\t});\n\nThe \"plotselected\" event is only fired when the user has finished making the\nselection. A \"plotselecting\" event is fired during the process with the same\nparameters as the \"plotselected\" event, in case you want to know what's\nhappening while it's happening,\n\nA \"plotunselected\" event with no arguments is emitted when the user clicks the\nmouse to remove the selection. As stated above, setting \"minSize\" to 0 will\ndestroy this behavior.\n\nThe plugin allso adds the following methods to the plot object:\n\n- setSelection( ranges, preventEvent )\n\n  Set the selection rectangle. The passed in ranges is on the same form as\n  returned in the \"plotselected\" event. If the selection mode is \"x\", you\n  should put in either an xaxis range, if the mode is \"y\" you need to put in\n  an yaxis range and both xaxis and yaxis if the selection mode is \"xy\", like\n  this:\n\n\tsetSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });\n\n  setSelection will trigger the \"plotselected\" event when called. If you don't\n  want that to happen, e.g. if you're inside a \"plotselected\" handler, pass\n  true as the second parameter. If you are using multiple axes, you can\n  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of\n  xaxis, the plugin picks the first one it sees.\n\n- clearSelection( preventEvent )\n\n  Clear the selection rectangle. Pass in true to avoid getting a\n  \"plotunselected\" event.\n\n- getSelection()\n\n  Returns the current selection in the same format as the \"plotselected\"\n  event. If there's currently no selection, the function returns null.\n\n*/\n\n(function ($) {\n    function init(plot) {\n        var selection = {\n                first: { x: -1, y: -1}, second: { x: -1, y: -1},\n                show: false,\n                active: false\n            };\n\n        // FIXME: The drag handling implemented here should be\n        // abstracted out, there's some similar code from a library in\n        // the navigation plugin, this should be massaged a bit to fit\n        // the Flot cases here better and reused. Doing this would\n        // make this plugin much slimmer.\n        var savedhandlers = {};\n\n        var mouseUpHandler = null;\n\n        function onMouseMove(e) {\n            if (selection.active) {\n                updateSelection(e);\n\n                plot.getPlaceholder().trigger(\"plotselecting\", [ getSelection() ]);\n            }\n        }\n\n        function onMouseDown(e) {\n            if (e.which != 1)  // only accept left-click\n                return;\n\n            // cancel out any text selections\n            document.body.focus();\n\n            // prevent text selection and drag in old-school browsers\n            if (document.onselectstart !== undefined && savedhandlers.onselectstart == null) {\n                savedhandlers.onselectstart = document.onselectstart;\n                document.onselectstart = function () { return false; };\n            }\n            if (document.ondrag !== undefined && savedhandlers.ondrag == null) {\n                savedhandlers.ondrag = document.ondrag;\n                document.ondrag = function () { return false; };\n            }\n\n            setSelectionPos(selection.first, e);\n\n            selection.active = true;\n\n            // this is a bit silly, but we have to use a closure to be\n            // able to whack the same handler again\n            mouseUpHandler = function (e) { onMouseUp(e); };\n\n            $(document).one(\"mouseup\", mouseUpHandler);\n        }\n\n        function onMouseUp(e) {\n            mouseUpHandler = null;\n\n            // revert drag stuff for old-school browsers\n            if (document.onselectstart !== undefined)\n                document.onselectstart = savedhandlers.onselectstart;\n            if (document.ondrag !== undefined)\n                document.ondrag = savedhandlers.ondrag;\n\n            // no more dragging\n            selection.active = false;\n            updateSelection(e);\n\n            if (selectionIsSane())\n                triggerSelectedEvent(e);\n            else {\n                // this counts as a clear\n                plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n                plot.getPlaceholder().trigger(\"plotselecting\", [ null ]);\n            }\n\n            setTimeout(function() {\n              plot.isSelecting = false;\n            }, 10);\n\n            return false;\n        }\n\n        function getSelection() {\n            if (!selectionIsSane())\n                return null;\n\n            if (!selection.show) return null;\n\n            var r = {}, c1 = selection.first, c2 = selection.second;\n            var axes = plot.getAxes();\n            // look if no axis is used\n            var noAxisInUse = true;\n            $.each(axes, function (name, axis) {\n              if (axis.used) {\n                anyUsed = false;\n              }\n            })\n\n            $.each(axes, function (name, axis) {\n                if (axis.used || noAxisInUse) {\n                    var p1 = axis.c2p(c1[axis.direction]), p2 = axis.c2p(c2[axis.direction]);\n                    r[name] = { from: Math.min(p1, p2), to: Math.max(p1, p2) };\n                }\n            });\n            return r;\n        }\n\n        function triggerSelectedEvent(event) {\n            var r = getSelection();\n\n            // Add ctrlKey and metaKey to event\n            r.ctrlKey = event.ctrlKey;\n            r.metaKey = event.metaKey;\n\n            plot.getPlaceholder().trigger(\"plotselected\", [ r ]);\n\n            // backwards-compat stuff, to be removed in future\n            if (r.xaxis && r.yaxis)\n                plot.getPlaceholder().trigger(\"selected\", [ { x1: r.xaxis.from, y1: r.yaxis.from, x2: r.xaxis.to, y2: r.yaxis.to } ]);\n        }\n\n        function clamp(min, value, max) {\n            return value < min ? min: (value > max ? max: value);\n        }\n\n        function setSelectionPos(pos, e) {\n            var o = plot.getOptions();\n            var offset = plot.getPlaceholder().offset();\n            var plotOffset = plot.getPlotOffset();\n            pos.x = clamp(0, e.pageX - offset.left - plotOffset.left, plot.width());\n            pos.y = clamp(0, e.pageY - offset.top - plotOffset.top, plot.height());\n\n            if (o.selection.mode == \"y\")\n                pos.x = pos == selection.first ? 0 : plot.width();\n\n            if (o.selection.mode == \"x\")\n                pos.y = pos == selection.first ? 0 : plot.height();\n        }\n\n        function updateSelection(pos) {\n            if (pos.pageX == null)\n                return;\n\n            setSelectionPos(selection.second, pos);\n            if (selectionIsSane()) {\n                plot.isSelecting = true;\n                selection.show = true;\n                plot.triggerRedrawOverlay();\n            }\n            else\n                clearSelection(true);\n        }\n\n        function clearSelection(preventEvent) {\n            if (selection.show) {\n                selection.show = false;\n                plot.triggerRedrawOverlay();\n                if (!preventEvent)\n                    plot.getPlaceholder().trigger(\"plotunselected\", [ ]);\n            }\n        }\n\n        // function taken from markings support in Flot\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = plot.getAxes();\n\n            for (var k in axes) {\n                axis = axes[k];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? plot.getXAxes()[0] : plot.getYAxes()[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n\n            return { from: from, to: to, axis: axis };\n        }\n\n        function setSelection(ranges, preventEvent) {\n            var axis, range, o = plot.getOptions();\n\n            if (o.selection.mode == \"y\") {\n                selection.first.x = 0;\n                selection.second.x = plot.width();\n            }\n            else {\n                range = extractRange(ranges, \"x\");\n\n                selection.first.x = range.axis.p2c(range.from);\n                selection.second.x = range.axis.p2c(range.to);\n            }\n\n            if (o.selection.mode == \"x\") {\n                selection.first.y = 0;\n                selection.second.y = plot.height();\n            }\n            else {\n                range = extractRange(ranges, \"y\");\n\n                selection.first.y = range.axis.p2c(range.from);\n                selection.second.y = range.axis.p2c(range.to);\n            }\n\n            selection.show = true;\n            plot.triggerRedrawOverlay();\n            if (!preventEvent && selectionIsSane())\n                triggerSelectedEvent();\n        }\n\n        function selectionIsSane() {\n            var minSize = plot.getOptions().selection.minSize;\n            return Math.abs(selection.second.x - selection.first.x) >= minSize &&\n                Math.abs(selection.second.y - selection.first.y) >= minSize;\n        }\n\n        plot.clearSelection = clearSelection;\n        plot.setSelection = setSelection;\n        plot.getSelection = getSelection;\n\n        plot.hooks.bindEvents.push(function(plot, eventHolder) {\n            var o = plot.getOptions();\n            if (o.selection.mode != null) {\n                eventHolder.mousemove(onMouseMove);\n                eventHolder.mousedown(onMouseDown);\n            }\n        });\n\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            // draw selection\n            if (selection.show && selectionIsSane()) {\n                var plotOffset = plot.getPlotOffset();\n                var o = plot.getOptions();\n\n                ctx.save();\n                ctx.translate(plotOffset.left, plotOffset.top);\n\n                var c = $.color.parse(o.selection.color);\n\n                ctx.strokeStyle = c.scale('a', 0.8).toString();\n                ctx.lineWidth = 1;\n                ctx.lineJoin = o.selection.shape;\n                ctx.fillStyle = c.scale('a', 0.4).toString();\n\n                var x = Math.min(selection.first.x, selection.second.x) + 0.5,\n                    y = Math.min(selection.first.y, selection.second.y) + 0.5,\n                    w = Math.abs(selection.second.x - selection.first.x) - 1,\n                    h = Math.abs(selection.second.y - selection.first.y) - 1;\n\n                ctx.fillRect(x, y, w, h);\n                ctx.strokeRect(x, y, w, h);\n\n                ctx.restore();\n            }\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mousedown\", onMouseDown);\n\n            if (mouseUpHandler)\n                $(document).unbind(\"mouseup\", mouseUpHandler);\n        });\n\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: {\n            selection: {\n                mode: null, // one of null, \"x\", \"y\" or \"xy\"\n                color: \"#e8cfac\",\n                shape: \"round\", // one of \"round\", \"miter\", or \"bevel\"\n                minSize: 5 // minimum number of pixels\n            }\n        },\n        name: 'selection',\n        version: '1.1'\n    });\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.selection.js\n// module id = 1334\n// module chunks = 0","/* Pretty handling of time axes.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nSet axis.mode to \"time\" to enable. See the section \"Time series data\" in\nAPI.txt for details.\n\n*/\n\n(function($) {\n\n\tvar options = {\n\t\txaxis: {\n\t\t\ttimezone: null,\t\t// \"browser\" for local to the client or timezone for timezone-js\n\t\t\ttimeformat: null,\t// format string to use\n\t\t\ttwelveHourClock: false,\t// 12 or 24 time in time mode\n\t\t\tmonthNames: null\t// list of names of months\n\t\t}\n\t};\n\n\t// round to nearby lower multiple of base\n\n\tfunction floorInBase(n, base) {\n\t\treturn base * Math.floor(n / base);\n\t}\n\n\t// Returns a string with the date d formatted according to fmt.\n\t// A subset of the Open Group's strftime format is supported.\n\n\tfunction formatDate(d, fmt, monthNames, dayNames) {\n\n\t\tif (typeof d.strftime == \"function\") {\n\t\t\treturn d.strftime(fmt);\n\t\t}\n\n\t\tvar leftPad = function(n, pad) {\n\t\t\tn = \"\" + n;\n\t\t\tpad = \"\" + (pad == null ? \"0\" : pad);\n\t\t\treturn n.length == 1 ? pad + n : n;\n\t\t};\n\n\t\tvar r = [];\n\t\tvar escape = false;\n\t\tvar hours = d.getHours();\n\t\tvar isAM = hours < 12;\n\n\t\tif (monthNames == null) {\n\t\t\tmonthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t}\n\n\t\tif (dayNames == null) {\n\t\t\tdayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\t\t}\n\n\t\tvar hours12;\n\n\t\tif (hours > 12) {\n\t\t\thours12 = hours - 12;\n\t\t} else if (hours == 0) {\n\t\t\thours12 = 12;\n\t\t} else {\n\t\t\thours12 = hours;\n\t\t}\n\n\t\tfor (var i = 0; i < fmt.length; ++i) {\n\n\t\t\tvar c = fmt.charAt(i);\n\n\t\t\tif (escape) {\n\t\t\t\tswitch (c) {\n\t\t\t\t\tcase 'a': c = \"\" + dayNames[d.getDay()]; break;\n\t\t\t\t\tcase 'b': c = \"\" + monthNames[d.getMonth()]; break;\n\t\t\t\t\tcase 'd': c = leftPad(d.getDate(), \"\"); break;\n\t\t\t\t\tcase 'e': c = leftPad(d.getDate(), \" \"); break;\n\t\t\t\t\tcase 'h':\t// For back-compat with 0.7; remove in 1.0\n\t\t\t\t\tcase 'H': c = leftPad(hours); break;\n\t\t\t\t\tcase 'I': c = leftPad(hours12); break;\n\t\t\t\t\tcase 'l': c = leftPad(hours12, \" \"); break;\n\t\t\t\t\tcase 'm': c = leftPad(d.getMonth() + 1, \"\"); break;\n\t\t\t\t\tcase 'M': c = leftPad(d.getMinutes()); break;\n\t\t\t\t\t// quarters not in Open Group's strftime specification\n\t\t\t\t\tcase 'q':\n\t\t\t\t\t\tc = \"\" + (Math.floor(d.getMonth() / 3) + 1); break;\n\t\t\t\t\tcase 'S': c = leftPad(d.getSeconds()); break;\n\t\t\t\t\tcase 'y': c = leftPad(d.getFullYear() % 100); break;\n\t\t\t\t\tcase 'Y': c = \"\" + d.getFullYear(); break;\n\t\t\t\t\tcase 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n\t\t\t\t\tcase 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n\t\t\t\t\tcase 'w': c = \"\" + d.getDay(); break;\n\t\t\t\t}\n\t\t\t\tr.push(c);\n\t\t\t\tescape = false;\n\t\t\t} else {\n\t\t\t\tif (c == \"%\") {\n\t\t\t\t\tescape = true;\n\t\t\t\t} else {\n\t\t\t\t\tr.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn r.join(\"\");\n\t}\n\n\t// To have a consistent view of time-based data independent of which time\n\t// zone the client happens to be in we need a date-like object independent\n\t// of time zones.  This is done through a wrapper that only calls the UTC\n\t// versions of the accessor methods.\n\n\tfunction makeUtcWrapper(d) {\n\n\t\tfunction addProxyMethod(sourceObj, sourceMethod, targetObj, targetMethod) {\n\t\t\tsourceObj[sourceMethod] = function() {\n\t\t\t\treturn targetObj[targetMethod].apply(targetObj, arguments);\n\t\t\t};\n\t\t};\n\n\t\tvar utc = {\n\t\t\tdate: d\n\t\t};\n\n\t\t// support strftime, if found\n\n\t\tif (d.strftime != undefined) {\n\t\t\taddProxyMethod(utc, \"strftime\", d, \"strftime\");\n\t\t}\n\n\t\taddProxyMethod(utc, \"getTime\", d, \"getTime\");\n\t\taddProxyMethod(utc, \"setTime\", d, \"setTime\");\n\n\t\tvar props = [\"Date\", \"Day\", \"FullYear\", \"Hours\", \"Milliseconds\", \"Minutes\", \"Month\", \"Seconds\"];\n\n\t\tfor (var p = 0; p < props.length; p++) {\n\t\t\taddProxyMethod(utc, \"get\" + props[p], d, \"getUTC\" + props[p]);\n\t\t\taddProxyMethod(utc, \"set\" + props[p], d, \"setUTC\" + props[p]);\n\t\t}\n\n\t\treturn utc;\n\t};\n\n\t// select time zone strategy.  This returns a date-like object tied to the\n\t// desired timezone\n\n\tfunction dateGenerator(ts, opts) {\n\t\tif (opts.timezone == \"browser\") {\n\t\t\treturn new Date(ts);\n\t\t} else if (!opts.timezone || opts.timezone == \"utc\") {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t} else if (typeof timezoneJS != \"undefined\" && typeof timezoneJS.Date != \"undefined\") {\n\t\t\tvar d = new timezoneJS.Date();\n\t\t\t// timezone-js is fickle, so be sure to set the time zone before\n\t\t\t// setting the time.\n\t\t\td.setTimezone(opts.timezone);\n\t\t\td.setTime(ts);\n\t\t\treturn d;\n\t\t} else {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t}\n\t}\n\n\t// map of app. size of time units in milliseconds\n\n\tvar timeUnitSize = {\n\t\t\"second\": 1000,\n\t\t\"minute\": 60 * 1000,\n\t\t\"hour\": 60 * 60 * 1000,\n\t\t\"day\": 24 * 60 * 60 * 1000,\n\t\t\"month\": 30 * 24 * 60 * 60 * 1000,\n\t\t\"quarter\": 3 * 30 * 24 * 60 * 60 * 1000,\n\t\t\"year\": 365.2425 * 24 * 60 * 60 * 1000\n\t};\n\n\t// the allowed tick sizes, after 1 year we use\n\t// an integer algorithm\n\n\tvar baseSpec = [\n\t\t[1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n\t\t[30, \"second\"],\n\t\t[1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n\t\t[30, \"minute\"],\n\t\t[1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n\t\t[8, \"hour\"], [12, \"hour\"],\n\t\t[1, \"day\"], [2, \"day\"], [3, \"day\"],\n\t\t[0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n\t\t[2, \"month\"]\n\t];\n\n\t// we don't know which variant(s) we'll need yet, but generating both is\n\t// cheap\n\n\tvar specMonths = baseSpec.concat([[3, \"month\"], [6, \"month\"],\n\t\t[1, \"year\"]]);\n\tvar specQuarters = baseSpec.concat([[1, \"quarter\"], [2, \"quarter\"],\n\t\t[1, \"year\"]]);\n\n\tfunction init(plot) {\n\t\tplot.hooks.processOptions.push(function (plot, options) {\n\t\t\t$.each(plot.getAxes(), function(axisName, axis) {\n\n\t\t\t\tvar opts = axis.options;\n\n\t\t\t\tif (opts.mode == \"time\") {\n\t\t\t\t\taxis.tickGenerator = function(axis) {\n\n\t\t\t\t\t\tvar ticks = [];\n\t\t\t\t\t\tvar d = dateGenerator(axis.min, opts);\n\t\t\t\t\t\tvar minSize = 0;\n\n\t\t\t\t\t\t// make quarter use a possibility if quarters are\n\t\t\t\t\t\t// mentioned in either of these options\n\n\t\t\t\t\t\tvar spec = (opts.tickSize && opts.tickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ||\n\t\t\t\t\t\t\t(opts.minTickSize && opts.minTickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ? specQuarters : specMonths;\n\n\t\t\t\t\t\tif (opts.minTickSize != null) {\n\t\t\t\t\t\t\tif (typeof opts.tickSize == \"number\") {\n\t\t\t\t\t\t\t\tminSize = opts.tickSize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var i = 0; i < spec.length - 1; ++i) {\n\t\t\t\t\t\t\tif (axis.delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n\t\t\t\t\t\t\t\t\t\t\t  + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n\t\t\t\t\t\t\t\t&& spec[i][0] * timeUnitSize[spec[i][1]] >= minSize) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar size = spec[i][0];\n\t\t\t\t\t\tvar unit = spec[i][1];\n\n\t\t\t\t\t\t// special-case the possibility of several years\n\n\t\t\t\t\t\tif (unit == \"year\") {\n\n\t\t\t\t\t\t\t// if given a minTickSize in years, just use it,\n\t\t\t\t\t\t\t// ensuring that it's an integer\n\n\t\t\t\t\t\t\tif (opts.minTickSize != null && opts.minTickSize[1] == \"year\") {\n\t\t\t\t\t\t\t\tsize = Math.floor(opts.minTickSize[0]);\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar magn = Math.pow(10, Math.floor(Math.log(axis.delta / timeUnitSize.year) / Math.LN10));\n\t\t\t\t\t\t\t\tvar norm = (axis.delta / timeUnitSize.year) / magn;\n\n\t\t\t\t\t\t\t\tif (norm < 1.5) {\n\t\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t\t} else if (norm < 3) {\n\t\t\t\t\t\t\t\t\tsize = 2;\n\t\t\t\t\t\t\t\t} else if (norm < 7.5) {\n\t\t\t\t\t\t\t\t\tsize = 5;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsize = 10;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsize *= magn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// minimum size for years is 1\n\n\t\t\t\t\t\t\tif (size < 1) {\n\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taxis.tickSize = opts.tickSize || [size, unit];\n\t\t\t\t\t\tvar tickSize = axis.tickSize[0];\n\t\t\t\t\t\tunit = axis.tickSize[1];\n\n\t\t\t\t\t\tvar step = tickSize * timeUnitSize[unit];\n\n\t\t\t\t\t\tif (unit == \"second\") {\n\t\t\t\t\t\t\td.setSeconds(floorInBase(d.getSeconds(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"minute\") {\n\t\t\t\t\t\t\td.setMinutes(floorInBase(d.getMinutes(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"hour\") {\n\t\t\t\t\t\t\td.setHours(floorInBase(d.getHours(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"month\") {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"quarter\") {\n\t\t\t\t\t\t\td.setMonth(3 * floorInBase(d.getMonth() / 3,\n\t\t\t\t\t\t\t\ttickSize));\n\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\td.setFullYear(floorInBase(d.getFullYear(), tickSize));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset smaller components\n\n\t\t\t\t\t\td.setMilliseconds(0);\n\n\t\t\t\t\t\tif (step >= timeUnitSize.minute) {\n\t\t\t\t\t\t\td.setSeconds(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.hour) {\n\t\t\t\t\t\t\td.setMinutes(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day) {\n\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day * 4) {\n\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.month * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.quarter * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 6));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.year) {\n\t\t\t\t\t\t\td.setMonth(0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar carry = 0;\n\t\t\t\t\t\tvar v = Number.NaN;\n\t\t\t\t\t\tvar prev;\n\n\t\t\t\t\t\tdo {\n\n\t\t\t\t\t\t\tprev = v;\n\t\t\t\t\t\t\tv = d.getTime();\n\t\t\t\t\t\t\tticks.push(v);\n\n\t\t\t\t\t\t\tif (unit == \"month\" || unit == \"quarter\") {\n\t\t\t\t\t\t\t\tif (tickSize < 1) {\n\n\t\t\t\t\t\t\t\t\t// a bit complicated - we'll divide the\n\t\t\t\t\t\t\t\t\t// month/quarter up but we need to take\n\t\t\t\t\t\t\t\t\t// care of fractions so we don't end up in\n\t\t\t\t\t\t\t\t\t// the middle of a day\n\n\t\t\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t\t\t\tvar start = d.getTime();\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\t(unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t\tvar end = d.getTime();\n\t\t\t\t\t\t\t\t\td.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n\t\t\t\t\t\t\t\t\tcarry = d.getHours();\n\t\t\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\ttickSize * (unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\t\td.setFullYear(d.getFullYear() + tickSize);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\td.setTime(v + step);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (v < axis.max && v != prev);\n\n\t\t\t\t\t\treturn ticks;\n\t\t\t\t\t};\n\n\t\t\t\t\taxis.tickFormatter = function (v, axis) {\n\n\t\t\t\t\t\tvar d = dateGenerator(v, axis.options);\n\n\t\t\t\t\t\t// first check global format\n\n\t\t\t\t\t\tif (opts.timeformat != null) {\n\t\t\t\t\t\t\treturn formatDate(d, opts.timeformat, opts.monthNames, opts.dayNames);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// possibly use quarters if quarters are mentioned in\n\t\t\t\t\t\t// any of these places\n\n\t\t\t\t\t\tvar useQuarters = (axis.options.tickSize &&\n\t\t\t\t\t\t\t\taxis.options.tickSize[1] == \"quarter\") ||\n\t\t\t\t\t\t\t(axis.options.minTickSize &&\n\t\t\t\t\t\t\t\taxis.options.minTickSize[1] == \"quarter\");\n\n\t\t\t\t\t\tvar t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n\t\t\t\t\t\tvar span = axis.max - axis.min;\n\t\t\t\t\t\tvar suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n\t\t\t\t\t\tvar hourCode = (opts.twelveHourClock) ? \"%I\" : \"%H\";\n\t\t\t\t\t\tvar fmt;\n\n\t\t\t\t\t\tif (t < timeUnitSize.minute) {\n\t\t\t\t\t\t\tfmt = hourCode + \":%M:%S\" + suffix;\n\t\t\t\t\t\t} else if (t < timeUnitSize.day) {\n\t\t\t\t\t\t\tif (span < 2 * timeUnitSize.day) {\n\t\t\t\t\t\t\t\tfmt = hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %d \" + hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (t < timeUnitSize.month) {\n\t\t\t\t\t\t\tfmt = \"%b %d\";\n\t\t\t\t\t\t} else if ((useQuarters && t < timeUnitSize.quarter) ||\n\t\t\t\t\t\t\t(!useQuarters && t < timeUnitSize.year)) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"%b\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (useQuarters && t < timeUnitSize.year) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"Q%q\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"Q%q %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfmt = \"%Y\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar rt = formatDate(d, fmt, opts.monthNames, opts.dayNames);\n\n\t\t\t\t\t\treturn rt;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: 'time',\n\t\tversion: '1.0'\n\t});\n\n\t// Time-axis support used to be in Flot core, which exposed the\n\t// formatDate function on the plot object.  Various plugins depend\n\t// on the function, so we need to re-expose it here.\n\n\t$.plot.formatDate = formatDate;\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.time.js\n// module id = 1335\n// module chunks = 0","/* Flot plugin for stacking data sets rather than overlyaing them.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes the data is sorted on x (or y if stacking horizontally).\nFor line charts, it is assumed that if a line has an undefined gap (from a\nnull point), then the line above it should have the same gap - insert zeros\ninstead of \"null\" if you want another behaviour. This also holds for the start\nand end of the chart. Note that stacking a mix of positive and negative values\nin most instances doesn't make sense (so it looks weird).\n\nTwo or more series are stacked when their \"stack\" attribute is set to the same\nkey (which can be any number or string or just \"true\"). To specify the default\nstack, you can set the stack option like this:\n\n    series: {\n        stack: null/false, true, or a key (number/string)\n    }\n\nYou can also specify it for a single series, like this:\n\n    $.plot( $(\"#placeholder\"), [{\n        data: [ ... ],\n        stack: true\n    }])\n\nThe stacking order is determined by the order of the data series in the array\n(later series end up on top of the previous).\n\nInternally, the plugin modifies the datapoints in each series, adding an\noffset to the y value. For line series, extra data points are inserted through\ninterpolation. If there's a second y value, it's also adjusted (e.g for bar\ncharts or filled areas).\n\n*/\n\n(function ($) {\n    var options = {\n        series: { stack: null } // or number/string\n    };\n\n    function init(plot) {\n        function findMatchingSeries(s, allseries) {\n            var res = null;\n            for (var i = 0; i < allseries.length; ++i) {\n                if (s == allseries[i])\n                    break;\n\n                if (allseries[i].stack == s.stack)\n                    res = allseries[i];\n            }\n\n            return res;\n        }\n\n        function stackData(plot, s, datapoints) {\n            if (s.stack == null || s.stack === false)\n                return;\n\n            var other = findMatchingSeries(s, plot.getData());\n            if (!other)\n                return;\n\n            var ps = datapoints.pointsize,\n                points = datapoints.points,\n                otherps = other.datapoints.pointsize,\n                otherpoints = other.datapoints.points,\n                newpoints = [],\n                px, py, intery, qx, qy, bottom,\n                withlines = s.lines.show,\n                horizontal = s.bars.horizontal,\n                withbottom = ps > 2 && (horizontal ? datapoints.format[2].x : datapoints.format[2].y),\n                withsteps = withlines && s.lines.steps,\n                keyOffset = horizontal ? 1 : 0,\n                accumulateOffset = horizontal ? 0 : 1,\n                i = 0, j = 0, l, m;\n\n            while (true) {\n                if (i >= points.length && j >= otherpoints.length)\n                    break;\n\n                l = newpoints.length;\n\n                if (i < points.length && points[i] == null) {\n                    // copy gaps\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(points[i + m]);\n                    i += ps;\n                }\n                else if (i >= points.length) {\n                    // take the remaining points from the previous series\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(otherpoints[j + m]);\n                    if (withbottom)\n                        newpoints[l + 2] = otherpoints[j + accumulateOffset];\n                    j += otherps;\n                }\n                else if (j >= otherpoints.length) {\n                    // take the remaining points from the current series\n                    for (m = 0; m < ps; ++m)\n                        newpoints.push(points[i + m]);\n                    i += ps;\n                }\n                else if (j < otherpoints.length && otherpoints[j] == null) {\n                    // ignore point\n                    j += otherps;\n                }\n                else {\n                    // cases where we actually got two points\n                    px = points[i + keyOffset];\n                    py = points[i + accumulateOffset];\n                    qx = otherpoints[j + keyOffset];\n                    qy = otherpoints[j + accumulateOffset];\n                    bottom = 0;\n\n                    if (px == qx) {\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n\n                        newpoints[l + accumulateOffset] += qy;\n                        bottom = qy;\n\n                        i += ps;\n                        j += otherps;\n                    }\n                    else if (px > qx) {\n                        // take the point from the previous series so that next series will correctly stack\n                        if (i == 0) {\n                            for (m = 0; m < ps; ++m)\n                                newpoints.push(otherpoints[j + m]);\n                            bottom = qy;\n                        }\n                        // we got past point below, might need to\n                        // insert interpolated extra point\n                        if (i > 0 && points[i - ps] != null) {\n                            intery = py + (points[i - ps + accumulateOffset] - py) * (qx - px) / (points[i - ps + keyOffset] - px);\n                            newpoints.push(qx);\n                            newpoints.push(intery + qy);\n                            for (m = 2; m < ps; ++m)\n                                newpoints.push(points[i + m]);\n                            bottom = qy;\n                        }\n\n                        j += otherps;\n                    }\n                    else { // px < qx\n                        for (m = 0; m < ps; ++m)\n                            newpoints.push(points[i + m]);\n\n                        // we might be able to interpolate a point below,\n                        // this can give us a better y\n                        if (j > 0 && otherpoints[j - otherps] != null)\n                            bottom = qy + (otherpoints[j - otherps + accumulateOffset] - qy) * (px - qx) / (otherpoints[j - otherps + keyOffset] - qx);\n\n                        newpoints[l + accumulateOffset] += bottom;\n\n                        i += ps;\n                    }\n\n                    fromgap = false;\n\n                    if (l != newpoints.length && withbottom)\n                        newpoints[l + 2] = bottom;\n                }\n\n                // maintain the line steps invariant\n                if (withsteps && l != newpoints.length && l > 0\n                    && newpoints[l] != null\n                    && newpoints[l] != newpoints[l - ps]\n                    && newpoints[l + 1] != newpoints[l - ps + 1]) {\n                    for (m = 0; m < ps; ++m)\n                        newpoints[l + ps + m] = newpoints[l + m];\n                    newpoints[l + 1] = newpoints[l - ps + 1];\n                }\n            }\n\n            datapoints.points = newpoints;\n        }\n\n        plot.hooks.processDatapoints.push(stackData);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stack',\n        version: '1.2'\n    });\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.stack.js\n// module id = 1336\n// module chunks = 0","(function ($) {\n    var options = {\n        series: {\n            stackpercent: null\n        } // or number/string\n    };\n\n    function init(plot) {\n\n        // will be built up dynamically as a hash from x-value, or y-value if horizontal\n        var stackBases = {};\n        var processed = false;\n        var stackSums = {};\n\n        //set percentage for stacked chart\n        function processRawData(plot, series, data, datapoints) {\n            if (!processed) {\n                processed = true;\n                stackSums = getStackSums(plot.getData());\n            }\n\t\t\tif (series.stackpercent == true) {\n\t\t\t\tvar num = data.length;\n\t\t\t\tseries.percents = [];\n\t\t\t\tvar key_idx = 0;\n\t\t\t\tvar value_idx = 1;\n\t\t\t\tif (series.bars && series.bars.horizontal && series.bars.horizontal === true) {\n\t\t\t\t\tkey_idx = 1;\n\t\t\t\t\tvalue_idx = 0;\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < num; j++) {\n\t\t\t\t\tvar sum = stackSums[data[j][key_idx] + \"\"];\n\t\t\t\t\tif (sum > 0) {\n\t\t\t\t\t\tseries.percents.push(data[j][value_idx] * 100 / sum);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tseries.percents.push(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n        }\n\n        //calculate summary\n        function getStackSums(_data) {\n            var data_len = _data.length;\n            var sums = {};\n            if (data_len > 0) {\n                //caculate summary\n                for (var i = 0; i < data_len; i++) {\n                    if (_data[i].stackpercent) {\n\t\t\t\t\t\tvar key_idx = 0;\n\t\t\t\t\t\tvar value_idx = 1;\n\t\t\t\t\t\tif (_data[i].bars && _data[i].bars.horizontal && _data[i].bars.horizontal === true) {\n\t\t\t\t\t\t\tkey_idx = 1;\n\t\t\t\t\t\t\tvalue_idx = 0;\n\t\t\t\t\t\t}\n                        var num = _data[i].data.length;\n                        for (var j = 0; j < num; j++) {\n                            var value = 0;\n                            if (_data[i].data[j][1] != null) {\n                                value = _data[i].data[j][value_idx];\n                            }\n                            if (sums[_data[i].data[j][key_idx] + \"\"]) {\n                                sums[_data[i].data[j][key_idx] + \"\"] += value;\n                            } else {\n                                sums[_data[i].data[j][key_idx] + \"\"] = value;\n                            }\n\n                        }\n                    }\n                }\n            }\n            return sums;\n        }\n\n        function stackData(plot, s, datapoints) {\n            if (!s.stackpercent) return;\n            if (!processed) {\n                stackSums = getStackSums(plot.getData());\n            }\n            var newPoints = [];\n\n\n\t\t\tvar key_idx = 0;\n\t\t\tvar value_idx = 1;\n\t\t\tif (s.bars && s.bars.horizontal && s.bars.horizontal === true) {\n\t\t\t\tkey_idx = 1;\n\t\t\t\tvalue_idx = 0;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < datapoints.points.length; i += 3) {\n\t\t\t\t// note that the values need to be turned into absolute y-values.\n\t\t\t\t// in other words, if you were to stack (x, y1), (x, y2), and (x, y3),\n\t\t\t\t// (each from different series, which is where stackBases comes in),\n\t\t\t\t// you'd want the new points to be (x, y1, 0), (x, y1+y2, y1), (x, y1+y2+y3, y1+y2)\n\t\t\t\t// generally, (x, thisValue + (base up to this point), + (base up to this point))\n\t\t\t\tif (!stackBases[datapoints.points[i + key_idx]]) {\n\t\t\t\t\tstackBases[datapoints.points[i + key_idx]] = 0;\n\t\t\t\t}\n\t\t\t\tnewPoints[i + key_idx] = datapoints.points[i + key_idx];\n\t\t\t\tnewPoints[i + value_idx] = datapoints.points[i + value_idx] + stackBases[datapoints.points[i + key_idx]];\n\t\t\t\tnewPoints[i + 2] = stackBases[datapoints.points[i + key_idx]];\n\t\t\t\tstackBases[datapoints.points[i + key_idx]] += datapoints.points[i + value_idx];\n\t\t\t\t// change points to percentage values\n\t\t\t\t// you may need to set yaxis:{ max = 100 }\n\t\t\t\tif ( stackSums[newPoints[i+key_idx]+\"\"] > 0 ){\n\t\t\t\t\tnewPoints[i + value_idx] = newPoints[i + value_idx] * 100 / stackSums[newPoints[i + key_idx] + \"\"];\n\t\t\t\t\tnewPoints[i + 2] = newPoints[i + 2] * 100 / stackSums[newPoints[i + key_idx] + \"\"];\n\t\t\t\t} else {\n\t\t\t\t\tnewPoints[i + value_idx] = 0;\n\t\t\t\t\tnewPoints[i + 2] = 0;\n\t\t\t\t}\n\t\t\t}\n\n            datapoints.points = newPoints;\n        }\n\n\t\tplot.hooks.processRawData.push(processRawData);\n        plot.hooks.processDatapoints.push(stackData);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'stackpercent',\n        version: '0.1'\n    });\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.stackpercent.js\n// module id = 1337\n// module chunks = 0","(function($) {\n    \"use strict\";\n\n    var options = {\n        series: {\n            fillBelowTo: null\n        }\n    };\n\n    function init(plot) {\n        function findBelowSeries( series, allseries ) {\n\n            var i;\n\n            for ( i = 0; i < allseries.length; ++i ) {\n                if ( allseries[ i ].id === series.fillBelowTo ) {\n                    return allseries[ i ];\n                }\n            }\n\n            return null;\n        }\n\n        /* top and bottom doesn't actually matter for this, we're just using it to help make this easier to think about */\n        /* this is a vector cross product operation */\n        function segmentIntersection(top_left_x, top_left_y, top_right_x, top_right_y, bottom_left_x, bottom_left_y, bottom_right_x, bottom_right_y) {\n            var top_delta_x, top_delta_y, bottom_delta_x, bottom_delta_y,\n                s, t;\n\n            top_delta_x = top_right_x - top_left_x;\n            top_delta_y = top_right_y - top_left_y;\n            bottom_delta_x = bottom_right_x - bottom_left_x;\n            bottom_delta_y = bottom_right_y - bottom_left_y;\n\n            s = (\n                (-top_delta_y * (top_left_x - bottom_left_x)) + (top_delta_x * (top_left_y - bottom_left_y))\n            ) / (\n                -bottom_delta_x * top_delta_y + top_delta_x * bottom_delta_y\n            );\n\n            t = (\n                (bottom_delta_x * (top_left_y - bottom_left_y)) - (bottom_delta_y * (top_left_x - bottom_left_x))\n            ) / (\n                -bottom_delta_x * top_delta_y + top_delta_x * bottom_delta_y\n            );\n\n            // Collision detected\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return [\n                    top_left_x + (t * top_delta_x), // X\n                    top_left_y + (t * top_delta_y) // Y\n                ];\n            }\n\n            // No collision\n            return null;\n        }\n\n        function plotDifferenceArea(plot, ctx, series) {\n            if ( series.fillBelowTo === null ) {\n                return;\n            }\n\n            var otherseries,\n\n                ps,\n                points,\n\n                otherps,\n                otherpoints,\n\n                plotOffset,\n                fillStyle;\n\n            function openPolygon(x, y) {\n                ctx.beginPath();\n                ctx.moveTo(\n                    series.xaxis.p2c(x) + plotOffset.left,\n                    series.yaxis.p2c(y) + plotOffset.top\n                );\n\n            }\n\n            function closePolygon() {\n                ctx.closePath();\n                ctx.fill();\n            }\n\n            function validateInput() {\n                if (points.length/ps !== otherpoints.length/otherps) {\n                    console.error(\"Refusing to graph inconsistent number of points\");\n                    return false;\n                }\n\n                var i;\n                for (i = 0; i < (points.length / ps); i++) {\n                    if (\n                        points[i * ps] !== null &&\n                        otherpoints[i * otherps] !== null &&\n                        points[i * ps] !== otherpoints[i * otherps]\n                    ) {\n                        console.error(\"Refusing to graph points without matching value\");\n                        return false;\n                    }\n                }\n\n                return true;\n            }\n\n            function findNextStart(start_i, end_i) {\n                console.assert(end_i > start_i, \"expects the end index to be greater than the start index\");\n\n                var start = (\n                        start_i === 0 ||\n                        points[start_i - 1] === null ||\n                        otherpoints[start_i - 1] === null\n                    ),\n                    equal = false,\n                    i,\n                    intersect;\n\n                for (i = start_i; i < end_i; i++) {\n                    // Take note of null points\n                    if (\n                        points[(i * ps) + 1] === null ||\n                        otherpoints[(i * ps) + 1] === null\n                    ) {\n                        equal = false;\n                        start = true;\n                    }\n\n                    // Take note of equal points\n                    else if (points[(i * ps) + 1] === otherpoints[(i * otherps) + 1]) {\n                        equal = true;\n                        start = false;\n                    }\n\n\n                    else if (points[(i * ps) + 1] > otherpoints[(i * otherps) + 1]) {\n                        // If we begin above the desired point\n                        if (start) {\n                            openPolygon(points[i * ps], points[(i * ps) + 1]);\n                        }\n\n                        // If an equal point preceeds this, start the polygon at that equal point\n                        else if (equal) {\n                            openPolygon(points[(i - 1) * ps], points[((i - 1) * ps) + 1]);\n                        }\n\n                        // Otherwise, find the intersection point, and start it there\n                        else {\n                            intersect = intersectionPoint(i);\n                            openPolygon(intersect[0], intersect[1]);\n                        }\n\n                        topTraversal(i, end_i);\n                        return;\n                    }\n\n                    // If we go below equal, equal at any preceeding point is irrelevant\n                    else {\n                        start = false;\n                        equal = false;\n                    }\n                }\n            }\n\n            function intersectionPoint(right_i) {\n                console.assert(right_i > 0, \"expects the second point in the series line segment\");\n\n                var i, intersect;\n\n                for (i = 1; i < (otherpoints.length/otherps); i++) {\n                    intersect = segmentIntersection(\n                        points[(right_i - 1) * ps], points[((right_i - 1) * ps) + 1],\n                        points[right_i * ps], points[(right_i * ps) + 1],\n\n                        otherpoints[(i - 1) * otherps], otherpoints[((i - 1) * otherps) + 1],\n                        otherpoints[i * otherps], otherpoints[(i * otherps) + 1]\n                    );\n\n                    if (intersect !== null) {\n                        return intersect;\n                    }\n                }\n\n                console.error(\"intersectionPoint() should only be called when an intersection happens\");\n            }\n\n            function bottomTraversal(start_i, end_i) {\n                console.assert(start_i >= end_i, \"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)\");\n\n                var i;\n\n                for (i = start_i; i >= end_i; i--) {\n                    ctx.lineTo(\n                        otherseries.xaxis.p2c(otherpoints[i * otherps]) + plotOffset.left,\n                        otherseries.yaxis.p2c(otherpoints[(i * otherps) + 1]) + plotOffset.top\n                    );\n                }\n\n                closePolygon();\n            }\n\n            function topTraversal(start_i, end_i) {\n                console.assert(start_i <= end_i, \"the start should be the rightmost point, and the end should be the leftmost (excluding the equal or intersecting point)\");\n\n                var i,\n                    intersect;\n\n                for (i = start_i; i < end_i; i++) {\n                    if (points[(i * ps) + 1] === null && i > start_i) {\n                        bottomTraversal(i - 1, start_i);\n                        findNextStart(i, end_i);\n                        return;\n                    }\n\n                    else if (points[(i * ps) + 1] === otherpoints[(i * otherps) + 1]) {\n                        bottomTraversal(i, start_i);\n                        findNextStart(i, end_i);\n                        return;\n                    }\n\n                    else if (points[(i * ps) + 1] < otherpoints[(i * otherps) + 1]) {\n                        intersect = intersectionPoint(i);\n                        ctx.lineTo(\n                            series.xaxis.p2c(intersect[0]) + plotOffset.left,\n                            series.yaxis.p2c(intersect[1]) + plotOffset.top\n                        );\n                        bottomTraversal(i, start_i);\n                        findNextStart(i, end_i);\n                        return;\n\n                    }\n\n                    else {\n                        ctx.lineTo(\n                            series.xaxis.p2c(points[i * ps]) + plotOffset.left,\n                            series.yaxis.p2c(points[(i * ps) + 1]) + plotOffset.top\n                        );\n                    }\n                }\n\n                bottomTraversal(end_i, start_i);\n            }\n\n\n            // Begin processing\n\n            otherseries = findBelowSeries( series, plot.getData() );\n\n            if ( !otherseries ) {\n                return;\n            }\n\n            ps = series.datapoints.pointsize;\n            points = series.datapoints.points;\n            otherps = otherseries.datapoints.pointsize;\n            otherpoints = otherseries.datapoints.points;\n            plotOffset = plot.getPlotOffset();\n\n            if (!validateInput()) {\n                return;\n            }\n\n\n            // Flot's getFillStyle() should probably be exposed somewhere\n            fillStyle = $.color.parse(series.color);\n            fillStyle.a = 0.4;\n            fillStyle.normalize();\n            ctx.fillStyle = fillStyle.toString();\n\n\n            // Begin recursive bi-directional traversal\n            findNextStart(0, points.length/ps);\n        }\n\n        plot.hooks.drawSeries.push(plotDifferenceArea);\n    }\n\n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: \"fillbelow\",\n        version: \"0.1.0\"\n    });\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.fillbelow.js\n// module id = 1338\n// module chunks = 0","/* Flot plugin for showing crosshairs when the mouse hovers over the plot.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin supports these options:\n\n\tcrosshair: {\n\t\tmode: null or \"x\" or \"y\" or \"xy\"\n\t\tcolor: color\n\t\tlineWidth: number\n\t}\n\nSet the mode to one of \"x\", \"y\" or \"xy\". The \"x\" mode enables a vertical\ncrosshair that lets you trace the values on the x axis, \"y\" enables a\nhorizontal crosshair and \"xy\" enables them both. \"color\" is the color of the\ncrosshair (default is \"rgba(170, 0, 0, 0.80)\"), \"lineWidth\" is the width of\nthe drawn lines (default is 1).\n\nThe plugin also adds four public methods:\n\n  - setCrosshair( pos )\n\n    Set the position of the crosshair. Note that this is cleared if the user\n    moves the mouse. \"pos\" is in coordinates of the plot and should be on the\n    form { x: xpos, y: ypos } (you can use x2/x3/... if you're using multiple\n    axes), which is coincidentally the same format as what you get from a\n    \"plothover\" event. If \"pos\" is null, the crosshair is cleared.\n\n  - clearCrosshair()\n\n    Clear the crosshair.\n\n  - lockCrosshair(pos)\n\n    Cause the crosshair to lock to the current location, no longer updating if\n    the user moves the mouse. Optionally supply a position (passed on to\n    setCrosshair()) to move it to.\n\n    Example usage:\n\n\tvar myFlot = $.plot( $(\"#graph\"), ..., { crosshair: { mode: \"x\" } } };\n\t$(\"#graph\").bind( \"plothover\", function ( evt, position, item ) {\n\t\tif ( item ) {\n\t\t\t// Lock the crosshair to the data point being hovered\n\t\t\tmyFlot.lockCrosshair({\n\t\t\t\tx: item.datapoint[ 0 ],\n\t\t\t\ty: item.datapoint[ 1 ]\n\t\t\t});\n\t\t} else {\n\t\t\t// Return normal crosshair operation\n\t\t\tmyFlot.unlockCrosshair();\n\t\t}\n\t});\n\n  - unlockCrosshair()\n\n    Free the crosshair to move again after locking it.\n*/\n\n(function ($) {\n    var options = {\n        crosshair: {\n            mode: null, // one of null, \"x\", \"y\" or \"xy\",\n            color: \"rgba(170, 0, 0, 0.80)\",\n            lineWidth: 1\n        }\n    };\n    \n    function init(plot) {\n        // position of crosshair in pixels\n        var crosshair = { x: -1, y: -1, locked: false };\n\n        plot.setCrosshair = function setCrosshair(pos) {\n            if (!pos)\n                crosshair.x = -1;\n            else {\n                var o = plot.p2c(pos);\n                crosshair.x = Math.max(0, Math.min(o.left, plot.width()));\n                crosshair.y = Math.max(0, Math.min(o.top, plot.height()));\n            }\n            \n            plot.triggerRedrawOverlay();\n        };\n        \n        plot.clearCrosshair = plot.setCrosshair; // passes null for pos\n        \n        plot.lockCrosshair = function lockCrosshair(pos) {\n            if (pos)\n                plot.setCrosshair(pos);\n            crosshair.locked = true;\n        };\n\n        plot.unlockCrosshair = function unlockCrosshair() {\n            crosshair.locked = false;\n        };\n\n        function onMouseOut(e) {\n            if (crosshair.locked)\n                return;\n\n            if (crosshair.x != -1) {\n                crosshair.x = -1;\n                plot.triggerRedrawOverlay();\n            }\n        }\n\n        function onMouseMove(e) {\n            if (crosshair.locked)\n                return;\n                \n            if (plot.getSelection && plot.getSelection()) {\n                crosshair.x = -1; // hide the crosshair while selecting\n                return;\n            }\n                \n            var offset = plot.offset();\n            crosshair.x = Math.max(0, Math.min(e.pageX - offset.left, plot.width()));\n            crosshair.y = Math.max(0, Math.min(e.pageY - offset.top, plot.height()));\n            plot.triggerRedrawOverlay();\n        }\n        \n        plot.hooks.bindEvents.push(function (plot, eventHolder) {\n            if (!plot.getOptions().crosshair.mode)\n                return;\n\n            eventHolder.mouseout(onMouseOut);\n            eventHolder.mousemove(onMouseMove);\n        });\n\n        plot.hooks.drawOverlay.push(function (plot, ctx) {\n            var c = plot.getOptions().crosshair;\n            if (!c.mode)\n                return;\n\n            var plotOffset = plot.getPlotOffset();\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            if (crosshair.x != -1) {\n                var adj = plot.getOptions().crosshair.lineWidth % 2 ? 0.5 : 0;\n\n                ctx.strokeStyle = c.color;\n                ctx.lineWidth = c.lineWidth;\n                ctx.lineJoin = \"round\";\n\n                ctx.beginPath();\n                if (c.mode.indexOf(\"x\") != -1) {\n                    var drawX = Math.floor(crosshair.x) + adj;\n                    ctx.moveTo(drawX, 0);\n                    ctx.lineTo(drawX, plot.height());\n                }\n                if (c.mode.indexOf(\"y\") != -1) {\n                    var drawY = Math.floor(crosshair.y) + adj;\n                    ctx.moveTo(0, drawY);\n                    ctx.lineTo(plot.width(), drawY);\n                }\n                ctx.stroke();\n            }\n            ctx.restore();\n        });\n\n        plot.hooks.shutdown.push(function (plot, eventHolder) {\n            eventHolder.unbind(\"mouseout\", onMouseOut);\n            eventHolder.unbind(\"mousemove\", onMouseMove);\n        });\n    }\n    \n    $.plot.plugins.push({\n        init: init,\n        options: options,\n        name: 'crosshair',\n        version: '1.0'\n    });\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.crosshair.js\n// module id = 1339\n// module chunks = 0","/*\n * jQuery.flot.dashes\n *\n * options = {\n *   series: {\n *     dashes: {\n *\n *       // show\n *       // default: false\n *       // Whether to show dashes for the series.\n *       show: <boolean>,\n *\n *       // lineWidth\n *       // default: 2\n *       // The width of the dashed line in pixels.\n *       lineWidth: <number>,\n *\n *       // dashLength\n *       // default: 10\n *       // Controls the length of the individual dashes and the amount of\n *       // space between them.\n *       // If this is a number, the dashes and spaces will have that length.\n *       // If this is an array, it is read as [ dashLength, spaceLength ]\n *       dashLength: <number> or <array[2]>\n *     }\n *   }\n * }\n */\n(function($){\n\n  function init(plot) {\n\n    plot.hooks.processDatapoints.push(function(plot, series, datapoints) {\n\n      if (!series.dashes.show) return;\n\n      plot.hooks.draw.push(function(plot, ctx) {\n\n        var plotOffset = plot.getPlotOffset(),\n          axisx = series.xaxis,\n          axisy = series.yaxis;\n\n        function plotDashes(xoffset, yoffset) {\n\n          var points = datapoints.points,\n            ps = datapoints.pointsize,\n            prevx = null,\n            prevy = null,\n            dashRemainder = 0,\n            dashOn = true,\n            dashOnLength,\n            dashOffLength;\n\n          if (series.dashes.dashLength[0]) {\n            dashOnLength = series.dashes.dashLength[0];\n            if (series.dashes.dashLength[1]) {\n              dashOffLength = series.dashes.dashLength[1];\n            } else {\n              dashOffLength = dashOnLength;\n            }\n          } else {\n            dashOffLength = dashOnLength = series.dashes.dashLength;\n          }\n\n          ctx.beginPath();\n\n          for (var i = ps; i < points.length; i += ps) {\n\n            var x1 = points[i - ps],\n              y1 = points[i - ps + 1],\n              x2 = points[i],\n              y2 = points[i + 1];\n\n            if (x1 == null || x2 == null) continue;\n\n            // clip with ymin\n            if (y1 <= y2 && y1 < axisy.min) {\n              if (y2 < axisy.min) continue;   // line segment is outside\n              // compute new intersection point\n              x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y1 = axisy.min;\n            } else if (y2 <= y1 && y2 < axisy.min) {\n              if (y1 < axisy.min) continue;\n              x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y2 = axisy.min;\n            }\n\n            // clip with ymax\n            if (y1 >= y2 && y1 > axisy.max) {\n              if (y2 > axisy.max) continue;\n              x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y1 = axisy.max;\n            } else if (y2 >= y1 && y2 > axisy.max) {\n              if (y1 > axisy.max) continue;\n              x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n              y2 = axisy.max;\n            }\n\n            // clip with xmin\n            if (x1 <= x2 && x1 < axisx.min) {\n              if (x2 < axisx.min) continue;\n              y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x1 = axisx.min;\n            } else if (x2 <= x1 && x2 < axisx.min) {\n              if (x1 < axisx.min) continue;\n              y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x2 = axisx.min;\n            }\n\n            // clip with xmax\n            if (x1 >= x2 && x1 > axisx.max) {\n              if (x2 > axisx.max) continue;\n              y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x1 = axisx.max;\n            } else if (x2 >= x1 && x2 > axisx.max) {\n              if (x1 > axisx.max) continue;\n              y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n              x2 = axisx.max;\n            }\n\n            if (x1 != prevx || y1 != prevy) {\n              ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n            }\n\n            var ax1 = axisx.p2c(x1) + xoffset,\n              ay1 = axisy.p2c(y1) + yoffset,\n              ax2 = axisx.p2c(x2) + xoffset,\n              ay2 = axisy.p2c(y2) + yoffset,\n              dashOffset;\n\n            function lineSegmentOffset(segmentLength) {\n\n              var c = Math.sqrt(Math.pow(ax2 - ax1, 2) + Math.pow(ay2 - ay1, 2));\n\n              if (c <= segmentLength) {\n                return {\n                  deltaX: ax2 - ax1,\n                  deltaY: ay2 - ay1,\n                  distance: c,\n                  remainder: segmentLength - c\n                }\n              } else {\n                var xsign = ax2 > ax1 ? 1 : -1,\n                  ysign = ay2 > ay1 ? 1 : -1;\n                return {\n                  deltaX: xsign * Math.sqrt(Math.pow(segmentLength, 2) / (1 + Math.pow((ay2 - ay1)/(ax2 - ax1), 2))),\n                  deltaY: ysign * Math.sqrt(Math.pow(segmentLength, 2) - Math.pow(segmentLength, 2) / (1 + Math.pow((ay2 - ay1)/(ax2 - ax1), 2))),\n                  distance: segmentLength,\n                  remainder: 0\n                };\n              }\n            }\n            //-end lineSegmentOffset\n\n            do {\n\n              dashOffset = lineSegmentOffset(\n                dashRemainder > 0 ? dashRemainder :\n                  dashOn ? dashOnLength : dashOffLength);\n\n              if (dashOffset.deltaX != 0 || dashOffset.deltaY != 0) {\n                if (dashOn) {\n                  ctx.lineTo(ax1 + dashOffset.deltaX, ay1 + dashOffset.deltaY);\n                } else {\n                  ctx.moveTo(ax1 + dashOffset.deltaX, ay1 + dashOffset.deltaY);\n                }\n              }\n\n              dashOn = !dashOn;\n              dashRemainder = dashOffset.remainder;\n              ax1 += dashOffset.deltaX;\n              ay1 += dashOffset.deltaY;\n\n            } while (dashOffset.distance > 0);\n\n            prevx = x2;\n            prevy = y2;\n          }\n\n          ctx.stroke();\n        }\n        //-end plotDashes\n\n        ctx.save();\n        ctx.translate(plotOffset.left, plotOffset.top);\n        ctx.lineJoin = 'round';\n\n        var lw = series.dashes.lineWidth,\n          sw = series.shadowSize;\n\n        // FIXME: consider another form of shadow when filling is turned on\n        if (lw > 0 && sw > 0) {\n          // draw shadow as a thick and thin line with transparency\n          ctx.lineWidth = sw;\n          ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n          // position shadow at angle from the mid of line\n          var angle = Math.PI/18;\n          plotDashes(Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2));\n          ctx.lineWidth = sw/2;\n          plotDashes(Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4));\n        }\n\n        ctx.lineWidth = lw;\n        ctx.strokeStyle = series.color;\n\n        if (lw > 0) {\n          plotDashes(0, 0);\n        }\n\n        ctx.restore();\n\n      });\n      //-end draw hook\n\n    });\n    //-end processDatapoints hook\n\n  }\n  //-end init\n\n  $.plot.plugins.push({\n    init: init,\n    options: {\n      series: {\n        dashes: {\n          show: false,\n          lineWidth: 2,\n          dashLength: 10\n        }\n      }\n    },\n    name: 'dashes',\n    version: '0.1'\n  });\n\n})(jQuery)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.dashes.js\n// module id = 1340\n// module chunks = 0","import _ from 'lodash';\nimport TimeSeries from 'app/core/time_series2';\nimport colors from 'app/core/utils/colors';\n\nexport class DataProcessor {\n\n  constructor(private panel) {\n  }\n\n  getSeriesList(options) {\n    if (!options.dataList || options.dataList.length === 0) {\n      return [];\n    }\n\n    // auto detect xaxis mode\n    var firstItem;\n    if (options.dataList && options.dataList.length > 0) {\n      firstItem = options.dataList[0];\n      let autoDetectMode = this.getAutoDetectXAxisMode(firstItem);\n      if (this.panel.xaxis.mode !== autoDetectMode) {\n        this.panel.xaxis.mode = autoDetectMode;\n        this.setPanelDefaultsForNewXAxisMode();\n      }\n    }\n\n    switch (this.panel.xaxis.mode) {\n      case 'series':\n      case 'time': {\n        return options.dataList.map((item, index) => {\n          return this.timeSeriesHandler(item, index, options);\n        });\n      }\n      case 'histogram': {\n        let histogramDataList = [{\n          target: 'count',\n          datapoints: _.concat([], _.flatten(_.map(options.dataList, 'datapoints')))\n        }];\n        return histogramDataList.map((item, index) => {\n          return this.timeSeriesHandler(item, index, options);\n        });\n      }\n      case 'field': {\n        return this.customHandler(firstItem);\n      }\n    }\n  }\n\n  getAutoDetectXAxisMode(firstItem) {\n    switch (firstItem.type) {\n      case 'docs': return 'field';\n      case 'table': return 'field';\n      default: {\n        if (this.panel.xaxis.mode === 'series') {\n          return 'series';\n        }\n        if (this.panel.xaxis.mode === 'histogram') {\n          return 'histogram';\n        }\n        return 'time';\n      }\n    }\n  }\n\n  setPanelDefaultsForNewXAxisMode() {\n    switch (this.panel.xaxis.mode) {\n      case 'time': {\n        this.panel.bars = false;\n        this.panel.lines = true;\n        this.panel.points = false;\n        this.panel.legend.show = true;\n        this.panel.tooltip.shared = true;\n        this.panel.xaxis.values = [];\n        break;\n      }\n      case 'series': {\n        this.panel.bars = true;\n        this.panel.lines = false;\n        this.panel.points = false;\n        this.panel.stack = false;\n        this.panel.legend.show = false;\n        this.panel.tooltip.shared = false;\n        this.panel.xaxis.values = ['total'];\n        break;\n      }\n      case 'histogram': {\n        this.panel.bars = true;\n        this.panel.lines = false;\n        this.panel.points = false;\n        this.panel.stack = false;\n        this.panel.legend.show = false;\n        this.panel.tooltip.shared = false;\n        break;\n      }\n    }\n  }\n\n  timeSeriesHandler(seriesData, index, options) {\n    var datapoints = seriesData.datapoints || [];\n    var alias = seriesData.target;\n\n    var colorIndex = index % colors.length;\n    var color = this.panel.aliasColors[alias] || colors[colorIndex];\n\n    var series = new TimeSeries({datapoints: datapoints, alias: alias, color: color, unit: seriesData.unit});\n\n    if (datapoints && datapoints.length > 0) {\n      var last = datapoints[datapoints.length - 1][1];\n      var from = options.range.from;\n      if (last - from < -10000) {\n        series.isOutsideRange = true;\n      }\n    }\n\n    return series;\n  }\n\n  customHandler(dataItem) {\n    let nameField = this.panel.xaxis.name;\n    if (!nameField) {\n      throw {message: 'No field name specified to use for x-axis, check your axes settings'};\n    }\n    return [];\n  }\n\n  validateXAxisSeriesValue() {\n    switch (this.panel.xaxis.mode) {\n      case 'series': {\n        if (this.panel.xaxis.values.length === 0) {\n          this.panel.xaxis.values = ['total'];\n          return;\n        }\n\n        var validOptions = this.getXAxisValueOptions({});\n        var found = _.find(validOptions, {value: this.panel.xaxis.values[0]});\n        if (!found) {\n          this.panel.xaxis.values = ['total'];\n        }\n        return;\n      }\n    }\n  }\n\n  getDataFieldNames(dataList, onlyNumbers) {\n    if (dataList.length === 0) {\n      return [];\n    }\n\n    let fields = [];\n    var firstItem = dataList[0];\n    let fieldParts = [];\n\n    function getPropertiesRecursive(obj) {\n      _.forEach(obj, (value, key) => {\n        if (_.isObject(value)) {\n          fieldParts.push(key);\n          getPropertiesRecursive(value);\n        } else {\n          if (!onlyNumbers || _.isNumber(value)) {\n            let field = fieldParts.concat(key).join('.');\n            fields.push(field);\n          }\n        }\n      });\n      fieldParts.pop();\n    }\n\n    if (firstItem.type === 'docs') {\n      if (firstItem.datapoints.length === 0) {\n        return [];\n      }\n      getPropertiesRecursive(firstItem.datapoints[0]);\n    }\n\n    return fields;\n  }\n\n  getXAxisValueOptions(options) {\n    switch (this.panel.xaxis.mode) {\n      case 'series': {\n        return [\n          {text: 'Avg', value: 'avg'},\n          {text: 'Min', value: 'min'},\n          {text: 'Max', value: 'max'},\n          {text: 'Total', value: 'total'},\n          {text: 'Count', value: 'count'},\n        ];\n      }\n    }\n\n    return [];\n  }\n\n  pluckDeep(obj: any, property: string) {\n    let propertyParts = property.split('.');\n    let value = obj;\n    for (let i = 0; i < propertyParts.length; ++i) {\n      if (value[propertyParts[i]]) {\n        value = value[propertyParts[i]];\n      } else {\n        return undefined;\n      }\n    }\n    return value;\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/data_processor.ts","import * as d3 from 'd3';\nimport * as d3ScaleChromatic from 'd3-scale-chromatic';\n\nexport function getColorScale(colorScheme: any, lightTheme: boolean, maxValue: number, minValue = 0): (d: any) => any {\n  let colorInterpolator = d3ScaleChromatic[colorScheme.value];\n  let colorScaleInverted = colorScheme.invert === 'always' ||\n    (colorScheme.invert === 'dark' && !lightTheme);\n\n  let start = colorScaleInverted ? maxValue : minValue;\n  let end = colorScaleInverted ? minValue : maxValue;\n\n  return d3.scaleSequential(colorInterpolator).domain([start, end]);\n}\n\nexport function getOpacityScale(options, maxValue, minValue = 0) {\n  let legendOpacityScale;\n  if (options.colorScale === 'linear') {\n    legendOpacityScale = d3.scaleLinear()\n    .domain([minValue, maxValue])\n    .range([0, 1]);\n  } else if (options.colorScale === 'sqrt') {\n    legendOpacityScale = d3.scalePow().exponent(options.exponent)\n    .domain([minValue, maxValue])\n    .range([0, 1]);\n  }\n  return legendOpacityScale;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/color_scale.ts","import _ from 'lodash';\nimport flatten from '../../../core/utils/flatten';\nimport TimeSeries from '../../../core/time_series2';\nimport TableModel from '../../../core/table_model';\n\nvar transformers = {};\n\ntransformers['timeseries_to_rows'] = {\n  description: 'Time series to rows',\n  getColumns: function() {\n    return [];\n  },\n  transform: function(data, panel, model) {\n    model.columns = [\n      {text: 'Time', type: 'date'},\n      {text: 'Metric'},\n      {text: 'Value'},\n    ];\n\n    for (var i = 0; i < data.length; i++) {\n      var series = data[i];\n      for (var y = 0; y < series.datapoints.length; y++) {\n        var dp = series.datapoints[y];\n        model.rows.push([dp[1], series.target, dp[0]]);\n      }\n    }\n  },\n};\n\ntransformers['timeseries_to_columns'] = {\n  description: 'Time series to columns',\n  getColumns: function() {\n    return [];\n  },\n  transform: function(data, panel, model) {\n    model.columns.push({text: 'Time', type: 'date'});\n\n    // group by time\n    var points = {};\n\n    for (let i = 0; i < data.length; i++) {\n      var series = data[i];\n      model.columns.push({text: series.target});\n\n      for (var y = 0; y < series.datapoints.length; y++) {\n        var dp = series.datapoints[y];\n        var timeKey = dp[1].toString();\n\n        if (!points[timeKey]) {\n          points[timeKey] = {time: dp[1]};\n          points[timeKey][i] = dp[0];\n        } else {\n          points[timeKey][i] = dp[0];\n        }\n      }\n    }\n\n    for (var time in points) {\n      var point = points[time];\n      var values = [point.time];\n\n      for (let i = 0; i < data.length; i++) {\n        var value = point[i];\n        values.push(value);\n      }\n\n      model.rows.push(values);\n    }\n  }\n};\n\ntransformers['timeseries_aggregations'] = {\n  description: 'Time series aggregations',\n  getColumns: function() {\n    return [\n      {text: 'Avg', value: 'avg'},\n      {text: 'Min', value: 'min'},\n      {text: 'Max', value: 'max'},\n      {text: 'Total', value: 'total'},\n      {text: 'Current', value: 'current'},\n      {text: 'Count', value: 'count'},\n    ];\n  },\n  transform: function(data, panel, model) {\n    var i, y;\n    model.columns.push({text: 'Metric'});\n\n    for (i = 0; i < panel.columns.length; i++) {\n      model.columns.push({text: panel.columns[i].text});\n    }\n\n    for (i = 0; i < data.length; i++) {\n      var series = new TimeSeries({\n        datapoints: data[i].datapoints,\n        alias: data[i].target,\n      });\n\n      series.getFlotPairs('connected');\n      var cells = [series.alias];\n\n      for (y = 0; y < panel.columns.length; y++) {\n        cells.push(series.stats[panel.columns[y].value]);\n      }\n\n      model.rows.push(cells);\n    }\n  }\n};\n\ntransformers['annotations'] = {\n  description: 'Annotations',\n  getColumns: function() {\n    return [];\n  },\n  transform: function(data, panel, model) {\n    model.columns.push({text: 'Time', type: 'date'});\n    model.columns.push({text: 'Title'});\n    model.columns.push({text: 'Text'});\n    model.columns.push({text: 'Tags'});\n\n    if (!data || !data.annotations || data.annotations.length === 0) {\n      return;\n    }\n\n    for (var i = 0; i < data.annotations.length; i++) {\n      var evt = data.annotations[i];\n      model.rows.push([evt.min, evt.title, evt.text, evt.tags]);\n    }\n  }\n};\n\ntransformers['table'] = {\n  description: 'Table',\n  getColumns: function(data) {\n    if (!data || data.length === 0) {\n      return [];\n    }\n    return data[0].columns;\n  },\n  transform: function(data, panel, model) {\n    if (!data || data.length === 0) {\n      return;\n    }\n\n    if (data[0].type !== 'table') {\n      throw {message: 'Query result is not in table format, try using another transform.'};\n    }\n\n    model.columns = data[0].columns;\n    model.rows = data[0].rows;\n  }\n};\n\ntransformers['json'] = {\n  description: 'JSON Data',\n  getColumns: function(data) {\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    var names: any = {};\n    for (var i = 0; i < data.length; i++) {\n      var series = data[i];\n      if (series.type !== 'docs') {\n        continue;\n      }\n\n      // only look at 100 docs\n      var maxDocs = Math.min(series.datapoints.length, 100);\n      for (var y = 0; y < maxDocs; y++) {\n        var doc = series.datapoints[y];\n        var flattened = flatten(doc, null);\n        for (var propName in flattened) {\n          names[propName] = true;\n        }\n      }\n    }\n\n    return _.map(names, function(value, key) {\n      return {text: key, value: key};\n    });\n  },\n  transform: function(data, panel, model) {\n    var i, y, z;\n\n    for (let column of panel.columns) {\n      var tableCol: any = {text: column.text};\n\n      // if filterable data then set columns to filterable\n      if (data.length > 0 && data[0].filterable) {\n        tableCol.filterable = true;\n      }\n\n      model.columns.push(tableCol);\n    }\n\n    if (model.columns.length === 0) {\n      model.columns.push({text: 'JSON'});\n    }\n\n    for (i = 0; i < data.length; i++) {\n      var series = data[i];\n\n      for (y = 0; y < series.datapoints.length; y++) {\n        var dp = series.datapoints[y];\n        var values = [];\n\n        if (_.isObject(dp) && panel.columns.length > 0) {\n          var flattened = flatten(dp, null);\n          for (z = 0; z < panel.columns.length; z++) {\n            values.push(flattened[panel.columns[z].value]);\n          }\n        } else {\n          values.push(JSON.stringify(dp));\n        }\n\n        model.rows.push(values);\n      }\n    }\n  }\n};\n\nfunction transformDataToTable(data, panel) {\n  var model = new TableModel();\n\n  if (!data || data.length === 0) {\n    return model;\n  }\n\n  var transformer = transformers[panel.transform];\n  if (!transformer) {\n    throw {message: 'Transformer ' + panel.transform + ' not found'};\n  }\n\n  transformer.transform(data, panel, model);\n  return model;\n}\n\nexport {transformers, transformDataToTable};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/table/transformers.ts","\"use strict\";\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/isArrayLike.js\n// module id = 1344\n// module chunks = 0","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/isPromise.js\n// module id = 1345\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isScheduler_1 = require('../util/isScheduler');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/ArrayObservable.js\n// module id = 1346\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/ScalarObservable.js\n// module id = 1347\n// module chunks = 0","define([\n  './dashboard_ctrl',\n  './alerting_srv',\n  './history/history',\n  './dashboardLoaderSrv',\n  './dashnav/dashnav',\n  './submenu/submenu',\n  './save_as_modal',\n  './save_modal',\n  './shareModalCtrl',\n  './shareSnapshotCtrl',\n  './dashboard_srv',\n  './viewStateSrv',\n  './time_srv',\n  './unsavedChangesSrv',\n  './unsaved_changes_modal',\n  './timepicker/timepicker',\n  './impression_store',\n  './upload',\n  './import/dash_import',\n  './export/export_modal',\n  './export_data/export_data_modal',\n  './ad_hoc_filters',\n  './row/row_ctrl',\n  './repeat_option/repeat_option',\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/all.js\n// module id = 1363\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport moment from 'moment';\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport kbn from 'app/core/utils/kbn';\nimport * as dateMath from 'app/core/utils/datemath';\n\nclass TimeSrv {\n  time: any;\n  refreshTimer: any;\n  refresh: boolean;\n  oldRefresh: boolean;\n  dashboard: any;\n  timeAtLoad: any;\n  private autoRefreshBlocked: boolean;\n\n  /** @ngInject **/\n  constructor(private $rootScope, private $timeout, private $location, private timer, private contextSrv) {\n    // default time\n    this.time = {from: '6h', to: 'now'};\n\n    $rootScope.$on('zoom-out', this.zoomOut.bind(this));\n    $rootScope.$on('$routeUpdate', this.routeUpdated.bind(this));\n\n    document.addEventListener('visibilitychange', () => {\n      if (this.autoRefreshBlocked && document.visibilityState === 'visible') {\n        this.autoRefreshBlocked = false;\n\n        this.refreshDashboard();\n      }\n    });\n  }\n\n  init(dashboard) {\n    this.timer.cancelAll();\n\n    this.dashboard = dashboard;\n    this.time = dashboard.time;\n    this.refresh = dashboard.refresh;\n\n    this.initTimeFromUrl();\n    this.parseTime();\n\n    // remember time at load so we can go back to it\n    this.timeAtLoad = _.cloneDeep(this.time);\n\n    if (this.refresh) {\n      this.setAutoRefresh(this.refresh);\n    }\n  }\n\n  private parseTime() {\n    // when absolute time is saved in json it is turned to a string\n    if (_.isString(this.time.from) && this.time.from.indexOf('Z') >= 0) {\n      this.time.from = moment(this.time.from).utc();\n    }\n    if (_.isString(this.time.to) && this.time.to.indexOf('Z') >= 0) {\n      this.time.to = moment(this.time.to).utc();\n    }\n  }\n\n  private parseUrlParam(value) {\n    if (value.indexOf('now') !== -1) {\n      return value;\n    }\n    if (value.length === 8) {\n      return moment.utc(value, 'YYYYMMDD');\n    }\n    if (value.length === 15) {\n      return moment.utc(value, 'YYYYMMDDTHHmmss');\n    }\n\n    if (!isNaN(value)) {\n      var epoch = parseInt(value);\n      return moment.utc(epoch);\n    }\n\n    return null;\n  }\n\n  private initTimeFromUrl() {\n    var params = this.$location.search();\n    if (params.from) {\n      this.time.from = this.parseUrlParam(params.from) || this.time.from;\n    }\n    if (params.to) {\n      this.time.to = this.parseUrlParam(params.to) || this.time.to;\n    }\n    if (params.refresh) {\n      this.refresh = params.refresh || this.refresh;\n    }\n  }\n\n  private routeUpdated() {\n    var params = this.$location.search();\n    var urlRange = this.timeRangeForUrl();\n    // check if url has time range\n    if (params.from && params.to) {\n      // is it different from what our current time range?\n      if (params.from !== urlRange.from || params.to !== urlRange.to) {\n        // issue update\n        this.initTimeFromUrl();\n        this.setTime(this.time, true);\n      }\n    } else if (this.timeHasChangedSinceLoad()) {\n      this.setTime(this.timeAtLoad, true);\n    }\n  }\n\n  private timeHasChangedSinceLoad() {\n    return this.timeAtLoad.from !== this.time.from || this.timeAtLoad.to !== this.time.to;\n  }\n\n  setAutoRefresh(interval) {\n    this.dashboard.refresh = interval;\n    this.cancelNextRefresh();\n    if (interval) {\n      var intervalMs = kbn.interval_to_ms(interval);\n\n      this.refreshTimer = this.timer.register(this.$timeout(() => {\n        this.startNextRefreshTimer(intervalMs);\n        this.refreshDashboard();\n      }, intervalMs));\n    }\n\n    // update url\n    var params = this.$location.search();\n    if (interval) {\n      params.refresh = interval;\n      this.$location.search(params);\n    } else if (params.refresh) {\n      delete params.refresh;\n      this.$location.search(params);\n    }\n  }\n\n  refreshDashboard() {\n    this.$rootScope.$broadcast('refresh');\n  }\n\n  private startNextRefreshTimer(afterMs) {\n    this.cancelNextRefresh();\n    this.refreshTimer = this.timer.register(this.$timeout(() => {\n      this.startNextRefreshTimer(afterMs);\n      if (this.contextSrv.isGrafanaVisible()) {\n        this.refreshDashboard();\n      } else {\n        this.autoRefreshBlocked = true;\n      }\n    }, afterMs));\n  }\n\n  private cancelNextRefresh() {\n    this.timer.cancel(this.refreshTimer);\n  }\n\n  setTime(time, fromRouteUpdate?) {\n    _.extend(this.time, time);\n\n    // disable refresh if zoom in or zoom out\n    if (moment.isMoment(time.to)) {\n      this.oldRefresh = this.dashboard.refresh || this.oldRefresh;\n      this.setAutoRefresh(false);\n    } else if (this.oldRefresh && this.oldRefresh !== this.dashboard.refresh) {\n      this.setAutoRefresh(this.oldRefresh);\n      this.oldRefresh = null;\n    }\n\n    // update url\n    if (fromRouteUpdate !== true) {\n      var urlRange = this.timeRangeForUrl();\n      var urlParams = this.$location.search();\n      urlParams.from = urlRange.from;\n      urlParams.to = urlRange.to;\n      this.$location.search(urlParams);\n    }\n\n    this.$rootScope.appEvent('time-range-changed', this.time);\n    this.$timeout(this.refreshDashboard.bind(this), 0);\n  }\n\n  timeRangeForUrl() {\n    var range = this.timeRange().raw;\n\n    if (moment.isMoment(range.from)) { range.from = range.from.valueOf().toString(); }\n    if (moment.isMoment(range.to)) { range.to = range.to.valueOf().toString(); }\n\n    return range;\n  }\n\n  timeRange() {\n    // make copies if they are moment  (do not want to return out internal moment, because they are mutable!)\n    var raw = {\n      from: moment.isMoment(this.time.from) ? moment(this.time.from) : this.time.from,\n      to: moment.isMoment(this.time.to) ? moment(this.time.to) : this.time.to,\n    };\n\n    var timezone = this.dashboard && this.dashboard.getTimezone();\n\n    return {\n      from: dateMath.parse(raw.from, false, timezone),\n      to: dateMath.parse(raw.to, true, timezone),\n      raw: raw\n    };\n  }\n\n  zoomOut(e, factor) {\n    var range = this.timeRange();\n\n    var timespan = (range.to.valueOf() - range.from.valueOf());\n    var center = range.to.valueOf() - timespan/2;\n\n    var to = (center + (timespan*factor)/2);\n    var from = (center - (timespan*factor)/2);\n\n    if (to > Date.now() && range.to <= Date.now()) {\n      var offset = to - Date.now();\n      from = from - offset;\n      to = Date.now();\n    }\n\n    this.setTime({from: moment.utc(from), to: moment.utc(to)});\n  }\n}\n\ncoreModule.service('timeSrv', TimeSrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/time_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport angular from 'angular';\n\nimport coreModule from 'app/core/core_module';\n\nexport class DashboardCtrl {\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    $rootScope,\n    keybindingSrv,\n    timeSrv,\n    variableSrv,\n    alertingSrv,\n    dashboardSrv,\n    unsavedChangesSrv,\n    dynamicDashboardSrv,\n    dashboardViewStateSrv,\n    contextSrv,\n    playlistSrv,\n    alertSrv,\n    $timeout) {\n\n      $scope.editor = { index: 0 };\n      $scope.playlistSrv = playlistSrv;\n\n      var resizeEventTimeout;\n\n      $scope.setupDashboard = function(data) {\n        try {\n          $scope.setupDashboardInternal(data);\n        } catch (err) {\n          $scope.onInitFailed(err, 'Dashboard init failed', true);\n        }\n      };\n\n      $scope.setupDashboardInternal = function(data) {\n        var dashboard = dashboardSrv.create(data.dashboard, data.meta);\n        dashboardSrv.setCurrent(dashboard);\n\n        // init services\n        timeSrv.init(dashboard);\n        alertingSrv.init(dashboard, data.alerts);\n\n        // template values service needs to initialize completely before\n        // the rest of the dashboard can load\n        variableSrv.init(dashboard)\n        // template values failes are non fatal\n        .catch($scope.onInitFailed.bind(this, 'Templating init failed', false))\n        // continue\n        .finally(function() {\n          dynamicDashboardSrv.init(dashboard);\n          dynamicDashboardSrv.process();\n\n          unsavedChangesSrv.init(dashboard, $scope);\n\n          $scope.dashboard = dashboard;\n          $scope.dashboardMeta = dashboard.meta;\n          $scope.dashboardViewState = dashboardViewStateSrv.create($scope);\n\n          keybindingSrv.setupDashboardBindings($scope, dashboard);\n\n          $scope.dashboard.updateSubmenuVisibility();\n          $scope.setWindowTitleAndTheme();\n\n          $scope.appEvent(\"dashboard-initialized\", $scope.dashboard);\n        })\n        .catch($scope.onInitFailed.bind(this, 'Dashboard init failed', true));\n      };\n\n      $scope.onInitFailed = function(msg, fatal, err) {\n        console.log(msg, err);\n\n        if (err.data && err.data.message) {\n          err.message = err.data.message;\n        } else if (!err.message) {\n          err = {message: err.toString()};\n        }\n\n        $scope.appEvent(\"alert-error\", [msg, err.message]);\n\n        // protect against  recursive fallbacks\n        if (fatal && !$scope.loadedFallbackDashboard) {\n          $scope.loadedFallbackDashboard = true;\n          $scope.setupDashboard({dashboard: {title: 'Dashboard Init failed'}});\n        }\n      };\n\n      $scope.templateVariableUpdated = function() {\n        dynamicDashboardSrv.process();\n      };\n\n      $scope.setWindowTitleAndTheme = function() {\n        window.document.title = config.window_title_prefix + $scope.dashboard.title;\n      };\n\n      $scope.broadcastRefresh = function() {\n        $rootScope.$broadcast('refresh');\n      };\n\n      $scope.addRowDefault = function() {\n        $scope.dashboard.addEmptyRow();\n      };\n\n      $scope.showJsonEditor = function(evt, options) {\n        var editScope = $rootScope.$new();\n        editScope.object = options.object;\n        editScope.updateHandler = options.updateHandler;\n        $scope.appEvent('show-dash-editor', { src: 'public/app/partials/edit_json.html', scope: editScope });\n      };\n\n      $scope.registerWindowResizeEvent = function() {\n        angular.element(window).bind('resize', function() {\n          $timeout.cancel(resizeEventTimeout);\n          resizeEventTimeout = $timeout(function() { $scope.$broadcast('render'); }, 200);\n        });\n\n        $scope.$on('$destroy', function() {\n          angular.element(window).unbind('resize');\n          $scope.dashboard.destroy();\n        });\n      };\n\n      $scope.timezoneChanged = function() {\n        $rootScope.$broadcast(\"refresh\");\n      };\n    }\n\n    init(dashboard) {\n      this.$scope.onAppEvent('show-json-editor', this.$scope.showJsonEditor);\n      this.$scope.onAppEvent('template-variable-value-updated', this.$scope.templateVariableUpdated);\n      this.$scope.setupDashboard(dashboard);\n      this.$scope.registerWindowResizeEvent();\n    }\n}\n\ncoreModule.controller('DashboardCtrl', DashboardCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/dashboard_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport './history_srv';\n\nimport _ from 'lodash';\nimport angular from 'angular';\nimport moment from 'moment';\n\nimport {DashboardModel} from '../model';\nimport {HistoryListOpts, RevisionsModel, CalculateDiffOptions, HistorySrv} from './history_srv';\n\nexport class HistoryListCtrl {\n  appending: boolean;\n  dashboard: DashboardModel;\n  delta: { basic: string; json: string; };\n  diff: string;\n  limit: number;\n  loading: boolean;\n  max: number;\n  mode: string;\n  revisions: RevisionsModel[];\n  start: number;\n  newInfo: RevisionsModel;\n  baseInfo: RevisionsModel;\n  canCompare: boolean;\n  isNewLatest: boolean;\n\n  /** @ngInject */\n  constructor(private $route,\n              private $rootScope,\n              private $location,\n              private $q,\n              private historySrv: HistorySrv,\n              public $scope) {\n\n    this.appending = false;\n    this.diff = 'basic';\n    this.limit = 10;\n    this.loading = false;\n    this.max = 2;\n    this.mode = 'list';\n    this.start = 0;\n    this.canCompare = false;\n\n    this.$rootScope.onAppEvent('dashboard-saved', this.onDashboardSaved.bind(this), $scope);\n    this.resetFromSource();\n  }\n\n  onDashboardSaved() {\n    this.resetFromSource();\n  }\n\n  switchMode(mode: string) {\n    this.mode = mode;\n    if (this.mode === 'list') {\n      this.reset();\n    }\n  }\n\n  dismiss() {\n    this.$rootScope.appEvent('hide-dash-editor');\n  }\n\n  addToLog() {\n    this.start = this.start + this.limit;\n    this.getLog(true);\n  }\n\n  revisionSelectionChanged() {\n    let selected = _.filter(this.revisions, {checked: true}).length;\n    this.canCompare = selected === 2;\n  }\n\n  formatDate(date) {\n    return this.dashboard.formatDate(date);\n  }\n\n  formatBasicDate(date) {\n    const now = this.dashboard.timezone === 'browser' ?  moment() : moment.utc();\n    const then = this.dashboard.timezone === 'browser' ?  moment(date) : moment.utc(date);\n    return then.from(now);\n  }\n\n  getDiff(diff: string) {\n    this.diff = diff;\n    this.mode = 'compare';\n\n    // have it already been fetched?\n    if (this.delta[this.diff]) {\n      return this.$q.when(this.delta[this.diff]);\n    }\n\n    const selected = _.filter(this.revisions, {checked: true});\n\n    this.newInfo = selected[0];\n    this.baseInfo = selected[1];\n    this.isNewLatest = this.newInfo.version === this.dashboard.version;\n\n    this.loading = true;\n    const options: CalculateDiffOptions = {\n      new: {\n        dashboardId: this.dashboard.id,\n        version: this.newInfo.version,\n      },\n      base: {\n        dashboardId: this.dashboard.id,\n        version: this.baseInfo.version,\n      },\n      diffType: diff,\n    };\n\n    return this.historySrv.calculateDiff(options).then(response => {\n      this.delta[this.diff] = response;\n    }).catch(() => {\n      this.mode = 'list';\n    }).finally(() => {\n      this.loading = false;\n    });\n  }\n\n  getLog(append = false) {\n    this.loading = !append;\n    this.appending = append;\n    const options: HistoryListOpts = {\n      limit: this.limit,\n      start: this.start,\n    };\n\n    return this.historySrv.getHistoryList(this.dashboard, options).then(revisions => {\n      // set formated dates & default values\n      for (let rev of revisions) {\n        rev.createdDateString = this.formatDate(rev.created);\n        rev.ageString = this.formatBasicDate(rev.created);\n        rev.checked = false;\n      }\n\n      this.revisions = append ? this.revisions.concat(revisions) : revisions;\n\n    }).catch(err => {\n      this.loading = false;\n    }).finally(() => {\n      this.loading = false;\n      this.appending = false;\n    });\n  }\n\n  isLastPage() {\n    return _.find(this.revisions, rev => rev.version === 1);\n  }\n\n  reset() {\n    this.delta = { basic: '', json: '' };\n    this.diff = 'basic';\n    this.mode = 'list';\n    this.revisions = _.map(this.revisions, rev => _.extend({}, rev, { checked: false }));\n    this.canCompare = false;\n    this.start = 0;\n    this.isNewLatest = false;\n  }\n\n  resetFromSource() {\n    this.revisions = [];\n    return this.getLog().then(this.reset.bind(this));\n  }\n\n  restore(version: number) {\n    this.$rootScope.appEvent('confirm-modal', {\n      title: 'Restore version',\n      text: '',\n      text2: `Are you sure you want to restore the dashboard to version ${version}? All unsaved changes will be lost.`,\n      icon: 'fa-history',\n      yesText: `Yes, restore to version ${version}`,\n      onConfirm: this.restoreConfirm.bind(this, version),\n    });\n  }\n\n  restoreConfirm(version: number) {\n    this.loading = true;\n    return this.historySrv.restoreDashboard(this.dashboard, version).then(response => {\n      this.$location.path('dashboard/db/' + response.slug);\n      this.$route.reload();\n      this.$rootScope.appEvent('alert-success', ['Dashboard restored', 'Restored from version ' + version]);\n    }).catch(() => {\n      this.mode = 'list';\n      this.loading = false;\n    });\n  }\n}\n\nexport function dashboardHistoryDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/history/history.html',\n    controller: HistoryListCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      dashboard: \"=\"\n    }\n  };\n}\n\nangular.module('grafana.directives').directive('gfDashboardHistory', dashboardHistoryDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/history/history.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport {DashboardModel} from '../model';\n\nexport interface HistoryListOpts {\n  limit: number;\n  start: number;\n}\n\nexport interface RevisionsModel {\n  id: number;\n  checked: boolean;\n  dashboardId: number;\n  parentVersion: number;\n  version: number;\n  created: Date;\n  createdBy: string;\n  message: string;\n}\n\nexport interface CalculateDiffOptions {\n  new: DiffTarget;\n  base: DiffTarget;\n  diffType: string;\n}\n\nexport interface DiffTarget {\n  dashboardId: number;\n  version: number;\n  unsavedDashboard?: DashboardModel; // when doing diffs against unsaved dashboard version\n}\n\nexport class HistorySrv {\n  /** @ngInject */\n  constructor(private backendSrv, private $q) {}\n\n  getHistoryList(dashboard: DashboardModel, options: HistoryListOpts) {\n    const id = dashboard && dashboard.id ? dashboard.id : void 0;\n    return id ? this.backendSrv.get(`api/dashboards/id/${id}/versions`, options) : this.$q.when([]);\n  }\n\n  calculateDiff(options: CalculateDiffOptions) {\n    return this.backendSrv.post('api/dashboards/calculate-diff', options);\n  }\n\n  restoreDashboard(dashboard: DashboardModel, version: number) {\n    const id = dashboard && dashboard.id ? dashboard.id : void 0;\n    const url = `api/dashboards/id/${id}/restore`;\n    return id && _.isNumber(version) ? this.backendSrv.post(url, { version }) : this.$q.when({});\n  }\n}\n\ncoreModule.service('historySrv', HistorySrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/history/history_srv.ts","define([\n  'angular',\n  'moment',\n  'lodash',\n  'jquery',\n  'app/core/utils/kbn',\n  'app/core/utils/datemath',\n  './impression_store'\n],\nfunction (angular, moment, _, $, kbn, dateMath, impressionStore) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  var module = angular.module('grafana.services');\n\n  module.service('dashboardLoaderSrv', function(backendSrv,\n                                                   dashboardSrv,\n                                                   datasourceSrv,\n                                                   $http, $q, $timeout,\n                                                   contextSrv, $routeParams,\n                                                   $rootScope) {\n    var self = this;\n\n    this._dashboardLoadFailed = function(title, snapshot) {\n      snapshot = snapshot || false;\n      return {\n        meta: { canStar: false, isSnapshot: snapshot, canDelete: false, canSave: false, canEdit: false, dashboardNotFound: true },\n        dashboard: {title: title }\n      };\n    };\n\n    this.loadDashboard = function(type, slug) {\n      var promise;\n\n      if (type === 'script') {\n        promise = this._loadScriptedDashboard(slug);\n      } else if (type === 'snapshot') {\n        promise = backendSrv.get('/api/snapshots/' + $routeParams.slug)\n          .catch(function() {\n            return self._dashboardLoadFailed(\"Snapshot not found\", true);\n          });\n      } else {\n        promise = backendSrv.getDashboard($routeParams.type, $routeParams.slug)\n          .catch(function() {\n            return self._dashboardLoadFailed(\"Not found\");\n          });\n      }\n\n      promise.then(function(result) {\n\n        if (result.meta.dashboardNotFound !== true) {\n          impressionStore.impressions.addDashboardImpression(result.dashboard.id);\n        }\n\n        return result;\n      });\n\n      return promise;\n    };\n\n    this._loadScriptedDashboard = function(file) {\n      var url = 'public/dashboards/'+file.replace(/\\.(?!js)/,\"/\") + '?' + new Date().getTime();\n\n      return $http({ url: url, method: \"GET\" })\n      .then(this._executeScript).then(function(result) {\n        return { meta: { fromScript: true, canDelete: false, canSave: false, canStar: false}, dashboard: result.data };\n      }, function(err) {\n        console.log('Script dashboard error '+ err);\n        $rootScope.appEvent('alert-error', [\"Script Error\", \"Please make sure it exists and returns a valid dashboard\"]);\n        return self._dashboardLoadFailed('Scripted dashboard');\n      });\n    };\n\n    this._executeScript = function(result) {\n      var services = {\n        dashboardSrv: dashboardSrv,\n        datasourceSrv: datasourceSrv,\n        $q: $q,\n      };\n\n      /*jshint -W054 */\n      var script_func = new Function('ARGS','kbn','dateMath','_','moment','window','document','$','jQuery', 'services', result.data);\n      var script_result = script_func($routeParams, kbn, dateMath, _ , moment, window, document, $, $, services);\n\n      // Handle async dashboard scripts\n      if (_.isFunction(script_result)) {\n        var deferred = $q.defer();\n        script_result(function(dashboard) {\n          $timeout(function() {\n            deferred.resolve({ data: dashboard });\n          });\n        });\n        return deferred.promise;\n      }\n\n      return { data: script_result };\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/dashboardLoaderSrv.js\n// module id = 1368\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport angular from 'angular';\nimport {appEvents, NavModel} from 'app/core/core';\nimport {DashboardModel} from '../model';\n\nexport class DashNavCtrl {\n  dashboard: DashboardModel;\n  navModel: NavModel;\n  titleTooltip: string;\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    private $rootScope,\n    private dashboardSrv,\n    private $location,\n    private backendSrv,\n    private contextSrv,\n    public playlistSrv,\n    navModelSrv) {\n      this.navModel = navModelSrv.getDashboardNav(this.dashboard, this);\n\n      appEvents.on('save-dashboard', this.saveDashboard.bind(this), $scope);\n      appEvents.on('delete-dashboard', this.deleteDashboard.bind(this), $scope);\n\n      if (this.dashboard.meta.isSnapshot) {\n        var meta = this.dashboard.meta;\n        this.titleTooltip = 'Created: &nbsp;' + moment(meta.created).calendar();\n        if (meta.expires) {\n          this.titleTooltip += '<br>Expires: &nbsp;' + moment(meta.expires).fromNow() + '<br>';\n        }\n      }\n    }\n\n    toggleSideMenu() {\n      this.contextSrv.toggleSideMenu();\n    }\n\n    openEditView(editview) {\n      var search = _.extend(this.$location.search(), {editview: editview});\n      this.$location.search(search);\n    }\n\n    showHelpModal() {\n      appEvents.emit('show-modal', {templateHtml: '<help-modal></help-modal>'});\n    }\n\n    starDashboard() {\n      this.dashboardSrv.starDashboard(this.dashboard.id, this.dashboard.meta.isStarred)\n        .then(newState => {\n          this.dashboard.meta.isStarred = newState;\n      });\n    }\n\n    shareDashboard(tabIndex) {\n      var modalScope = this.$scope.$new();\n      modalScope.tabIndex = tabIndex;\n      modalScope.dashboard = this.dashboard;\n\n      appEvents.emit('show-modal', {\n        src: 'public/app/features/dashboard/partials/shareModal.html',\n        scope: modalScope\n      });\n    }\n\n    hideTooltip(evt) {\n      angular.element(evt.currentTarget).tooltip('hide');\n    }\n\n    makeEditable() {\n      this.dashboard.editable = true;\n\n      return this.dashboardSrv.saveDashboard({makeEditable: true, overwrite: false}).then(() => {\n        // force refresh whole page\n        window.location.href = window.location.href;\n      });\n    }\n\n    exitFullscreen() {\n      this.$rootScope.appEvent('panel-change-view', {fullscreen: false, edit: false});\n    }\n\n    saveDashboard() {\n      return this.dashboardSrv.saveDashboard();\n    }\n\n    deleteDashboard() {\n      var confirmText = \"\";\n      var text2 = this.dashboard.title;\n      var alerts = this.dashboard.rows.reduce((memo, row) => {\n        memo += row.panels.filter(panel => panel.alert).length;\n        return memo;\n      }, 0);\n\n      if (alerts > 0) {\n        confirmText = 'DELETE';\n        text2 = `This dashboad contains ${alerts} alerts. Deleting this dashboad will also delete those alerts`;\n      }\n\n      appEvents.emit('confirm-modal', {\n        title: 'Delete',\n        text: 'Do you want to delete this dashboard?',\n        text2: text2,\n        icon: 'fa-trash',\n        confirmText: confirmText,\n        yesText: 'Delete',\n        onConfirm: () => {\n          this.dashboard.meta.canSave = false;\n          this.deleteDashboardConfirmed();\n        }\n      });\n    }\n\n    deleteDashboardConfirmed() {\n      this.backendSrv.delete('/api/dashboards/db/' + this.dashboard.meta.slug).then(() => {\n        appEvents.emit('alert-success', ['Dashboard Deleted', this.dashboard.title + ' has been deleted']);\n        this.$location.url('/');\n      });\n    }\n\n    saveDashboardAs() {\n      return this.dashboardSrv.showSaveAsModal();\n    }\n\n    viewJson() {\n      var clone = this.dashboard.getSaveModelClone();\n\n      this.$rootScope.appEvent('show-json-editor', {\n        object: clone,\n      });\n    }\n\n    showSearch() {\n      this.$rootScope.appEvent('show-dash-search');\n    }\n\n    navItemClicked(navItem, evt) {\n      if (navItem.clickHandler) {\n        navItem.clickHandler();\n        evt.preventDefault();\n      }\n    }\n}\n\nexport function dashNavDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/dashnav/dashnav.html',\n    controller: DashNavCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    transclude: true,\n    scope: { dashboard: \"=\" }\n  };\n}\n\nangular.module('grafana.directives').directive('dashnav', dashNavDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/dashnav/dashnav.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nexport class SubmenuCtrl {\n  annotations: any;\n  variables: any;\n  dashboard: any;\n\n  /** @ngInject */\n  constructor(private $rootScope,\n              private variableSrv,\n              private $location) {\n    this.annotations = this.dashboard.templating.list;\n    this.variables = this.variableSrv.variables;\n  }\n\n  annotationStateChanged() {\n    this.$rootScope.$broadcast('refresh');\n  }\n\n  variableUpdated(variable) {\n    this.variableSrv.variableUpdated(variable, true);\n  }\n\n  openEditView(editview) {\n    var search = _.extend(this.$location.search(), {editview: editview});\n    this.$location.search(search);\n  }\n}\n\nexport function submenuDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/submenu/submenu.html',\n    controller: SubmenuCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      dashboard: \"=\",\n    }\n  };\n}\n\nangular.module('grafana.directives').directive('dashboardSubmenu', submenuDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/submenu/submenu.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nconst  template = `\n<div class=\"modal-body\">\n\t<div class=\"modal-header\">\n\t\t<h2 class=\"modal-header-title\">\n\t\t\t<i class=\"fa fa-copy\"></i>\n\t\t\t<span class=\"p-l-1\">Save As...</span>\n\t\t</h2>\n\n\t\t<a class=\"modal-header-close\" ng-click=\"ctrl.dismiss();\">\n\t\t\t<i class=\"fa fa-remove\"></i>\n\t\t</a>\n\t</div>\n\n\t<form name=\"ctrl.saveForm\" ng-submit=\"ctrl.save()\" class=\"modal-content\" novalidate>\n\t\t<div class=\"p-t-2\">\n\t\t\t<div class=\"gf-form\">\n\t\t\t\t<label class=\"gf-form-label\">New name</label>\n\t\t\t\t<input type=\"text\" class=\"gf-form-input\" ng-model=\"ctrl.clone.title\" give-focus=\"true\" required>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"gf-form-button-row text-center\">\n\t\t\t<button type=\"submit\" class=\"btn btn-success\" ng-disabled=\"ctrl.saveForm.$invalid\">Save</button>\n\t\t\t<a class=\"btn-text\" ng-click=\"ctrl.dismiss();\">Cancel</a>\n\t\t</div>\n\t</form>\n</div>\n`;\n\nexport class SaveDashboardAsModalCtrl {\n  clone: any;\n  dismiss: () => void;\n\n  /** @ngInject */\n  constructor(private dashboardSrv) {\n    var dashboard = this.dashboardSrv.getCurrent();\n    this.clone = dashboard.getSaveModelClone();\n    this.clone.id = null;\n    this.clone.title += ' Copy';\n    this.clone.editable = true;\n    this.clone.hideControls = false;\n\n    // remove alerts if source dashboard is already persisted\n    // do not want to create alert dupes\n    if (dashboard.id > 0) {\n      this.clone.rows.forEach(row => {\n        row.panels.forEach(panel => {\n          if (panel.type === \"graph\" && panel.alert) {\n            delete panel.thresholds;\n          }\n\n          delete panel.alert;\n        });\n      });\n    }\n\n    delete this.clone.autoUpdate;\n  }\n\n  save() {\n    return this.dashboardSrv.save(this.clone).then(this.dismiss);\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 13) {\n      this.save();\n    }\n  }\n}\n\nexport function saveDashboardAsDirective() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: SaveDashboardAsModalCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {dismiss: \"&\"}\n  };\n}\n\ncoreModule.directive('saveDashboardAsModal',  saveDashboardAsDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/save_as_modal.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nconst  template = `\n<div class=\"modal-body\">\n\t<div class=\"modal-header\">\n\t\t<h2 class=\"modal-header-title\">\n\t\t\t<i class=\"fa fa-save\"></i>\n\t\t\t<span class=\"p-l-1\">Save changes</span>\n\t\t</h2>\n\n\t\t<a class=\"modal-header-close\" ng-click=\"ctrl.dismiss();\">\n\t\t\t<i class=\"fa fa-remove\"></i>\n\t\t</a>\n\t</div>\n\n\t<form name=\"ctrl.saveForm\" ng-submit=\"ctrl.save()\" class=\"modal-content\" novalidate>\n\t\t<h6 class=\"text-center\">Add a note to describe your changes</h6>\n\t\t<div class=\"p-t-2\">\n\t\t\t<div class=\"gf-form\">\n\t\t\t\t<label class=\"gf-form-hint\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"message\"\n\t\t\t\t\t\tclass=\"gf-form-input\"\n\t\t\t\t\t\tplaceholder=\"Updates to &hellip;\"\n\t\t\t\t\t\tgive-focus=\"true\"\n\t\t\t\t\t\tng-model=\"ctrl.message\"\n\t\t\t\t\t\tng-model-options=\"{allowInvalid: true}\"\n\t\t\t\t\t\tng-maxlength=\"this.max\"\n\t\t\t\t\t\tautocomplete=\"off\" />\n\t\t\t\t\t<small class=\"gf-form-hint-text muted\" ng-cloak>\n\t\t\t\t\t\t<span ng-class=\"{'text-error': ctrl.saveForm.message.$invalid && ctrl.saveForm.message.$dirty }\">\n\t\t\t\t\t\t\t{{ctrl.message.length || 0}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t/ {{ctrl.max}} characters\n\t\t\t\t\t</small>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"gf-form-button-row text-center\">\n\t\t\t<button type=\"submit\" class=\"btn btn-success\" ng-disabled=\"ctrl.saveForm.$invalid\">Save</button>\n\t\t\t<button class=\"btn btn-inverse\" ng-click=\"ctrl.dismiss();\">Cancel</button>\n\t\t</div>\n\t</form>\n</div>\n`;\n\nexport class SaveDashboardModalCtrl {\n  message: string;\n  max: number;\n  saveForm: any;\n  dismiss: () => void;\n\n  /** @ngInject */\n  constructor(private dashboardSrv) {\n    this.message = '';\n    this.max = 64;\n  }\n\n  save() {\n    if (!this.saveForm.$valid) {\n      return;\n    }\n\n    var dashboard = this.dashboardSrv.getCurrent();\n    var saveModel = dashboard.getSaveModelClone();\n    var options = {message: this.message};\n\n    return this.dashboardSrv.save(saveModel, options).then(this.dismiss);\n  }\n}\n\nexport function saveDashboardModalDirective() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: SaveDashboardModalCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {dismiss: \"&\"}\n  };\n}\n\ncoreModule.directive('saveDashboardModal',  saveDashboardModalDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/save_modal.ts","define(['angular',\n  'lodash',\n  'jquery',\n  'moment',\n  'app/core/config',\n],\nfunction (angular, _, $, moment, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ShareModalCtrl', function($scope, $rootScope, $location, $timeout, timeSrv, templateSrv, linkSrv) {\n\n    $scope.options = { forCurrent: true, includeTemplateVars: true, theme: 'current' };\n    $scope.editor = { index: $scope.tabIndex || 0};\n\n    $scope.init = function() {\n      $scope.modeSharePanel = $scope.panel ? true : false;\n\n      $scope.tabs = [{title: 'Link', src: 'shareLink.html'}];\n\n      if ($scope.modeSharePanel) {\n        $scope.modalTitle = 'Share Panel';\n        $scope.tabs.push({title: 'Embed', src: 'shareEmbed.html'});\n      } else {\n        $scope.modalTitle = 'Share';\n      }\n\n      if (!$scope.dashboard.meta.isSnapshot) {\n        $scope.tabs.push({title: 'Snapshot', src: 'shareSnapshot.html'});\n      }\n\n      if (!$scope.dashboard.meta.isSnapshot && !$scope.modeSharePanel) {\n        $scope.tabs.push({title: 'Export', src: 'shareExport.html'});\n      }\n\n      $scope.buildUrl();\n    };\n\n    $scope.buildUrl = function() {\n      var baseUrl = $location.absUrl();\n      var queryStart = baseUrl.indexOf('?');\n\n      if (queryStart !== -1) {\n        baseUrl = baseUrl.substring(0, queryStart);\n      }\n\n      var params = angular.copy($location.search());\n\n      var range = timeSrv.timeRange();\n      params.from = range.from.valueOf();\n      params.to = range.to.valueOf();\n      params.orgId = config.bootData.user.orgId;\n\n      if ($scope.options.includeTemplateVars) {\n        templateSrv.fillVariableValuesForUrl(params);\n      }\n\n      if (!$scope.options.forCurrent) {\n        delete params.from;\n        delete params.to;\n      }\n\n      if ($scope.options.theme !== 'current') {\n        params.theme = $scope.options.theme;\n      }\n\n      if ($scope.modeSharePanel) {\n        params.panelId = $scope.panel.id;\n        params.fullscreen = true;\n      } else {\n        delete params.panelId;\n        delete params.fullscreen;\n      }\n\n      $scope.shareUrl = linkSrv.addParamsToUrl(baseUrl, params);\n\n      var soloUrl = baseUrl.replace(config.appSubUrl + '/dashboard/', config.appSubUrl + '/dashboard-solo/');\n      delete params.fullscreen;\n      delete params.edit;\n      soloUrl = linkSrv.addParamsToUrl(soloUrl, params);\n\n      $scope.iframeHtml = '<iframe src=\"' + soloUrl + '\" width=\"450\" height=\"200\" frameborder=\"0\"></iframe>';\n\n      $scope.imageUrl = soloUrl.replace(config.appSubUrl + '/dashboard-solo/', config.appSubUrl + '/render/dashboard-solo/');\n      $scope.imageUrl += '&width=1000';\n      $scope.imageUrl += '&height=500';\n      $scope.imageUrl += '&tz=UTC' + encodeURIComponent(moment().format(\"Z\"));\n    };\n\n    $scope.getShareUrl = function() {\n      return $scope.shareUrl;\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/shareModalCtrl.js\n// module id = 1373\n// module chunks = 0","define([\n  'angular',\n  'lodash',\n],\nfunction (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ShareSnapshotCtrl', function($scope, $rootScope, $location, backendSrv, $timeout, timeSrv) {\n\n    $scope.snapshot = {\n      name: $scope.dashboard.title,\n      expires: 0,\n      timeoutSeconds: 4,\n    };\n\n    $scope.step = 1;\n\n    $scope.expireOptions = [\n      {text: '1 Hour', value: 60*60},\n      {text: '1 Day',  value: 60*60*24},\n      {text: '7 Days', value: 60*60*24*7},\n      {text: 'Never',  value: 0},\n    ];\n\n    $scope.accessOptions = [\n      {text: 'Anyone with the link', value: 1},\n      {text: 'Organization users',  value: 2},\n      {text: 'Public on the web', value: 3},\n    ];\n\n    $scope.init = function() {\n      backendSrv.get('/api/snapshot/shared-options').then(function(options) {\n        $scope.externalUrl = options['externalSnapshotURL'];\n        $scope.sharingButtonText = options['externalSnapshotName'];\n        $scope.externalEnabled = options['externalEnabled'];\n      });\n    };\n\n    $scope.apiUrl = '/api/snapshots';\n\n    $scope.createSnapshot = function(external) {\n      $scope.dashboard.snapshot = {\n        timestamp: new Date()\n      };\n\n      if (!external) {\n        $scope.dashboard.snapshot.originalUrl = $location.absUrl();\n      }\n\n      $scope.loading = true;\n      $scope.snapshot.external = external;\n\n      $rootScope.$broadcast('refresh');\n\n      $timeout(function() {\n        $scope.saveSnapshot(external);\n      }, $scope.snapshot.timeoutSeconds * 1000);\n    };\n\n    $scope.saveSnapshot = function(external) {\n      var dash = $scope.dashboard.getSaveModelClone();\n      $scope.scrubDashboard(dash);\n\n      var cmdData = {\n        dashboard: dash,\n        name: dash.title,\n        expires: $scope.snapshot.expires,\n      };\n\n      var postUrl = external ? $scope.externalUrl + $scope.apiUrl : $scope.apiUrl;\n\n      backendSrv.post(postUrl, cmdData).then(function(results) {\n        $scope.loading = false;\n\n        if (external) {\n          $scope.deleteUrl = results.deleteUrl;\n          $scope.snapshotUrl = results.url;\n          $scope.saveExternalSnapshotRef(cmdData, results);\n        } else {\n          var url = $location.url();\n          var baseUrl = $location.absUrl();\n\n          if (url !== '/') {\n            baseUrl = baseUrl.replace(url, '') + '/';\n          }\n\n          $scope.snapshotUrl = baseUrl + 'dashboard/snapshot/' + results.key;\n          $scope.deleteUrl = baseUrl + 'api/snapshots-delete/' + results.deleteKey;\n        }\n\n        $scope.step = 2;\n      }, function() {\n        $scope.loading = false;\n      });\n    };\n\n    $scope.getSnapshotUrl = function() {\n      return $scope.snapshotUrl;\n    };\n\n    $scope.scrubDashboard = function(dash) {\n      // change title\n      dash.title = $scope.snapshot.name;\n      // make relative times absolute\n      dash.time = timeSrv.timeRange();\n      // remove panel queries & links\n      dash.forEachPanel(function(panel) {\n        panel.targets = [];\n        panel.links = [];\n        panel.datasource = null;\n      });\n      // remove annotation queries\n      dash.annotations.list = _.chain(dash.annotations.list)\n      .filter(function(annotation) {\n        return annotation.enable;\n      })\n      .map(function(annotation) {\n        return {\n          name: annotation.name,\n          enable: annotation.enable,\n          iconColor: annotation.iconColor,\n          snapshotData: annotation.snapshotData\n        };\n      }).value();\n      // remove template queries\n      _.each(dash.templating.list, function(variable) {\n        variable.query = \"\";\n        variable.options = variable.current;\n        variable.refresh = false;\n      });\n\n      // snapshot single panel\n      if ($scope.modeSharePanel) {\n        var singlePanel = dash.getPanelById($scope.panel.id);\n        singlePanel.span = 12;\n        dash.rows = [{ height: '500px', span: 12, panels: [singlePanel] }];\n      }\n\n      // cleanup snapshotData\n      delete $scope.dashboard.snapshot;\n      $scope.dashboard.forEachPanel(function(panel) {\n        delete panel.snapshotData;\n      });\n      _.each($scope.dashboard.annotations.list, function(annotation) {\n        delete annotation.snapshotData;\n      });\n    };\n\n    $scope.deleteSnapshot = function() {\n      backendSrv.get($scope.deleteUrl).then(function() {\n        $scope.step = 3;\n      });\n    };\n\n    $scope.saveExternalSnapshotRef = function(cmdData, results) {\n      // save external in local instance as well\n      cmdData.external = true;\n      cmdData.key = results.key;\n      cmdData.deleteKey = results.deleteKey;\n      backendSrv.post('/api/snapshots/', cmdData);\n    };\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/shareSnapshotCtrl.js\n// module id = 1374\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\nimport {DashboardModel} from './model';\n\nexport class DashboardSrv {\n  dash: any;\n\n  /** @ngInject */\n  constructor(private backendSrv, private $rootScope, private $location) {\n  }\n\n  create(dashboard, meta) {\n    return new DashboardModel(dashboard, meta);\n  }\n\n  setCurrent(dashboard) {\n    this.dash = dashboard;\n  }\n\n  getCurrent() {\n    return this.dash;\n  }\n\n  handleSaveDashboardError(clone, err) {\n    if (err.data && err.data.status === \"version-mismatch\") {\n      err.isHandled = true;\n\n      this.$rootScope.appEvent('confirm-modal', {\n        title: 'Conflict',\n        text: 'Someone else has updated this dashboard.',\n        text2: 'Would you still like to save this dashboard?',\n        yesText: \"Save & Overwrite\",\n        icon: \"fa-warning\",\n        onConfirm: () => {\n          this.save(clone, {overwrite: true});\n        }\n      });\n    }\n\n    if (err.data && err.data.status === \"name-exists\") {\n      err.isHandled = true;\n\n      this.$rootScope.appEvent('confirm-modal', {\n        title: 'Conflict',\n        text: 'Dashboard with the same name exists.',\n        text2: 'Would you still like to save this dashboard?',\n        yesText: \"Save & Overwrite\",\n        icon: \"fa-warning\",\n        onConfirm: () => {\n          this.save(clone, {overwrite: true});\n        }\n      });\n    }\n\n    if (err.data && err.data.status === \"plugin-dashboard\") {\n      err.isHandled = true;\n\n      this.$rootScope.appEvent('confirm-modal', {\n        title: 'Plugin Dashboard',\n        text: err.data.message,\n        text2: 'Your changes will be lost when you update the plugin. Use Save As to create custom version.',\n        yesText: \"Overwrite\",\n        icon: \"fa-warning\",\n        altActionText: \"Save As\",\n        onAltAction: () => {\n          this.showSaveAsModal();\n        },\n        onConfirm: () => {\n          this.save(clone, {overwrite: true});\n        }\n      });\n    }\n  }\n\n  postSave(clone, data) {\n    this.dash.version = data.version;\n\n    var dashboardUrl = '/dashboard/db/' + data.slug;\n    if (dashboardUrl !== this.$location.path()) {\n      this.$location.url(dashboardUrl);\n    }\n\n    this.$rootScope.appEvent('dashboard-saved', this.dash);\n    this.$rootScope.appEvent('alert-success', ['Dashboard saved']);\n  }\n\n  save(clone, options) {\n    return this.backendSrv.saveDashboard(clone, options)\n      .then(this.postSave.bind(this, clone))\n      .catch(this.handleSaveDashboardError.bind(this, clone));\n  }\n\n  saveDashboard(options, clone) {\n    if (clone) {\n      this.setCurrent(this.create(clone, this.dash.meta));\n    }\n\n    if (!this.dash.meta.canSave && options.makeEditable !== true) {\n      return Promise.resolve();\n    }\n\n    if (this.dash.title === 'New dashboard') {\n      return this.showSaveAsModal();\n    }\n\n    if (this.dash.version > 0) {\n      return this.showSaveModal();\n    }\n\n    return this.save(this.dash.getSaveModelClone(), options);\n  }\n\n  showSaveAsModal() {\n    var newScope = this.$rootScope.$new();\n    newScope.clone = this.dash.getSaveModelClone();\n    newScope.clone.editable = true;\n    newScope.clone.hideControls = false;\n\n    this.$rootScope.appEvent('show-modal', {\n      templateHtml: '<save-dashboard-as-modal dismiss=\"dismiss()\"></save-dashboard-as-modal>',\n      scope: newScope,\n      modalClass: 'modal--narrow'\n    });\n  }\n\n  showSaveModal() {\n    this.$rootScope.appEvent('show-modal', {\n      templateHtml: '<save-dashboard-modal dismiss=\"dismiss()\"></save-dashboard-modal>',\n      scope: this.$rootScope.$new(),\n      modalClass: 'modal--narrow'\n    });\n  }\n\n  starDashboard(dashboardId, isStarred) {\n    let promise;\n\n    if (isStarred) {\n      promise = this.backendSrv.delete('/api/user/stars/dashboard/' + dashboardId).then(() =>  {\n        return false;\n      });\n    } else {\n      promise = this.backendSrv.post('/api/user/stars/dashboard/' + dashboardId).then(() => {\n        return true;\n      });\n    }\n\n    return promise.then(res => {\n      if (this.dash && this.dash.id === dashboardId) {\n        this.dash.meta.isStarred = res;\n      }\n      return res;\n    });\n  }\n}\n\ncoreModule.service('dashboardSrv', DashboardSrv);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/dashboard_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport $ from 'jquery';\n\nimport {DEFAULT_ANNOTATION_COLOR} from 'app/core/utils/colors';\nimport {Emitter, contextSrv, appEvents} from 'app/core/core';\nimport {DashboardRow} from './row/row_model';\nimport sortByKeys from 'app/core/utils/sort_by_keys';\n\nexport class DashboardModel {\n  id: any;\n  title: any;\n  autoUpdate: any;\n  description: any;\n  tags: any;\n  style: any;\n  timezone: any;\n  editable: any;\n  graphTooltip: any;\n  rows: DashboardRow[];\n  time: any;\n  timepicker: any;\n  hideControls: any;\n  templating: any;\n  annotations: any;\n  refresh: any;\n  snapshot: any;\n  schemaVersion: number;\n  version: number;\n  revision: number;\n  links: any;\n  gnetId: any;\n  meta: any;\n  events: any;\n\n  constructor(data, meta?) {\n    if (!data) {\n      data = {};\n    }\n\n    this.events = new Emitter();\n    this.id = data.id || null;\n    this.revision = data.revision;\n    this.title = data.title || 'No Title';\n    this.autoUpdate = data.autoUpdate;\n    this.description = data.description;\n    this.tags = data.tags || [];\n    this.style = data.style || \"dark\";\n    this.timezone = data.timezone || '';\n    this.editable = data.editable !== false;\n    this.graphTooltip = data.graphTooltip || 0;\n    this.hideControls = data.hideControls || false;\n    this.time = data.time || { from: 'now-6h', to: 'now' };\n    this.timepicker = data.timepicker || {};\n    this.templating = this.ensureListExist(data.templating);\n    this.annotations = this.ensureListExist(data.annotations);\n    this.refresh = data.refresh;\n    this.snapshot = data.snapshot;\n    this.schemaVersion = data.schemaVersion || 0;\n    this.version = data.version || 0;\n    this.links = data.links || [];\n    this.gnetId = data.gnetId || null;\n\n    this.rows = [];\n    if (data.rows) {\n      for (let row of data.rows) {\n        this.rows.push(new DashboardRow(row));\n      }\n    }\n\n    this.addBuiltInAnnotationQuery();\n    this.updateSchema(data);\n    this.initMeta(meta);\n  }\n\n  addBuiltInAnnotationQuery() {\n    let found = false;\n    for (let item of this.annotations.list) {\n      if (item.builtIn === 1) {\n        found = true;\n        break;\n      }\n    }\n\n    if (found) {\n      return;\n    }\n\n    this.annotations.list.unshift({\n      datasource: '-- Grafana --',\n      name: 'Annotations & Alerts',\n      type: 'dashboard',\n      iconColor: DEFAULT_ANNOTATION_COLOR,\n      enable: true,\n      hide: true,\n      builtIn: 1,\n    });\n  }\n\n  private initMeta(meta) {\n    meta = meta || {};\n\n    meta.canShare = meta.canShare !== false;\n    meta.canSave = meta.canSave !== false;\n    meta.canStar = meta.canStar !== false;\n    meta.canEdit = meta.canEdit !== false;\n\n    if (!this.editable) {\n      meta.canEdit = false;\n      meta.canDelete = false;\n      meta.canSave = false;\n    }\n\n    this.meta = meta;\n  }\n\n  // cleans meta data and other non peristent state\n  getSaveModelClone() {\n    // temp remove stuff\n    var events = this.events;\n    var meta = this.meta;\n    var rows = this.rows;\n    var variables = this.templating.list;\n\n    delete this.events;\n    delete this.meta;\n\n    // prepare save model\n    this.rows = _.map(rows, row => row.getSaveModel());\n    this.templating.list = _.map(variables, variable => variable.getSaveModel ? variable.getSaveModel() : variable);\n\n    // make clone\n    var copy = $.extend(true, {}, this);\n    //  sort clone\n    copy = sortByKeys(copy);\n\n    // restore properties\n    this.events = events;\n    this.meta = meta;\n    this.rows = rows;\n    this.templating.list = variables;\n\n    return copy;\n  }\n\n  addEmptyRow() {\n    this.rows.push(new DashboardRow({isNew: true}));\n  }\n\n  private ensureListExist(data) {\n    if (!data) { data = {}; }\n    if (!data.list) { data.list = []; }\n    return data;\n  }\n\n  getNextPanelId() {\n    var i, j, row, panel, max = 0;\n    for (i = 0; i < this.rows.length; i++) {\n      row = this.rows[i];\n      for (j = 0; j < row.panels.length; j++) {\n        panel = row.panels[j];\n        if (panel.id > max) { max = panel.id; }\n      }\n    }\n    return max + 1;\n  }\n\n  forEachPanel(callback) {\n    var i, j, row;\n    for (i = 0; i < this.rows.length; i++) {\n      row = this.rows[i];\n      for (j = 0; j < row.panels.length; j++) {\n        callback(row.panels[j], j, row, i);\n      }\n    }\n  }\n\n  getPanelById(id) {\n    for (var i = 0; i < this.rows.length; i++) {\n      var row = this.rows[i];\n      for (var j = 0; j < row.panels.length; j++) {\n        var panel = row.panels[j];\n        if (panel.id === id) {\n          return panel;\n        }\n      }\n    }\n    return null;\n  }\n\n  addPanel(panel, row) {\n    panel.id = this.getNextPanelId();\n    row.addPanel(panel);\n  }\n\n  removeRow(row, force?) {\n    var index = _.indexOf(this.rows, row);\n\n    if (!row.panels.length || force) {\n      this.rows.splice(index, 1);\n      row.destroy();\n      return;\n    }\n\n    appEvents.emit('confirm-modal', {\n      title: 'Remove Row',\n      text: 'Are you sure you want to remove this row?',\n      icon: 'fa-trash',\n      yesText: 'Delete',\n      onConfirm: () => {\n        this.rows.splice(index, 1);\n        row.destroy();\n      }\n    });\n  }\n\n  setPanelFocus(id) {\n    this.meta.focusPanelId = id;\n  }\n\n  updateSubmenuVisibility() {\n    this.meta.submenuEnabled = (() => {\n      if (this.links.length > 0) { return true; }\n\n      var visibleVars = _.filter(this.templating.list, variable => variable.hide !== 2);\n      if (visibleVars.length > 0) { return true; }\n\n      var visibleAnnotations = _.filter(this.annotations.list, annotation => annotation.hide !== true);\n      if (visibleAnnotations.length > 0) { return true; }\n\n      return false;\n    })();\n  }\n\n  getPanelInfoById(panelId) {\n    var result: any = {};\n    _.each(this.rows, function(row) {\n      _.each(row.panels, function(panel, index) {\n        if (panel.id === panelId) {\n          result.panel = panel;\n          result.row = row;\n          result.index = index;\n        }\n      });\n    });\n\n    if (!result.panel) {\n      return null;\n    }\n\n    return result;\n  }\n\n  duplicatePanel(panel, row) {\n    var newPanel = angular.copy(panel);\n    newPanel.id = this.getNextPanelId();\n\n    delete newPanel.repeat;\n    delete newPanel.repeatIteration;\n    delete newPanel.repeatPanelId;\n    delete newPanel.scopedVars;\n    if (newPanel.alert) {\n      delete newPanel.thresholds;\n    }\n    delete newPanel.alert;\n\n    row.addPanel(newPanel);\n    return newPanel;\n  }\n\n  formatDate(date, format?) {\n    date = moment.isMoment(date) ? date : moment(date);\n    format = format || 'YYYY-MM-DD HH:mm:ss';\n    let timezone = this.getTimezone();\n\n    return timezone === 'browser' ?\n      moment(date).format(format) :\n      moment.utc(date).format(format);\n  }\n\n  destroy() {\n    this.events.removeAllListeners();\n    for (let row of this.rows) {\n      row.destroy();\n    }\n  }\n\n  cycleGraphTooltip() {\n    this.graphTooltip = (this.graphTooltip + 1) % 3;\n  }\n\n  sharedTooltipModeEnabled() {\n    return this.graphTooltip > 0;\n  }\n\n  sharedCrosshairModeOnly() {\n    return this.graphTooltip === 1;\n  }\n\n  getRelativeTime(date) {\n    date = moment.isMoment(date) ? date : moment(date);\n\n    return this.timezone === 'browser' ?\n      moment(date).fromNow() :\n      moment.utc(date).fromNow();\n  }\n\n  getNextQueryLetter(panel) {\n    var letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n    return _.find(letters, function(refId) {\n      return _.every(panel.targets, function(other) {\n        return other.refId !== refId;\n      });\n    });\n  }\n\n  isTimezoneUtc() {\n    return this.getTimezone() === 'utc';\n  }\n\n  getTimezone() {\n    return this.timezone ? this.timezone : contextSrv.user.timezone;\n  }\n\n  private updateSchema(old) {\n    var i, j, k;\n    var oldVersion = this.schemaVersion;\n    var panelUpgrades = [];\n    this.schemaVersion = 14;\n\n    if (oldVersion === this.schemaVersion) {\n      return;\n    }\n\n    // version 2 schema changes\n    if (oldVersion < 2) {\n\n      if (old.services) {\n        if (old.services.filter) {\n          this.time = old.services.filter.time;\n          this.templating.list = old.services.filter.list || [];\n        }\n      }\n\n      panelUpgrades.push(function(panel) {\n        // rename panel type\n        if (panel.type === 'graphite') {\n          panel.type = 'graph';\n        }\n\n        if (panel.type !== 'graph') {\n          return;\n        }\n\n        if (_.isBoolean(panel.legend)) { panel.legend = { show: panel.legend }; }\n\n        if (panel.grid) {\n          if (panel.grid.min) {\n            panel.grid.leftMin = panel.grid.min;\n            delete panel.grid.min;\n          }\n\n          if (panel.grid.max) {\n            panel.grid.leftMax = panel.grid.max;\n            delete panel.grid.max;\n          }\n        }\n\n        if (panel.y_format) {\n          panel.y_formats[0] = panel.y_format;\n          delete panel.y_format;\n        }\n\n        if (panel.y2_format) {\n          panel.y_formats[1] = panel.y2_format;\n          delete panel.y2_format;\n        }\n      });\n    }\n\n    // schema version 3 changes\n    if (oldVersion < 3) {\n      // ensure panel ids\n      var maxId = this.getNextPanelId();\n      panelUpgrades.push(function(panel) {\n        if (!panel.id) {\n          panel.id = maxId;\n          maxId += 1;\n        }\n      });\n    }\n\n    // schema version 4 changes\n    if (oldVersion < 4) {\n      // move aliasYAxis changes\n      panelUpgrades.push(function(panel) {\n        if (panel.type !== 'graph') { return; }\n        _.each(panel.aliasYAxis, function(value, key) {\n          panel.seriesOverrides = [{ alias: key, yaxis: value }];\n        });\n        delete panel.aliasYAxis;\n      });\n    }\n\n    if (oldVersion < 6) {\n      // move pulldowns to new schema\n      var annotations = _.find(old.pulldowns, { type: 'annotations' });\n\n      if (annotations) {\n        this.annotations = {\n          list: annotations.annotations || [],\n        };\n      }\n\n      // update template variables\n      for (i = 0 ; i < this.templating.list.length; i++) {\n        var variable = this.templating.list[i];\n        if (variable.datasource === void 0) { variable.datasource = null; }\n        if (variable.type === 'filter') { variable.type = 'query'; }\n        if (variable.type === void 0) { variable.type = 'query'; }\n        if (variable.allFormat === void 0) { variable.allFormat = 'glob'; }\n      }\n    }\n\n    if (oldVersion < 7) {\n      if (old.nav && old.nav.length) {\n        this.timepicker = old.nav[0];\n      }\n\n      // ensure query refIds\n      panelUpgrades.push(function(panel) {\n        _.each(panel.targets, function(target) {\n          if (!target.refId) {\n            target.refId = this.getNextQueryLetter(panel);\n            }\n          }.bind(this));\n        });\n      }\n\n      if (oldVersion < 8) {\n        panelUpgrades.push(function(panel) {\n          _.each(panel.targets, function(target) {\n            // update old influxdb query schema\n            if (target.fields && target.tags && target.groupBy) {\n              if (target.rawQuery) {\n                delete target.fields;\n                delete target.fill;\n              } else {\n                target.select = _.map(target.fields, function(field) {\n                  var parts = [];\n                  parts.push({type: 'field', params: [field.name]});\n                  parts.push({type: field.func, params: []});\n                  if (field.mathExpr) {\n                    parts.push({type: 'math', params: [field.mathExpr]});\n                  }\n                  if (field.asExpr) {\n                    parts.push({type: 'alias', params: [field.asExpr]});\n                  }\n                  return parts;\n                });\n                delete target.fields;\n                _.each(target.groupBy, function(part) {\n                  if (part.type === 'time' && part.interval)  {\n                    part.params = [part.interval];\n                    delete part.interval;\n                  }\n                  if (part.type === 'tag' && part.key) {\n                    part.params = [part.key];\n                    delete part.key;\n                  }\n                });\n\n                if (target.fill) {\n                  target.groupBy.push({type: 'fill', params: [target.fill]});\n                  delete target.fill;\n                }\n              }\n            }\n          });\n        });\n      }\n\n      // schema version 9 changes\n      if (oldVersion < 9) {\n        // move aliasYAxis changes\n        panelUpgrades.push(function(panel) {\n          if (panel.type !== 'singlestat' && panel.thresholds !== \"\") { return; }\n\n          if (panel.thresholds) {\n            var k = panel.thresholds.split(\",\");\n\n            if (k.length >= 3) {\n              k.shift();\n              panel.thresholds = k.join(\",\");\n            }\n          }\n        });\n      }\n\n      // schema version 10 changes\n      if (oldVersion < 10) {\n        // move aliasYAxis changes\n        panelUpgrades.push(function(panel) {\n          if (panel.type !== 'table') { return; }\n\n          _.each(panel.styles, function(style) {\n            if (style.thresholds && style.thresholds.length >= 3) {\n              var k = style.thresholds;\n              k.shift();\n              style.thresholds = k;\n            }\n          });\n        });\n      }\n\n      if (oldVersion < 12) {\n        // update template variables\n        _.each(this.templating.list, function(templateVariable) {\n          if (templateVariable.refresh) { templateVariable.refresh = 1; }\n          if (!templateVariable.refresh) { templateVariable.refresh = 0; }\n          if (templateVariable.hideVariable) {\n            templateVariable.hide = 2;\n          } else if (templateVariable.hideLabel) {\n            templateVariable.hide = 1;\n          }\n        });\n      }\n\n      if (oldVersion < 12) {\n        // update graph yaxes changes\n        panelUpgrades.push(function(panel) {\n          if (panel.type !== 'graph') { return; }\n          if (!panel.grid) { return; }\n\n          if (!panel.yaxes) {\n            panel.yaxes = [\n              {\n                show: panel['y-axis'],\n                min: panel.grid.leftMin,\n                max: panel.grid.leftMax,\n                logBase: panel.grid.leftLogBase,\n                format: panel.y_formats[0],\n                label: panel.leftYAxisLabel,\n              },\n              {\n                show: panel['y-axis'],\n                min: panel.grid.rightMin,\n                max: panel.grid.rightMax,\n                logBase: panel.grid.rightLogBase,\n                format: panel.y_formats[1],\n                label: panel.rightYAxisLabel,\n              }\n            ];\n\n            panel.xaxis = {\n              show: panel['x-axis'],\n            };\n\n            delete panel.grid.leftMin;\n            delete panel.grid.leftMax;\n            delete panel.grid.leftLogBase;\n            delete panel.grid.rightMin;\n            delete panel.grid.rightMax;\n            delete panel.grid.rightLogBase;\n            delete panel.y_formats;\n            delete panel.leftYAxisLabel;\n            delete panel.rightYAxisLabel;\n            delete panel['y-axis'];\n            delete panel['x-axis'];\n          }\n        });\n      }\n\n      if (oldVersion < 13) {\n        // update graph yaxes changes\n        panelUpgrades.push(function(panel) {\n          if (panel.type !== 'graph') { return; }\n          if (!panel.grid) { return; }\n\n          panel.thresholds = [];\n          var t1: any = {}, t2: any = {};\n\n          if (panel.grid.threshold1 !== null) {\n            t1.value = panel.grid.threshold1;\n            if (panel.grid.thresholdLine) {\n              t1.line = true;\n              t1.lineColor = panel.grid.threshold1Color;\n              t1.colorMode = 'custom';\n            } else {\n              t1.fill = true;\n              t1.fillColor = panel.grid.threshold1Color;\n              t1.colorMode = 'custom';\n            }\n          }\n\n          if (panel.grid.threshold2 !== null) {\n            t2.value = panel.grid.threshold2;\n            if (panel.grid.thresholdLine) {\n              t2.line = true;\n              t2.lineColor = panel.grid.threshold2Color;\n              t2.colorMode = 'custom';\n            } else {\n              t2.fill = true;\n              t2.fillColor = panel.grid.threshold2Color;\n              t2.colorMode = 'custom';\n            }\n          }\n\n          if (_.isNumber(t1.value)) {\n            if (_.isNumber(t2.value)) {\n              if (t1.value > t2.value) {\n                t1.op = t2.op = 'lt';\n                panel.thresholds.push(t1);\n                panel.thresholds.push(t2);\n              } else {\n                t1.op = t2.op = 'gt';\n                panel.thresholds.push(t1);\n                panel.thresholds.push(t2);\n              }\n            } else {\n              t1.op = 'gt';\n              panel.thresholds.push(t1);\n            }\n          }\n\n          delete panel.grid.threshold1;\n          delete panel.grid.threshold1Color;\n          delete panel.grid.threshold2;\n          delete panel.grid.threshold2Color;\n          delete panel.grid.thresholdLine;\n        });\n      }\n\n      if (oldVersion < 14) {\n        this.graphTooltip = old.sharedCrosshair ? 1 : 0;\n      }\n\n      if (panelUpgrades.length === 0) {\n        return;\n      }\n\n      for (i = 0; i < this.rows.length; i++) {\n        var row = this.rows[i];\n        for (j = 0; j < row.panels.length; j++) {\n          for (k = 0; k < panelUpgrades.length; k++) {\n            panelUpgrades[k].call(this, row.panels[j]);\n          }\n        }\n      }\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/model.ts","import _ from 'lodash';\n\nexport default function sortByKeys(input) {\n  if (_.isArray(input)) {\n    return input.map(sortByKeys);\n  }\n\n  if (_.isPlainObject(input)) {\n    var sortedObject = {};\n    for (let key of _.keys(input).sort()) {\n      sortedObject[key] = sortByKeys(input[key]);\n    }\n    return sortedObject;\n  }\n\n  return input;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/core/utils/sort_by_keys.ts","define([\n  'angular',\n  'lodash',\n  'jquery',\n  'app/core/config'\n],\nfunction (angular, _, $, config) {\n  'use strict';\n\n  config = config.default;\n  var module = angular.module('grafana.services');\n\n  module.factory('dashboardViewStateSrv', function($location, $timeout) {\n\n    // represents the transient view state\n    // like fullscreen panel & edit\n    function DashboardViewState($scope) {\n      var self = this;\n      self.state = {};\n      self.panelScopes = [];\n      self.$scope = $scope;\n      self.dashboard = $scope.dashboard;\n\n      $scope.onAppEvent('$routeUpdate', function() {\n        var urlState = self.getQueryStringState();\n        if (self.needsSync(urlState)) {\n          self.update(urlState, true);\n        }\n      });\n\n      $scope.onAppEvent('panel-change-view', function(evt, payload) {\n        self.update(payload);\n      });\n\n      $scope.onAppEvent('panel-initialized', function(evt, payload) {\n        self.registerPanel(payload.scope);\n      });\n\n      // this marks changes to location during this digest cycle as not to add history item\n      // dont want url changes like adding orgId to add browser history\n      $location.replace();\n      this.update(this.getQueryStringState());\n      this.expandRowForPanel();\n    }\n\n    DashboardViewState.prototype.expandRowForPanel = function() {\n      if (!this.state.panelId) { return; }\n\n      var panelInfo = this.$scope.dashboard.getPanelInfoById(this.state.panelId);\n      if (panelInfo) {\n        panelInfo.row.collapse = false;\n      }\n    };\n\n    DashboardViewState.prototype.needsSync = function(urlState) {\n      return _.isEqual(this.state, urlState) === false;\n    };\n\n    DashboardViewState.prototype.getQueryStringState = function() {\n      var state = $location.search();\n      state.panelId = parseInt(state.panelId) || null;\n      state.fullscreen = state.fullscreen ? true : null;\n      state.edit =  (state.edit === \"true\" || state.edit === true) || null;\n      state.editview = state.editview || null;\n      state.orgId = config.bootData.user.orgId;\n      return state;\n    };\n\n    DashboardViewState.prototype.serializeToUrl = function() {\n      var urlState = _.clone(this.state);\n      urlState.fullscreen = this.state.fullscreen ? true : null;\n      urlState.edit = this.state.edit ? true : null;\n      return urlState;\n    };\n\n    DashboardViewState.prototype.update = function(state, fromRouteUpdated) {\n      // implement toggle logic\n      if (state.toggle) {\n        delete state.toggle;\n        if (this.state.fullscreen && state.fullscreen) {\n          if (this.state.edit === state.edit) {\n            state.fullscreen = !state.fullscreen;\n          }\n        }\n      }\n\n      // remember if editStateChanged\n      this.editStateChanged = state.edit !== this.state.edit;\n\n      _.extend(this.state, state);\n      this.dashboard.meta.fullscreen = this.state.fullscreen;\n\n      if (!this.state.fullscreen) {\n        this.state.fullscreen = null;\n        this.state.edit = null;\n        // clear panel id unless in solo mode\n        if (!this.dashboard.meta.soloMode) {\n          this.state.panelId = null;\n        }\n      }\n\n      // if no edit state cleanup tab parm\n      if (!this.state.edit) {\n        delete this.state.tab;\n      }\n\n      // do not update url params if we are here\n      // from routeUpdated event\n      if (fromRouteUpdated !== true) {\n        $location.search(this.serializeToUrl());\n      }\n\n      this.syncState();\n    };\n\n    DashboardViewState.prototype.syncState = function() {\n      if (this.panelScopes.length === 0) { return; }\n\n      if (this.dashboard.meta.fullscreen) {\n        var panelScope = this.getPanelScope(this.state.panelId);\n        if (!panelScope) {\n          return;\n        }\n\n        if (this.fullscreenPanel) {\n          // if already fullscreen\n          if (this.fullscreenPanel === panelScope && this.editStateChanged === false) {\n            return;\n          } else {\n            this.leaveFullscreen(false);\n          }\n        }\n\n        if (!panelScope.ctrl.editModeInitiated) {\n          panelScope.ctrl.initEditMode();\n        }\n\n        if (!panelScope.ctrl.fullscreen) {\n          this.enterFullscreen(panelScope);\n        }\n      } else if (this.fullscreenPanel) {\n        this.leaveFullscreen(true);\n      }\n    };\n\n    DashboardViewState.prototype.getPanelScope = function(id) {\n      return _.find(this.panelScopes, function(panelScope) {\n        return panelScope.ctrl.panel.id === id;\n      });\n    };\n\n    DashboardViewState.prototype.leaveFullscreen = function(render) {\n      var self = this;\n      var ctrl = self.fullscreenPanel.ctrl;\n\n      ctrl.editMode = false;\n      ctrl.fullscreen = false;\n\n      this.$scope.appEvent('panel-fullscreen-exit', {panelId: ctrl.panel.id});\n\n      if (!render) { return false;}\n\n      $timeout(function() {\n        if (self.oldTimeRange !== ctrl.range) {\n          self.$scope.broadcastRefresh();\n        } else {\n          self.$scope.$broadcast('render');\n        }\n        delete self.fullscreenPanel;\n      });\n    };\n\n    DashboardViewState.prototype.enterFullscreen = function(panelScope) {\n      var ctrl = panelScope.ctrl;\n\n      ctrl.editMode = this.state.edit && this.dashboard.meta.canEdit;\n      ctrl.fullscreen = true;\n\n      this.oldTimeRange = ctrl.range;\n      this.fullscreenPanel = panelScope;\n\n      $(window).scrollTop(0);\n\n      this.$scope.appEvent('panel-fullscreen-enter', {panelId: ctrl.panel.id});\n\n      $timeout(function() {\n        ctrl.render();\n      });\n    };\n\n    DashboardViewState.prototype.registerPanel = function(panelScope) {\n      var self = this;\n      self.panelScopes.push(panelScope);\n\n      if (!self.dashboard.meta.soloMode) {\n        if (self.state.panelId === panelScope.ctrl.panel.id) {\n          if (self.state.edit) {\n            panelScope.ctrl.editPanel();\n          } else {\n            panelScope.ctrl.viewPanel();\n          }\n        }\n      }\n\n      var unbind = panelScope.$on('$destroy', function() {\n        self.panelScopes = _.without(self.panelScopes, panelScope);\n        unbind();\n      });\n    };\n\n    return {\n      create: function($scope) {\n        return new DashboardViewState($scope);\n      }\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/viewStateSrv.js\n// module id = 1378\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nexport class AlertingSrv {\n  dashboard: any;\n  alerts: any[];\n\n  init(dashboard, alerts) {\n    this.dashboard = dashboard;\n    this.alerts = alerts || [];\n  }\n}\n\n\ncoreModule.service('alertingSrv', AlertingSrv);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/alerting_srv.ts","define([\n  'angular',\n  'lodash',\n],\nfunction(angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.services');\n\n  module.service('unsavedChangesSrv', function($rootScope, $q, $location, $timeout, contextSrv, dashboardSrv, $window) {\n\n    function Tracker(dashboard, scope, originalCopyDelay) {\n      var self = this;\n\n      this.current = dashboard;\n      this.originalPath = $location.path();\n      this.scope = scope;\n\n      // register events\n      scope.onAppEvent('dashboard-saved', function() {\n        this.original = this.current.getSaveModelClone();\n        this.originalPath = $location.path();\n      }.bind(this));\n\n      $window.onbeforeunload = function() {\n        if (self.ignoreChanges()) { return; }\n        if (self.hasChanges()) {\n          return \"There are unsaved changes to this dashboard\";\n        }\n      };\n\n      scope.$on(\"$locationChangeStart\", function(event, next) {\n        // check if we should look for changes\n        if (self.originalPath === $location.path()) { return true; }\n        if (self.ignoreChanges()) { return true; }\n\n        if (self.hasChanges()) {\n          event.preventDefault();\n          self.next = next;\n\n          $timeout(function() {\n            self.open_modal();\n          });\n        }\n      });\n\n      if (originalCopyDelay) {\n        $timeout(function() {\n          // wait for different services to patch the dashboard (missing properties)\n          self.original = dashboard.getSaveModelClone();\n        }, originalCopyDelay);\n      } else {\n        self.original = dashboard.getSaveModelClone();\n      }\n    }\n\n    var p = Tracker.prototype;\n\n    // for some dashboards and users\n    // changes should be ignored\n    p.ignoreChanges = function() {\n      if (!this.original) { return true; }\n      if (!contextSrv.isEditor) { return true; }\n      if (!this.current || !this.current.meta) { return true; }\n\n      var meta = this.current.meta;\n      return !meta.canSave || meta.fromScript || meta.fromFile;\n    };\n\n    // remove stuff that should not count in diff\n    p.cleanDashboardFromIgnoredChanges = function(dash) {\n      // ignore time and refresh\n      dash.time = 0;\n      dash.refresh = 0;\n      dash.schemaVersion = 0;\n\n      // filter row and panels properties that should be ignored\n      dash.rows = _.filter(dash.rows, function(row) {\n        if (row.repeatRowId) {\n          return false;\n        }\n\n        row.panels = _.filter(row.panels, function(panel) {\n          if (panel.repeatPanelId) {\n            return false;\n          }\n\n          // remove scopedVars\n          panel.scopedVars = null;\n\n          // ignore span changes\n          panel.span = null;\n\n          // ignore panel legend sort\n          if (panel.legend)  {\n            delete panel.legend.sort;\n            delete panel.legend.sortDesc;\n          }\n\n          return true;\n        });\n\n        // ignore collapse state\n        row.collapse = false;\n        return true;\n      });\n\n      // ignore template variable values\n      _.each(dash.templating.list, function(value) {\n        value.current = null;\n        value.options = null;\n        value.filters = null;\n      });\n    };\n\n    p.hasChanges = function() {\n      var current = this.current.getSaveModelClone();\n      var original = this.original;\n\n      this.cleanDashboardFromIgnoredChanges(current);\n      this.cleanDashboardFromIgnoredChanges(original);\n\n      var currentTimepicker = _.find(current.nav, { type: 'timepicker' });\n      var originalTimepicker = _.find(original.nav, { type: 'timepicker' });\n\n      if (currentTimepicker && originalTimepicker) {\n        currentTimepicker.now = originalTimepicker.now;\n      }\n\n      var currentJson = angular.toJson(current);\n      var originalJson = angular.toJson(original);\n\n      return currentJson !== originalJson;\n    };\n\n    p.discardChanges = function() {\n      this.original = null;\n      this.gotoNext();\n    };\n\n    p.open_modal = function() {\n      $rootScope.appEvent('show-modal', {\n        templateHtml: '<unsaved-changes-modal dismiss=\"dismiss()\"></unsaved-changes-modal>',\n        modalClass: 'modal--narrow confirm-modal'\n      });\n    };\n\n    p.saveChanges = function() {\n      var self = this;\n      var cancel = $rootScope.$on('dashboard-saved', function() {\n        cancel();\n        $timeout(function() {\n          self.gotoNext();\n        });\n      });\n\n      $rootScope.appEvent('save-dashboard');\n    };\n\n    p.gotoNext = function() {\n      var baseLen = $location.absUrl().length - $location.url().length;\n      var nextUrl = this.next.substring(baseLen);\n      $location.url(nextUrl);\n    };\n\n    this.Tracker = Tracker;\n    this.init = function(dashboard, scope) {\n      this.tracker = new Tracker(dashboard, scope, 1000);\n      return this.tracker;\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashboard/unsavedChangesSrv.js\n// module id = 1380\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nconst  template = `\n<div class=\"modal-body\">\n  <div class=\"modal-header\">\n    <h2 class=\"modal-header-title\">\n      <i class=\"fa fa-exclamation\"></i>\n      <span class=\"p-l-1\">Unsaved changes</span>\n    </h2>\n\n    <a class=\"modal-header-close\" ng-click=\"ctrl.dismiss();\">\n      <i class=\"fa fa-remove\"></i>\n    </a>\n  </div>\n\n  <div class=\"modal-content text-center\">\n\n    <div class=\"confirm-modal-text\">\n      Do you want to save your changes?\n    </div>\n\n    <div class=\"confirm-modal-buttons\">\n      <button type=\"button\" class=\"btn btn-inverse\" ng-click=\"ctrl.dismiss()\">Cancel</button>\n      <button type=\"button\" class=\"btn btn-danger\" ng-click=\"ctrl.discard()\">Discard</button>\n      <button type=\"button\" class=\"btn btn-success\" ng-click=\"ctrl.save()\">Save</button>\n    </div>\n  </div>\n</div>\n`;\n\nexport class UnsavedChangesModalCtrl {\n  clone: any;\n  dismiss: () => void;\n\n  /** @ngInject */\n  constructor(private unsavedChangesSrv) {\n  }\n\n  discard() {\n    this.dismiss();\n    this.unsavedChangesSrv.tracker.discardChanges();\n  }\n\n  save() {\n    this.dismiss();\n    this.unsavedChangesSrv.tracker.saveChanges();\n  }\n}\n\nexport function unsavedChangesModalDirective() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: UnsavedChangesModalCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {dismiss: \"&\"}\n  };\n}\n\ncoreModule.directive('unsavedChangesModal', unsavedChangesModalDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/unsaved_changes_modal.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport angular from 'angular';\nimport moment from 'moment';\n\nimport * as rangeUtil from 'app/core/utils/rangeutil';\n\nexport class TimePickerCtrl {\n\n  static tooltipFormat = 'MMM D, YYYY HH:mm:ss';\n  static defaults = {\n    time_options: ['5m', '15m', '1h', '6h', '12h', '24h', '2d', '7d', '30d'],\n    refresh_intervals: ['5s', '10s', '30s', '1m', '5m', '15m', '30m', '1h', '2h', '1d'],\n  };\n\n  dashboard: any;\n  panel: any;\n  absolute: any;\n  timeRaw: any;\n  editTimeRaw: any;\n  tooltip: string;\n  rangeString: string;\n  timeOptions: any;\n  refresh: any;\n  isUtc: boolean;\n  firstDayOfWeek: number;\n\n  /** @ngInject */\n  constructor(private $scope, private $rootScope, private timeSrv) {\n    $scope.ctrl = this;\n\n    $rootScope.onAppEvent('shift-time-forward', () => this.move(1), $scope);\n    $rootScope.onAppEvent('shift-time-backward', () => this.move(-1), $scope);\n    $rootScope.onAppEvent('refresh', this.onRefresh.bind(this), $scope);\n\n    // init options\n    this.panel = this.dashboard.timepicker;\n    _.defaults(this.panel, TimePickerCtrl.defaults);\n    this.firstDayOfWeek = moment.localeData().firstDayOfWeek();\n\n    // init time stuff\n    this.onRefresh();\n  }\n\n  onRefresh() {\n    var time = angular.copy(this.timeSrv.timeRange());\n    var timeRaw = angular.copy(time.raw);\n\n    if (!this.dashboard.isTimezoneUtc()) {\n      time.from.local();\n      time.to.local();\n      if (moment.isMoment(timeRaw.from)) {\n        timeRaw.from.local();\n      }\n      if (moment.isMoment(timeRaw.to)) {\n        timeRaw.to.local();\n      }\n      this.isUtc = false;\n    } else {\n      this.isUtc = true;\n    }\n\n    this.rangeString = rangeUtil.describeTimeRange(timeRaw);\n    this.absolute = {fromJs: time.from.toDate(), toJs: time.to.toDate()};\n    this.tooltip = this.dashboard.formatDate(time.from) + ' <br>to<br>';\n    this.tooltip += this.dashboard.formatDate(time.to);\n    this.timeRaw = timeRaw;\n  }\n\n  zoom(factor) {\n    this.$rootScope.appEvent('zoom-out', 2);\n  }\n\n  move(direction) {\n    var range = this.timeSrv.timeRange();\n\n    var timespan = (range.to.valueOf() - range.from.valueOf()) / 2;\n    var to, from;\n    if (direction === -1) {\n      to = range.to.valueOf() - timespan;\n      from = range.from.valueOf() - timespan;\n    } else if (direction === 1) {\n      to = range.to.valueOf() + timespan;\n      from = range.from.valueOf() + timespan;\n      if (to > Date.now() && range.to < Date.now()) {\n        to = Date.now();\n        from = range.from.valueOf();\n      }\n    } else {\n      to = range.to.valueOf();\n      from = range.from.valueOf();\n    }\n\n    this.timeSrv.setTime({from: moment.utc(from), to: moment.utc(to)});\n  }\n\n  openDropdown() {\n    this.onRefresh();\n    this.editTimeRaw = this.timeRaw;\n    this.timeOptions = rangeUtil.getRelativeTimesList(this.panel, this.rangeString);\n    this.refresh = {\n      value: this.dashboard.refresh,\n      options: _.map(this.panel.refresh_intervals, (interval: any) => {\n        return {text: interval, value: interval};\n      })\n    };\n\n    this.refresh.options.unshift({text: 'off'});\n\n    this.$rootScope.appEvent('show-dash-editor', {\n      editview: 'timepicker',\n      scope: this.$scope,\n      cssClass: 'gf-timepicker-dropdown',\n    });\n  }\n\n  applyCustom() {\n    if (this.refresh.value !== this.dashboard.refresh) {\n      this.timeSrv.setAutoRefresh(this.refresh.value);\n    }\n\n    this.timeSrv.setTime(this.editTimeRaw);\n    this.$rootScope.appEvent('hide-dash-editor');\n  }\n\n  absoluteFromChanged() {\n    this.editTimeRaw.from = this.getAbsoluteMomentForTimezone(this.absolute.fromJs);\n  }\n\n  absoluteToChanged() {\n    this.editTimeRaw.to = this.getAbsoluteMomentForTimezone(this.absolute.toJs);\n  }\n\n  getAbsoluteMomentForTimezone(jsDate) {\n    return this.dashboard.isTimezoneUtc() ? moment(jsDate).utc() : moment(jsDate);\n  }\n\n  setRelativeFilter(timespan) {\n    var range = {from: timespan.from, to: timespan.to};\n\n    if (this.panel.nowDelay && range.to === 'now') {\n      range.to = 'now-' + this.panel.nowDelay;\n    }\n\n    this.timeSrv.setTime(range);\n    this.$rootScope.appEvent('hide-dash-editor');\n  }\n\n}\n\nexport function settingsDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/timepicker/settings.html',\n    controller: TimePickerCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      dashboard: \"=\"\n    }\n  };\n}\n\nexport function timePickerDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/timepicker/timepicker.html',\n    controller: TimePickerCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      dashboard: \"=\"\n    }\n  };\n}\n\n\nangular.module('grafana.directives').directive('gfTimePickerSettings', settingsDirective);\nangular.module('grafana.directives').directive('gfTimePicker', timePickerDirective);\n\nimport {inputDateDirective} from './input_date';\nangular.module(\"grafana.directives\").directive('inputDatetime', inputDateDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/timepicker/timepicker.ts","import moment from 'moment';\nimport * as dateMath from 'app/core/utils/datemath';\n\nexport function inputDateDirective() {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: function($scope, $elem, attrs, ngModel) {\n      var format = 'YYYY-MM-DD HH:mm:ss';\n\n      var fromUser = function(text) {\n        if (text.indexOf('now') !== -1) {\n          if (!dateMath.isValid(text)) {\n            ngModel.$setValidity('error', false);\n            return undefined;\n          }\n          ngModel.$setValidity('error', true);\n          return text;\n        }\n\n        var parsed;\n        if ($scope.ctrl.isUtc) {\n          parsed = moment.utc(text, format);\n        } else {\n          parsed = moment(text, format);\n        }\n\n        if (!parsed.isValid()) {\n          ngModel.$setValidity('error', false);\n          return undefined;\n        }\n\n        ngModel.$setValidity('error', true);\n        return parsed;\n      };\n\n      var toUser = function(currentValue) {\n        if (moment.isMoment(currentValue)) {\n          return currentValue.format(format);\n        } else {\n          return currentValue;\n        }\n      };\n\n      ngModel.$parsers.push(fromUser);\n      ngModel.$formatters.push(toUser);\n    },\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/timepicker/input_date.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nvar template = `\n<input type=\"file\" id=\"dashupload\" name=\"dashupload\" class=\"hide\"/>\n<label class=\"btn btn-secondary\" for=\"dashupload\">\n  <i class=\"fa fa-upload\"></i>\n  Upload .json File\n</label>\n`;\n\n/** @ngInject */\nfunction uploadDashboardDirective(timer, alertSrv, $location) {\n  return {\n    restrict: 'E',\n    template: template,\n    scope: {\n      onUpload: '&',\n    },\n    link: function(scope) {\n      function file_selected(evt) {\n        var files = evt.target.files; // FileList object\n        var readerOnload = function() {\n          return function(e) {\n            var dash;\n            try {\n              dash = JSON.parse(e.target.result);\n            } catch (err) {\n              console.log(err);\n              scope.appEvent('alert-error', ['Import failed', 'JSON -> JS Serialization failed: ' + err.message]);\n              return;\n            }\n\n            scope.$apply(function() {\n              scope.onUpload({dash: dash});\n            });\n          };\n        };\n\n        for (var i = 0, f; f = files[i]; i++) {\n          var reader = new FileReader();\n          reader.onload = readerOnload();\n          reader.readAsText(f);\n        }\n      }\n\n      var wnd: any = window;\n      // Check for the various File API support.\n      if (wnd.File && wnd.FileReader && wnd.FileList && wnd.Blob) {\n        // Something\n        document.getElementById('dashupload').addEventListener('change', file_selected, false);\n      } else {\n        alertSrv.set('Oops','Sorry, the HTML5 File APIs are not fully supported in this browser.','error');\n      }\n    }\n  };\n}\n\ncoreModule.directive('dashUpload', uploadDashboardDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/upload.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\nimport config from 'app/core/config';\nimport _ from 'lodash';\n\nexport class DashImportCtrl {\n  step: number;\n  jsonText: string;\n  parseError: string;\n  nameExists: boolean;\n  dash: any;\n  inputs: any[];\n  inputsValid: boolean;\n  gnetUrl: string;\n  gnetError: string;\n  gnetInfo: any;\n\n  /** @ngInject */\n  constructor(private backendSrv, private $location, private $scope, $routeParams) {\n    this.step = 1;\n    this.nameExists = false;\n\n    // check gnetId in url\n    if ($routeParams.gnetId)  {\n      this.gnetUrl = $routeParams.gnetId ;\n      this.checkGnetDashboard();\n    }\n  }\n\n  onUpload(dash) {\n    this.dash = dash;\n    this.dash.id = null;\n    this.step = 2;\n    this.inputs = [];\n\n    if (this.dash.__inputs) {\n      for (let input of this.dash.__inputs) {\n        var inputModel = {\n          name: input.name,\n          label: input.label,\n          info: input.description,\n          value: input.value,\n          type: input.type,\n          pluginId: input.pluginId,\n          options: []\n        };\n\n        if (input.type === 'datasource') {\n          this.setDatasourceOptions(input, inputModel);\n        } else if (!inputModel.info) {\n          inputModel.info = 'Specify a string constant';\n        }\n\n        this.inputs.push(inputModel);\n      }\n    }\n\n    this.inputsValid = this.inputs.length === 0;\n    this.titleChanged();\n  }\n\n  setDatasourceOptions(input, inputModel) {\n    var sources = _.filter(config.datasources, val => {\n      return val.type === input.pluginId;\n    });\n\n    if (sources.length === 0) {\n      inputModel.info = \"No data sources of type \" + input.pluginName + \" found\";\n    } else if (!inputModel.info) {\n      inputModel.info = \"Select a \" + input.pluginName + \" data source\";\n    }\n\n    inputModel.options = sources.map(val => {\n      return {text: val.name, value: val.name};\n    });\n  }\n\n  inputValueChanged() {\n    this.inputsValid = true;\n    for (let input of this.inputs) {\n      if (!input.value) {\n        this.inputsValid = false;\n      }\n    }\n  }\n\n  titleChanged() {\n    this.backendSrv.search({query: this.dash.title}).then(res => {\n      this.nameExists = false;\n      for (let hit of res) {\n        if (this.dash.title === hit.title) {\n          this.nameExists = true;\n          break;\n        }\n      }\n    });\n  }\n\n  saveDashboard() {\n    var inputs = this.inputs.map(input => {\n      return {\n        name: input.name,\n        type: input.type,\n        pluginId: input.pluginId,\n        value: input.value\n      };\n    });\n\n    return this.backendSrv.post('api/dashboards/import', {\n      dashboard: this.dash,\n      overwrite: true,\n      inputs: inputs\n    }).then(res => {\n      this.$location.url('dashboard/' + res.importedUri);\n      this.$scope.dismiss();\n    });\n  }\n\n  loadJsonText() {\n    try {\n      this.parseError = '';\n      var dash = JSON.parse(this.jsonText);\n      this.onUpload(dash);\n    } catch (err) {\n      console.log(err);\n      this.parseError = err.message;\n      return;\n    }\n  }\n\n  checkGnetDashboard() {\n    this.gnetError = '';\n\n    var match = /(^\\d+$)|dashboards\\/(\\d+)/.exec(this.gnetUrl);\n    var dashboardId;\n\n    if (match && match[1]) {\n      dashboardId = match[1];\n    } else if (match && match[2]) {\n      dashboardId = match[2];\n    } else {\n      this.gnetError = 'Could not find dashboard';\n    }\n\n    return this.backendSrv.get('api/gnet/dashboards/' + dashboardId).then(res => {\n      this.gnetInfo = res;\n      // store reference to grafana.com\n      res.json.gnetId = res.id;\n      this.onUpload(res.json);\n    }).catch(err => {\n      err.isHandled = true;\n      this.gnetError = err.data.message || err;\n    });\n  }\n\n  back() {\n    this.gnetUrl = '';\n    this.step = 1;\n    this.gnetError = '';\n    this.gnetInfo = '';\n  }\n\n}\n\nexport function dashImportDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/import/dash_import.html',\n    controller: DashImportCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n  };\n}\n\ncoreModule.directive('dashImport', dashImportDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/import/dash_import.ts","import angular from 'angular';\nimport {saveAs} from 'file-saver';\n\nimport coreModule from 'app/core/core_module';\nimport {DashboardExporter} from './exporter';\n\nexport class DashExportCtrl {\n  dash: any;\n  exporter: DashboardExporter;\n  dismiss: () => void;\n\n  /** @ngInject */\n  constructor(private dashboardSrv, datasourceSrv, private $scope) {\n    this.exporter = new DashboardExporter(datasourceSrv);\n\n    this.exporter.makeExportable(this.dashboardSrv.getCurrent()).then(dash => {\n      this.$scope.$apply(() => {\n        this.dash = dash;\n      });\n    });\n  }\n\n  save() {\n    var blob = new Blob([angular.toJson(this.dash, true)], {type: 'application/json;charset=utf-8'});\n    saveAs(blob, this.dash.title + '-' + new Date().getTime() + '.json');\n  }\n\n  saveJson() {\n    var clone = this.dashboardSrv.getCurrent().getSaveModelClone();\n\n    this.$scope.$root.appEvent('show-json-editor', {\n      object: clone,\n    });\n    this.dismiss();\n  }\n}\n\nexport function dashExportDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/export/export_modal.html',\n    controller: DashExportCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {dismiss: '&'},\n  };\n}\n\ncoreModule.directive('dashExportModal', dashExportDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/export/export_modal.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport _ from 'lodash';\nimport {DynamicDashboardSrv} from '../dynamic_dashboard_srv';\n\nexport class DashboardExporter {\n\n  constructor(private datasourceSrv) {\n  }\n\n  makeExportable(dashboard) {\n    var dynSrv = new DynamicDashboardSrv();\n\n    // clean up repeated rows and panels,\n    // this is done on the live real dashboard instance, not on a clone\n    // so we need to undo this\n    // this is pretty hacky and needs to be changed\n    dynSrv.init(dashboard);\n    dynSrv.process({cleanUpOnly: true});\n\n    var saveModel = dashboard.getSaveModelClone();\n    saveModel.id = null;\n\n    // undo repeat cleanup\n    dynSrv.process();\n\n    var inputs = [];\n    var requires = {};\n    var datasources = {};\n    var promises = [];\n    var variableLookup: any = {};\n\n    for (let variable of saveModel.templating.list) {\n      variableLookup[variable.name] = variable;\n    }\n\n    var templateizeDatasourceUsage = obj => {\n      // ignore data source properties that contain a variable\n      if (obj.datasource && obj.datasource.indexOf('$') === 0) {\n        if (variableLookup[obj.datasource.substring(1)]) {\n          return;\n        }\n      }\n\n      promises.push(this.datasourceSrv.get(obj.datasource).then(ds => {\n        if (ds.meta.builtIn) {\n          return;\n        }\n\n        var refName = 'DS_' + ds.name.replace(' ', '_').toUpperCase();\n        datasources[refName] = {\n          name: refName,\n          label: ds.name,\n          description: '',\n          type: 'datasource',\n          pluginId: ds.meta.id,\n          pluginName: ds.meta.name,\n        };\n        obj.datasource = '${' + refName  +'}';\n\n        requires['datasource' + ds.meta.id] = {\n          type: 'datasource',\n          id: ds.meta.id,\n          name: ds.meta.name,\n          version: ds.meta.info.version || \"1.0.0\",\n        };\n      }));\n    };\n\n    // check up panel data sources\n    for (let row of saveModel.rows) {\n      for (let panel of row.panels) {\n        if (panel.datasource !== undefined) {\n          templateizeDatasourceUsage(panel);\n        }\n\n        if (panel.targets) {\n          for (let target of panel.targets) {\n            if (target.datasource !== undefined) {\n              templateizeDatasourceUsage(target);\n            }\n          }\n        }\n\n        var panelDef = config.panels[panel.type];\n        if (panelDef) {\n          requires['panel' + panelDef.id] = {\n            type: 'panel',\n            id: panelDef.id,\n            name: panelDef.name,\n            version: panelDef.info.version,\n          };\n        }\n      }\n    }\n\n    // templatize template vars\n    for (let variable of saveModel.templating.list) {\n      if (variable.type === 'query') {\n        templateizeDatasourceUsage(variable);\n        variable.options = [];\n        variable.current = {};\n        variable.refresh = variable.refresh > 0 ? variable.refresh : 1;\n      }\n    }\n\n    // templatize annotations vars\n    for (let annotationDef of saveModel.annotations.list) {\n      templateizeDatasourceUsage(annotationDef);\n    }\n\n    // add grafana version\n    requires['grafana'] = {\n      type: 'grafana',\n      id: 'grafana',\n      name: 'Grafana',\n      version: config.buildInfo.version\n    };\n\n    return Promise.all(promises).then(() => {\n      _.each(datasources, (value, key) => {\n        inputs.push(value);\n      });\n\n      // templatize constants\n      for (let variable of saveModel.templating.list) {\n        if (variable.type === 'constant') {\n          var refName = 'VAR_' + variable.name.replace(' ', '_').toUpperCase();\n          inputs.push({\n            name: refName,\n            type: 'constant',\n            label: variable.label || variable.name,\n            value: variable.current.value,\n            description: '',\n          });\n          // update current and option\n          variable.query = '${' + refName + '}';\n          variable.options[0] = variable.current = {\n            value: variable.query,\n            text: variable.query,\n          };\n        }\n      }\n\n      // make inputs and requires a top thing\n      var newObj = {};\n      newObj[\"__inputs\"] = inputs;\n      newObj[\"__requires\"] = _.sortBy(requires, ['id']);\n\n      _.defaults(newObj, saveModel);\n      return newObj;\n\n    }).catch(err => {\n      console.log('Export failed:', err);\n      return {\n        error: err\n      };\n    });\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/export/exporter.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nimport coreModule from 'app/core/core_module';\nimport {DashboardRow} from './row/row_model';\n\nexport class DynamicDashboardSrv {\n  iteration: number;\n  dashboard: any;\n  variables: any;\n\n  init(dashboard) {\n    this.dashboard = dashboard;\n    this.variables = dashboard.templating.list;\n  }\n\n  process(options?) {\n    if (this.dashboard.snapshot || this.variables.length === 0) {\n      return;\n    }\n\n    this.iteration = (this.iteration || new Date().getTime()) + 1;\n\n    options = options || {};\n    var cleanUpOnly = options.cleanUpOnly;\n    var i, j, row, panel;\n\n    // cleanup scopedVars\n    for (i = 0; i < this.dashboard.rows.length; i++) {\n      row = this.dashboard.rows[i];\n      delete row.scopedVars;\n\n      for (j = 0; j < row.panels.length; j++) {\n        delete row.panels[j].scopedVars;\n      }\n    }\n\n    for (i = 0; i < this.dashboard.rows.length; i++) {\n      row = this.dashboard.rows[i];\n\n      // handle row repeats\n      if (row.repeat) {\n        if (!cleanUpOnly) {\n          this.repeatRow(row, i);\n        }\n      } else if (row.repeatRowId && row.repeatIteration !== this.iteration) {\n        // clean up old left overs\n        this.dashboard.removeRow(row, true);\n        i = i - 1;\n        continue;\n      }\n\n      // repeat panels\n      for (j = 0; j < row.panels.length; j++) {\n        panel = row.panels[j];\n        if (panel.repeat) {\n          if (!cleanUpOnly) {\n            this.repeatPanel(panel, row);\n          }\n        } else if (panel.repeatPanelId && panel.repeatIteration !== this.iteration) {\n          // clean up old left overs\n          row.panels = _.without(row.panels, panel);\n          j = j - 1;\n        }\n      }\n\n      row.panelSpanChanged();\n    }\n  }\n\n  // returns a new row clone or reuses a clone from previous iteration\n  getRowClone(sourceRow, repeatIndex, sourceRowIndex) {\n    if (repeatIndex === 0) {\n      return sourceRow;\n    }\n\n    var i, panel, row, copy;\n    var sourceRowId = sourceRowIndex + 1;\n\n    // look for row to reuse\n    for (i = 0; i < this.dashboard.rows.length; i++) {\n      row = this.dashboard.rows[i];\n      if (row.repeatRowId === sourceRowId && row.repeatIteration !== this.iteration) {\n        copy = row;\n        copy.copyPropertiesFromRowSource(sourceRow);\n        break;\n      }\n    }\n\n    if (!copy) {\n      var modelCopy = angular.copy(sourceRow.getSaveModel());\n      copy = new DashboardRow(modelCopy);\n      this.dashboard.rows.splice(sourceRowIndex + repeatIndex, 0, copy);\n\n      // set new panel ids\n      for (i = 0; i < copy.panels.length; i++) {\n        panel = copy.panels[i];\n        panel.id = this.dashboard.getNextPanelId();\n      }\n    }\n\n    copy.repeat = null;\n    copy.repeatRowId = sourceRowId;\n    copy.repeatIteration = this.iteration;\n    return copy;\n  }\n\n  // returns a new row clone or reuses a clone from previous iteration\n  repeatRow(row, rowIndex) {\n    var variable = _.find(this.variables, {name: row.repeat});\n    if (!variable) {\n      return;\n    }\n\n    var selected, copy, i, panel;\n    if (variable.current.text === 'All') {\n      selected = variable.options.slice(1, variable.options.length);\n    } else {\n      selected = _.filter(variable.options, {selected: true});\n    }\n\n    _.each(selected, (option, index) => {\n      copy = this.getRowClone(row, index, rowIndex);\n      copy.scopedVars = {};\n      copy.scopedVars[variable.name] = option;\n\n      for (i = 0; i < copy.panels.length; i++) {\n        panel = copy.panels[i];\n        panel.scopedVars = {};\n        panel.scopedVars[variable.name] = option;\n      }\n    });\n  }\n\n  getPanelClone(sourcePanel, row, index) {\n    // if first clone return source\n    if (index === 0) {\n      return sourcePanel;\n    }\n\n    var i, tmpId, panel, clone;\n\n    // first try finding an existing clone to use\n    for (i = 0; i < row.panels.length; i++) {\n      panel = row.panels[i];\n      if (panel.repeatIteration !== this.iteration && panel.repeatPanelId === sourcePanel.id) {\n        clone = panel;\n        break;\n      }\n    }\n\n    if (!clone) {\n      clone = { id: this.dashboard.getNextPanelId() };\n      row.panels.push(clone);\n    }\n\n    // save id\n    tmpId = clone.id;\n    // copy properties from source\n    angular.copy(sourcePanel, clone);\n    // restore id\n    clone.id = tmpId;\n    clone.repeatIteration = this.iteration;\n    clone.repeatPanelId = sourcePanel.id;\n    clone.repeat = null;\n    return clone;\n  }\n\n  repeatPanel(panel, row) {\n    var variable = _.find(this.variables, {name: panel.repeat});\n    if (!variable) { return; }\n\n    var selected;\n    if (variable.current.text === 'All') {\n      selected = variable.options.slice(1, variable.options.length);\n    } else {\n      selected = _.filter(variable.options, {selected: true});\n    }\n\n    _.each(selected, (option, index) => {\n      var copy = this.getPanelClone(panel, row, index);\n      copy.span = Math.max(12 / selected.length, panel.minSpan || 4);\n      copy.scopedVars = copy.scopedVars || {};\n      copy.scopedVars[variable.name] = option;\n    });\n  }\n}\n\ncoreModule.service('dynamicDashboardSrv', DynamicDashboardSrv);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/dynamic_dashboard_srv.ts","import angular from 'angular';\nimport * as fileExport from 'app/core/utils/file_export';\nimport appEvents from 'app/core/app_events';\n\nexport class ExportDataModalCtrl {\n  private data: any[];\n  private panel: string;\n  asRows: Boolean = true;\n  dateTimeFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n  excel: false;\n\n  export() {\n    if (this.panel === 'table') {\n      fileExport.exportTableDataToCsv(this.data, this.excel);\n    } else {\n      if (this.asRows) {\n        fileExport.exportSeriesListToCsv(this.data, this.dateTimeFormat, this.excel);\n      } else {\n        fileExport.exportSeriesListToCsvColumns(this.data, this.dateTimeFormat, this.excel);\n      }\n    }\n\n    this.dismiss();\n  }\n\n  dismiss() {\n    appEvents.emit('hide-modal');\n  }\n}\n\nexport function exportDataModal() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/export_data/export_data_modal.html',\n    controller: ExportDataModalCtrl,\n    controllerAs: 'ctrl',\n    scope: {\n      panel: '<',\n      data: '<' // The difference to '=' is that the bound properties are not watched\n    },\n    bindToController: true\n  };\n}\n\nangular.module('grafana.directives').directive('exportDataModal', exportDataModal);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/export_data/export_data_modal.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport angular from 'angular';\nimport coreModule from 'app/core/core_module';\n\nexport class AdHocFiltersCtrl {\n  segments: any;\n  variable: any;\n  removeTagFilterSegment: any;\n\n  /** @ngInject */\n  constructor(private uiSegmentSrv, private datasourceSrv, private $q, private variableSrv, $scope, private $rootScope) {\n    this.removeTagFilterSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove filter --'});\n    this.buildSegmentModel();\n    this.$rootScope.onAppEvent('template-variable-value-updated', this.buildSegmentModel.bind(this), $scope);\n  }\n\n  buildSegmentModel() {\n    this.segments = [];\n\n    if (this.variable.value && !_.isArray(this.variable.value)) {\n    }\n\n    for (let tag of this.variable.filters) {\n      if (this.segments.length > 0) {\n        this.segments.push(this.uiSegmentSrv.newCondition('AND'));\n      }\n\n      if (tag.key !== undefined && tag.value !== undefined) {\n        this.segments.push(this.uiSegmentSrv.newKey(tag.key));\n        this.segments.push(this.uiSegmentSrv.newOperator(tag.operator));\n        this.segments.push(this.uiSegmentSrv.newKeyValue(tag.value));\n      }\n    }\n\n    this.segments.push(this.uiSegmentSrv.newPlusButton());\n  }\n\n  getOptions(segment, index) {\n    if (segment.type === 'operator') {\n      return this.$q.when(this.uiSegmentSrv.newOperators(['=', '!=', '<', '>', '=~', '!~']));\n    }\n\n    if (segment.type === 'condition') {\n      return this.$q.when([this.uiSegmentSrv.newSegment('AND')]);\n    }\n\n    return this.datasourceSrv.get(this.variable.datasource).then(ds => {\n      var options: any = {};\n      var promise = null;\n\n      if (segment.type !== 'value') {\n        promise = ds.getTagKeys();\n      } else {\n        options.key = this.segments[index-2].value;\n        promise = ds.getTagValues(options);\n      }\n\n      return promise.then(results => {\n        results = _.map(results, segment => {\n          return this.uiSegmentSrv.newSegment({value: segment.text});\n        });\n\n        // add remove option for keys\n        if (segment.type === 'key') {\n          results.splice(0, 0, angular.copy(this.removeTagFilterSegment));\n        }\n        return results;\n      });\n    });\n  }\n\n  segmentChanged(segment, index) {\n    this.segments[index] = segment;\n\n    // handle remove tag condition\n    if (segment.value === this.removeTagFilterSegment.value) {\n      this.segments.splice(index, 3);\n      if (this.segments.length === 0) {\n        this.segments.push(this.uiSegmentSrv.newPlusButton());\n      } else if (this.segments.length > 2) {\n        this.segments.splice(Math.max(index-1, 0), 1);\n        if (this.segments[this.segments.length-1].type !== 'plus-button') {\n          this.segments.push(this.uiSegmentSrv.newPlusButton());\n        }\n      }\n    } else {\n      if (segment.type === 'plus-button') {\n        if (index > 2) {\n          this.segments.splice(index, 0, this.uiSegmentSrv.newCondition('AND'));\n        }\n        this.segments.push(this.uiSegmentSrv.newOperator('='));\n        this.segments.push(this.uiSegmentSrv.newFake('select tag value', 'value', 'query-segment-value'));\n        segment.type = 'key';\n        segment.cssClass = 'query-segment-key';\n      }\n\n      if ((index+1) === this.segments.length) {\n        this.segments.push(this.uiSegmentSrv.newPlusButton());\n      }\n    }\n\n    this.updateVariableModel();\n  }\n\n  updateVariableModel() {\n    var filters = [];\n    var filterIndex = -1;\n    var hasFakes = false;\n\n    this.segments.forEach(segment => {\n      if (segment.type === 'value' && segment.fake) {\n        hasFakes = true;\n        return;\n      }\n\n      switch (segment.type) {\n        case 'key': {\n          filters.push({key: segment.value});\n          filterIndex += 1;\n          break;\n        }\n        case 'value': {\n          filters[filterIndex].value = segment.value;\n          break;\n        }\n        case 'operator': {\n          filters[filterIndex].operator = segment.value;\n          break;\n        }\n        case 'condition': {\n          filters[filterIndex].condition = segment.value;\n          break;\n        }\n      }\n    });\n\n    if (hasFakes) {\n      return;\n    }\n\n    this.variable.setFilters(filters);\n    this.variableSrv.variableUpdated(this.variable, true);\n  }\n}\n\nvar template = `\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\" ng-repeat=\"segment in ctrl.segments\">\n    <metric-segment segment=\"segment\" get-options=\"ctrl.getOptions(segment, $index)\"\n                    on-change=\"ctrl.segmentChanged(segment, $index)\"></metric-segment>\n  </div>\n</div>\n`;\n\nexport function adHocFiltersComponent() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: AdHocFiltersCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      variable: \"=\"\n    }\n  };\n}\n\ncoreModule.directive('adHocFilters', adHocFiltersComponent);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/ad_hoc_filters.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport {coreModule} from 'app/core/core';\n\nimport './options';\nimport './add_panel';\n\nexport class DashRowCtrl {\n  dashboard: any;\n  row: any;\n  dropView: number;\n\n  /** @ngInject */\n  constructor(private $scope, private $rootScope, private $timeout) {\n    this.row.title = this.row.title || 'Row title';\n\n    if (this.row.isNew) {\n      this.dropView = 1;\n    }\n  }\n\n  onDrop(panelId, dropTarget) {\n    var dragObject;\n\n    // if string it's a panel type\n    if (_.isString(panelId)) {\n      // setup new panel\n      dragObject = {\n        row: this.row,\n        panel: {\n          title: config.new_panel_title,\n          type: panelId,\n          id: this.dashboard.getNextPanelId(),\n          isNew: true,\n        },\n      };\n    } else {\n      dragObject = this.dashboard.getPanelInfoById(panelId);\n    }\n\n    if (dropTarget) {\n      dropTarget = this.dashboard.getPanelInfoById(dropTarget.id);\n      // if draging new panel onto existing panel split it\n      if (dragObject.panel.isNew) {\n        dragObject.panel.span = dropTarget.panel.span = dropTarget.panel.span/2;\n        // insert after\n        dropTarget.row.panels.splice(dropTarget.index+1, 0, dragObject.panel);\n      } else if (this.row === dragObject.row) {\n        // just move element\n        this.row.movePanel(dragObject.index, dropTarget.index);\n      } else {\n        // split drop target space\n        dragObject.panel.span = dropTarget.panel.span = dropTarget.panel.span/2;\n        // insert after\n        dropTarget.row.panels.splice(dropTarget.index+1, 0, dragObject.panel);\n        // remove from source row\n        dragObject.row.removePanel(dragObject.panel, false);\n      }\n    } else {\n      dragObject.panel.span = 12 - this.row.span;\n      this.row.panels.push(dragObject.panel);\n\n      // if not new remove from source row\n      if (!dragObject.panel.isNew) {\n        dragObject.row.removePanel(dragObject.panel, false);\n      }\n    }\n\n    this.dropView = 0;\n    this.row.panelSpanChanged();\n    this.$timeout(() => {\n      this.$rootScope.$broadcast('render');\n    });\n  }\n\n  setHeight(height) {\n    this.row.height = height;\n    this.$scope.$broadcast('render');\n  }\n\n  moveRow(direction) {\n    var rowsList = this.dashboard.rows;\n    var rowIndex = _.indexOf(rowsList, this.row);\n    var newIndex = rowIndex + direction;\n\n    if (newIndex >= 0 && newIndex <= (rowsList.length - 1)) {\n      _.move(rowsList, rowIndex, newIndex);\n    }\n  }\n\n  toggleCollapse() {\n    this.closeDropView();\n    this.row.collapse = !this.row.collapse;\n  }\n\n  onMenuAddPanel() {\n    this.dropView = 1;\n  }\n\n  onMenuRowOptions() {\n    this.dropView = 2;\n  }\n\n  closeDropView() {\n    this.dropView = 0;\n  }\n\n  onMenuDeleteRow() {\n    this.dashboard.removeRow(this.row);\n  }\n}\n\n/** @ngInject */\nfunction dashRowDirective($rootScope) {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/row/row.html',\n    controller: DashRowCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      dashboard: \"=\",\n      row: \"=\",\n    },\n    link: function(scope, element) {\n      scope.$watchGroup(['ctrl.row.collapse', 'ctrl.row.height'], function() {\n        element.toggleClass('dash-row--collapse', scope.ctrl.row.collapse);\n        element.find('.panels-wrapper').css({minHeight: scope.ctrl.row.collapse ? '5px' : scope.ctrl.row.height});\n      });\n\n      $rootScope.onAppEvent('panel-fullscreen-enter', function(evt, info) {\n        var hasPanel = _.find(scope.ctrl.row.panels, {id: info.panelId});\n        if (!hasPanel) {\n          element.hide();\n        }\n      }, scope);\n\n      $rootScope.onAppEvent('panel-fullscreen-exit', function() {\n        element.show();\n      }, scope);\n    }\n  };\n}\n\n/** @ngInject */\nfunction panelWidthDirective($rootScope) {\n  return function(scope, element) {\n    var fullscreen = false;\n\n    function updateWidth() {\n      if (!fullscreen) {\n        element[0].style.width = ((scope.panel.span / 1.2) * 10) + '%';\n      }\n    }\n\n    $rootScope.onAppEvent('panel-fullscreen-enter', function(evt, info) {\n      fullscreen = true;\n\n      if (scope.panel.id !== info.panelId) {\n        element.hide();\n      } else {\n        element[0].style.width = '100%';\n      }\n    }, scope);\n\n    $rootScope.onAppEvent('panel-fullscreen-exit', function(evt, info) {\n      fullscreen = false;\n\n      if (scope.panel.id !== info.panelId) {\n        element.show();\n      }\n\n      updateWidth();\n    }, scope);\n\n    scope.$watch('panel.span', updateWidth);\n\n    if (fullscreen) {\n      element.hide();\n    }\n  };\n}\n\n/** @ngInject */\nfunction panelDropZoneDirective($timeout) {\n  return function(scope, element) {\n    var row = scope.ctrl.row;\n    var indrag = false;\n    var textEl = element.find('.panel-drop-zone-text');\n\n    function showPanel(span, text) {\n      element.find('.panel-container').css('height', row.height);\n      element[0].style.width = ((span / 1.2) * 10) + '%';\n      textEl.text(text);\n      element.show();\n    }\n\n    function hidePanel() {\n      element.hide();\n    }\n\n    function updateState() {\n      if (row.panels.length === 0 && indrag === false) {\n        return showPanel(12, 'Empty Space');\n      }\n\n      var dropZoneSpan = 12 - row.span;\n      if (dropZoneSpan > 0) {\n        if (indrag)  {\n          return showPanel(dropZoneSpan, 'Drop Here');\n        } else {\n          return showPanel(dropZoneSpan, 'Empty Space');\n        }\n      }\n\n      if (indrag === true) {\n        if (dropZoneSpan > 1) {\n          return showPanel(dropZoneSpan, 'Drop Here');\n        }\n      }\n\n      hidePanel();\n    }\n\n    row.events.on('span-changed', updateState, scope);\n\n    scope.$on(\"ANGULAR_DRAG_START\", function() {\n      indrag = true;\n      updateState();\n    });\n\n    scope.$on(\"ANGULAR_DRAG_END\", function() {\n      indrag = false;\n      updateState();\n    });\n\n    updateState();\n  };\n}\n\ncoreModule.directive('dashRow', dashRowDirective);\ncoreModule.directive('panelWidth', panelWidthDirective);\ncoreModule.directive('panelDropZone', panelDropZoneDirective);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/row/row_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {coreModule} from 'app/core/core';\n// import VirtualScroll from 'virtual-scroll';\n// console.log(VirtualScroll);\n\nexport class RowOptionsCtrl {\n  row: any;\n  dashboard: any;\n  rowCtrl: any;\n  fontSizes = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\n  /** @ngInject */\n  constructor() {\n    this.row = this.rowCtrl.row;\n    this.dashboard = this.rowCtrl.dashboard;\n    this.row.titleSize = this.row.titleSize || 'h6';\n  }\n}\n\nexport function rowOptionsDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/row/options.html',\n    controller: RowOptionsCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      rowCtrl: \"=\",\n    },\n  };\n}\n\ncoreModule.directive('dashRowOptions', rowOptionsDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/row/options.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport {coreModule} from 'app/core/core';\n\nexport class AddPanelCtrl {\n  row: any;\n  dashboard: any;\n  rowCtrl: any;\n  allPanels: any;\n  panelHits: any;\n  activeIndex: any;\n  panelSearch: any;\n\n  /** @ngInject */\n  constructor(private $timeout, private $rootScope) {\n    this.row = this.rowCtrl.row;\n    this.dashboard = this.rowCtrl.dashboard;\n    this.activeIndex = 0;\n\n    this.allPanels = _.chain(config.panels)\n      .filter({hideFromList: false})\n      .map(item => item)\n      .orderBy('sort')\n      .value();\n\n    this.panelHits = this.allPanels;\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 27) {\n      this.rowCtrl.dropView = 0;\n      return;\n    }\n\n    if (evt.keyCode === 40 || evt.keyCode === 39) {\n      this.moveSelection(1);\n    }\n\n    if (evt.keyCode === 38 || evt.keyCode === 37) {\n      this.moveSelection(-1);\n    }\n\n    if (evt.keyCode === 13) {\n      var selectedPanel = this.panelHits[this.activeIndex];\n      if (selectedPanel) {\n        this.addPanel(selectedPanel);\n      }\n    }\n  }\n\n  moveSelection(direction) {\n    var max = this.panelHits.length;\n    var newIndex = this.activeIndex + direction;\n    this.activeIndex = ((newIndex %= max) < 0) ? newIndex + max : newIndex;\n  }\n\n  panelSearchChanged() {\n    var items = this.allPanels.slice();\n    var startsWith = [];\n    var contains = [];\n    var searchLower = this.panelSearch.toLowerCase();\n    var item;\n\n    while (item = items.shift()) {\n      var nameLower = item.name.toLowerCase();\n      if (nameLower.indexOf(searchLower) === 0) {\n        startsWith.push(item);\n      } else if (nameLower.indexOf(searchLower) !== -1) {\n        contains.push(item);\n      }\n    }\n\n    this.panelHits = startsWith.concat(contains);\n    this.activeIndex = 0;\n  }\n\n  addPanel(panelPluginInfo) {\n    var defaultSpan = 12;\n    var span = 12 - this.row.span;\n\n    var panel = {\n      id: null,\n      title: config.new_panel_title,\n      span: span < defaultSpan && span > 0 ? span : defaultSpan,\n      type: panelPluginInfo.id,\n    };\n\n    this.rowCtrl.closeDropView();\n    this.dashboard.addPanel(panel, this.row);\n    this.$timeout(() => {\n      this.$rootScope.$broadcast('render');\n      //this.$rootScope.appEvent('panel-change-view', {\n      //  fullscreen: true, edit: true, panelId: panel.id\n      //});\n    });\n  }\n}\n\nexport function addPanelDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/dashboard/row/add_panel.html',\n    controller: AddPanelCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      rowCtrl: \"=\",\n    },\n  };\n}\n\ncoreModule.directive('dashRowAddPanel', addPanelDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/row/add_panel.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {coreModule} from 'app/core/core';\n\nvar template = `\n<div class=\"gf-form-select-wrapper max-width-13\">\n<select class=\"gf-form-input\" ng-model=\"model.repeat\" ng-options=\"f.value as f.text for f in variables\">\n<option value=\"\"></option>\n</div>\n`;\n\n/** @ngInject **/\nfunction dashRepeatOptionDirective(variableSrv) {\n  return {\n    restrict: 'E',\n    template: template,\n    scope: {\n      model: \"=\",\n    },\n    link: function(scope, element) {\n      element.css({display: 'block', width: '100%'});\n\n      scope.variables = variableSrv.variables.map(item => {\n        return {text: item.name, value: item.name};\n      });\n\n      if (scope.variables.length === 0) {\n        scope.variables.unshift({text: 'No template variables found', value: null});\n      }\n\n      scope.variables.unshift({text: 'Disabled', value: null});\n    }\n  };\n}\n\ncoreModule.directive('dashRepeatOption', dashRepeatOptionDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/dashboard/repeat_option/repeat_option.ts","define([\n  'angular',\n  'lodash',\n  './link_srv',\n],\nfunction (angular, _) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('panelLinksEditor', function() {\n      return {\n        scope: {\n          panel: \"=\"\n        },\n        restrict: 'E',\n        controller: 'PanelLinksEditorCtrl',\n        templateUrl: 'public/app/features/panellinks/module.html',\n        link: function() {\n        }\n      };\n    }).controller('PanelLinksEditorCtrl', function($scope, backendSrv) {\n\n      $scope.panel.links = $scope.panel.links || [];\n\n      $scope.addLink = function() {\n        $scope.panel.links.push({\n          type: 'dashboard',\n        });\n      };\n\n      $scope.searchDashboards = function(queryStr, callback) {\n        backendSrv.search({query: queryStr}).then(function(hits) {\n          var dashboards = _.map(hits, function(dash) {\n            return dash.title;\n          });\n\n          callback(dashboards);\n        });\n      };\n\n      $scope.dashboardChanged = function(link) {\n        backendSrv.search({query: link.dashboard}).then(function(hits) {\n          var dashboard = _.find(hits, {title: link.dashboard});\n          if (dashboard) {\n            link.dashUri = dashboard.uri;\n            link.title = dashboard.title;\n          }\n        });\n      };\n\n      $scope.deleteLink = function(link) {\n        $scope.panel.links = _.without($scope.panel.links, link);\n      };\n    });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/panellinks/module.js\n// module id = 1395\n// module chunks = 0","import './editor_ctrl';\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport {makeRegions, dedupAnnotations} from './events_processing';\n\nexport class AnnotationsSrv {\n  globalAnnotationsPromise: any;\n  alertStatesPromise: any;\n\n  /** @ngInject */\n  constructor(private $rootScope, private $q, private datasourceSrv, private backendSrv, private timeSrv) {\n    $rootScope.onAppEvent('refresh', this.clearCache.bind(this), $rootScope);\n    $rootScope.onAppEvent('dashboard-initialized', this.clearCache.bind(this), $rootScope);\n  }\n\n  clearCache() {\n    this.globalAnnotationsPromise = null;\n    this.alertStatesPromise = null;\n  }\n\n  getAnnotations(options) {\n    return this.$q\n      .all([this.getGlobalAnnotations(options), this.getAlertStates(options)])\n      .then(results => {\n        // combine the annotations and flatten results\n        var annotations = _.flattenDeep(results[0]);\n\n        // filter out annotations that do not belong to requesting panel\n        annotations = _.filter(annotations, item => {\n          // if event has panel id and query is of type dashboard then panel and requesting panel id must match\n          if (item.panelId && item.source.type === 'dashboard') {\n            return item.panelId === options.panel.id;\n          }\n          return true;\n        });\n\n        annotations = dedupAnnotations(annotations);\n        annotations = makeRegions(annotations, options);\n\n        // look for alert state for this panel\n        var alertState = _.find(results[1], {panelId: options.panel.id});\n\n        return {\n          annotations: annotations,\n          alertState: alertState,\n        };\n      })\n      .catch(err => {\n        if (!err.message && err.data && err.data.message) {\n          err.message = err.data.message;\n        }\n        console.log('AnnotationSrv.query error', err);\n        this.$rootScope.appEvent('alert-error', ['Annotation Query Failed', err.message || err]);\n        return [];\n      });\n  }\n\n  getAlertStates(options) {\n    if (!options.dashboard.id) {\n      return this.$q.when([]);\n    }\n\n    // ignore if no alerts\n    if (options.panel && !options.panel.alert) {\n      return this.$q.when([]);\n    }\n\n    if (options.range.raw.to !== 'now') {\n      return this.$q.when([]);\n    }\n\n    if (this.alertStatesPromise) {\n      return this.alertStatesPromise;\n    }\n\n    this.alertStatesPromise = this.backendSrv.get('/api/alerts/states-for-dashboard', {\n      dashboardId: options.dashboard.id,\n    });\n    return this.alertStatesPromise;\n  }\n\n  getGlobalAnnotations(options) {\n    var dashboard = options.dashboard;\n\n    if (this.globalAnnotationsPromise) {\n      return this.globalAnnotationsPromise;\n    }\n\n    var range = this.timeSrv.timeRange();\n    var promises = [];\n\n    for (let annotation of dashboard.annotations.list) {\n      if (!annotation.enable) {\n        continue;\n      }\n\n      if (annotation.snapshotData) {\n        return this.translateQueryResult(annotation, annotation.snapshotData);\n      }\n\n      promises.push(\n        this.datasourceSrv\n          .get(annotation.datasource)\n          .then(datasource => {\n            // issue query against data source\n            return datasource.annotationQuery({\n              range: range,\n              rangeRaw: range.raw,\n              annotation: annotation,\n              dashboard: dashboard,\n            });\n          })\n          .then(results => {\n            // store response in annotation object if this is a snapshot call\n            if (dashboard.snapshot) {\n              annotation.snapshotData = angular.copy(results);\n            }\n            // translate result\n            return this.translateQueryResult(annotation, results);\n          }),\n      );\n    }\n\n    this.globalAnnotationsPromise = this.$q.all(promises);\n    return this.globalAnnotationsPromise;\n  }\n\n  saveAnnotationEvent(annotation) {\n    this.globalAnnotationsPromise = null;\n    return this.backendSrv.post('/api/annotations', annotation);\n  }\n\n  updateAnnotationEvent(annotation) {\n    this.globalAnnotationsPromise = null;\n    return this.backendSrv.put(`/api/annotations/${annotation.id}`, annotation);\n  }\n\n  deleteAnnotationEvent(annotation) {\n    this.globalAnnotationsPromise = null;\n    let deleteUrl = `/api/annotations/${annotation.id}`;\n    if (annotation.isRegion) {\n      deleteUrl = `/api/annotations/region/${annotation.regionId}`;\n    }\n\n    return this.backendSrv.delete(deleteUrl);\n  }\n\n  translateQueryResult(annotation, results) {\n    // if annotation has snapshotData\n    // make clone and remove it\n    if (annotation.snapshotData) {\n      annotation = angular.copy(annotation);\n      delete annotation.snapshotData;\n    }\n\n    for (var item of results) {\n      item.source = annotation;\n    }\n    return results;\n  }\n}\n\ncoreModule.service('annotationsSrv', AnnotationsSrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/annotations_srv.ts","import angular from 'angular';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\n\nexport class AnnotationsEditorCtrl {\n  mode: any;\n  datasources: any;\n  annotations: any;\n  currentAnnotation: any;\n  currentDatasource: any;\n  currentIsNew: any;\n\n  annotationDefaults: any = {\n    name: '',\n    datasource: null,\n    iconColor: 'rgba(255, 96, 96, 1)',\n    enable: true,\n    showIn: 0,\n    hide: false,\n  };\n\n  showOptions: any = [\n    {text: 'All Panels', value: 0},\n    {text: 'Specific Panels', value: 1},\n  ];\n\n  /** @ngInject */\n  constructor(private $scope, private datasourceSrv) {\n    $scope.ctrl = this;\n\n    this.mode = 'list';\n    this.datasources = datasourceSrv.getAnnotationSources();\n    this.annotations = $scope.dashboard.annotations.list;\n    this.reset();\n\n    this.onColorChange = this.onColorChange.bind(this);\n  }\n\n  datasourceChanged() {\n    return this.datasourceSrv.get(this.currentAnnotation.datasource).then(ds => {\n      this.currentDatasource = ds;\n    });\n  }\n\n  edit(annotation) {\n    this.currentAnnotation = annotation;\n    this.currentAnnotation.showIn = this.currentAnnotation.showIn || 0;\n    this.currentIsNew = false;\n    this.datasourceChanged();\n    this.mode = 'edit';\n    $(\".tooltip.in\").remove();\n  }\n\n  reset() {\n    this.currentAnnotation = angular.copy(this.annotationDefaults);\n    this.currentAnnotation.datasource = this.datasources[0].name;\n    this.currentIsNew = true;\n    this.datasourceChanged();\n  }\n\n  update() {\n    this.reset();\n    this.mode = 'list';\n    this.$scope.broadcastRefresh();\n  }\n\n  setupNew() {\n    this.mode = 'new';\n    this.reset();\n  }\n\n  add() {\n    this.annotations.push(this.currentAnnotation);\n    this.reset();\n    this.mode = 'list';\n    this.$scope.broadcastRefresh();\n    this.$scope.dashboard.updateSubmenuVisibility();\n  }\n\n  removeAnnotation(annotation) {\n    var index = _.indexOf(this.annotations, annotation);\n    this.annotations.splice(index, 1);\n    this.$scope.dashboard.updateSubmenuVisibility();\n    this.$scope.broadcastRefresh();\n  }\n\n  onColorChange(newColor) {\n    this.currentAnnotation.iconColor = newColor;\n  }\n\n  annotationEnabledChange() {\n    this.$scope.broadcastRefresh();\n  }\n\n  annotationHiddenChanged() {\n    this.$scope.dashboard.updateSubmenuVisibility();\n  }\n}\n\ncoreModule.controller('AnnotationsEditorCtrl', AnnotationsEditorCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/editor_ctrl.ts","import _ from 'lodash';\n\n/**\n * This function converts annotation events into set\n * of single events and regions (event consist of two)\n * @param annotations\n * @param options\n */\nexport function makeRegions(annotations, options) {\n  let [regionEvents, singleEvents] = _.partition(annotations, 'regionId');\n  let regions = getRegions(regionEvents, options.range);\n  annotations = _.concat(regions, singleEvents);\n  return annotations;\n}\n\nfunction getRegions(events, range) {\n  let region_events = _.filter(events, event => {\n    return event.regionId;\n  });\n  let regions = _.groupBy(region_events, 'regionId');\n  regions = _.compact(\n    _.map(regions, region_events => {\n      let region_obj = _.head(region_events);\n      if (region_events && region_events.length > 1) {\n        region_obj.timeEnd = region_events[1].time;\n        region_obj.isRegion = true;\n        return region_obj;\n      } else {\n        if (region_events && region_events.length) {\n          // Don't change proper region object\n          if (!region_obj.time || !region_obj.timeEnd) {\n            // This is cut region\n            if (isStartOfRegion(region_obj)) {\n              region_obj.timeEnd = range.to.valueOf() - 1;\n            } else {\n              // Start time = null\n              region_obj.timeEnd = region_obj.time;\n              region_obj.time = range.from.valueOf() + 1;\n            }\n            region_obj.isRegion = true;\n          }\n\n          return region_obj;\n        }\n      }\n    }),\n  );\n\n  return regions;\n}\n\nfunction isStartOfRegion(event): boolean {\n  return event.id && event.id === event.regionId;\n}\n\nexport function dedupAnnotations(annotations) {\n  let dedup = [];\n\n  // Split events by annotationId property existance\n  let events = _.partition(annotations, 'id');\n\n  let eventsById = _.groupBy(events[0], 'id');\n  dedup = _.map(eventsById, eventGroup => {\n    if (eventGroup.length > 1 && !_.every(eventGroup, isPanelAlert)) {\n      // Get first non-panel alert\n      return _.find(eventGroup, event => {\n        return event.eventType !== 'panel-alert';\n      });\n    } else {\n      return _.head(eventGroup);\n    }\n  });\n\n  dedup = _.concat(dedup, events[1]);\n  return dedup;\n}\n\nfunction isPanelAlert(event) {\n  return event.eventType === 'panel-alert';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/events_processing.ts","import _ from 'lodash';\nimport moment from 'moment';\nimport {coreModule} from 'app/core/core';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport {AnnotationEvent} from './event';\n\nexport class EventEditorCtrl {\n  panelCtrl: MetricsPanelCtrl;\n  event: AnnotationEvent;\n  timeRange: {from: number, to: number};\n  form: any;\n  close: any;\n  timeFormated: string;\n\n  /** @ngInject **/\n  constructor(private annotationsSrv) {\n    this.event.panelId = this.panelCtrl.panel.id;\n    this.event.dashboardId = this.panelCtrl.dashboard.id;\n\n    // Annotations query returns time as Unix timestamp in milliseconds\n    this.event.time = tryEpochToMoment(this.event.time);\n    if (this.event.isRegion) {\n      this.event.timeEnd = tryEpochToMoment(this.event.timeEnd);\n    }\n\n    this.timeFormated = this.panelCtrl.dashboard.formatDate(this.event.time);\n  }\n\n  save() {\n    if (!this.form.$valid) {\n      return;\n    }\n\n    let saveModel = _.cloneDeep(this.event);\n    saveModel.time = saveModel.time.valueOf();\n    saveModel.timeEnd = 0;\n\n    if (saveModel.isRegion) {\n      saveModel.timeEnd = this.event.timeEnd.valueOf();\n\n      if (saveModel.timeEnd < saveModel.time) {\n        console.log('invalid time');\n        return;\n      }\n    }\n\n    if (saveModel.id) {\n      this.annotationsSrv.updateAnnotationEvent(saveModel)\n      .then(() => {\n        this.panelCtrl.refresh();\n        this.close();\n      })\n      .catch(() => {\n        this.panelCtrl.refresh();\n        this.close();\n      });\n    } else {\n      this.annotationsSrv.saveAnnotationEvent(saveModel)\n      .then(() => {\n        this.panelCtrl.refresh();\n        this.close();\n      })\n      .catch(() => {\n        this.panelCtrl.refresh();\n        this.close();\n      });\n    }\n  }\n\n  delete() {\n    return this.annotationsSrv.deleteAnnotationEvent(this.event)\n    .then(() => {\n      this.panelCtrl.refresh();\n      this.close();\n    })\n    .catch(() => {\n      this.panelCtrl.refresh();\n      this.close();\n    });\n  }\n}\n\nfunction tryEpochToMoment(timestamp) {\n  if (timestamp && _.isNumber(timestamp)) {\n    let epoch = Number(timestamp);\n    return moment(epoch);\n  } else {\n    return timestamp;\n  }\n}\n\nexport function eventEditor() {\n  return {\n    restrict: 'E',\n    controller: EventEditorCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    templateUrl: 'public/app/features/annotations/partials/event_editor.html',\n    scope: {\n      \"panelCtrl\": \"=\",\n      \"event\": \"=\",\n      \"close\": \"&\",\n    }\n  };\n}\n\ncoreModule.directive('eventEditor', eventEditor);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/event_editor.ts","import _ from 'lodash';\nimport moment from 'moment';\nimport tinycolor from 'tinycolor2';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport {AnnotationEvent} from './event';\nimport {OK_COLOR, ALERTING_COLOR, NO_DATA_COLOR, DEFAULT_ANNOTATION_COLOR, REGION_FILL_ALPHA} from 'app/core/utils/colors';\n\nexport class EventManager {\n  event: AnnotationEvent;\n  editorOpen: boolean;\n\n  constructor(private panelCtrl: MetricsPanelCtrl) {}\n\n  editorClosed() {\n    this.event = null;\n    this.editorOpen = false;\n    this.panelCtrl.render();\n  }\n\n  editorOpened() {\n    this.editorOpen = true;\n  }\n\n  updateTime(range) {\n    if (!this.event) {\n      this.event = new AnnotationEvent();\n      this.event.dashboardId = this.panelCtrl.dashboard.id;\n      this.event.panelId = this.panelCtrl.panel.id;\n    }\n\n    // update time\n    this.event.time = moment(range.from);\n    this.event.isRegion = false;\n    if (range.to) {\n      this.event.timeEnd = moment(range.to);\n      this.event.isRegion = true;\n    }\n\n    this.panelCtrl.render();\n  }\n\n  editEvent(event, elem?) {\n    this.event = event;\n    this.panelCtrl.render();\n  }\n\n  addFlotEvents(annotations, flotOptions) {\n    if (!this.event && annotations.length === 0) {\n      return;\n    }\n\n    var types = {\n      $__alerting: {\n        color: ALERTING_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__ok: {\n        color: OK_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__no_data: {\n        color: NO_DATA_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n      $__editing: {\n        color: DEFAULT_ANNOTATION_COLOR,\n        position: 'BOTTOM',\n        markerSize: 5,\n      },\n    };\n\n    if (this.event) {\n      if (this.event.isRegion) {\n        annotations = [\n          {\n            isRegion: true,\n            min: this.event.time.valueOf(),\n            timeEnd: this.event.timeEnd.valueOf(),\n            text: this.event.text,\n            eventType: '$__editing',\n            editModel: this.event,\n          },\n        ];\n      } else {\n        annotations = [\n          {\n            min: this.event.time.valueOf(),\n            text: this.event.text,\n            editModel: this.event,\n            eventType: '$__editing',\n          },\n        ];\n      }\n    } else {\n      // annotations from query\n      for (var i = 0; i < annotations.length; i++) {\n        var item = annotations[i];\n\n        // add properties used by jquery flot events\n        item.min = item.time;\n        item.max = item.time;\n        item.eventType = item.source.name;\n\n        if (item.newState) {\n          item.eventType = '$__' + item.newState;\n          continue;\n        }\n\n        if (!types[item.source.name]) {\n          types[item.source.name] = {\n            color: item.source.iconColor,\n            position: 'BOTTOM',\n            markerSize: 5,\n          };\n        }\n      }\n    }\n\n    let regions = getRegions(annotations);\n    addRegionMarking(regions, flotOptions);\n\n    let eventSectionHeight = 20;\n    let eventSectionMargin = 7;\n    flotOptions.grid.eventSectionHeight = eventSectionMargin;\n    flotOptions.xaxis.eventSectionHeight = eventSectionHeight;\n\n    flotOptions.events = {\n      levels: _.keys(types).length + 1,\n      data: annotations,\n      types: types,\n      manager: this,\n    };\n  }\n}\n\nfunction getRegions(events) {\n  return _.filter(events, 'isRegion');\n}\n\nfunction addRegionMarking(regions, flotOptions) {\n  let markings = flotOptions.grid.markings;\n  let defaultColor = DEFAULT_ANNOTATION_COLOR;\n  let fillColor;\n\n  _.each(regions, region => {\n    if (region.source) {\n      fillColor = region.source.iconColor || defaultColor;\n    } else {\n      fillColor = defaultColor;\n    }\n\n    fillColor = addAlphaToRGB(fillColor, REGION_FILL_ALPHA);\n    markings.push({xaxis: {from: region.min, to: region.timeEnd}, color: fillColor});\n  });\n}\n\nfunction addAlphaToRGB(colorString: string, alpha: number): string {\n  let color = tinycolor(colorString);\n  if (color.isValid()) {\n    color.setAlpha(alpha);\n    return color.toRgbString();\n  } else {\n    return colorString;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/event_manager.ts","import _ from 'lodash';\nimport $ from 'jquery';\nimport coreModule from 'app/core/core_module';\nimport alertDef from '../alerting/alert_def';\n\n/** @ngInject **/\nexport function annotationTooltipDirective($sanitize, dashboardSrv, contextSrv, popoverSrv, $compile) {\n\n  function sanitizeString(str) {\n    try {\n      return $sanitize(str);\n    } catch (err) {\n      console.log('Could not sanitize annotation string, html escaping instead');\n      return _.escape(str);\n    }\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n      \"event\": \"=\",\n      \"onEdit\": \"&\"\n    },\n    link: function(scope, element) {\n      var event = scope.event;\n      var title = event.title;\n      var text = event.text;\n      var dashboard = dashboardSrv.getCurrent();\n\n      var tooltip = '<div class=\"graph-annotation\">';\n      var titleStateClass = '';\n\n      if (event.alertId) {\n        var stateModel = alertDef.getStateDisplayModel(event.newState);\n        titleStateClass = stateModel.stateClass;\n        title = `<i class=\"icon-gf ${stateModel.iconClass}\"></i> ${stateModel.text}`;\n        text = alertDef.getAlertAnnotationInfo(event);\n        if (event.text)  {\n          text = text + '<br />' + event.text;\n        }\n      } else if (title) {\n        text = title + '<br />' + (_.isString(text) ? text : '');\n        title = '';\n      }\n\n      var header = `<div class=\"graph-annotation__header\">`;\n      if (event.login) {\n        header += `<div class=\"graph-annotation__user\" bs-tooltip=\"'Created by ${event.login}'\"><img src=\"${event.avatarUrl}\" /></div>`;\n      }\n      header += `\n          <span class=\"graph-annotation__title ${titleStateClass}\">${sanitizeString(title)}</span>\n          <span class=\"graph-annotation__time\">${dashboard.formatDate(event.min)}</span>\n      `;\n\n      // Show edit icon only for users with at least Editor role\n      if (event.id && contextSrv.isEditor) {\n        header += `\n          <span class=\"pointer graph-annotation__edit-icon\" ng-click=\"onEdit()\">\n            <i class=\"fa fa-pencil-square\"></i>\n          </span>\n        `;\n      }\n\n      header += `</div>`;\n      tooltip += header;\n      tooltip += '<div class=\"graph-annotation__body\">';\n\n      if (text) {\n        tooltip += '<div>' + sanitizeString(text.replace(/\\n/g, '<br>')) + '</div>';\n      }\n\n      var tags = event.tags;\n\n      if (tags && tags.length) {\n        scope.tags = tags;\n        tooltip += '<span class=\"label label-tag small\" ng-repeat=\"tag in tags\" tag-color-from-name=\"tag\">{{tag}}</span><br/>';\n      }\n\n      tooltip += \"</div>\";\n      tooltip += '</div>';\n\n      var $tooltip = $(tooltip);\n      $tooltip.appendTo(element);\n\n      $compile(element.contents())(scope);\n    }\n  };\n}\n\n\n\ncoreModule.directive('annotationTooltip', annotationTooltipDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/annotations/annotation_tooltip.ts","import './editor_ctrl';\nimport coreModule from 'app/core/core_module';\n\nimport { TemplateSrv } from './template_srv';\nimport { VariableSrv } from './variable_srv';\nimport { IntervalVariable } from './interval_variable';\nimport { QueryVariable } from './query_variable';\nimport { DatasourceVariable } from './datasource_variable';\nimport { CustomVariable } from './custom_variable';\nimport { ConstantVariable } from './constant_variable';\nimport { AdhocVariable } from './adhoc_variable';\n\ncoreModule.service('templateSrv', TemplateSrv);\n\nexport {\n  TemplateSrv,\n  VariableSrv,\n  IntervalVariable,\n  QueryVariable,\n  DatasourceVariable,\n  CustomVariable,\n  ConstantVariable,\n  AdhocVariable,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/all.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport {variableTypes} from './variable';\n\nexport class VariableEditorCtrl {\n\n  /** @ngInject **/\n  constructor($scope, datasourceSrv, variableSrv, templateSrv) {\n    $scope.variableTypes = variableTypes;\n    $scope.ctrl = {};\n    $scope.namePattern = /^(?!__).*$/;\n\n    $scope.refreshOptions = [\n      {value: 0, text: \"Never\"},\n      {value: 1, text: \"On Dashboard Load\"},\n      {value: 2, text: \"On Time Range Change\"},\n    ];\n\n    $scope.sortOptions = [\n      {value: 0, text: \"Disabled\"},\n      {value: 1, text: \"Alphabetical (asc)\"},\n      {value: 2, text: \"Alphabetical (desc)\"},\n      {value: 3, text: \"Numerical (asc)\"},\n      {value: 4, text: \"Numerical (desc)\"},\n    ];\n\n    $scope.hideOptions = [\n      {value: 0, text: \"\"},\n      {value: 1, text: \"Label\"},\n      {value: 2, text: \"Variable\"},\n    ];\n\n    $scope.init = function() {\n      $scope.mode = 'list';\n\n      $scope.variables = variableSrv.variables;\n      //alert($scope.variables);\n      $scope.reset();\n\n      $scope.$watch('mode', function(val) {\n        if (val === 'new') {\n          $scope.reset();\n        }\n      });\n    };\n\n    $scope.add = function() {\n      if ($scope.isValid()) {\n        variableSrv.addVariable($scope.current);\n        $scope.update();\n      }\n    };\n\n    $scope.isValid = function() {\n      if (!$scope.ctrl.form.$valid) {\n        return false;\n      }\n\n      if (!$scope.current.name.match(/^\\w+$/)) {\n        $scope.appEvent('alert-warning', ['Validation', 'Only word and digit characters are allowed in variable names']);\n        return false;\n      }\n\n      var sameName = _.find($scope.variables, { name: $scope.current.name });\n      if (sameName && sameName !== $scope.current) {\n        $scope.appEvent('alert-warning', ['Validation', 'Variable with the same name already exists']);\n        return false;\n      }\n\n      if ($scope.current.type === 'query' && $scope.current.query.match(new RegExp('\\\\$' + $scope.current.name + '(/| |$)'))) {\n        $scope.appEvent('alert-warning', ['Validation', 'Query cannot contain a reference to itself. Variable: $'  + $scope.current.name]);\n        return false;\n      }\n\n      return true;\n    };\n\n    $scope.validate = function() {\n      $scope.infoText = '';\n      if ($scope.current.type === 'adhoc' && $scope.current.datasource !== null) {\n        $scope.infoText = 'Adhoc filters are applied automatically to all queries that target this datasource';\n        datasourceSrv.get($scope.current.datasource).then(ds => {\n          if (!ds.getTagKeys) {\n            $scope.infoText = 'This datasource does not support adhoc filters yet.';\n          }\n        });\n      }\n    };\n\n    $scope.runQuery = function() {\n      return variableSrv.updateOptions($scope.current).then(function () {\n        //console.info($scope.current.options);\n      }, function(err) {\n        if (err.data && err.data.message) { err.message = err.data.message; }\n        $scope.appEvent(\"alert-error\", ['Templating', 'Template variables could not be initialized: ' + err.message]);\n      });\n    };\n\n    $scope.edit = function(variable) {\n      $scope.current = variable;\n      $scope.currentIsNew = false;\n      $scope.mode = 'edit';\n      $scope.validate();\n    };\n\n    $scope.duplicate = function(variable) {\n      var clone = _.cloneDeep(variable.getSaveModel());\n      $scope.current = variableSrv.createVariableFromModel(clone);\n      $scope.current.name = 'copy_of_'+variable.name;\n      variableSrv.addVariable($scope.current);\n    };\n\n    $scope.update = function() {\n      if ($scope.isValid()) {\n        $scope.runQuery().then(function() {\n          $scope.reset();\n          $scope.mode = 'list';\n          templateSrv.updateTemplateData();\n        });\n      }\n    };\n\n    $scope.reset = function() {\n      $scope.currentIsNew = true;\n      $scope.current = variableSrv.createVariableFromModel({type: 'query'});\n\n      // this is done here in case a new data source type variable was added\n      $scope.datasources = _.filter(datasourceSrv.getMetricSources(), function(ds) {\n        return !ds.meta.mixed && ds.value !== null;\n      });\n\n      $scope.datasourceTypes = _($scope.datasources).uniqBy('meta.id').map(function(ds) {\n        return {text: ds.meta.name, value: ds.meta.id};\n      }).value();\n    };\n\n    $scope.typeChanged = function() {\n      var old = $scope.current;\n      $scope.current = variableSrv.createVariableFromModel({type: $scope.current.type});\n      $scope.current.name = old.name;\n      $scope.current.hide = old.hide;\n      $scope.current.label = old.label;\n\n      var oldIndex = _.indexOf(this.variables, old);\n      if (oldIndex !== -1) {\n        this.variables[oldIndex] = $scope.current;\n      }\n\n      $scope.validate();\n    };\n\n    $scope.removeVariable = function(variable) {\n      variableSrv.removeVariable(variable);\n    };\n  }\n}\n\ncoreModule.controller('VariableEditorCtrl', VariableEditorCtrl);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/editor_ctrl.ts","import kbn from 'app/core/utils/kbn';\nimport _ from 'lodash';\n\nfunction luceneEscape(value) {\n  return value.replace(/([\\!\\*\\+\\-\\=<>\\s\\&\\|\\(\\)\\[\\]\\{\\}\\^\\~\\?\\:\\\\/\"])/g, \"\\\\$1\");\n}\n\nexport class TemplateSrv {\n  variables: any[];\n\n  private regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n  private index = {};\n  private grafanaVariables = {};\n  private builtIns = {};\n  private filters = {};\n\n  constructor() {\n    this.builtIns['__interval'] = {text: '1s', value: '1s'};\n    this.builtIns['__interval_ms'] = {text: '100', value: '100'};\n  }\n\n  init(variables) {\n    this.variables = variables;\n    this.updateTemplateData();\n  }\n\n  updateTemplateData() {\n    this.index = {};\n    this.filters = {};\n\n    for (var i = 0; i < this.variables.length; i++) {\n      var variable = this.variables[i];\n\n      if (!variable.current || !variable.current.isNone && !variable.current.value) {\n        continue;\n      }\n\n      this.index[variable.name] = variable;\n    }\n  }\n\n  variableInitialized(variable) {\n    this.index[variable.name] = variable;\n  }\n\n  getAdhocFilters(datasourceName) {\n    var filters = [];\n\n    for (var i = 0; i < this.variables.length; i++) {\n      var variable = this.variables[i];\n      if (variable.type !== 'adhoc') {\n        continue;\n      }\n\n      if (variable.datasource === datasourceName) {\n        filters = filters.concat(variable.filters);\n      }\n\n      if (variable.datasource.indexOf('$') === 0) {\n        if (this.replace(variable.datasource) === datasourceName) {\n          filters = filters.concat(variable.filters);\n        }\n      }\n    }\n\n    return filters;\n  }\n\n  luceneFormat(value) {\n    if (typeof value === 'string') {\n      return luceneEscape(value);\n    }\n    var quotedValues = _.map(value, function(val) {\n      return '\\\"' + luceneEscape(val) + '\\\"';\n    });\n    return '(' + quotedValues.join(' OR ') + ')';\n  }\n\n  formatValue(value, format, variable) {\n    // for some scopedVars there is no variable\n    variable = variable || {};\n\n    if (typeof format === 'function') {\n      return format(value, variable, this.formatValue);\n    }\n\n    switch (format) {\n      case \"regex\": {\n        if (typeof value === 'string') {\n          return kbn.regexEscape(value);\n        }\n\n        var escapedValues = _.map(value, kbn.regexEscape);\n        return '(' + escapedValues.join('|') + ')';\n      }\n      case \"lucene\": {\n        return this.luceneFormat(value);\n      }\n      case \"pipe\": {\n        if (typeof value === 'string') {\n          return value;\n        }\n        return value.join('|');\n      }\n      case \"distributed\": {\n        if (typeof value === 'string') {\n          return value;\n        }\n        return this.distributeVariable(value, variable.name);\n      }\n      default:  {\n        if (_.isArray(value)) {\n          return '{' + value.join(',') + '}';\n        }\n        return value;\n      }\n    }\n  }\n\n  setGrafanaVariable(name, value) {\n    this.grafanaVariables[name] = value;\n  }\n\n  getVariableName(expression) {\n    this.regex.lastIndex = 0;\n    var match = this.regex.exec(expression);\n    if (!match) {\n      return null;\n    }\n    return match[1] || match[2];\n  }\n\n  variableExists(expression) {\n    var name = this.getVariableName(expression);\n    return name && (this.index[name] !== void 0);\n  }\n\n  highlightVariablesAsHtml(str) {\n    if (!str || !_.isString(str)) { return str; }\n\n    str = _.escape(str);\n    this.regex.lastIndex = 0;\n    return str.replace(this.regex, (match, g1, g2) => {\n      if (this.index[g1 || g2] || this.builtIns[g1 || g2]) {\n        return '<span class=\"template-variable\">' + match + '</span>';\n      }\n      return match;\n    });\n  }\n\n  getAllValue(variable) {\n    if (variable.allValue) {\n      return variable.allValue;\n    }\n    var values = [];\n    for (var i = 1; i < variable.options.length; i++) {\n      values.push(variable.options[i].value);\n    }\n    return values;\n  }\n\n  replace(target, scopedVars?, format?) {\n    if (!target) { return target; }\n\n    var variable, systemValue, value;\n    this.regex.lastIndex = 0;\n\n    return target.replace(this.regex, (match, g1, g2) => {\n      variable = this.index[g1 || g2];\n\n      if (scopedVars) {\n        value = scopedVars[g1 || g2];\n        if (value) {\n          return this.formatValue(value.value, format, variable);\n        }\n      }\n\n      if (!variable) {\n        return match;\n      }\n\n      systemValue = this.grafanaVariables[variable.current.value];\n      if (systemValue) {\n        return this.formatValue(systemValue, format, variable);\n      }\n\n      value = variable.current.value;\n      if (this.isAllValue(value)) {\n        value = this.getAllValue(variable);\n        // skip formating of custom all values\n        if (variable.allValue) {\n          return value;\n        }\n      }\n\n      var res = this.formatValue(value, format, variable);\n      return res;\n    });\n  }\n\n  isAllValue(value) {\n    return value === '$__all' || Array.isArray(value) && value[0] === '$__all';\n  }\n\n  replaceWithText(target, scopedVars) {\n    if (!target) { return target; }\n\n    var variable;\n    this.regex.lastIndex = 0;\n\n    return target.replace(this.regex, (match, g1, g2) => {\n      if (scopedVars) {\n        var option = scopedVars[g1 || g2];\n        if (option) { return option.text; }\n      }\n\n      variable = this.index[g1 || g2];\n      if (!variable) { return match; }\n\n      return this.grafanaVariables[variable.current.value] || variable.current.text;\n    });\n  }\n\n  fillVariableValuesForUrl(params, scopedVars) {\n    _.each(this.variables, function(variable) {\n      if (scopedVars && scopedVars[variable.name] !== void 0) {\n        params['var-' + variable.name] = scopedVars[variable.name].value;\n      } else {\n        params['var-' + variable.name] = variable.getValueForUrl();\n      }\n    });\n  }\n\n  distributeVariable(value, variable) {\n    value = _.map(value, function(val, index) {\n      if (index !== 0) {\n        return variable + \"=\" + val;\n      } else {\n        return val;\n      }\n    });\n    return value.join(',');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/template_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport {variableTypes} from './variable';\n\nexport class VariableSrv {\n  dashboard: any;\n  variables: any;\n\n  /** @ngInject */\n  constructor(private $rootScope, private $q, private $location, private $injector, private templateSrv) {\n    // update time variant variables\n    $rootScope.$on('refresh', this.onDashboardRefresh.bind(this), $rootScope);\n    $rootScope.$on('template-variable-value-updated', this.updateUrlParamsWithCurrentVariables.bind(this), $rootScope);\n  }\n\n  init(dashboard) {\n    this.dashboard = dashboard;\n\n    // create working class models representing variables\n    this.variables = dashboard.templating.list = dashboard.templating.list.map(this.createVariableFromModel.bind(this));\n    this.templateSrv.init(this.variables);\n\n    // init variables\n    for (let variable of this.variables) {\n      variable.initLock = this.$q.defer();\n    }\n\n    var queryParams = this.$location.search();\n    return this.$q.all(this.variables.map(variable => {\n      return this.processVariable(variable, queryParams);\n    })).then(() => {\n      this.templateSrv.updateTemplateData();\n    });\n  }\n\n  onDashboardRefresh() {\n    var promises = this.variables\n    .filter(variable => variable.refresh === 2)\n    .map(variable => {\n      var previousOptions = variable.options.slice();\n\n      return variable.updateOptions()\n      .then(() => {\n        if (angular.toJson(previousOptions) !== angular.toJson(variable.options)) {\n          this.$rootScope.$emit('template-variable-value-updated');\n        }\n      });\n    });\n\n    return this.$q.all(promises);\n  }\n\n  processVariable(variable, queryParams) {\n    var dependencies = [];\n\n    for (let otherVariable of this.variables) {\n      if (variable.dependsOn(otherVariable)) {\n        dependencies.push(otherVariable.initLock.promise);\n      }\n    }\n\n    return this.$q.all(dependencies).then(() => {\n      var urlValue = queryParams['var-' + variable.name];\n      if (urlValue !== void 0) {\n        return variable.setValueFromUrl(urlValue).then(variable.initLock.resolve);\n      }\n\n      if (variable.refresh === 1 || variable.refresh === 2) {\n        return variable.updateOptions().then(variable.initLock.resolve);\n      }\n\n      variable.initLock.resolve();\n    }).finally(() => {\n      this.templateSrv.variableInitialized(variable);\n      delete variable.initLock;\n    });\n  }\n\n  createVariableFromModel(model) {\n    var ctor = variableTypes[model.type].ctor;\n    if (!ctor) {\n      throw {message: \"Unable to find variable constructor for \" + model.type};\n    }\n\n    var variable = this.$injector.instantiate(ctor, {model: model});\n    return variable;\n  }\n\n  addVariable(variable) {\n    this.variables.push(variable);\n    this.templateSrv.updateTemplateData();\n    this.dashboard.updateSubmenuVisibility();\n  }\n\n  removeVariable(variable) {\n    var index = _.indexOf(this.variables, variable);\n    this.variables.splice(index, 1);\n    this.templateSrv.updateTemplateData();\n    this.dashboard.updateSubmenuVisibility();\n  }\n\n  updateOptions(variable) {\n    return variable.updateOptions();\n  }\n\n  variableUpdated(variable, emitChangeEvents?) {\n    // if there is a variable lock ignore cascading update because we are in a boot up scenario\n    if (variable.initLock) {\n      return this.$q.when();\n    }\n\n    // cascade updates to variables that use this variable\n    var promises = _.map(this.variables, otherVariable => {\n      if (otherVariable === variable) {\n        return;\n      }\n\n      if (otherVariable.dependsOn(variable)) {\n        return this.updateOptions(otherVariable);\n      }\n    });\n\n    return this.$q.all(promises).then(() => {\n      if (emitChangeEvents) {\n        this.$rootScope.$emit('template-variable-value-updated');\n        this.$rootScope.$broadcast('refresh');\n      }\n    });\n  }\n\n  selectOptionsForCurrentValue(variable) {\n    var i, y, value, option;\n    var selected: any = [];\n    //console.info(variable.options);\n    for (i = 0; i < variable.options.length; i++) {\n      option = variable.options[i];\n      option.selected = false;\n      if (_.isArray(variable.current.value)) {\n        for (y = 0; y < variable.current.value.length; y++) {\n          value = variable.current.value[y];\n          if (option.value === value) {\n            option.selected = true;\n            selected.push(option);\n          }\n        }\n      } else if (option.value === variable.current.value) {\n        option.selected = true;\n        selected.push(option);\n      }\n    }\n\n    return selected;\n  }\n\n  validateVariableSelectionState(variable) {\n    if (!variable.current) {\n      variable.current = {};\n    }\n    //console.info(variable.options);\n    if (_.isArray(variable.current.value)) {\n      var selected = this.selectOptionsForCurrentValue(variable);\n\n      // if none pick first\n      if (selected.length === 0) {\n        selected = variable.options[0];\n      } else {\n        selected = {\n          value: _.map(selected, function(val) {return val.value;}),\n          text: _.map(selected, function(val) {return val.text;}).join(' + '),\n          //cn:_.map()\n        };\n      }\n\n      return variable.setValue(selected);\n    } else {\n      var currentOption = _.find(variable.options, {text: variable.current.text});\n      if (currentOption) {\n        return variable.setValue(currentOption);\n      } else {\n        if (!variable.options.length) { return Promise.resolve(); }\n        return variable.setValue(variable.options[0]);\n      }\n    }\n  }\n\n  setOptionFromUrl(variable, urlValue) {\n    var promise = this.$q.when();\n\n    if (variable.refresh) {\n      promise = variable.updateOptions();\n    }\n\n    return promise.then(() => {\n      var option = _.find(variable.options, op => {\n        return op.text === urlValue || op.value === urlValue;\n      });\n\n      option = option || {text: urlValue, value: urlValue};\n      return variable.setValue(option);\n    });\n  }\n\n  setOptionAsCurrent(variable, option) {\n    variable.current = _.cloneDeep(option);\n\n    if (_.isArray(variable.current.text)) {\n      variable.current.text = variable.current.text.join(' + ');\n    }\n\n    this.selectOptionsForCurrentValue(variable);\n    return this.variableUpdated(variable);\n  }\n\n  updateUrlParamsWithCurrentVariables() {\n    // update url\n    var params = this.$location.search();\n\n    // remove variable params\n    _.each(params, function(value, key) {\n      if (key.indexOf('var-') === 0) {\n        delete params[key];\n      }\n    });\n\n    // add new values\n    this.templateSrv.fillVariableValuesForUrl(params);\n    // update url\n    this.$location.search(params);\n  }\n\n  setAdhocFilter(options) {\n    var variable = _.find(this.variables, {type: 'adhoc', datasource: options.datasource});\n    if (!variable) {\n      variable = this.createVariableFromModel({name: 'Filters', type: 'adhoc', datasource: options.datasource});\n      this.addVariable(variable);\n    }\n\n    let filters = variable.filters;\n    let filter =  _.find(filters, {key: options.key, value: options.value});\n\n    if (!filter) {\n      filter = {key: options.key, value: options.value};\n      filters.push(filter);\n    }\n\n    filter.operator = options.operator;\n    this.variableUpdated(variable, true);\n  }\n\n}\n\ncoreModule.service('variableSrv', VariableSrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/variable_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport {Variable, assignModelProperties, variableTypes} from './variable';\n\nexport class IntervalVariable implements Variable {\n  name: string;\n  auto_count: number;\n  auto_min: number;\n  options: any;\n  auto: boolean;\n  query: string;\n  refresh: number;\n  current: any;\n\n  defaults = {\n    type: 'interval',\n    name: '',\n    hide: 0,\n    label: '',\n    refresh: 2,\n    options: [],\n    current: {},\n    query: '1m,10m,30m,1h,6h,12h,1d,7d,14d,30d',\n    auto: false,\n    auto_min: '10s',\n    auto_count: 30,\n  };\n\n  /** @ngInject **/\n  constructor(private model, private timeSrv, private templateSrv, private variableSrv) {\n    assignModelProperties(this, model, this.defaults);\n    this.refresh = 2;\n  }\n\n  getSaveModel() {\n    assignModelProperties(this.model, this, this.defaults);\n    return this.model;\n  }\n\n  setValue(option) {\n    this.updateAutoValue();\n    return this.variableSrv.setOptionAsCurrent(this, option);\n  }\n\n  updateAutoValue() {\n    if (!this.auto) {\n      return;\n    }\n\n    // add auto option if missing\n    if (this.options.length && this.options[0].text !== 'auto') {\n      this.options.unshift({ text: 'auto', value: '$__auto_interval_' + this.name });\n    }\n\n    var res = kbn.calculateInterval(this.timeSrv.timeRange(), this.auto_count, this.auto_min);\n    this.templateSrv.setGrafanaVariable('$__auto_interval_' + this.name, res.interval);\n    // for backward compatibility, to be removed eventually\n    this.templateSrv.setGrafanaVariable('$__auto_interval', res.interval);\n  }\n\n  updateOptions() {\n    // extract options between quotes and/or comma\n    this.options = _.map(this.query.match(/([\"'])(.*?)\\1|\\w+/g), function(text) {\n      text = text.replace(/[\"']+/g, '');\n      return {text: text.trim(), value: text.trim()};\n    });\n\n    this.updateAutoValue();\n    return this.variableSrv.validateVariableSelectionState(this);\n  }\n\n  dependsOn(variable) {\n    return false;\n  }\n\n  setValueFromUrl(urlValue) {\n    this.updateAutoValue();\n    return this.variableSrv.setOptionFromUrl(this, urlValue);\n  }\n\n  getValueForUrl() {\n    return this.current.value;\n  }\n}\n\nvariableTypes['interval'] = {\n  name: 'Interval',\n  ctor: IntervalVariable,\n  description: 'Define a timespan interval (ex 1m, 1h, 1d)',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/interval_variable.ts","import _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport {Variable, containsVariable, assignModelProperties, variableTypes} from './variable';\n\nfunction getNoneOption() {\n  return { text: 'None', value: '', isNone: true };\n}\n\nexport class QueryVariable implements Variable {\n  datasource: any;\n  query: any;\n  regex: any;\n  sort: any;\n  options: any;\n  current: any;\n  refresh: number;\n  hide: number;\n  name: string;\n  multi: boolean;\n  includeAll: boolean;\n  useTags: boolean;\n  tagsQuery: string;\n  tagValuesQuery: string;\n  tags: any[];\n\n  defaults = {\n    type: 'query',\n    label: null,\n    query: '',\n    regex: '',\n    sort: 0,\n    datasource: null,\n    refresh: 0,\n    hide: 0,\n    name: '',\n    multi: false,\n    includeAll: false,\n    allValue: null,\n    options: [],\n    current: {},\n    tags: [],\n    useTags: false,\n    tagsQuery: \"\",\n    tagValuesQuery: \"\",\n  };\n\n  /** @ngInject **/\n  constructor(private model, private datasourceSrv, private templateSrv, private variableSrv,\n              private  backendSrv,private timeSrv)\n  {\n    // copy model properties to this instance\n    assignModelProperties(this, model, this.defaults);\n    var instance=this;\n    /*window.$.ajax({\n      url : 'http://61.164.218.158:8080/DataCenter/manager/manager_device_listall.action',\n      //'http://192.168.3.65:8080/DataCenter/manager/manager_device_listall.action',\n      type : \"post\",\n      dataType : \"jsonp\",\n      crossDomain: true,\n      /*data:{'callback':5},\n      jsonp: \"callback\",\n      jsonpCallback:\"message\",\n      data:{'callback':'message'},ju\n      success : function(data)\n      {\n          instance.cnData=data;\n      }\n    });*/\n\n    var res=backendSrv.get('http://61.164.218.158:8080/AirServer/site/findAllSites')\n      .then(function (resp) {\n        //console.info(resp);\n        instance.cnData=resp;\n      },function (resp) {\n        console.info(resp);\n      });\n    //console.info('startaaa11');\n  }\n\n  getSaveModel() {\n    // copy back model properties to model\n    assignModelProperties(this.model, this, this.defaults);\n\n    // remove options\n    if (this.refresh !== 0) {\n      this.model.options = [];\n    }\n\n    return this.model;\n  }\n\n  setValue(option) {\n    return this.variableSrv.setOptionAsCurrent(this, option);\n  }\n\n  setValueFromUrl(urlValue) {\n    return this.variableSrv.setOptionFromUrl(this, urlValue);\n  }\n\n  getValueForUrl() {\n    if (this.current.text === 'All') {\n      return 'All';\n    }\n    return this.current.value;\n  }\n\n  updateOptions() {\n    return this.datasourceSrv.get(this.datasource)\n    .then(this.updateOptionsFromMetricFindQuery.bind(this))\n    .then(this.updateTags.bind(this))\n    .then(this.variableSrv.validateVariableSelectionState.bind(this.variableSrv, this));\n  }\n\n  updateTags(datasource) {\n    if (this.useTags) {\n      return this.metricFindQuery(datasource, this.tagsQuery).then(results => {\n        this.tags = [];\n        for (var i = 0; i < results.length; i++) {\n          this.tags.push(results[i].text);\n        }\n        return datasource;\n      });\n    } else {\n      delete this.tags;\n    }\n\n    return datasource;\n  }\n\n  getValuesForTag(tagKey) {\n    return this.datasourceSrv.get(this.datasource).then(datasource => {\n      var query = this.tagValuesQuery.replace('$tag', tagKey);\n      return this.metricFindQuery(datasource, query).then(function (results) {\n        return _.map(results, function(value) {\n          return value.text;\n        });\n      });\n    });\n  }\n\n  updateOptionsFromMetricFindQuery(datasource) {\n    return this.metricFindQuery(datasource, this.query).then(results => {\n      //console.info(results);\n      this.options = this.metricNamesToVariableValues(results);\n      //console.info(this.options);\n      if (this.includeAll) {\n        this.addAllOption();\n      }\n      if (!this.options.length) {\n        this.options.push(getNoneOption());\n      }\n      return datasource;\n    });\n  }\n\n  metricFindQuery(datasource, query) {\n    var options = {range: undefined, variable: this};\n\n    if (this.refresh === 2) {\n      options.range = this.timeSrv.timeRange();\n    }\n\n    return datasource.metricFindQuery(query, options);\n  }\n\n  addAllOption() {\n    this.options.unshift({text: 'All', value: \"$__all\",cn: '全选'});\n  }\n\n  metricNamesToVariableValues(metricNames) {\n    //alert(metricNames);\n    var regex, options, i, matches;\n    options = [];\n\n    if (this.regex) {\n      regex = kbn.stringToJsRegex(this.templateSrv.replace(this.regex, {}, 'regex'));\n    }\n    for (i = 0; i < metricNames.length; i++) {\n      var item = metricNames[i];\n      var text = item.text === undefined || item.text === null\n        ? item.value\n        : item.text;\n\n      var value = item.value === undefined || item.value === null\n        ? item.text\n        : item.value;\n\n      if (_.isNumber(value)) {\n        value = value.toString();\n      }\n\n      if (_.isNumber(text)) {\n        text = text.toString();\n      }\n\n      if (regex) {\n        matches = regex.exec(value);\n        if (!matches) { continue; }\n        if (matches.length > 1) {\n          value = matches[1];\n          text = matches[1];\n        }\n      }\n\n      options.push({text: text, value: value, cn: item.cn});\n    }\n\n    options = _.uniqBy(options, 'value');\n    return this.sortVariableValues(options, this.sort);\n  }\n\n  sortVariableValues(options, sortOrder) {\n    if (sortOrder === 0) {\n      return options;\n    }\n\n    var sortType = Math.ceil(sortOrder / 2);\n    var reverseSort = (sortOrder % 2 === 0);\n\n    if (sortType === 1) {\n      options = _.sortBy(options, 'text');\n    } else if (sortType === 2) {\n      options = _.sortBy(options, (opt) => {\n        var matches = opt.text.match(/.*?(\\d+).*/);\n        if (!matches || matches.length < 2) {\n          return -1;\n        } else {\n          return parseInt(matches[1], 10);\n        }\n      });\n    }\n\n    if (reverseSort) {\n      options = options.reverse();\n    }\n\n    return options;\n  }\n\n  dependsOn(variable) {\n    return containsVariable(this.query, this.datasource, variable.name);\n  }\n}\n\nvariableTypes['query'] = {\n  name: 'Query',\n  ctor: QueryVariable,\n  description: 'Variable values are fetched from a datasource query',\n  supportsMulti: true,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/query_variable.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport kbn from 'app/core/utils/kbn';\nimport {Variable, containsVariable, assignModelProperties, variableTypes} from './variable';\n\nexport class DatasourceVariable implements Variable {\n  regex: any;\n  query: string;\n  options: any;\n  current: any;\n  refresh: any;\n\n defaults = {\n    type: 'datasource',\n    name: '',\n    hide: 0,\n    label: '',\n    current: {},\n    regex: '',\n    options: [],\n    query: '',\n    refresh: 1,\n  };\n\n  /** @ngInject **/\n  constructor(private model, private datasourceSrv, private variableSrv, private templateSrv) {\n    assignModelProperties(this, model, this.defaults);\n    this.refresh = 1;\n  }\n\n  getSaveModel() {\n    assignModelProperties(this.model, this, this.defaults);\n\n    // dont persist options\n    this.model.options = [];\n    return this.model;\n  }\n\n  setValue(option) {\n    return this.variableSrv.setOptionAsCurrent(this, option);\n  }\n\n  updateOptions() {\n    var options = [];\n    var sources = this.datasourceSrv.getMetricSources({skipVariables: true});\n    var regex;\n\n    if (this.regex) {\n      regex = this.templateSrv.replace(this.regex, null, 'regex');\n      regex = kbn.stringToJsRegex(regex);\n    }\n\n    for (var i = 0; i < sources.length; i++) {\n      var source = sources[i];\n      // must match on type\n      if (source.meta.id !== this.query) {\n        continue;\n      }\n\n      if (regex && !regex.exec(source.name)) {\n        continue;\n      }\n\n      options.push({text: source.name, value: source.name});\n    }\n\n    if (options.length === 0) {\n      options.push({text: 'No data sources found', value: ''});\n    }\n\n    this.options = options;\n    return this.variableSrv.validateVariableSelectionState(this);\n  }\n\n  dependsOn(variable) {\n    if (this.regex) {\n      return containsVariable(this.regex, variable.name);\n    }\n    return false;\n  }\n\n  setValueFromUrl(urlValue) {\n    return this.variableSrv.setOptionFromUrl(this, urlValue);\n  }\n\n  getValueForUrl() {\n    return this.current.value;\n  }\n}\n\nvariableTypes['datasource'] = {\n  name: 'Datasource',\n  ctor: DatasourceVariable,\n  description: 'Enabled you to dynamically switch the datasource for multiple panels',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/datasource_variable.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {Variable, assignModelProperties, variableTypes} from './variable';\n\nexport class CustomVariable implements Variable {\n  query: string;\n  options: any;\n  includeAll: boolean;\n  multi: boolean;\n  current: any;\n\n  defaults = {\n    type: 'custom',\n    name: '',\n    label: '',\n    hide: 0,\n    options: [],\n    current: {},\n    query: '',\n    includeAll: false,\n    multi: false,\n    allValue: null,\n  };\n\n  /** @ngInject **/\n  constructor(private model, private variableSrv) {\n    assignModelProperties(this, model, this.defaults);\n  }\n\n  setValue(option) {\n    return this.variableSrv.setOptionAsCurrent(this, option);\n  }\n\n  getSaveModel() {\n    assignModelProperties(this.model, this, this.defaults);\n    return this.model;\n  }\n\n  updateOptions() {\n    // extract options in comma separated string\n    this.options = _.map(this.query.split(/[,]+/), function(text) {\n      return { text: text.trim(), value: text.trim() };\n    });\n\n    if (this.includeAll) {\n      this.addAllOption();\n    }\n\n    return this.variableSrv.validateVariableSelectionState(this);\n  }\n\n  addAllOption() {\n    this.options.unshift({text: 'All', value: \"$__all\"});\n  }\n\n  dependsOn(variable) {\n    return false;\n  }\n\n  setValueFromUrl(urlValue) {\n    return this.variableSrv.setOptionFromUrl(this, urlValue);\n  }\n\n  getValueForUrl() {\n    if (this.current.text === 'All') {\n      return 'All';\n    }\n    return this.current.value;\n  }\n}\n\nvariableTypes['custom'] = {\n  name: 'Custom',\n  ctor: CustomVariable,\n  description: 'Define variable values manually' ,\n  supportsMulti: true,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/custom_variable.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport {Variable, assignModelProperties, variableTypes} from './variable';\n\nexport class ConstantVariable implements Variable {\n  query: string;\n  options: any[];\n  current: any;\n\n  defaults = {\n    type: 'constant',\n    name: '',\n    hide: 2,\n    label: '',\n    query: '',\n    current: {},\n    options: [],\n  };\n\n  /** @ngInject **/\n  constructor(private model, private variableSrv) {\n    assignModelProperties(this, model, this.defaults);\n  }\n\n  getSaveModel() {\n    assignModelProperties(this.model, this, this.defaults);\n    return this.model;\n  }\n\n  setValue(option) {\n    this.variableSrv.setOptionAsCurrent(this, option);\n  }\n\n  updateOptions() {\n    this.options = [{text: this.query.trim(), value: this.query.trim()}];\n    this.setValue(this.options[0]);\n    return Promise.resolve();\n  }\n\n  dependsOn(variable) {\n    return false;\n  }\n\n  setValueFromUrl(urlValue) {\n    return this.variableSrv.setOptionFromUrl(this, urlValue);\n  }\n\n  getValueForUrl() {\n    return this.current.value;\n  }\n\n}\n\nvariableTypes['constant'] = {\n  name: 'Constant',\n  ctor: ConstantVariable,\n  description: 'Define a hidden constant variable, useful for metric prefixes in dashboards you want to share' ,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/constant_variable.ts","import _ from 'lodash';\nimport {Variable, assignModelProperties, variableTypes} from './variable';\n\nexport class AdhocVariable implements Variable {\n  filters: any[];\n\n  defaults = {\n    type: 'adhoc',\n    name: '',\n    label: '',\n    hide: 0,\n    datasource: null,\n    filters: [],\n  };\n\n  /** @ngInject **/\n  constructor(private model) {\n    assignModelProperties(this, model, this.defaults);\n  }\n\n  setValue(option) {\n    return Promise.resolve();\n  }\n\n  getSaveModel() {\n    assignModelProperties(this.model, this, this.defaults);\n    return this.model;\n  }\n\n  updateOptions() {\n    return Promise.resolve();\n  }\n\n  dependsOn(variable) {\n    return false;\n  }\n\n  setValueFromUrl(urlValue) {\n    if (!_.isArray(urlValue)) {\n      urlValue = [urlValue];\n    }\n\n    this.filters = urlValue.map(item => {\n      var values = item.split('|').map(value => {\n        return this.unescapeDelimiter(value);\n      });\n      return {\n        key: values[0],\n        operator: values[1],\n        value: values[2],\n      };\n    });\n\n    return Promise.resolve();\n  }\n\n  getValueForUrl() {\n    return this.filters.map(filter => {\n      return [filter.key, filter.operator, filter.value].map(value => {\n        return this.escapeDelimiter(value);\n      }).join('|');\n    });\n  }\n\n  escapeDelimiter(value) {\n    return value.replace(/\\|/g, '__gfp__');\n  }\n\n  unescapeDelimiter(value) {\n    return value.replace(/__gfp__/g, '|');\n  }\n\n  setFilters(filters: any[]) {\n    this.filters = filters;\n  }\n}\n\nvariableTypes['adhoc'] = {\n  name: 'Ad hoc filters',\n  ctor: AdhocVariable,\n  description: 'Add key/value filters on the fly',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/templating/adhoc_variable.ts","import './plugin_edit_ctrl';\nimport './plugin_page_ctrl';\nimport './plugin_list_ctrl';\nimport './import_list/import_list';\nimport './ds_edit_ctrl';\nimport './ds_list_ctrl';\nimport './datasource_srv';\nimport './plugin_component';\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/all.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport Remarkable from 'remarkable';\n\nexport class PluginEditCtrl {\n  model: any;\n  pluginIcon: string;\n  pluginId: any;\n  includes: any;\n  readmeHtml: any;\n  includedDatasources: any;\n  tabIndex: number;\n  tabs: any;\n  navModel: any;\n  hasDashboards: any;\n  preUpdateHook: () => any;\n  postUpdateHook: () => any;\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    private $rootScope,\n    private backendSrv,\n    private $sce,\n    $routeParams,\n    navModelSrv,\n  ) {\n    this.navModel = navModelSrv.getPluginsNav();\n    this.model = {};\n    this.pluginId = $routeParams.pluginId;\n    this.tabIndex = 0;\n    this.tabs = ['Readme'];\n\n    this.preUpdateHook = () => Promise.resolve();\n    this.postUpdateHook = () => Promise.resolve();\n  }\n\n  init() {\n    return this.backendSrv.get(`/api/plugins/${this.pluginId}/settings`).then(result => {\n      this.model = result;\n      this.pluginIcon = this.getPluginIcon(this.model.type);\n\n      this.model.dependencies.plugins.forEach(plug => {\n        plug.icon = this.getPluginIcon(plug.type);\n      });\n\n      this.includes = _.map(result.includes, plug => {\n        plug.icon = this.getPluginIcon(plug.type);\n        return plug;\n      });\n\n      if (this.model.type === 'app') {\n        this.hasDashboards = _.find(result.includes, {type: 'dashboard'});\n        if (this.hasDashboards) {\n          this.tabs.unshift('Dashboards');\n        }\n\n        this.tabs.unshift('Config');\n        this.tabIndex = 0;\n      }\n\n      return this.initReadme();\n    });\n  }\n\n  initReadme() {\n    return this.backendSrv.get(`/api/plugins/${this.pluginId}/markdown/readme`).then(res => {\n      var md = new Remarkable();\n      this.readmeHtml = this.$sce.trustAsHtml(md.render(res));\n    });\n  }\n\n  getPluginIcon(type) {\n    switch (type) {\n      case 'datasource':  return 'icon-gf icon-gf-datasources';\n      case 'panel':  return 'icon-gf icon-gf-panel';\n      case 'app':  return 'icon-gf icon-gf-apps';\n      case 'page':  return 'icon-gf icon-gf-endpoint-tiny';\n      case 'dashboard':  return 'icon-gf icon-gf-dashboard';\n      default: return 'icon-gf icon-gf-apps';\n    }\n  }\n\n  update() {\n    this.preUpdateHook().then(() => {\n      var updateCmd = _.extend({\n        enabled: this.model.enabled,\n        pinned: this.model.pinned,\n        jsonData: this.model.jsonData,\n        secureJsonData: this.model.secureJsonData,\n      }, {});\n      return this.backendSrv.post(`/api/plugins/${this.pluginId}/settings`, updateCmd);\n    })\n    .then(this.postUpdateHook)\n    .then((res) => {\n      window.location.href = window.location.href;\n    });\n  }\n\n  importDashboards() {\n    return Promise.resolve();\n  }\n\n  setPreUpdateHook(callback: () => any) {\n    this.preUpdateHook = callback;\n  }\n\n  setPostUpdateHook(callback: () => any) {\n    this.postUpdateHook = callback;\n  }\n\n  updateAvailable() {\n    var modalScope = this.$scope.$new(true);\n    modalScope.plugin = this.model;\n\n    this.$rootScope.appEvent('show-modal', {\n      src: 'public/app/features/plugins/partials/update_instructions.html',\n      scope: modalScope\n    });\n  }\n\n  enable() {\n    this.model.enabled = true;\n    this.model.pinned = true;\n    this.update();\n  }\n\n  disable() {\n    this.model.enabled = false;\n    this.model.pinned = false;\n    this.update();\n  }\n}\n\nangular.module('grafana.controllers').controller('PluginEditCtrl', PluginEditCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/plugin_edit_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport {NavModel} from 'app/core/core';\n\nvar pluginInfoCache = {};\n\nexport class AppPageCtrl {\n  page: any;\n  pluginId: any;\n  appModel: any;\n  navModel: NavModel;\n\n  /** @ngInject */\n  constructor(private backendSrv, private $routeParams: any, private $rootScope) {\n    this.pluginId = $routeParams.pluginId;\n\n    if (pluginInfoCache[this.pluginId]) {\n      this.initPage(pluginInfoCache[this.pluginId]);\n    } else {\n      this.loadPluginInfo();\n    }\n  }\n\n  initPage(app) {\n    this.appModel = app;\n    this.page = _.find(app.includes, {slug: this.$routeParams.slug});\n\n    pluginInfoCache[this.pluginId] = app;\n\n    if (!this.page) {\n      this.$rootScope.appEvent('alert-error', ['App Page Not Found', '']);\n\n      this.navModel = {\n        section: {\n          title: \"Page not found\",\n          url: app.defaultNavUrl,\n          icon: 'icon-gf icon-gf-sadface',\n        },\n        menu: [],\n      };\n\n      return;\n    }\n\n    let menu = [];\n\n    for (let item of app.includes) {\n      if (item.addToNav) {\n        if (item.type === 'dashboard') {\n          menu.push({\n            title: item.name,\n            url: 'dashboard/db/' + item.slug,\n            icon: 'fa fa-fw fa-dot-circle-o',\n          });\n        }\n        if (item.type === 'page') {\n          menu.push({\n            title: item.name,\n            url: `plugins/${app.id}/page/${item.slug}`,\n            icon: 'fa fa-fw fa-dot-circle-o',\n          });\n        }\n      }\n    }\n\n    this.navModel = {\n      section: {\n        title: app.name,\n        url: app.defaultNavUrl,\n        iconUrl: app.info.logos.small,\n      },\n      menu: menu,\n    };\n  }\n\n  loadPluginInfo() {\n    this.backendSrv.get(`/api/plugins/${this.pluginId}/settings`).then(app => {\n      this.initPage(app);\n    });\n  }\n}\n\nangular.module('grafana.controllers').controller('AppPageCtrl', AppPageCtrl);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/plugin_page_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\n\nexport class PluginListCtrl {\n  plugins: any[];\n  tabIndex: number;\n  navModel: any;\n\n  /** @ngInject */\n  constructor(private backendSrv: any, $location, navModelSrv) {\n    this.tabIndex = 0;\n    this.navModel = navModelSrv.getPluginsNav();\n\n    var pluginType = $location.search().type || 'panel';\n    switch (pluginType) {\n      case \"datasource\":  {\n        this.tabIndex = 1;\n        break;\n      }\n      case \"app\": {\n        this.tabIndex = 2;\n        break;\n      }\n      case \"panel\":\n      default:\n        this.tabIndex = 0;\n    }\n\n    this.backendSrv.get('api/plugins', {embedded: 0, type: pluginType}).then(plugins => {\n      this.plugins = plugins;\n    });\n  }\n}\n\nangular.module('grafana.controllers').controller('PluginListCtrl', PluginListCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/plugin_list_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from 'app/core/core_module';\nimport appEvents from 'app/core/app_events';\n\nexport class DashImportListCtrl {\n  dashboards: any[];\n  plugin: any;\n  datasource: any;\n\n  /** @ngInject */\n  constructor($scope, private backendSrv, private $rootScope) {\n    this.dashboards = [];\n\n    backendSrv.get(`/api/plugins/${this.plugin.id}/dashboards`).then(dashboards => {\n      this.dashboards = dashboards;\n    });\n\n    appEvents.on('dashboard-list-import-all', this.importAll.bind(this), $scope);\n  }\n\n  importAll(payload) {\n    return this.importNext(0).then(() => {\n      payload.resolve(\"All dashboards imported\");\n    }).catch(err => {\n      payload.reject(err);\n    });\n  }\n\n  importNext(index) {\n    return this.import(this.dashboards[index], true).then(() => {\n      if (index+1 < this.dashboards.length) {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            this.importNext(index+1).then(() => {\n              resolve();\n            });\n          }, 500);\n        });\n      } else {\n        return Promise.resolve();\n      }\n    });\n  }\n\n  import(dash, overwrite) {\n    var installCmd = {\n      pluginId: this.plugin.id,\n      path: dash.path,\n      overwrite: overwrite,\n      inputs: []\n    };\n\n    if (this.datasource) {\n      installCmd.inputs.push({\n        name: '*',\n        type: 'datasource',\n        pluginId: this.datasource.type,\n        value: this.datasource.name\n      });\n    }\n\n    return this.backendSrv.post(`/api/dashboards/import`, installCmd).then(res => {\n      this.$rootScope.appEvent('alert-success', ['Dashboard Imported', dash.title]);\n      _.extend(dash, res);\n    });\n  }\n\n  remove(dash) {\n    this.backendSrv.delete('/api/dashboards/' + dash.importedUri).then(() => {\n      this.$rootScope.appEvent('alert-success', ['Dashboard Deleted', dash.title]);\n      dash.imported = false;\n    });\n  }\n}\n\nexport function dashboardImportList() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/plugins/import_list/import_list.html',\n    controller: DashImportListCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      plugin: \"=\",\n      datasource: \"=\"\n    }\n  };\n}\n\ncoreModule.directive('dashboardImportList', dashboardImportList);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/import_list/import_list.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport {coreModule, appEvents} from 'app/core/core';\n\nvar datasourceTypes = [];\n\nvar defaults = {\n  name: '',\n  type: 'graphite',\n  url: '',\n  access: 'proxy',\n  jsonData: {},\n  secureJsonFields: {},\n};\n\nvar datasourceCreated = false;\n\nexport class DataSourceEditCtrl {\n  isNew: boolean;\n  datasources: any[];\n  current: any;\n  types: any;\n  testing: any;\n  datasourceMeta: any;\n  tabIndex: number;\n  hasDashboards: boolean;\n  editForm: any;\n  gettingStarted: boolean;\n  navModel: any;\n\n  /** @ngInject */\n  constructor(\n    private $q,\n    private backendSrv,\n    private $routeParams,\n    private $location,\n    private datasourceSrv,\n    private navModelSrv,\n  ) {\n\n    this.navModel = this.navModelSrv.getDatasourceNav(0);\n    this.isNew = true;\n    this.datasources = [];\n    this.tabIndex = 0;\n\n    this.loadDatasourceTypes().then(() => {\n      if (this.$routeParams.id) {\n        this.getDatasourceById(this.$routeParams.id);\n      } else {\n        this.initNewDatasourceModel();\n      }\n    });\n  }\n\n  initNewDatasourceModel() {\n    this.current = _.cloneDeep(defaults);\n\n    // We are coming from getting started\n    if (this.$location.search().gettingstarted) {\n      this.gettingStarted = true;\n      this.current.isDefault = true;\n    }\n\n    this.typeChanged();\n  }\n\n  loadDatasourceTypes() {\n    if (datasourceTypes.length > 0) {\n      this.types = datasourceTypes;\n      return this.$q.when(null);\n    }\n\n    return this.backendSrv.get('/api/plugins', {enabled: 1, type: 'datasource'}).then(plugins => {\n      datasourceTypes = plugins;\n      this.types = plugins;\n    });\n  }\n\n  getDatasourceById(id) {\n    this.backendSrv.get('/api/datasources/' + id).then(ds => {\n      this.isNew = false;\n      this.current = ds;\n      if (datasourceCreated) {\n        datasourceCreated = false;\n        this.testDatasource();\n      }\n      return this.typeChanged();\n    });\n  }\n\n  userChangedType() {\n    // reset model but keep name & default flag\n    this.current = _.defaults({\n      id: this.current.id,\n      name: this.current.name,\n      isDefault: this.current.isDefault,\n      type: this.current.type,\n    }, _.cloneDeep(defaults));\n    this.typeChanged();\n  }\n\n  typeChanged() {\n    this.hasDashboards = false;\n    return this.backendSrv.get('/api/plugins/' + this.current.type + '/settings').then(pluginInfo => {\n      this.datasourceMeta = pluginInfo;\n      this.hasDashboards = _.find(pluginInfo.includes, {type: 'dashboard'});\n    });\n  }\n\n  updateFrontendSettings() {\n    return this.backendSrv.get('/api/frontend/settings').then(settings => {\n      config.datasources = settings.datasources;\n      config.defaultDatasource = settings.defaultDatasource;\n      this.datasourceSrv.init();\n    });\n  }\n\n  testDatasource() {\n    this.datasourceSrv.get(this.current.name).then(datasource => {\n      if (!datasource.testDatasource) {\n        return;\n      }\n\n      this.testing = {done: false, status: 'error'};\n\n      // make test call in no backend cache context\n      this.backendSrv.withNoBackendCache(() => {\n        return datasource.testDatasource().then(result => {\n          this.testing.message = result.message;\n          this.testing.status = result.status;\n        }).catch(err => {\n          if (err.statusText) {\n            this.testing.message = 'HTTP Error ' + err.statusText;\n          } else {\n            this.testing.message = err.message;\n          }\n        });\n      }).finally(() => {\n        this.testing.done = true;\n      });\n    });\n  }\n\n  saveChanges() {\n    if (!this.editForm.$valid) {\n      return;\n    }\n\n    if (this.current.readOnly) {\n      return;\n    }\n\n    if (this.current.id) {\n      return this.backendSrv.put('/api/datasources/' + this.current.id, this.current).then((result) => {\n        this.current = result.datasource;\n        this.updateFrontendSettings().then(() => {\n          this.testDatasource();\n        });\n      });\n    } else {\n      return this.backendSrv.post('/api/datasources', this.current).then(result => {\n        this.current = result.datasource;\n        this.updateFrontendSettings();\n\n        datasourceCreated = true;\n        this.$location.path('datasources/edit/' + result.id);\n      });\n    }\n  }\n\n  confirmDelete() {\n    this.backendSrv.delete('/api/datasources/' + this.current.id).then(() => {\n      this.$location.path('datasources');\n    });\n  }\n\n  delete(s) {\n    appEvents.emit('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete this datasource?',\n      yesText: \"Delete\",\n      icon: \"fa-trash\",\n      onConfirm: () => {\n        this.confirmDelete();\n      }\n    });\n  }\n}\n\ncoreModule.controller('DataSourceEditCtrl', DataSourceEditCtrl);\n\ncoreModule.directive('datasourceHttpSettings', function() {\n  return {\n    scope: {\n      current: \"=\",\n      suggestUrl: \"@\",\n    },\n    templateUrl: 'public/app/features/plugins/partials/ds_http_settings.html',\n    link: {\n      pre: function($scope, elem, attrs) {\n        $scope.getSuggestUrls = function() {\n          return [$scope.suggestUrl];\n        };\n      }\n    }\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/ds_edit_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from '../../core/core_module';\n\nexport class DataSourcesCtrl {\n  datasources: any;\n  navModel: any;\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    private backendSrv,\n    private datasourceSrv,\n    private navModelSrv\n  ) {\n\n    this.navModel = this.navModelSrv.getDatasourceNav(0);\n\n    backendSrv.get('/api/datasources').then(result => {\n      this.datasources = result;\n    });\n  }\n\n  removeDataSourceConfirmed(ds) {\n\n    this.backendSrv.delete('/api/datasources/' + ds.id)\n    .then(() => {\n      this.$scope.appEvent('alert-success', ['Datasource deleted', '']);\n    }, () => {\n      this.$scope.appEvent('alert-error', ['Unable to delete datasource', '']);\n    }).then(() => {\n      this.backendSrv.get('/api/datasources')\n      .then((result) => {\n        this.datasources = result;\n      });\n      this.backendSrv.get('/api/frontend/settings')\n      .then((settings) => {\n        this.datasourceSrv.init(settings.datasources);\n      });\n    });\n  }\n\n  removeDataSource(ds) {\n\n    this.$scope.appEvent('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete datasource ' + ds.name + '?',\n      yesText: \"Delete\",\n      icon: \"fa-trash\",\n      onConfirm: () => {\n        this.removeDataSourceConfirmed(ds);\n      }\n    });\n  }\n\n}\n\ncoreModule.controller('DataSourcesCtrl', DataSourcesCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/ds_list_ctrl.ts","define([\n  'angular',\n  'lodash',\n  'app/core/core_module',\n  'app/core/config',\n  './plugin_loader',\n],\nfunction (angular, _, coreModule, config, pluginLoader) {\n  'use strict';\n\n  config = config.default;\n\n  coreModule.default.service('datasourceSrv', function($q, $injector, $rootScope, templateSrv) {\n    var self = this;\n\n    this.init = function() {\n      this.datasources = {};\n    };\n\n    this.get = function(name) {\n      if (!name) {\n        return this.get(config.defaultDatasource);\n      }\n\n      name = templateSrv.replace(name);\n\n      if (name === 'default') {\n        return this.get(config.defaultDatasource);\n      }\n\n      if (this.datasources[name]) {\n        return $q.when(this.datasources[name]);\n      }\n\n      return this.loadDatasource(name);\n    };\n\n    this.loadDatasource = function(name) {\n      var dsConfig = config.datasources[name];\n      if (!dsConfig) {\n        return $q.reject({message: \"Datasource named \" + name + \" was not found\"});\n      }\n\n      var deferred = $q.defer();\n      var pluginDef = dsConfig.meta;\n\n      pluginLoader.importPluginModule(pluginDef.module).then(function(plugin) {\n        // check if its in cache now\n        if (self.datasources[name]) {\n          deferred.resolve(self.datasources[name]);\n          return;\n        }\n\n        // plugin module needs to export a constructor function named Datasource\n        if (!plugin.Datasource) {\n          throw \"Plugin module is missing Datasource constructor\";\n        }\n\n        var instance = $injector.instantiate(plugin.Datasource, {instanceSettings: dsConfig});\n        instance.meta = pluginDef;\n        instance.name = name;\n        self.datasources[name] = instance;\n        deferred.resolve(instance);\n      }).catch(function(err) {\n        $rootScope.appEvent('alert-error', [dsConfig.name + ' plugin failed', err.toString()]);\n      });\n\n      return deferred.promise;\n    };\n\n    this.getAll = function() {\n      return config.datasources;\n    };\n\n    this.getAnnotationSources = function() {\n      var sources = [];\n\n      this.addDataSourceVariables(sources);\n\n      _.each(config.datasources, function(value) {\n        if (value.meta && value.meta.annotations) {\n          sources.push(value);\n        }\n      });\n\n      return sources;\n    };\n\n    this.getMetricSources = function(options) {\n      var metricSources = [];\n\n      _.each(config.datasources, function(value, key) {\n        if (value.meta && value.meta.metrics) {\n          metricSources.push({value: key, name: key, meta: value.meta});\n\n          if (key === config.defaultDatasource) {\n            metricSources.push({value: null, name: 'default', meta: value.meta});\n          }\n        }\n      });\n\n      if (!options || !options.skipVariables) {\n        this.addDataSourceVariables(metricSources);\n      }\n\n      metricSources.sort(function(a, b) {\n        // these two should always be at the bottom\n        if (a.meta.id === \"mixed\" || a.meta.id === \"grafana\") {\n          return 1;\n        }\n        if (b.meta.id === \"mixed\" || b.meta.id === \"grafana\") {\n          return -1;\n        }\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      });\n\n      return metricSources;\n    };\n\n    this.addDataSourceVariables = function(list) {\n      // look for data source variables\n      for (var i = 0; i < templateSrv.variables.length; i++) {\n        var variable = templateSrv.variables[i];\n        if (variable.type !== 'datasource') {\n          continue;\n        }\n\n        var first = variable.current.value;\n        if (first === 'default') {\n          first = config.defaultDatasource;\n        }\n\n        var ds = config.datasources[first];\n\n        if (ds) {\n          list.push({\n            name: '$' + variable.name,\n            value: '$' + variable.name,\n            meta: ds.meta,\n          });\n        }\n      }\n    };\n\n    this.init();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/plugins/datasource_srv.js\n// module id = 1419\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = 1421\n// module chunks = 0","/*\n * SystemJS v0.20.19 Dev\n */\n!function(){\"use strict\";function e(e){return ut?Symbol():\"@@\"+e}function t(e,t){ot||(t=t.replace(at?/file:\\/\\/\\//g:/file:\\/\\//g,\"\"));var r,n=(e.message||e)+\"\\n  \"+t;r=ft&&e.fileName?new Error(n,e.fileName,e.lineNumber):new Error(n);var o=e.originalErr?e.originalErr.stack:e.stack;return r.stack=it?n+\"\\n  \"+o:o,r.originalErr=e.originalErr||e,r}function r(e,t){throw new RangeError('Unable to resolve \"'+e+'\" to '+t)}function n(e,t){e=e.trim();var n=t&&t.substr(0,t.indexOf(\":\")+1),o=e[0],i=e[1];if(\"/\"===o&&\"/\"===i)return n||r(e,t),n+e;if(\".\"===o&&(\"/\"===i||\".\"===i&&(\"/\"===e[2]||2===e.length&&(e+=\"/\"))||1===e.length&&(e+=\"/\"))||\"/\"===o){var a,s=!n||\"/\"!==t[n.length];if(s?(void 0===t&&r(e,t),a=t):a=\"/\"===t[n.length+1]?\"file:\"!==n?(a=t.substr(n.length+2)).substr(a.indexOf(\"/\")+1):t.substr(8):t.substr(n.length+1),\"/\"===o){if(!s)return t.substr(0,t.length-a.length-1)+e;r(e,t)}for(var u=a.substr(0,a.lastIndexOf(\"/\")+1)+e,l=[],c=-1,f=0;f<u.length;f++)if(-1===c)if(\".\"!==u[f])c=f;else{if(\".\"!==u[f+1]||\"/\"!==u[f+2]&&f+2!==u.length){if(\"/\"!==u[f+1]&&f+1!==u.length){c=f;continue}f+=1}else l.pop(),f+=2;s&&0===l.length&&r(e,t)}else\"/\"===u[f]&&(l.push(u.substring(c,f+1)),c=-1);return-1!==c&&l.push(u.substr(c)),t.substr(0,t.length-a.length)+l.join(\"\")}return-1!==e.indexOf(\":\")?it&&\":\"===e[1]&&\"\\\\\"===e[2]&&e[0].match(/[a-z]/i)?\"file:///\"+e.replace(/\\\\/g,\"/\"):e:void 0}function o(e){if(e.values)return e.values();if(\"undefined\"==typeof Symbol||!Symbol.iterator)throw new Error(\"Symbol.iterator not supported in this browser\");var t={};return t[Symbol.iterator]=function(){var t=Object.keys(e),r=0;return{next:function(){return r<t.length?{value:e[t[r++]],done:!1}:{value:void 0,done:!0}}}},t}function i(){this.registry=new u}function a(e){if(!(e instanceof l))throw new TypeError(\"Module instantiation did not return a valid namespace object.\");return e}function s(e){if(void 0===e)throw new RangeError(\"No resolution found.\");return e}function u(){this[mt]={}}function l(e){Object.defineProperty(this,vt,{value:e}),Object.keys(e).forEach(c,this)}function c(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[vt][e]}})}function f(){i.call(this);var e=this.registry.delete;this.registry.delete=function(r){var n=e.call(this,r);return t.hasOwnProperty(r)&&!t[r].linkRecord&&(delete t[r],n=!0),n};var t={};this[yt]={lastRegister:void 0,records:t},this.trace=!1}function d(e,t,r){return e.records[t]={key:t,registration:r,module:void 0,importerSetters:void 0,loadError:void 0,evalError:void 0,linkRecord:{instantiatePromise:void 0,dependencies:void 0,execute:void 0,executingRequire:!1,moduleObj:void 0,setters:void 0,depsInstantiatePromise:void 0,dependencyInstantiations:void 0}}}function p(e,t,r,n,o){var i=n[t];if(i)return Promise.resolve(i);var a=o.records[t];return a&&!a.module?a.loadError?Promise.reject(a.loadError):h(e,a,a.linkRecord,n,o):e.resolve(t,r).then(function(t){if(i=n[t])return i;if((a=o.records[t])&&!a.module||(a=d(o,t,a&&a.registration)),a.loadError)return Promise.reject(a.loadError);var r=a.linkRecord;return r?h(e,a,r,n,o):a})}function g(e,t,r){return function(){var e=r.lastRegister;return e?(r.lastRegister=void 0,t.registration=e,!0):!!t.registration}}function h(e,r,n,o,i){return n.instantiatePromise||(n.instantiatePromise=(r.registration?Promise.resolve():Promise.resolve().then(function(){return i.lastRegister=void 0,e[bt](r.key,e[bt].length>1&&g(e,r,i))})).then(function(t){if(void 0!==t){if(!(t instanceof l))throw new TypeError(\"Instantiate did not return a valid Module object.\");return delete i.records[r.key],e.trace&&v(e,r,n),o[r.key]=t}var a=r.registration;if(r.registration=void 0,!a)throw new TypeError(\"Module instantiation did not call an anonymous or correctly named System.register.\");return n.dependencies=a[0],r.importerSetters=[],n.moduleObj={},a[2]?(n.moduleObj.default=n.moduleObj.__useDefault={},n.executingRequire=a[1],n.execute=a[2]):y(e,r,n,a[1]),r}).catch(function(e){throw r.linkRecord=void 0,r.loadError=r.loadError||t(e,\"Instantiating \"+r.key)}))}function m(e,t,r,n,o,i){return e.resolve(t,r).then(function(r){i&&(i[t]=r);var a=o.records[r],s=n[r];if(s&&(!a||a.module&&s!==a.module))return s;if(a&&a.loadError)throw a.loadError;(!a||!s&&a.module)&&(a=d(o,r,a&&a.registration));var u=a.linkRecord;return u?h(e,a,u,n,o):a})}function v(e,t,r){e.loads=e.loads||{},e.loads[t.key]={key:t.key,deps:r.dependencies,dynamicDeps:[],depMap:r.depMap||{}}}function y(e,t,r,n){var o=r.moduleObj,i=t.importerSetters,a=!1,s=n.call(st,function(e,t){if(\"object\"==typeof e){var r=!1;for(var n in e)t=e[n],\"__useDefault\"===n||n in o&&o[n]===t||(r=!0,o[n]=t);if(!1===r)return t}else{if((a||e in o)&&o[e]===t)return t;o[e]=t}for(var s=0;s<i.length;s++)i[s](o);return t},new x(e,t.key));r.setters=s.setters,r.execute=s.execute,s.exports&&(r.moduleObj=o=s.exports,a=!0)}function b(e,r,n,o,i){if(n.depsInstantiatePromise)return n.depsInstantiatePromise;for(var a=Array(n.dependencies.length),s=0;s<n.dependencies.length;s++)a[s]=m(e,n.dependencies[s],r.key,o,i,e.trace&&n.depMap||(n.depMap={}));var u=Promise.all(a).then(function(e){if(n.dependencyInstantiations=e,n.setters)for(var t=0;t<e.length;t++){var o=n.setters[t];if(o){var i=e[t];if(i instanceof l)o(i);else{if(i.loadError)throw i.loadError;o(i.module||i.linkRecord.moduleObj),i.importerSetters&&i.importerSetters.push(o)}}}return r});return e.trace&&(u=u.then(function(){return v(e,r,n),r})),(u=u.catch(function(e){throw n.depsInstantiatePromise=void 0,t(e,\"Loading \"+r.key)})).catch(function(){}),n.depsInstantiatePromise=u}function w(e,t,r,n,o){return new Promise(function(r,i){function a(t){var r=t.linkRecord;r&&-1===u.indexOf(t)&&(u.push(t),c++,b(e,t,r,n,o).then(s,i))}function s(e){c--;var t=e.linkRecord;if(t)for(var n=0;n<t.dependencies.length;n++){var o=t.dependencyInstantiations[n];o instanceof l||a(o)}0===c&&r()}var u=[],c=0;a(t)})}function x(e,t){this.loader=e,this.key=this.id=t,this.meta={url:t}}function k(e,t,r,n,o,i){if(t.module)return t.module;if(t.evalError)throw t.evalError;if(i&&-1!==i.indexOf(t))return t.linkRecord.moduleObj;var a=O(e,t,r,n,o,r.setters?[]:i||[]);if(a)throw a;return t.module}function E(e,t,r,n,o,i,a){return function(s){for(var u=0;u<r.length;u++)if(r[u]===s){var c,f=n[u];return c=f instanceof l?f:k(e,f,f.linkRecord,o,i,a),\"__useDefault\"in c?c.__useDefault:c}throw new Error(\"Module \"+s+\" not declared as a System.registerDynamic dependency of \"+t)}}function O(e,r,n,o,i,a){a.push(r);var s;if(n.setters)for(var u,c,f=0;f<n.dependencies.length;f++)if(!((u=n.dependencyInstantiations[f])instanceof l)&&((c=u.linkRecord)&&-1===a.indexOf(u)&&(s=u.evalError?u.evalError:O(e,u,c,o,i,c.setters?a:[])),s))return r.linkRecord=void 0,r.evalError=t(s,\"Evaluating \"+r.key),r.evalError;if(n.execute)if(n.setters)s=S(n.execute);else{var d={id:r.key},p=n.moduleObj;Object.defineProperty(d,\"exports\",{configurable:!0,set:function(e){p.default=p.__useDefault=e},get:function(){return p.__useDefault}});var g=E(e,r.key,n.dependencies,n.dependencyInstantiations,o,i,a);if(!n.executingRequire)for(f=0;f<n.dependencies.length;f++)g(n.dependencies[f]);s=j(n.execute,g,p.default,d),d.exports!==p.__useDefault&&(p.default=p.__useDefault=d.exports);var h=p.default;if(h&&h.__esModule)for(var m in h)Object.hasOwnProperty.call(h,m)&&(p[m]=h[m])}if(r.linkRecord=void 0,s)return r.evalError=t(s,\"Evaluating \"+r.key);if(o[r.key]=r.module=new l(n.moduleObj),!n.setters){if(r.importerSetters)for(f=0;f<r.importerSetters.length;f++)r.importerSetters[f](r.module);r.importerSetters=void 0}}function S(e){try{e.call(wt)}catch(e){return e}}function j(e,t,r,n){try{var o=e.call(st,t,r,n);void 0!==o&&(n.exports=o)}catch(e){return e}}function _(){}function P(e){return e instanceof l?e:new l(e&&e.__esModule?e:{default:e,__useDefault:e})}function M(e){return void 0===xt&&(xt=\"undefined\"!=typeof Symbol&&!!Symbol.toStringTag),e instanceof l||xt&&\"[object Module]\"==Object.prototype.toString.call(e)}function R(e,t){(t||this.warnings&&\"undefined\"!=typeof console&&console.warn)&&console.warn(e)}function C(e,t,r){var n=new Uint8Array(t);return 0===n[0]&&97===n[1]&&115===n[2]?WebAssembly.compile(t).then(function(t){var n=[],o=[],i={};return WebAssembly.Module.imports&&WebAssembly.Module.imports(t).forEach(function(e){var t=e.module;o.push(function(e){i[t]=e}),-1===n.indexOf(t)&&n.push(t)}),e.register(n,function(e){return{setters:o,execute:function(){e(new WebAssembly.Instance(t,i).exports)}}}),r(),!0}):Promise.resolve(!1)}function L(e,t){if(\".\"===e[0])throw new Error(\"Node module \"+e+\" can't be loaded as it is not a package require.\");if(!kt){var r=this._nodeRequire(\"module\"),n=decodeURI(t.substr(at?8:7));(kt=new r(n)).paths=r._nodeModulePaths(n)}return kt.require(e)}function A(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function I(e,t){for(var r in t)Object.hasOwnProperty.call(t,r)&&void 0===e[r]&&(e[r]=t[r]);return e}function F(e,t,r){for(var n in t)if(Object.hasOwnProperty.call(t,n)){var o=t[n];void 0===e[n]?e[n]=o:o instanceof Array&&e[n]instanceof Array?e[n]=[].concat(r?o:e[n]).concat(r?e[n]:o):\"object\"==typeof o&&null!==o&&\"object\"==typeof e[n]?e[n]=(r?I:A)(A({},e[n]),o):r||(e[n]=o)}}function K(e){if(Pt||Mt){var t=document.createElement(\"link\");Pt?(t.rel=\"preload\",t.as=\"script\"):t.rel=\"prefetch\",t.href=e,document.head.appendChild(t)}else(new Image).src=e}function D(e,t,r){try{importScripts(e)}catch(e){r(e)}t()}function U(e,t,r,n,o){function i(){n(),s()}function a(t){s(),o(new Error(\"Fetching \"+e))}function s(){for(var e=0;e<Rt.length;e++)if(Rt[e].err===a){Rt.splice(e,1);break}u.removeEventListener(\"load\",i,!1),u.removeEventListener(\"error\",a,!1),document.head.removeChild(u)}if(e=e.replace(/#/g,\"%23\"),_t)return D(e,n,o);var u=document.createElement(\"script\");u.type=\"text/javascript\",u.charset=\"utf-8\",u.async=!0,t&&(u.crossOrigin=t),r&&(u.integrity=r),u.addEventListener(\"load\",i,!1),u.addEventListener(\"error\",a,!1),u.src=e,document.head.appendChild(u)}function q(e,t){for(var r=e.split(\".\");r.length;)t=t[r.shift()];return t}function T(e,t,r){var o=N(t,r);if(o){var i=t[o]+r.substr(o.length),a=n(i,nt);return void 0!==a?a:e+i}return-1!==r.indexOf(\":\")?r:e+r}function z(e){var t=this.name;if(t.substr(0,e.length)===e&&(t.length===e.length||\"/\"===t[e.length]||\"/\"===e[e.length-1]||\":\"===e[e.length-1])){var r=e.split(\"/\").length;r>this.len&&(this.match=e,this.len=r)}}function N(e,t){if(Object.hasOwnProperty.call(e,t))return t;var r={name:t,match:void 0,len:0};return Object.keys(e).forEach(z,r),r.match}function J(e,t,r,n){if(\"file:///\"===e.substr(0,8)){if(Ft)return $(e,t,r,n);throw new Error(\"Unable to fetch file URLs in this environment.\")}e=e.replace(/#/g,\"%23\");var o={headers:{Accept:\"application/x-es-module, */*\"}};return r&&(o.integrity=r),t&&(\"string\"==typeof t&&(o.headers.Authorization=t),o.credentials=\"include\"),fetch(e,o).then(function(e){if(e.ok)return n?e.arrayBuffer():e.text();throw new Error(\"Fetch error: \"+e.status+\" \"+e.statusText)})}function $(e,t,r,n){return new Promise(function(r,o){function i(){r(n?s.response:s.responseText)}function a(){o(new Error(\"XHR error: \"+(s.status?\" (\"+s.status+(s.statusText?\" \"+s.statusText:\"\")+\")\":\"\")+\" loading \"+e))}e=e.replace(/#/g,\"%23\");var s=new XMLHttpRequest;n&&(s.responseType=\"arraybuffer\"),s.onreadystatechange=function(){4===s.readyState&&(0==s.status?s.response?i():(s.addEventListener(\"error\",a),s.addEventListener(\"load\",i)):200===s.status?i():a())},s.open(\"GET\",e,!0),s.setRequestHeader&&(s.setRequestHeader(\"Accept\",\"application/x-es-module, */*\"),t&&(\"string\"==typeof t&&s.setRequestHeader(\"Authorization\",t),s.withCredentials=!0)),s.send(null)})}function B(e,t,r,n){return\"file:///\"!=e.substr(0,8)?Promise.reject(new Error('Unable to fetch \"'+e+'\". Only file URLs of the form file:/// supported running in Node.')):(Lt=Lt||require(\"fs\"),e=at?e.replace(/\\//g,\"\\\\\").substr(8):e.substr(7),new Promise(function(t,r){Lt.readFile(e,function(e,o){if(e)return r(e);if(n)t(o);else{var i=o+\"\";\"\\ufeff\"===i[0]&&(i=i.substr(1)),t(i)}})}))}function W(){throw new Error(\"No fetch method is defined for this environment.\")}function G(){return{pluginKey:void 0,pluginArgument:void 0,pluginModule:void 0,packageKey:void 0,packageConfig:void 0,load:void 0}}function H(e,t,r){var n=G();if(r){var o;t.pluginFirst?-1!==(o=r.lastIndexOf(\"!\"))&&(n.pluginArgument=n.pluginKey=r.substr(0,o)):-1!==(o=r.indexOf(\"!\"))&&(n.pluginArgument=n.pluginKey=r.substr(o+1)),n.packageKey=N(t.packages,r),n.packageKey&&(n.packageConfig=t.packages[n.packageKey])}return n}function Z(e,t){var r=this[St],n=G(),o=H(this,r,t),i=this;return Promise.resolve().then(function(){var r=e.lastIndexOf(\"#?\");if(-1===r)return Promise.resolve(e);var n=he.call(i,e.substr(r+2));return me.call(i,n,t,!0).then(function(t){return t?e.substr(0,r):\"@empty\"})}).then(function(e){var a=ne(r.pluginFirst,e);return a?(n.pluginKey=a.plugin,Promise.all([ee.call(i,r,a.argument,o&&o.pluginArgument||t,n,o,!0),i.resolve(a.plugin,t)]).then(function(e){if(n.pluginArgument=e[0],n.pluginKey=e[1],n.pluginArgument===n.pluginKey)throw new Error(\"Plugin \"+n.pluginArgument+\" cannot load itself, make sure it is excluded from any wildcard meta configuration via a custom loader: false rule.\");return oe(r.pluginFirst,e[0],e[1])})):ee.call(i,r,e,o&&o.pluginArgument||t,n,o,!1)}).then(function(e){return ve.call(i,e,t,o)}).then(function(e){return re.call(i,r,e,n),n.pluginKey||!n.load.loader?e:i.resolve(n.load.loader,e).then(function(t){return n.pluginKey=t,n.pluginArgument=e,e})}).then(function(e){return i[jt][e]=n,e})}function X(e,t){var r=ne(e.pluginFirst,t);if(r){var n=X.call(this,e,r.plugin);return oe(e.pluginFirst,Q.call(this,e,r.argument,void 0,!1,!1),n)}return Q.call(this,e,t,void 0,!1,!1)}function Y(e,t){var r=this[St],n=G(),o=o||H(this,r,t),i=ne(r.pluginFirst,e);return i?(n.pluginKey=Y.call(this,i.plugin,t),oe(r.pluginFirst,V.call(this,r,i.argument,o.pluginArgument||t,n,o,!!n.pluginKey),n.pluginKey)):V.call(this,r,e,o.pluginArgument||t,n,o,!!n.pluginKey)}function Q(e,t,r,o,i){var a=n(t,r||nt);if(a)return T(e.baseURL,e.paths,a);if(o){var s=N(e.map,t);if(s&&(t=e.map[s]+t.substr(s.length),a=n(t,nt)))return T(e.baseURL,e.paths,a)}if(this.registry.has(t))return t;if(\"@node/\"===t.substr(0,6))return t;var u=i&&\"/\"!==t[t.length-1],l=T(e.baseURL,e.paths,u?t+\"/\":t);return u?l.substr(0,l.length-1):l}function V(e,t,r,n,o,i){if(o&&o.packageConfig&&\".\"!==t[0]){var a=o.packageConfig.map,s=a&&N(a,t);if(s&&\"string\"==typeof a[s]){var u=ue(this,e,o.packageConfig,o.packageKey,s,t,n,i);if(u)return u}}var l=Q.call(this,e,t,r,!0,!0),c=de(e,l);if(n.packageKey=c&&c.packageKey||N(e.packages,l),!n.packageKey)return l;if(-1!==e.packageConfigKeys.indexOf(l))return n.packageKey=void 0,l;n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ee());var f=l.substr(n.packageKey.length+1);return ae(this,e,n.packageConfig,n.packageKey,f,n,i)}function ee(e,t,r,n,o,i){var a=this;return Et.then(function(){if(o&&o.packageConfig&&\"./\"!==t.substr(0,2)){var r=o.packageConfig.map,s=r&&N(r,t);if(s)return ce(a,e,o.packageConfig,o.packageKey,s,t,n,i)}return Et}).then(function(o){if(o)return o;var s=Q.call(a,e,t,r,!0,!0),u=de(e,s);return n.packageKey=u&&u.packageKey||N(e.packages,s),n.packageKey?-1!==e.packageConfigKeys.indexOf(s)?(n.packageKey=void 0,n.load=te(),n.load.format=\"json\",n.load.loader=\"\",Promise.resolve(s)):(n.packageConfig=e.packages[n.packageKey]||(e.packages[n.packageKey]=Ee()),(u&&!n.packageConfig.configured?pe(a,e,u.configPath,n):Et).then(function(){var t=s.substr(n.packageKey.length+1);return le(a,e,n.packageConfig,n.packageKey,t,n,i)})):Promise.resolve(s)})}function te(){return{extension:\"\",deps:void 0,format:void 0,loader:void 0,scriptLoad:void 0,globals:void 0,nonce:void 0,integrity:void 0,sourceMap:void 0,exports:void 0,encapsulateGlobal:!1,crossOrigin:void 0,cjsRequireDetection:!0,cjsDeferDepsExecute:!1,esModule:!1}}function re(e,t,r){r.load=r.load||te();var n,o=0;for(var i in e.meta)if(-1!==(n=i.indexOf(\"*\"))&&i.substr(0,n)===t.substr(0,n)&&i.substr(n+1)===t.substr(t.length-i.length+n+1)){var a=i.split(\"/\").length;a>o&&(o=a),F(r.load,e.meta[i],o!==a)}if(e.meta[t]&&F(r.load,e.meta[t],!1),r.packageKey){var s=t.substr(r.packageKey.length+1),u={};if(r.packageConfig.meta){o=0;ge(r.packageConfig.meta,s,function(e,t,r){r>o&&(o=r),F(u,t,r&&o>r)}),F(r.load,u,!1)}!r.packageConfig.format||r.pluginKey||r.load.loader||(r.load.format=r.load.format||r.packageConfig.format)}}function ne(e,t){var r,n,o=e?t.indexOf(\"!\"):t.lastIndexOf(\"!\");if(-1!==o)return e?(r=t.substr(o+1),n=t.substr(0,o)):(r=t.substr(0,o),n=t.substr(o+1)||r.substr(r.lastIndexOf(\".\")+1)),{argument:r,plugin:n}}function oe(e,t,r){return e?r+\"!\"+t:t+\"!\"+r}function ie(e,t,r,n,o){if(!n||!t.defaultExtension||\"/\"===n[n.length-1]||o)return n;var i=!1;if(t.meta&&ge(t.meta,n,function(e,t,r){if(0===r||e.lastIndexOf(\"*\")!==e.length-1)return i=!0}),!i&&e.meta&&ge(e.meta,r+\"/\"+n,function(e,t,r){if(0===r||e.lastIndexOf(\"*\")!==e.length-1)return i=!0}),i)return n;var a=\".\"+t.defaultExtension;return n.substr(n.length-a.length)!==a?n+a:n}function ae(e,t,r,n,o,i,a){if(!o){if(!r.main)return n;o=\"./\"===r.main.substr(0,2)?r.main.substr(2):r.main}if(r.map){var s=\"./\"+o,u=N(r.map,s);if(u||(s=\"./\"+ie(t,r,n,o,a))!==\"./\"+o&&(u=N(r.map,s)),u){var l=ue(e,t,r,n,u,s,i,a);if(l)return l}}return n+\"/\"+ie(t,r,n,o,a)}function se(e,t,r){return!(t.substr(0,e.length)===e&&r.length>e.length)}function ue(e,t,r,n,o,i,a,s){\"/\"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if(\"object\"==typeof u)throw new Error(\"Synchronous conditional normalization not supported sync normalizing \"+o+\" in \"+n);if(se(o,u,i)&&\"string\"==typeof u)return V.call(e,t,u+i.substr(o.length),n+\"/\",a,a,s)}function le(e,t,r,n,o,i,a){if(!o){if(!r.main)return Promise.resolve(n);o=\"./\"===r.main.substr(0,2)?r.main.substr(2):r.main}var s,u;return r.map&&(s=\"./\"+o,(u=N(r.map,s))||(s=\"./\"+ie(t,r,n,o,a))!==\"./\"+o&&(u=N(r.map,s))),(u?ce(e,t,r,n,u,s,i,a):Et).then(function(e){return e?Promise.resolve(e):Promise.resolve(n+\"/\"+ie(t,r,n,o,a))})}function ce(e,t,r,n,o,i,a,s){\"/\"===i[i.length-1]&&(i=i.substr(0,i.length-1));var u=r.map[o];if(\"string\"==typeof u)return se(o,u,i)?ee.call(e,t,u+i.substr(o.length),n+\"/\",a,a,s).then(function(t){return ve.call(e,t,n+\"/\",a)}):Et;var l=[],c=[];for(var d in u){var p=he(d);c.push({condition:p,map:u[d]}),l.push(f.prototype.import.call(e,p.module,n))}return Promise.all(l).then(function(e){for(var t=0;t<c.length;t++){var r=c[t].condition,n=q(r.prop,\"__useDefault\"in e[t]?e[t].__useDefault:e[t]);if(!r.negate&&n||r.negate&&!n)return c[t].map}}).then(function(r){if(r)return se(o,r,i)?ee.call(e,t,r+i.substr(o.length),n+\"/\",a,a,s).then(function(t){return ve.call(e,t,n+\"/\",a)}):Et})}function fe(e){var t=e.lastIndexOf(\"*\"),r=Math.max(t+1,e.lastIndexOf(\"/\"));return{length:r,regEx:new RegExp(\"^(\"+e.substr(0,r).replace(/[.+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/\\*/g,\"[^\\\\/]+\")+\")(\\\\/|$)\"),wildcard:-1!==t}}function de(e,t){for(var r,n,o=!1,i=0;i<e.packageConfigPaths.length;i++){var a=e.packageConfigPaths[i],s=Dt[a]||(Dt[a]=fe(a));if(!(t.length<s.length)){var u=t.match(s.regEx);!u||r&&(o&&s.wildcard||!(r.length<u[1].length))||(r=u[1],o=!s.wildcard,n=r+a.substr(s.length))}}if(r)return{packageKey:r,configPath:n}}function pe(e,r,n,o,i){var a=e.pluginLoader||e;return-1===r.packageConfigKeys.indexOf(n)&&r.packageConfigKeys.push(n),a.import(n).then(function(e){Oe(o.packageConfig,e,o.packageKey,!0,r),o.packageConfig.configured=!0}).catch(function(e){throw t(e,\"Unable to fetch package configuration file \"+n)})}function ge(e,t,r){var n;for(var o in e){var i=\"./\"===o.substr(0,2)?\"./\":\"\";if(i&&(o=o.substr(2)),-1!==(n=o.indexOf(\"*\"))&&o.substr(0,n)===t.substr(0,n)&&o.substr(n+1)===t.substr(t.length-o.length+n+1)&&r(o,e[i+o],o.split(\"/\").length))return}var a=e[t]&&Object.hasOwnProperty.call(e,t)?e[t]:e[\"./\"+t];a&&r(a,a,0)}function he(e){var t,r,n,o=e.lastIndexOf(\"|\");return-1!==o?(t=e.substr(o+1),r=e.substr(0,o),\"~\"===t[0]&&(n=!0,t=t.substr(1))):(n=\"~\"===e[0],t=\"default\",r=e.substr(n),-1!==Ut.indexOf(r)&&(t=r,r=null)),{module:r||\"@system-env\",prop:t,negate:n}}function me(e,t,r){return f.prototype.import.call(this,e.module,t).then(function(t){var n=q(e.prop,t);if(r&&\"boolean\"!=typeof n)throw new TypeError(\"Condition did not resolve to a boolean.\");return e.negate?!n:n})}function ve(e,t,r){var n=e.match(qt);if(!n)return Promise.resolve(e);var o=he.call(this,n[0].substr(2,n[0].length-3));return me.call(this,o,t,!1).then(function(r){if(\"string\"!=typeof r)throw new TypeError(\"The condition value for \"+e+\" doesn't resolve to a string.\");if(-1!==r.indexOf(\"/\"))throw new TypeError(\"Unabled to interpolate conditional \"+e+(t?\" in \"+t:\"\")+\"\\n\\tThe condition value \"+r+' cannot contain a \"/\" separator.');return e.replace(qt,r)})}function ye(e,t,r){for(var n=0;n<Tt.length;n++){var o=Tt[n];t[o]&&Er[o.substr(0,o.length-6)]&&r(t[o])}}function be(e,t){var r={};for(var n in e){var o=e[n];t>1?o instanceof Array?r[n]=[].concat(o):\"object\"==typeof o?r[n]=be(o,t-1):\"packageConfig\"!==n&&(r[n]=o):r[n]=o}return r}function we(e,t){var r=e[t];return r instanceof Array?e[t].concat([]):\"object\"==typeof r?be(r,3):e[t]}function xe(e){if(e){if(-1!==Or.indexOf(e))return we(this[St],e);throw new Error('\"'+e+'\" is not a valid configuration name. Must be one of '+Or.join(\", \")+\".\")}for(var t={},r=0;r<Or.length;r++){var n=Or[r],o=we(this[St],n);void 0!==o&&(t[n]=o)}return t}function ke(e,t){var r=this,o=this[St];if(\"warnings\"in e&&(o.warnings=e.warnings),\"wasm\"in e&&(o.wasm=\"undefined\"!=typeof WebAssembly&&e.wasm),(\"production\"in e||\"build\"in e)&&tt.call(r,!!e.production,!!(e.build||Er&&Er.build)),!t){var i;ye(r,e,function(e){i=i||e.baseURL}),(i=i||e.baseURL)&&(o.baseURL=n(i,nt)||n(\"./\"+i,nt),\"/\"!==o.baseURL[o.baseURL.length-1]&&(o.baseURL+=\"/\")),e.paths&&A(o.paths,e.paths),ye(r,e,function(e){e.paths&&A(o.paths,e.paths)});for(var a in o.paths)-1!==o.paths[a].indexOf(\"*\")&&(R.call(o,\"Path config \"+a+\" -> \"+o.paths[a]+\" is no longer supported as wildcards are deprecated.\"),delete o.paths[a])}if(e.defaultJSExtensions&&R.call(o,\"The defaultJSExtensions configuration option is deprecated.\\n  Use packages defaultExtension instead.\",!0),\"boolean\"==typeof e.pluginFirst&&(o.pluginFirst=e.pluginFirst),e.map)for(var a in e.map){var s=e.map[a];if(\"string\"==typeof s){var u=Q.call(r,o,s,void 0,!1,!1);\"/\"===u[u.length-1]&&\":\"!==a[a.length-1]&&\"/\"!==a[a.length-1]&&(u=u.substr(0,u.length-1)),o.map[a]=u}else{m=(m=Q.call(r,o,\"/\"!==a[a.length-1]?a+\"/\":a,void 0,!0,!0)).substr(0,m.length-1);var l=o.packages[m];l||((l=o.packages[m]=Ee()).defaultExtension=\"\"),Oe(l,{map:s},m,!1,o)}}if(e.packageConfigPaths){for(var c=[],f=0;f<e.packageConfigPaths.length;f++){var d=e.packageConfigPaths[f],p=Math.max(d.lastIndexOf(\"*\")+1,d.lastIndexOf(\"/\")),g=Q.call(r,o,d.substr(0,p),void 0,!1,!1);c[f]=g+d.substr(p)}o.packageConfigPaths=c}if(e.bundles)for(var a in e.bundles){for(var h=[],f=0;f<e.bundles[a].length;f++)h.push(r.normalizeSync(e.bundles[a][f]));o.bundles[a]=h}if(e.packages)for(var a in e.packages){if(a.match(/^([^\\/]+:)?\\/\\/$/))throw new TypeError('\"'+a+'\" is not a valid package name.');var m=Q.call(r,o,\"/\"!==a[a.length-1]?a+\"/\":a,void 0,!0,!0);m=m.substr(0,m.length-1),Oe(o.packages[m]=o.packages[m]||Ee(),e.packages[a],m,!1,o)}if(e.depCache)for(var a in e.depCache)o.depCache[r.normalizeSync(a)]=[].concat(e.depCache[a]);if(e.meta)for(var a in e.meta)if(\"*\"===a[0])A(o.meta[a]=o.meta[a]||{},e.meta[a]);else{var v=Q.call(r,o,a,void 0,!0,!0);A(o.meta[v]=o.meta[v]||{},e.meta[a])}\"transpiler\"in e&&(o.transpiler=e.transpiler);for(var y in e)-1===Or.indexOf(y)&&-1===Tt.indexOf(y)&&(r[y]=e[y]);ye(r,e,function(e){r.config(e,!0)})}function Ee(){return{defaultExtension:void 0,main:void 0,format:void 0,meta:void 0,map:void 0,packageConfig:void 0,configured:!1}}function Oe(e,t,r,n,o){for(var i in t)\"main\"===i||\"format\"===i||\"defaultExtension\"===i||\"configured\"===i?n&&void 0!==e[i]||(e[i]=t[i]):\"map\"===i?(n?I:A)(e.map=e.map||{},t.map):\"meta\"===i?(n?I:A)(e.meta=e.meta||{},t.meta):Object.hasOwnProperty.call(t,i)&&R.call(o,'\"'+i+'\" is not a valid package configuration option in package '+r);return void 0===e.defaultExtension&&(e.defaultExtension=\"js\"),void 0===e.main&&e.map&&e.map[\".\"]?(e.main=e.map[\".\"],delete e.map[\".\"]):\"object\"==typeof e.main&&(e.map=e.map||{},e.map[\"./@main\"]=e.main,e.main.default=e.main.default||\"./\",e.main=\"@main\"),e}function Se(e){return zt?Wt+new Buffer(e).toString(\"base64\"):\"undefined\"!=typeof btoa?Wt+btoa(unescape(encodeURIComponent(e))):\"\"}function je(e,t,r,n){var o=e.lastIndexOf(\"\\n\");if(t){if(\"object\"!=typeof t)throw new TypeError(\"load.metadata.sourceMap must be set to an object.\");t=JSON.stringify(t)}return(n?\"(function(System, SystemJS) {\":\"\")+e+(n?\"\\n})(System, System);\":\"\")+(\"\\n//# sourceURL=\"!=e.substr(o,15)?\"\\n//# sourceURL=\"+r+(t?\"!transpiled\":\"\"):\"\")+(t&&Se(t)||\"\")}function _e(e,t,r,n,o){Nt||(Nt=document.head||document.body||document.documentElement);var i=document.createElement(\"script\");i.text=je(t,r,n,!1);var a,s=window.onerror;if(window.onerror=function(e){a=addToError(e,\"Evaluating \"+n),s&&s.apply(this,arguments)},Pe(e),o&&i.setAttribute(\"nonce\",o),Nt.appendChild(i),Nt.removeChild(i),Me(),window.onerror=s,a)return a}function Pe(e){0==Gt++&&(Bt=st.System),st.System=st.SystemJS=e}function Me(){0==--Gt&&(st.System=st.SystemJS=Bt)}function Re(e,t,r,n,o,i,a){if(t){if(i&&Ht)return _e(e,t,r,n,i);try{Pe(e),!Jt&&e._nodeRequire&&(Jt=e._nodeRequire(\"vm\"),$t=Jt.runInThisContext(\"typeof System !== 'undefined' && System\")===e),$t?Jt.runInThisContext(je(t,r,n,!a),{filename:n+(r?\"!transpiled\":\"\")}):(0,eval)(je(t,r,n,!a)),Me()}catch(e){return Me(),e}}}function Ce(e){return\"file:///\"===e.substr(0,8)?e.substr(7+!!at):Zt&&e.substr(0,Zt.length)===Zt?e.substr(Zt.length):e}function Le(e,t){return Ce(this.normalizeSync(e,t))}function Ae(e){var t,r=e.lastIndexOf(\"!\"),n=(t=-1!==r?e.substr(0,r):e).split(\"/\");return n.pop(),n=n.join(\"/\"),{filename:Ce(t),dirname:Ce(n)}}function Ie(e){function t(e,t){for(var r=0;r<e.length;r++)if(e[r][0]<t.index&&e[r][1]>t.index)return!0;return!1}It.lastIndex=tr.lastIndex=rr.lastIndex=0;var r,n=[],o=[],i=[];if(e.length/e.split(\"\\n\").length<200){for(;r=rr.exec(e);)o.push([r.index,r.index+r[0].length]);for(;r=tr.exec(e);)t(o,r)||i.push([r.index+r[1].length,r.index+r[0].length-1])}for(;r=It.exec(e);)if(!t(o,r)&&!t(i,r)){var a=r[1].substr(1,r[1].length-2);if(a.match(/\"|'/))continue;n.push(a)}return n}function Fe(e){if(-1===nr.indexOf(e)){try{var t=st[e]}catch(t){nr.push(e)}this(e,t)}}function Ke(e){if(\"string\"==typeof e)return q(e,st);if(!(e instanceof Array))throw new Error(\"Global exports must be a string or array.\");for(var t={},r=0;r<e.length;r++)t[e[r].split(\".\").pop()]=q(e[r],st);return t}function De(e,t,r,n){var o=st.define;st.define=void 0;var i;if(r){i={};for(var a in r)i[a]=st[a],st[a]=r[a]}return t||(Yt={},Object.keys(st).forEach(Fe,function(e,t){Yt[e]=t})),function(){var e,r=t?Ke(t):{},a=!!t;if(t&&!n||Object.keys(st).forEach(Fe,function(o,i){Yt[o]!==i&&void 0!==i&&(n&&(st[o]=void 0),t||(r[o]=i,void 0!==e?a||e===i||(a=!0):e=i))}),r=a?r:e,i)for(var s in i)st[s]=i[s];return st.define=o,r}}function Ue(e,t){var r=((e=e.replace(tr,\"\")).match(ar)[1].split(\",\")[t]||\"require\").replace(sr,\"\"),n=ur[r]||(ur[r]=new RegExp(or+r+ir,\"g\"));n.lastIndex=0;for(var o,i=[];o=n.exec(e);)i.push(o[2]||o[3]);return i}function qe(e){return function(t,r,n){e(t,r,n),\"object\"!=typeof(r=n.exports)&&\"function\"!=typeof r||\"__esModule\"in r||Object.defineProperty(n.exports,\"__esModule\",{value:!0})}}function Te(e,t){Vt=e,cr=t,Qt=void 0,lr=!1}function ze(e){Qt?e.registerDynamic(Vt?Qt[0].concat(Vt):Qt[0],!1,cr?qe(Qt[1]):Qt[1]):lr&&e.registerDynamic([],!1,_)}function Ne(e,t){!e.load.esModule||\"object\"!=typeof t&&\"function\"!=typeof t||\"__esModule\"in t||Object.defineProperty(t,\"__esModule\",{value:!0})}function Je(e,t){var r=this,n=this[St];return(Be(n,this,e)||Et).then(function(){if(!t()){var o=r[jt][e];if(\"@node/\"===e.substr(0,6)){if(!r._nodeRequire)throw new TypeError(\"Error loading \"+e+\". Can only load node core modules in Node.\");return r.registerDynamic([],!1,function(){return L.call(r,e.substr(6),r.baseURL)}),void t()}return o.load.scriptLoad?!o.load.pluginKey&&fr||(o.load.scriptLoad=!1,R.call(n,'scriptLoad not supported for \"'+e+'\"')):!1!==o.load.scriptLoad&&!o.load.pluginKey&&fr&&(o.load.deps||o.load.globals||!(\"system\"===o.load.format||\"register\"===o.load.format||\"global\"===o.load.format&&o.load.exports)||(o.load.scriptLoad=!0)),o.load.scriptLoad?new Promise(function(n,i){if(\"amd\"===o.load.format&&st.define!==r.amdDefine)throw new Error(\"Loading AMD with scriptLoad requires setting the global `\"+pr+\".define = SystemJS.amdDefine`\");U(e,o.load.crossOrigin,o.load.integrity,function(){if(!t()){o.load.format=\"global\";var e=o.load.exports&&Ke(o.load.exports);r.registerDynamic([],!1,function(){return Ne(o,e),e}),t()}n()},i)}):$e(r,e,o).then(function(){return We(r,e,o,t,n.wasm)})}}).then(function(t){return delete r[jt][e],t})}function $e(e,t,r){return r.pluginKey?e.import(r.pluginKey).then(function(e){r.pluginModule=e,r.pluginLoad={name:t,address:r.pluginArgument,source:void 0,metadata:r.load},r.load.deps=r.load.deps||[]}):Et}function Be(e,t,r){var n=e.depCache[r];if(n)for(a=0;a<n.length;a++)t.normalize(n[a],r).then(K);else{var o=!1;for(var i in e.bundles){for(var a=0;a<e.bundles[i].length;a++){var s=e.bundles[i][a];if(s===r){o=!0;break}if(-1!==s.indexOf(\"*\")){var u=s.split(\"*\");if(2!==u.length){e.bundles[i].splice(a--,1);continue}if(r.substr(0,u[0].length)===u[0]&&r.substr(r.length-u[1].length,u[1].length)===u[1]){o=!0;break}}}if(o)return t.import(i)}}}function We(e,t,r,n,o){return r.load.exports&&!r.load.format&&(r.load.format=\"global\"),Et.then(function(){if(r.pluginModule&&r.pluginModule.locate)return Promise.resolve(r.pluginModule.locate.call(e,r.pluginLoad)).then(function(e){e&&(r.pluginLoad.address=e)})}).then(function(){return r.pluginModule?(o=!1,r.pluginModule.fetch?r.pluginModule.fetch.call(e,r.pluginLoad,function(e){return Kt(e.address,r.load.authorization,r.load.integrity,!1)}):Kt(r.pluginLoad.address,r.load.authorization,r.load.integrity,!1)):Kt(t,r.load.authorization,r.load.integrity,o)}).then(function(i){return o&&\"string\"!=typeof i?C(e,i,n).then(function(o){if(!o){var a=ot?new TextDecoder(\"utf-8\").decode(new Uint8Array(i)):i.toString();return Ge(e,t,a,r,n)}}):Ge(e,t,i,r,n)})}function Ge(e,t,r,n,o){return Promise.resolve(r).then(function(t){return\"detect\"===n.load.format&&(n.load.format=void 0),Ve(t,n),n.pluginModule?(n.pluginLoad.source=t,n.pluginModule.translate?Promise.resolve(n.pluginModule.translate.call(e,n.pluginLoad,n.traceOpts)).then(function(e){if(n.load.sourceMap){if(\"object\"!=typeof n.load.sourceMap)throw new Error(\"metadata.load.sourceMap must be set to an object.\");Xe(n.pluginLoad.address,n.load.sourceMap)}return\"string\"==typeof e?e:n.pluginLoad.source}):t):t}).then(function(r){return n.load.format||'\"bundle\"'!==r.substring(0,8)?\"register\"===n.load.format||!n.load.format&&He(r)?(n.load.format=\"register\",r):\"esm\"===n.load.format||!n.load.format&&r.match(gr)?(n.load.format=\"esm\",Ye(e,r,t,n,o)):r:(n.load.format=\"system\",r)}).then(function(t){if(\"string\"!=typeof t||!n.pluginModule||!n.pluginModule.instantiate)return t;var r=!1;return n.pluginLoad.source=t,Promise.resolve(n.pluginModule.instantiate.call(e,n.pluginLoad,function(e){if(t=e.source,n.load=e.metadata,r)throw new Error(\"Instantiate must only be called once.\");r=!0})).then(function(e){return r?t:P(e)})}).then(function(r){if(\"string\"!=typeof r)return r;n.load.format||(n.load.format=Ze(r));var i=!1;switch(n.load.format){case\"esm\":case\"register\":case\"system\":if(u=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1))throw u;if(!o())return Ot;return;case\"json\":var a=JSON.parse(r);return e.newModule({default:a,__useDefault:a});case\"amd\":var s=st.define;st.define=e.amdDefine,Te(n.load.deps,n.load.esModule);var u=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if((i=o())||(ze(e),i=o()),st.define=s,u)throw u;break;case\"cjs\":var l=n.load.deps,c=(n.load.deps||[]).concat(n.load.cjsRequireDetection?Ie(r):[]);for(var f in n.load.globals)n.load.globals[f]&&c.push(n.load.globals[f]);e.registerDynamic(c,!0,function(o,i,a){if(o.resolve=function(t){return Le.call(e,t,a.id)},a.paths=[],a.require=o,!n.load.cjsDeferDepsExecute&&l)for(var s=0;s<l.length;s++)o(l[s]);var u=Ae(a.id),c={exports:i,args:[o,i,a,u.filename,u.dirname,st,st]},f=\"(function (require, exports, module, __filename, __dirname, global, GLOBAL\";if(n.load.globals)for(var d in n.load.globals)c.args.push(o(n.load.globals[d])),f+=\", \"+d;var p=st.define;st.define=void 0,st.__cjsWrapper=c,r=f+\") {\"+r.replace(yr,\"\")+\"\\n}).apply(__cjsWrapper.exports, __cjsWrapper.args);\";var g=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!1);if(g)throw g;Ne(n,i),st.__cjsWrapper=void 0,st.define=p}),i=o();break;case\"global\":c=n.load.deps||[];for(var f in n.load.globals){var d=n.load.globals[f];d&&c.push(d)}e.registerDynamic(c,!1,function(o,i,a){var s;if(n.load.globals){s={};for(var u in n.load.globals)n.load.globals[u]&&(s[u]=o(n.load.globals[u]))}var l=n.load.exports;l&&(r+=\"\\n\"+pr+'[\"'+l+'\"] = '+l+\";\");var c=De(a.id,l,s,n.load.encapsulateGlobal),f=Re(e,r,n.load.sourceMap,t,n.load.integrity,n.load.nonce,!0);if(f)throw f;var d=c();return Ne(n,d),d}),i=o();break;default:throw new TypeError('Unknown module format \"'+n.load.format+'\" for \"'+t+'\".'+(\"es6\"===n.load.format?' Use \"esm\" instead here.':\"\"))}if(!i)throw new Error(\"Module \"+t+\" detected as \"+n.load.format+\" but didn't execute correctly.\")})}function He(e){var t=e.match(hr);return t&&\"System.register\"===e.substr(t[0].length,15)}function Ze(e){return e.match(mr)?\"amd\":(vr.lastIndex=0,It.lastIndex=0,It.exec(e)||vr.exec(e)?\"cjs\":\"global\")}function Xe(e,t){var r=e.split(\"!\")[0];t.file&&t.file!=e||(t.file=r+\"!transpiled\"),(!t.sources||t.sources.length<=1&&(!t.sources[0]||t.sources[0]===e))&&(t.sources=[r])}function Ye(e,r,n,o,i){if(!e.transpiler)throw new TypeError(\"Unable to dynamically transpile ES module\\n   A loader plugin needs to be configured via `SystemJS.config({ transpiler: 'transpiler-module' })`.\");if(o.load.deps){for(var a=\"\",s=0;s<o.load.deps.length;s++)a+='import \"'+o.load.deps[s]+'\"; ';r=a+r}return e.import.call(e,e.transpiler).then(function(t){if(!(t=t.__useDefault||t).translate)throw new Error(e.transpiler+\" is not a valid transpiler plugin.\");return t===o.pluginModule?r:(\"string\"==typeof o.load.sourceMap&&(o.load.sourceMap=JSON.parse(o.load.sourceMap)),o.pluginLoad=o.pluginLoad||{name:n,address:n,source:r,metadata:o.load},o.load.deps=o.load.deps||[],Promise.resolve(t.translate.call(e,o.pluginLoad,o.traceOpts)).then(function(e){var t=o.load.sourceMap;return t&&\"object\"==typeof t&&Xe(n,t),\"esm\"===o.load.format&&He(e)&&(o.load.format=\"register\"),e}))},function(e){throw t(e,\"Unable to load transpiler to transpile \"+n)})}function Qe(e,t,r){for(var n,o=t.split(\".\");o.length>1;)e=e[n=o.shift()]=e[n]||{};void 0===e[n=o.shift()]&&(e[n]=r)}function Ve(e,t){var r=e.match(br);if(r)for(var n=r[0].match(wr),o=0;o<n.length;o++){var i=n[o],a=i.length,s=i.substr(0,1);if(\";\"==i.substr(a-1,1)&&a--,'\"'==s||\"'\"==s){var u=i.substr(1,i.length-3),l=u.substr(0,u.indexOf(\" \"));if(l){var c=u.substr(l.length+1,u.length-l.length-1);\"deps\"===l&&(l=\"deps[]\"),\"[]\"===l.substr(l.length-2,2)?(l=l.substr(0,l.length-2),t.load[l]=t.load[l]||[],t.load[l].push(c)):\"use\"!==l&&Qe(t.load,l,c)}else t.load[u]=!0}}}function et(){f.call(this),this._loader={},this[jt]={},this[St]={baseURL:nt,paths:{},packageConfigPaths:[],packageConfigKeys:[],map:{},packages:{},depCache:{},meta:{},bundles:{},production:!1,transpiler:void 0,loadedBundles:{},warnings:!1,pluginFirst:!1,wasm:!1},this.scriptSrc=dr,this._nodeRequire=er,this.registry.set(\"@empty\",Ot),tt.call(this,!1,!1),Xt(this)}function tt(e,t){this[St].production=e,this.registry.set(\"@system-env\",Er=this.newModule({browser:ot,node:!!this._nodeRequire,production:!t&&e,dev:t||!e,build:t,default:!0}))}function rt(e,t){R.call(e[St],\"SystemJS.\"+t+\" is deprecated for SystemJS.registry.\"+t)}var nt,ot=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,it=\"undefined\"!=typeof process&&process.versions&&process.versions.node,at=\"undefined\"!=typeof process&&\"string\"==typeof process.platform&&process.platform.match(/^win/),st=\"undefined\"!=typeof self?self:global,ut=\"undefined\"!=typeof Symbol;if(\"undefined\"!=typeof document&&document.getElementsByTagName){if(!(nt=document.baseURI)){var lt=document.getElementsByTagName(\"base\");nt=lt[0]&&lt[0].href||window.location.href}}else\"undefined\"!=typeof location&&(nt=location.href);if(nt){var ct=(nt=nt.split(\"#\")[0].split(\"?\")[0]).lastIndexOf(\"/\");-1!==ct&&(nt=nt.substr(0,ct+1))}else{if(\"undefined\"==typeof process||!process.cwd)throw new TypeError(\"No environment baseURI\");nt=\"file://\"+(at?\"/\":\"\")+process.cwd(),at&&(nt=nt.replace(/\\\\/g,\"/\"))}\"/\"!==nt[nt.length-1]&&(nt+=\"/\");var ft=\"_\"==new Error(0,\"_\").fileName,dt=Promise.resolve();i.prototype.constructor=i,i.prototype.import=function(e,r){if(\"string\"!=typeof e)throw new TypeError(\"Loader import method must be passed a module key string\");var n=this;return dt.then(function(){return n[gt](e,r)}).then(a).catch(function(n){throw t(n,\"Loading \"+e+(r?\" from \"+r:\"\"))})};var pt=i.resolve=e(\"resolve\"),gt=i.resolveInstantiate=e(\"resolveInstantiate\");i.prototype[gt]=function(e,t){var r=this;return r.resolve(e,t).then(function(e){return r.registry.get(e)})},i.prototype.resolve=function(e,r){var n=this;return dt.then(function(){return n[pt](e,r)}).then(s).catch(function(n){throw t(n,\"Resolving \"+e+(r?\" to \"+r:\"\"))})};var ht=\"undefined\"!=typeof Symbol&&Symbol.iterator,mt=e(\"registry\");ht&&(u.prototype[Symbol.iterator]=function(){return this.entries()[Symbol.iterator]()},u.prototype.entries=function(){var e=this[mt];return o(Object.keys(e).map(function(t){return[t,e[t]]}))}),u.prototype.keys=function(){return o(Object.keys(this[mt]))},u.prototype.values=function(){var e=this[mt];return o(Object.keys(e).map(function(t){return e[t]}))},u.prototype.get=function(e){return this[mt][e]},u.prototype.set=function(e,t){if(!(t instanceof l))throw new Error(\"Registry must be set with an instance of Module Namespace\");return this[mt][e]=t,this},u.prototype.has=function(e){return Object.hasOwnProperty.call(this[mt],e)},u.prototype.delete=function(e){return!!Object.hasOwnProperty.call(this[mt],e)&&(delete this[mt][e],!0)};var vt=e(\"baseObject\");l.prototype=Object.create(null),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l.prototype,Symbol.toStringTag,{value:\"Module\"});var yt=e(\"register-internal\");f.prototype=Object.create(i.prototype),f.prototype.constructor=f;var bt=f.instantiate=e(\"instantiate\");f.prototype[f.resolve=i.resolve]=function(e,t){return n(e,t||nt)},f.prototype[bt]=function(e,t){},f.prototype[i.resolveInstantiate]=function(e,t){var r=this,n=this[yt],o=this.registry[mt];return p(r,e,t,o,n).then(function(e){if(e instanceof l)return e;var t=e.linkRecord;if(!t){if(e.module)return e.module;throw e.evalError}return w(r,e,t,o,n).then(function(){return k(r,e,t,o,n,void 0)})})},f.prototype.register=function(e,t,r){var n=this[yt];void 0===r?n.lastRegister=[e,t,void 0]:(n.records[e]||d(n,e,void 0)).registration=[t,r,void 0]},f.prototype.registerDynamic=function(e,t,r,n){var o=this[yt];\"string\"!=typeof e?o.lastRegister=[e,t,r]:(o.records[e]||d(o,e,void 0)).registration=[t,r,n]},x.prototype.import=function(e){return this.loader.trace&&this.loader.loads[this.key].dynamicDeps.push(e),this.loader.import(e,this.key)};var wt={};Object.freeze&&Object.freeze(wt);var xt,kt,Et=Promise.resolve(),Ot=new l({}),St=e(\"loader-config\"),jt=e(\"metadata\"),_t=\"undefined\"==typeof window&&\"undefined\"!=typeof self&&\"undefined\"!=typeof importScripts,Pt=!1,Mt=!1;if(ot&&function(){var e=document.createElement(\"link\").relList;if(e&&e.supports){Mt=!0;try{Pt=e.supports(\"preload\")}catch(e){}}}(),ot){var Rt=[],Ct=window.onerror;window.onerror=function(e,t){for(var r=0;r<Rt.length;r++)if(Rt[r].src===t)return void Rt[r].err(e);Ct&&Ct.apply(this,arguments)}}var Lt,At,It=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.\"'])require\\s*\\(\\s*(\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'|`[^`\\\\]*(?:\\\\.[^`\\\\]*)*`)\\s*\\)/g,Ft=\"undefined\"!=typeof XMLHttpRequest,Kt=At=\"undefined\"!=typeof self&&void 0!==self.fetch?J:Ft?$:\"undefined\"!=typeof require&&\"undefined\"!=typeof process?B:W,Dt={},Ut=[\"browser\",\"node\",\"dev\",\"build\",\"production\",\"default\"],qt=/#\\{[^\\}]+\\}/,Tt=[\"browserConfig\",\"nodeConfig\",\"devConfig\",\"buildConfig\",\"productionConfig\"],zt=\"undefined\"!=typeof Buffer;try{zt&&\"YQ==\"!==new Buffer(\"a\").toString(\"base64\")&&(zt=!1)}catch(e){zt=!1}var Nt,Jt,$t,Bt,Wt=\"\\n//# sourceMappingURL=data:application/json;base64,\",Gt=0,Ht=!1;ot&&\"undefined\"!=typeof document&&document.getElementsByTagName&&(window.chrome&&window.chrome.extension||navigator.userAgent.match(/^Node\\.js/)||(Ht=!0));var Zt,Xt=function(e){function t(r,n,o,i){if(\"object\"==typeof r&&!(r instanceof Array))return t.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if(\"string\"==typeof r&&\"function\"==typeof n&&(r=[r]),!(r instanceof Array)){if(\"string\"==typeof r){var a=e.decanonicalize(r,i),s=e.get(a);if(!s)throw new Error('Module not already loaded loading \"'+r+'\" as '+a+(i?' from \"'+i+'\".':\".\"));return\"__useDefault\"in s?s.__useDefault:s}throw new TypeError(\"Invalid require\")}for(var u=[],l=0;l<r.length;l++)u.push(e.import(r[l],i));Promise.all(u).then(function(e){n&&n.apply(null,e)},o)}function r(r,n,o){function i(r,i,l){for(var c=[],f=0;f<n.length;f++)c.push(r(n[f]));if(l.uri=l.id,l.config=_,-1!==u&&c.splice(u,0,l),-1!==s&&c.splice(s,0,i),-1!==a){var d=function(n,o,i){return\"string\"==typeof n&&\"function\"!=typeof o?r(n):t.call(e,n,o,i,l.id)};d.toUrl=function(t){return e.normalizeSync(t,l.id)},c.splice(a,0,d)}var p=st.require;st.require=t;var g=o.apply(-1===s?st:i,c);st.require=p,void 0!==g&&(l.exports=g)}\"string\"!=typeof r&&(o=n,n=r,r=null),n instanceof Array||(o=n,n=[\"require\",\"exports\",\"module\"].splice(0,o.length)),\"function\"!=typeof o&&(o=function(e){return function(){return e}}(o)),r||Vt&&(n=n.concat(Vt),Vt=void 0);var a,s,u;-1!==(a=n.indexOf(\"require\"))&&(n.splice(a,1),r||(n=n.concat(Ue(o.toString(),a)))),-1!==(s=n.indexOf(\"exports\"))&&n.splice(s,1),-1!==(u=n.indexOf(\"module\"))&&n.splice(u,1),r?(e.registerDynamic(r,n,!1,i),Qt?(Qt=void 0,lr=!0):lr||(Qt=[n,i])):e.registerDynamic(n,!1,cr?qe(i):i)}e.set(\"@@cjs-helpers\",e.newModule({requireResolve:Le.bind(e),getPathVars:Ae})),e.set(\"@@global-helpers\",e.newModule({prepareGlobal:De})),r.amd={},e.amdDefine=r,e.amdRequire=t};\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.location&&(Zt=location.protocol+\"//\"+location.hostname+(location.port?\":\"+location.port:\"\"));var Yt,Qt,Vt,er,tr=/(^|[^\\\\])(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/gm,rr=/(\"[^\"\\\\\\n\\r]*(\\\\.[^\"\\\\\\n\\r]*)*\"|'[^'\\\\\\n\\r]*(\\\\.[^'\\\\\\n\\r]*)*')/g,nr=[\"_g\",\"sessionStorage\",\"localStorage\",\"clipboardData\",\"frames\",\"frameElement\",\"external\",\"mozAnimationStartTime\",\"webkitStorageInfo\",\"webkitIndexedDB\",\"mozInnerScreenY\",\"mozInnerScreenX\"],or=\"(?:^|[^$_a-zA-Z\\\\xA0-\\\\uFFFF.])\",ir=\"\\\\s*\\\\(\\\\s*(\\\"([^\\\"]+)\\\"|'([^']+)')\\\\s*\\\\)\",ar=/\\(([^\\)]*)\\)/,sr=/^\\s+|\\s+$/g,ur={},lr=!1,cr=!1,fr=(ot||_t)&&\"undefined\"!=typeof navigator&&navigator.userAgent&&!navigator.userAgent.match(/MSIE (9|10).0/);\"undefined\"==typeof require||\"undefined\"==typeof process||process.browser||(er=require);var dr,pr=\"undefined\"!=typeof self?\"self\":\"global\",gr=/(^\\s*|[}\\);\\n]\\s*)(import\\s*(['\"]|(\\*\\s+as\\s+)?(?!type)([^\"'\\(\\)\\n; ]+)\\s*from\\s*['\"]|\\{)|export\\s+\\*\\s+from\\s+[\"']|export\\s*(\\{|default|function|class|var|const|let|async\\s+function))/,hr=/^(\\s*\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\s*\\/\\/[^\\n]*|\\s*\"[^\"]+\"\\s*;?|\\s*'[^']+'\\s*;?)*\\s*/,mr=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.])define\\s*\\(\\s*(\"[^\"]+\"\\s*,\\s*|'[^']+'\\s*,\\s*)?\\s*(\\[(\\s*((\"[^\"]+\"|'[^']+')\\s*,|\\/\\/.*\\r?\\n|\\/\\*(.|\\s)*?\\*\\/))*(\\s*(\"[^\"]+\"|'[^']+')\\s*,?)?(\\s*(\\/\\/.*\\r?\\n|\\/\\*(.|\\s)*?\\*\\/))*\\s*\\]|function\\s*|{|[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*\\))/,vr=/(?:^\\uFEFF?|[^$_a-zA-Z\\xA0-\\uFFFF.])(exports\\s*(\\[['\"]|\\.)|module(\\.exports|\\['exports'\\]|\\[\"exports\"\\])\\s*(\\[['\"]|[=,\\.]))/,yr=/^\\#\\!.*/,br=/^(\\s*\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\s*\\/\\/[^\\n]*|\\s*\"[^\"]+\"\\s*;?|\\s*'[^']+'\\s*;?)+/,wr=/\\/\\*[^\\*]*(\\*(?!\\/)[^\\*]*)*\\*\\/|\\/\\/[^\\n]*|\"[^\"]+\"\\s*;?|'[^']+'\\s*;?/g;if(\"undefined\"==typeof Promise)throw new Error(\"SystemJS needs a Promise polyfill.\");if(\"undefined\"!=typeof document){var xr=document.getElementsByTagName(\"script\"),kr=xr[xr.length-1];document.currentScript&&(kr.defer||kr.async)&&(kr=document.currentScript),dr=kr&&kr.src}else if(\"undefined\"!=typeof importScripts)try{throw new Error(\"_\")}catch(e){e.stack.replace(/(?:at|@).*(http.+):[\\d]+:[\\d]+/,function(e,t){dr=t})}else\"undefined\"!=typeof __filename&&(dr=__filename);var Er;et.prototype=Object.create(f.prototype),et.prototype.constructor=et,et.prototype[et.resolve=f.resolve]=et.prototype.normalize=Z,et.prototype.load=function(e,t){return R.call(this[St],\"System.load is deprecated.\"),this.import(e,t)},et.prototype.decanonicalize=et.prototype.normalizeSync=et.prototype.resolveSync=Y,et.prototype[et.instantiate=f.instantiate]=Je,et.prototype.config=ke,et.prototype.getConfig=xe,et.prototype.global=st,et.prototype.import=function(){return f.prototype.import.apply(this,arguments).then(function(e){return\"__useDefault\"in e?e.__useDefault:e})};for(var Or=[\"baseURL\",\"map\",\"paths\",\"packages\",\"packageConfigPaths\",\"depCache\",\"meta\",\"bundles\",\"transpiler\",\"warnings\",\"pluginFirst\",\"production\",\"wasm\"],Sr=\"undefined\"!=typeof Proxy,jr=0;jr<Or.length;jr++)!function(e){Object.defineProperty(et.prototype,e,{get:function(){var t=we(this[St],e);return Sr&&\"object\"==typeof t&&(t=new Proxy(t,{set:function(t,r){throw new Error(\"Cannot set SystemJS.\"+e+'[\"'+r+'\"] directly. Use SystemJS.config({ '+e+': { \"'+r+'\": ... } }) rather.')}})),t},set:function(t){throw new Error(\"Setting `SystemJS.\"+e+\"` directly is no longer supported. Use `SystemJS.config({ \"+e+\": ... })`.\")}})}(Or[jr]);et.prototype.delete=function(e){return rt(this,\"delete\"),this.registry.delete(e)},et.prototype.get=function(e){return rt(this,\"get\"),this.registry.get(e)},et.prototype.has=function(e){return rt(this,\"has\"),this.registry.has(e)},et.prototype.set=function(e,t){return rt(this,\"set\"),this.registry.set(e,t)},et.prototype.newModule=function(e){return new l(e)},et.prototype.isModule=M,et.prototype.register=function(e,t,r){return\"string\"==typeof e&&(e=X.call(this,this[St],e)),f.prototype.register.call(this,e,t,r)},et.prototype.registerDynamic=function(e,t,r,n){return\"string\"==typeof e&&(e=X.call(this,this[St],e)),f.prototype.registerDynamic.call(this,e,t,r,n)},et.prototype.version=\"0.20.19 Dev\";var _r=new et;(ot||_t)&&(st.SystemJS=st.System=_r),\"undefined\"!=typeof module&&module.exports&&(module.exports=_r)}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/systemjs/dist/system.js\n// module id = 1420\n// module chunks = 0","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = 1422\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = 1423\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 1425\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = 1424\n// module chunks = 0","import config from 'app/core/config';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport {PanelCtrl} from 'app/features/panel/panel_ctrl';\n\nimport * as rangeUtil from 'app/core/utils/rangeutil';\nimport * as dateMath from 'app/core/utils/datemath';\n\nimport {metricsTabDirective} from './metrics_tab';\n\nclass MetricsPanelCtrl extends PanelCtrl {\n  scope: any;\n  loading: boolean;\n  datasource: any;\n  datasourceName: any;\n  $q: any;\n  $timeout: any;\n  datasourceSrv: any;\n  timeSrv: any;\n  templateSrv: any;\n  timing: any;\n  range: any;\n  interval: any;\n  intervalMs: any;\n  resolution: any;\n  timeInfo: any;\n  skipDataOnInit: boolean;\n  dataStream: any;\n  dataSubscription: any;\n  dataList: any;\n  nextRefId: string;\n\n  constructor($scope, $injector) {\n    super($scope, $injector);\n\n    // make metrics tab the default\n    this.editorTabIndex = 1;\n    this.$q = $injector.get('$q');\n    this.datasourceSrv = $injector.get('datasourceSrv');\n    this.timeSrv = $injector.get('timeSrv');\n    this.templateSrv = $injector.get('templateSrv');\n    this.scope = $scope;\n    this.panel.datasource = this.panel.datasource || null;\n\n    if (!this.panel.targets) {\n      this.panel.targets = [{}];\n    }\n\n    this.events.on('refresh', this.onMetricsPanelRefresh.bind(this));\n    this.events.on('init-edit-mode', this.onInitMetricsPanelEditMode.bind(this));\n    this.events.on('panel-teardown', this.onPanelTearDown.bind(this));\n  }\n\n  private onPanelTearDown() {\n    if (this.dataSubscription) {\n      this.dataSubscription.unsubscribe();\n      this.dataSubscription = null;\n    }\n  }\n\n  private onInitMetricsPanelEditMode() {\n    this.addEditorTab('Metrics', metricsTabDirective);\n    this.addEditorTab('Time range', 'public/app/features/panel/partials/panelTime.html');\n  }\n\n  private onMetricsPanelRefresh() {\n    // ignore fetching data if another panel is in fullscreen\n    if (this.otherPanelInFullscreenMode()) { return; }\n\n    // if we have snapshot data use that\n    if (this.panel.snapshotData) {\n      this.updateTimeRange();\n      var data = this.panel.snapshotData;\n      // backward compatability\n      if (!_.isArray(data)) {\n        data = data.data;\n      }\n\n      this.events.emit('data-snapshot-load', data);\n      return;\n    }\n\n    // // ignore if we have data stream\n    if (this.dataStream) {\n      return;\n    }\n\n    // clear loading/error state\n    delete this.error;\n    this.loading = true;\n\n    // load datasource service\n    this.setTimeQueryStart();\n    this.datasourceSrv.get(this.panel.datasource)\n    .then(this.updateTimeRange.bind(this))\n    .then(this.issueQueries.bind(this))\n    .then(this.handleQueryResult.bind(this))\n    .catch(err => {\n      // if cancelled  keep loading set to true\n      if (err.cancelled) {\n        console.log('Panel request cancelled', err);\n        return;\n      }\n\n      this.loading = false;\n      this.error = err.message || \"Request Error\";\n      this.inspector = {error: err};\n\n      if (err.data) {\n        if (err.data.message) {\n          this.error = err.data.message;\n        }\n        if (err.data.error) {\n          this.error = err.data.error;\n        }\n      }\n\n      this.events.emit('data-error', err);\n      console.log('Panel data error:', err);\n    });\n  }\n\n\n  setTimeQueryStart() {\n    this.timing.queryStart = new Date().getTime();\n  }\n\n  setTimeQueryEnd() {\n    this.timing.queryEnd = new Date().getTime();\n  }\n\n  updateTimeRange(datasource?) {\n    this.datasource = datasource || this.datasource;\n    this.range = this.timeSrv.timeRange();\n\n    this.applyPanelTimeOverrides();\n\n    if (this.panel.maxDataPoints) {\n      this.resolution = this.panel.maxDataPoints;\n    } else {\n      this.resolution = Math.ceil($(window).width() * (this.panel.span / 12));\n    }\n\n    this.calculateInterval();\n\n    return this.datasource;\n  }\n\n  calculateInterval() {\n    var intervalOverride = this.panel.interval;\n\n    // if no panel interval check datasource\n    if (intervalOverride) {\n      intervalOverride = this.templateSrv.replace(intervalOverride, this.panel.scopedVars);\n    } else if (this.datasource && this.datasource.interval) {\n      intervalOverride = this.datasource.interval;\n    }\n\n    var res = kbn.calculateInterval(this.range, this.resolution, intervalOverride);\n    this.interval = res.interval;\n    this.intervalMs = res.intervalMs;\n  }\n\n  applyPanelTimeOverrides() {\n    this.timeInfo = '';\n\n    // check panel time overrrides\n    if (this.panel.timeFrom) {\n      var timeFromInterpolated = this.templateSrv.replace(this.panel.timeFrom, this.panel.scopedVars);\n      var timeFromInfo = rangeUtil.describeTextRange(timeFromInterpolated);\n      if (timeFromInfo.invalid) {\n        this.timeInfo = 'invalid time override';\n        return;\n      }\n\n      if (_.isString(this.range.raw.from)) {\n        var timeFromDate = dateMath.parse(timeFromInfo.from);\n        this.timeInfo = timeFromInfo.display;\n        this.range.from = timeFromDate;\n        this.range.to = dateMath.parse(timeFromInfo.to);\n        this.range.raw.from = timeFromInfo.from;\n        this.range.raw.to = timeFromInfo.to;\n      }\n    }\n\n    if (this.panel.timeShift) {\n      var timeShiftInterpolated = this.templateSrv.replace(this.panel.timeShift, this.panel.scopedVars);\n      var timeShiftInfo = rangeUtil.describeTextRange(timeShiftInterpolated);\n      if (timeShiftInfo.invalid) {\n        this.timeInfo = 'invalid timeshift';\n        return;\n      }\n\n      var timeShift = '-' + timeShiftInterpolated;\n      this.timeInfo += ' timeshift ' + timeShift;\n      this.range.from = dateMath.parseDateMath(timeShift, this.range.from, false);\n      this.range.to = dateMath.parseDateMath(timeShift, this.range.to, true);\n      this.range.raw = {from: this.range.from, to: this.range.to};\n    }\n\n    if (this.panel.hideTimeOverride) {\n      this.timeInfo = '';\n    }\n  }\n\n  issueQueries(datasource) {\n    this.datasource = datasource;\n\n    if (!this.panel.targets || this.panel.targets.length === 0) {\n      return this.$q.when([]);\n    }\n\n    // make shallow copy of scoped vars,\n    // and add built in variables interval and interval_ms\n    var scopedVars = Object.assign({}, this.panel.scopedVars, {\n      \"__interval\":     {text: this.interval,   value: this.interval},\n      \"__interval_ms\":  {text: this.intervalMs, value: this.intervalMs},\n    });\n\n    var metricsQuery = {\n      timezone: this.dashboard.getTimezone(),\n      panelId: this.panel.id,\n      range: this.range,\n      rangeRaw: this.range.raw,\n      interval: this.interval,\n      intervalMs: this.intervalMs,\n      targets: this.panel.targets,\n      maxDataPoints: this.resolution,\n      scopedVars: scopedVars,\n      cacheTimeout: this.panel.cacheTimeout\n    };\n\n    return datasource.query(metricsQuery);\n  }\n\n  handleQueryResult(result) {\n    this.setTimeQueryEnd();\n    this.loading = false;\n\n    // check for if data source returns subject\n    if (result && result.subscribe) {\n      this.handleDataStream(result);\n      return;\n    }\n\n    if (this.dashboard.snapshot) {\n      this.panel.snapshotData = result.data;\n    }\n\n    if (!result || !result.data) {\n      console.log('Data source query result invalid, missing data field:', result);\n      result = {data: []};\n    }\n\n    this.events.emit('data-received', result.data);\n  }\n\n  handleDataStream(stream) {\n    // if we already have a connection\n    if (this.dataStream) {\n      console.log('two stream observables!');\n      return;\n    }\n\n    this.dataStream = stream;\n    this.dataSubscription = stream.subscribe({\n      next: (data) => {\n        console.log('dataSubject next!');\n        if (data.range) {\n          this.range = data.range;\n        }\n        this.events.emit('data-received', data.data);\n      },\n      error: (error) => {\n        this.events.emit('data-error', error);\n        console.log('panel: observer got error');\n      },\n      complete: () => {\n        console.log('panel: observer got complete');\n        this.dataStream = null;\n      }\n    });\n  }\n\n  setDatasource(datasource) {\n    // switching to mixed\n    if (datasource.meta.mixed) {\n      _.each(this.panel.targets, target => {\n        target.datasource = this.panel.datasource;\n        if (!target.datasource) {\n          target.datasource = config.defaultDatasource;\n        }\n      });\n    } else if (this.datasource && this.datasource.meta.mixed) {\n      _.each(this.panel.targets, target => {\n        delete target.datasource;\n      });\n    }\n\n    this.panel.datasource = datasource.value;\n    this.datasourceName = datasource.name;\n    this.datasource = null;\n    this.refresh();\n  }\n\n  addQuery(target) {\n    target.refId = this.dashboard.getNextQueryLetter(this.panel);\n\n    this.panel.targets.push(target);\n    this.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\n  }\n\n  removeQuery(target) {\n    var index = _.indexOf(this.panel.targets, target);\n    this.panel.targets.splice(index, 1);\n    this.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\n    this.refresh();\n  }\n\n  moveQuery(target, direction) {\n    var index = _.indexOf(this.panel.targets, target);\n    _.move(this.panel.targets, index, index + direction);\n  }\n}\n\nexport {MetricsPanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/metrics_panel_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport {DashboardModel} from '../dashboard/model';\nimport Remarkable from 'remarkable';\n\nexport class MetricsTabCtrl {\n  dsName: string;\n  panel: any;\n  panelCtrl: any;\n  datasources: any[];\n  datasourceInstance: any;\n  nextRefId: string;\n  dashboard: DashboardModel;\n  panelDsValue: any;\n  addQueryDropdown: any;\n  queryTroubleshooterOpen: boolean;\n  helpOpen: boolean;\n  optionsOpen: boolean;\n  hasQueryHelp: boolean;\n  helpHtml: string;\n  queryOptions: any;\n\n  /** @ngInject */\n  constructor($scope, private $sce, datasourceSrv, private backendSrv) {\n    this.panelCtrl = $scope.ctrl;\n    $scope.ctrl = this;\n\n    this.panel = this.panelCtrl.panel;\n    this.dashboard = this.panelCtrl.dashboard;\n    this.datasources = datasourceSrv.getMetricSources();\n    this.panelDsValue = this.panelCtrl.panel.datasource;\n\n    for (let ds of this.datasources) {\n      if (ds.value === this.panelDsValue) {\n        this.datasourceInstance = ds;\n      }\n    }\n\n    this.addQueryDropdown = {text: 'Add Query', value: null, fake: true};\n\n    // update next ref id\n    this.panelCtrl.nextRefId = this.dashboard.getNextQueryLetter(this.panel);\n    this.updateDatasourceOptions();\n  }\n\n  updateDatasourceOptions() {\n    if (this.datasourceInstance) {\n      this.hasQueryHelp = this.datasourceInstance.meta.hasQueryHelp;\n      this.queryOptions = this.datasourceInstance.meta.queryOptions;\n    }\n  }\n\n  getOptions(includeBuiltin) {\n    return Promise.resolve(this.datasources.filter(value => {\n      return includeBuiltin || !value.meta.builtIn;\n    }).map(ds => {\n      return {value: ds.value, text: ds.name, datasource: ds};\n    }));\n  }\n\n  datasourceChanged(option) {\n    if (!option) {\n      return;\n    }\n\n    this.datasourceInstance = option.datasource;\n    this.panelCtrl.setDatasource(option.datasource);\n    this.updateDatasourceOptions();\n  }\n\n  addMixedQuery(option) {\n    if (!option) {\n      return;\n    }\n\n    this.panelCtrl.addQuery({isNew: true, datasource: option.datasource.name});\n    this.addQueryDropdown = {text: 'Add Query', value: null, fake: true};\n  }\n\n  addQuery() {\n    this.panelCtrl.addQuery({isNew: true});\n  }\n\n  toggleHelp() {\n    this.optionsOpen = false;\n    this.queryTroubleshooterOpen = false;\n    this.helpOpen = !this.helpOpen;\n\n    this.backendSrv.get(`/api/plugins/${this.datasourceInstance.meta.id}/markdown/query_help`).then(res => {\n      var md = new Remarkable();\n      this.helpHtml = this.$sce.trustAsHtml(md.render(res));\n    });\n  }\n\n  toggleOptions() {\n    this.helpOpen = false;\n    this.queryTroubleshooterOpen = false;\n    this.optionsOpen = !this.optionsOpen;\n  }\n\n  toggleQueryTroubleshooter() {\n    this.helpOpen = false;\n    this.optionsOpen = false;\n    this.queryTroubleshooterOpen = !this.queryTroubleshooterOpen;\n  }\n}\n\n/** @ngInject **/\nexport function metricsTabDirective() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/features/panel/partials/metrics_tab.html',\n    controller: MetricsTabCtrl,\n  };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/metrics_tab.ts"," ///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {ThresholdMapper} from './threshold_mapper';\nimport {QueryPart} from 'app/core/components/query_part/query_part';\nimport alertDef from './alert_def';\nimport config from 'app/core/config';\nimport appEvents from 'app/core/app_events';\n\nexport class AlertTabCtrl {\n  panel: any;\n  panelCtrl: any;\n  testing: boolean;\n  testResult: any;\n  subTabIndex: number;\n  conditionTypes: any;\n  alert: any;\n  conditionModels: any;\n  evalFunctions: any;\n  evalOperators: any;\n  noDataModes: any;\n  executionErrorModes: any;\n  addNotificationSegment;\n  notifications;\n  alertNotifications;\n  error: string;\n  appSubUrl: string;\n  alertHistory: any;\n\n  /** @ngInject */\n  constructor(private $scope,\n              private backendSrv,\n              private dashboardSrv,\n              private uiSegmentSrv,\n              private $q,\n              private datasourceSrv) {\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.$scope.ctrl = this;\n    this.subTabIndex = 0;\n    this.evalFunctions = alertDef.evalFunctions;\n    this.evalOperators = alertDef.evalOperators;\n    this.conditionTypes = alertDef.conditionTypes;\n    this.noDataModes = alertDef.noDataModes;\n    this.executionErrorModes = alertDef.executionErrorModes;\n    this.appSubUrl = config.appSubUrl;\n  }\n\n  $onInit() {\n    this.addNotificationSegment = this.uiSegmentSrv.newPlusButton();\n\n    // subscribe to graph threshold handle changes\n    var thresholdChangedEventHandler = this.graphThresholdChanged.bind(this);\n    this.panelCtrl.events.on('threshold-changed', thresholdChangedEventHandler);\n\n    // set panel alert edit mode\n    this.$scope.$on(\"$destroy\", () => {\n      this.panelCtrl.events.off(\"threshold-changed\", thresholdChangedEventHandler);\n      this.panelCtrl.editingThresholds = false;\n      this.panelCtrl.render();\n    });\n\n    // build notification model\n    this.notifications = [];\n    this.alertNotifications = [];\n    this.alertHistory = [];\n\n    return this.backendSrv.get('/api/alert-notifications').then(res => {\n      this.notifications = res;\n\n      this.initModel();\n      this.validateModel();\n    });\n  }\n\n  getAlertHistory() {\n    this.backendSrv.get(`/api/annotations?dashboardId=${this.panelCtrl.dashboard.id}&panelId=${this.panel.id}&limit=50`).then(res => {\n      this.alertHistory = _.map(res, ah => {\n        ah.time = this.dashboardSrv.getCurrent().formatDate(ah.time, 'MMM D, YYYY HH:mm:ss');\n        ah.stateModel = alertDef.getStateDisplayModel(ah.newState);\n        ah.info = alertDef.getAlertAnnotationInfo(ah);\n        return ah;\n      });\n    });\n  }\n\n  getNotificationIcon(type): string {\n    switch (type) {\n      case \"email\": return \"fa fa-envelope\";\n      case \"slack\": return \"fa fa-slack\";\n      case \"victorops\": return \"fa fa-pagelines\";\n      case \"webhook\": return \"fa fa-cubes\";\n      case \"pagerduty\": return \"fa fa-bullhorn\";\n      case \"opsgenie\": return \"fa fa-bell\";\n      case \"hipchat\": return \"fa fa-mail-forward\";\n      case \"pushover\": return \"fa fa-mobile\";\n      case \"kafka\": return \"fa fa-random\";\n    }\n    return 'fa fa-bell';\n  }\n\n  getNotifications() {\n    return Promise.resolve(this.notifications.map(item => {\n      return this.uiSegmentSrv.newSegment(item.name);\n    }));\n  }\n\n  changeTabIndex(newTabIndex) {\n    this.subTabIndex = newTabIndex;\n\n    if (this.subTabIndex === 2) {\n      this.getAlertHistory();\n    }\n  }\n\n  notificationAdded() {\n    var model = _.find(this.notifications, {name: this.addNotificationSegment.value});\n    if (!model) {\n      return;\n    }\n\n    this.alertNotifications.push({\n      name: model.name,\n      iconClass: this.getNotificationIcon(model.type),\n      isDefault: false\n    });\n    this.alert.notifications.push({id: model.id});\n\n    // reset plus button\n    this.addNotificationSegment.value = this.uiSegmentSrv.newPlusButton().value;\n    this.addNotificationSegment.html = this.uiSegmentSrv.newPlusButton().html;\n  }\n\n  removeNotification(index) {\n    this.alert.notifications.splice(index, 1);\n    this.alertNotifications.splice(index, 1);\n  }\n\n  initModel() {\n    var alert = this.alert = this.panel.alert;\n    if (!alert) {\n      return;\n    }\n\n    alert.conditions = alert.conditions || [];\n    if (alert.conditions.length === 0) {\n      alert.conditions.push(this.buildDefaultCondition());\n    }\n\n    alert.noDataState = alert.noDataState || 'no_data';\n    alert.executionErrorState = alert.executionErrorState || 'alerting';\n    alert.frequency = alert.frequency || '60s';\n    alert.handler = alert.handler || 1;\n    alert.notifications = alert.notifications || [];\n\n    var defaultName = this.panel.title + ' alert';\n    alert.name = alert.name || defaultName;\n\n    this.conditionModels = _.reduce(alert.conditions, (memo, value) => {\n      memo.push(this.buildConditionModel(value));\n      return memo;\n    }, []);\n\n    ThresholdMapper.alertToGraphThresholds(this.panel);\n\n    for (let addedNotification of alert.notifications) {\n      var model = _.find(this.notifications, {id: addedNotification.id});\n      if (model && model.isDefault === false) {\n        model.iconClass = this.getNotificationIcon(model.type);\n        this.alertNotifications.push(model);\n      }\n    }\n\n    for (let notification of this.notifications) {\n      if (notification.isDefault) {\n        notification.iconClass = this.getNotificationIcon(notification.type);\n        notification.bgColor = \"#00678b\";\n        this.alertNotifications.push(notification);\n      }\n    }\n\n    this.panelCtrl.editingThresholds = true;\n    this.panelCtrl.render();\n  }\n\n  graphThresholdChanged(evt) {\n    for (var condition of this.alert.conditions) {\n      if (condition.type === 'query') {\n        condition.evaluator.params[evt.handleIndex] = evt.threshold.value;\n        this.evaluatorParamsChanged();\n        break;\n      }\n    }\n  }\n\n  buildDefaultCondition() {\n    return {\n      type: 'query',\n      query: {params: ['A', '5m', 'now']},\n      reducer: {type: 'avg', params: []},\n      evaluator: {type: 'gt', params: [null]},\n      operator: {type: 'and'},\n    };\n  }\n\n  validateModel() {\n    if (!this.alert) {\n      return;\n    }\n\n    let firstTarget;\n    var fixed = false;\n    let foundTarget = null;\n\n    for (var condition of this.alert.conditions) {\n      if (condition.type !== 'query') {\n        continue;\n      }\n\n      for (var target of this.panel.targets) {\n        if (!firstTarget) {\n          firstTarget = target;\n        }\n        if (condition.query.params[0] === target.refId) {\n          foundTarget = target;\n          break;\n        }\n      }\n\n      if (!foundTarget) {\n        if (firstTarget) {\n          condition.query.params[0] = firstTarget.refId;\n          foundTarget = firstTarget;\n          fixed = true;\n        } else {\n          this.error = \"Could not find any metric queries\";\n        }\n      }\n\n      var datasourceName = foundTarget.datasource || this.panel.datasource;\n      this.datasourceSrv.get(datasourceName).then(ds => {\n        if (!ds.meta.alerting) {\n          this.error = 'The datasource does not support alerting queries';\n        } else if (ds.targetContainsTemplate(foundTarget)) {\n          this.error = 'Template variables are not supported in alert queries';\n        } else {\n          this.error = '';\n        }\n      });\n    }\n  }\n\n  buildConditionModel(source) {\n    var cm: any = {source: source, type: source.type};\n\n    cm.queryPart = new QueryPart(source.query, alertDef.alertQueryDef);\n    cm.reducerPart = alertDef.createReducerPart(source.reducer);\n    cm.evaluator = source.evaluator;\n    cm.operator = source.operator;\n\n    return cm;\n  }\n\n  handleQueryPartEvent(conditionModel, evt) {\n    switch (evt.name) {\n      case \"action-remove-part\": {\n        break;\n      }\n      case \"get-part-actions\": {\n        return this.$q.when([]);\n      }\n      case \"part-param-changed\": {\n        this.validateModel();\n      }\n      case \"get-param-options\": {\n        var result = this.panel.targets.map(target => {\n          return this.uiSegmentSrv.newSegment({ value: target.refId });\n        });\n\n        return this.$q.when(result);\n      }\n    }\n  }\n\n  handleReducerPartEvent(conditionModel, evt) {\n    switch (evt.name) {\n      case \"action\": {\n        conditionModel.source.reducer.type = evt.action.value;\n        conditionModel.reducerPart = alertDef.createReducerPart(conditionModel.source.reducer);\n        break;\n      }\n      case \"get-part-actions\": {\n        var result = [];\n        for (var type of alertDef.reducerTypes) {\n          if (type.value !== conditionModel.source.reducer.type) {\n            result.push(type);\n          }\n        }\n        return this.$q.when(result);\n      }\n    }\n  }\n\n  addCondition(type) {\n    var condition = this.buildDefaultCondition();\n    // add to persited model\n    this.alert.conditions.push(condition);\n    // add to view model\n    this.conditionModels.push(this.buildConditionModel(condition));\n  }\n\n  removeCondition(index) {\n    this.alert.conditions.splice(index, 1);\n    this.conditionModels.splice(index, 1);\n  }\n\n  delete() {\n    appEvents.emit('confirm-modal', {\n      title: 'Delete Alert',\n      text: 'Are you sure you want to delete this alert rule?',\n      text2: 'You need to save dashboard for the delete to take effect',\n      icon: 'fa-trash',\n      yesText: 'Delete',\n      onConfirm: () => {\n        delete this.panel.alert;\n        this.alert = null;\n        this.panel.thresholds = [];\n        this.conditionModels = [];\n        this.panelCtrl.alertState = null;\n        this.panelCtrl.render();\n      }\n    });\n  }\n\n  enable() {\n    this.panel.alert = {};\n    this.initModel();\n  }\n\n  evaluatorParamsChanged() {\n    ThresholdMapper.alertToGraphThresholds(this.panel);\n    this.panelCtrl.render();\n  }\n\n  evaluatorTypeChanged(evaluator) {\n    // ensure params array is correct length\n    switch (evaluator.type) {\n      case \"lt\":\n        case \"gt\": {\n        evaluator.params = [evaluator.params[0]];\n        break;\n      }\n      case \"within_range\":\n        case \"outside_range\": {\n        evaluator.params = [evaluator.params[0], evaluator.params[1]];\n        break;\n      }\n      case \"no_value\": {\n        evaluator.params = [];\n      }\n    }\n\n    this.evaluatorParamsChanged();\n  }\n\n  clearHistory() {\n    appEvents.emit('confirm-modal', {\n      title: 'Delete Alert History',\n      text: 'Are you sure you want to remove all history & annotations for this alert?',\n      icon: 'fa-trash',\n      yesText: 'Yes',\n      onConfirm: () => {\n        this.backendSrv.post('/api/annotations/mass-delete', {\n          dashboardId: this.panelCtrl.dashboard.id,\n          panelId: this.panel.id,\n        }).then(res => {\n          this.alertHistory = [];\n          this.panelCtrl.refresh();\n        });\n      }\n    });\n  }\n\n  test() {\n    this.testing = true;\n    this.testResult = false;\n\n    var payload = {\n      dashboard: this.dashboardSrv.getCurrent().getSaveModelClone(),\n      panelId: this.panelCtrl.panel.id,\n    };\n\n    return this.backendSrv.post('/api/alerts/test', payload).then(res => {\n      this.testResult = res;\n      this.testing = false;\n    });\n  }\n}\n\n/** @ngInject */\nexport function alertTab() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/features/alerting/partials/alert_tab.html',\n    controller: AlertTabCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/alerting/alert_tab_ctrl.ts","\nexport class ThresholdMapper {\n\n  static alertToGraphThresholds(panel) {\n    if (panel.type !== 'graph') {\n      return false;\n    }\n\n    for (var i = 0; i < panel.alert.conditions.length; i++) {\n      let condition = panel.alert.conditions[i];\n      if (condition.type !== 'query') {\n        continue;\n      }\n\n      var evaluator = condition.evaluator;\n      var thresholds = panel.thresholds = [];\n\n      switch (evaluator.type) {\n        case \"gt\": {\n          let value = evaluator.params[0];\n          thresholds.push({value: value, op: 'gt'});\n          break;\n        }\n        case \"lt\": {\n          let value = evaluator.params[0];\n          thresholds.push({value: value, op: 'lt'});\n          break;\n        }\n        case \"outside_range\": {\n          let value1 = evaluator.params[0];\n          let value2 = evaluator.params[1];\n\n          if (value1 > value2) {\n            thresholds.push({value: value1, op: 'gt'});\n            thresholds.push({value: value2, op: 'lt'});\n          } else {\n            thresholds.push({value: value1, op: 'lt'});\n            thresholds.push({value: value2, op: 'gt'});\n          }\n\n          break;\n        }\n        case \"within_range\": {\n          let value1 = evaluator.params[0];\n          let value2 = evaluator.params[1];\n\n          if (value1 > value2) {\n            thresholds.push({value: value1, op: 'lt'});\n            thresholds.push({value: value2, op: 'gt'});\n          } else {\n            thresholds.push({value: value1, op: 'gt'});\n            thresholds.push({value: value2, op: 'lt'});\n          }\n          break;\n        }\n      }\n      break;\n    }\n\n    for (var t of panel.thresholds) {\n      t.fill = true;\n      t.line = true;\n      t.colorMode = 'critical';\n    }\n\n    var updated = true;\n    return updated;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/alerting/threshold_mapper.ts","import * as graphitePlugin from 'app/plugins/datasource/graphite/module';\nimport * as cloudwatchPlugin from 'app/plugins/datasource/cloudwatch/module';\nimport * as elasticsearchPlugin from 'app/plugins/datasource/elasticsearch/module';\nimport * as opentsdbPlugin from 'app/plugins/datasource/opentsdb/module';\nimport * as grafanaPlugin from 'app/plugins/datasource/grafana/module';\nimport * as influxdbPlugin from 'app/plugins/datasource/influxdb/module';\nimport * as mixedPlugin from 'app/plugins/datasource/mixed/module';\nimport * as mysqlPlugin from 'app/plugins/datasource/mysql/module';\nimport * as postgresPlugin from 'app/plugins/datasource/postgres/module';\nimport * as prometheusPlugin from 'app/plugins/datasource/prometheus/module';\n\nimport * as textPanel from 'app/plugins/panel/text/module';\nimport * as graphPanel from 'app/plugins/panel/graph/module';\nimport * as dashListPanel from 'app/plugins/panel/dashlist/module';\nimport * as pluginsListPanel from 'app/plugins/panel/pluginlist/module';\nimport * as alertListPanel from 'app/plugins/panel/alertlist/module';\nimport * as heatmapPanel from 'app/plugins/panel/heatmap/module';\nimport * as tablePanel from 'app/plugins/panel/table/module';\nimport * as singlestatPanel from 'app/plugins/panel/singlestat/module';\nimport * as gettingStartedPanel from 'app/plugins/panel/gettingstarted/module';\nimport * as testDataAppPlugin from 'app/plugins/app/testdata/module';\nimport * as testDataDSPlugin from 'app/plugins/app/testdata/datasource/module';\n\nconst builtInPlugins = {\n  \"app/plugins/datasource/graphite/module\": graphitePlugin,\n  \"app/plugins/datasource/cloudwatch/module\": cloudwatchPlugin,\n  \"app/plugins/datasource/elasticsearch/module\": elasticsearchPlugin,\n  \"app/plugins/datasource/opentsdb/module\": opentsdbPlugin,\n  \"app/plugins/datasource/grafana/module\": grafanaPlugin,\n  \"app/plugins/datasource/influxdb/module\": influxdbPlugin,\n  \"app/plugins/datasource/mixed/module\": mixedPlugin,\n  \"app/plugins/datasource/mysql/module\": mysqlPlugin,\n  \"app/plugins/datasource/postgres/module\": postgresPlugin,\n  \"app/plugins/datasource/prometheus/module\": prometheusPlugin,\n  \"app/plugins/app/testdata/module\": testDataAppPlugin,\n  \"app/plugins/app/testdata/datasource/module\": testDataDSPlugin,\n\n  \"app/plugins/panel/text/module\": textPanel,\n  \"app/plugins/panel/graph/module\": graphPanel,\n  \"app/plugins/panel/dashlist/module\": dashListPanel,\n  \"app/plugins/panel/pluginlist/module\": pluginsListPanel,\n  \"app/plugins/panel/alertlist/module\": alertListPanel,\n  \"app/plugins/panel/heatmap/module\": heatmapPanel,\n  \"app/plugins/panel/table/module\": tablePanel,\n  \"app/plugins/panel/singlestat/module\": singlestatPanel,\n  \"app/plugins/panel/gettingstarted/module\": gettingStartedPanel,\n};\n\nexport default builtInPlugins;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/built_in_plugins.ts","import {GraphiteDatasource} from './datasource';\nimport {GraphiteQueryCtrl} from './query_ctrl';\nimport {GraphiteConfigCtrl} from './config_ctrl';\n\nclass AnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  GraphiteDatasource as Datasource,\n  GraphiteQueryCtrl as QueryCtrl,\n  GraphiteConfigCtrl as ConfigCtrl,\n  AnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport * as dateMath from 'app/core/utils/datemath';\nimport {isVersionGtOrEq, SemVersion} from 'app/core/utils/version';\n\n/** @ngInject */\nexport function GraphiteDatasource(instanceSettings, $q, backendSrv, templateSrv) {\n  this.basicAuth = instanceSettings.basicAuth;\n  this.url = instanceSettings.url;\n  this.name = instanceSettings.name;\n  this.graphiteVersion = instanceSettings.jsonData.graphiteVersion || '0.9';\n  this.supportsTags = supportsTags(this.graphiteVersion);\n  this.cacheTimeout = instanceSettings.cacheTimeout;\n  this.withCredentials = instanceSettings.withCredentials;\n  this.render_method = instanceSettings.render_method || 'POST';\n\n  this.getQueryOptionsInfo = function() {\n    return {\n      \"maxDataPoints\": true,\n      \"cacheTimeout\": true,\n      \"links\": [\n        {\n          text: \"Help\",\n          url: \"http://docs.grafana.org/features/datasources/graphite/#using-graphite-in-grafana\"\n        }\n      ]\n    };\n  };\n\n  this.query = function(options) {\n    var graphOptions = {\n      from: this.translateTime(options.rangeRaw.from, false),\n      until: this.translateTime(options.rangeRaw.to, true),\n      targets: options.targets,\n      format: options.format,\n      cacheTimeout: options.cacheTimeout || this.cacheTimeout,\n      maxDataPoints: options.maxDataPoints,\n    };\n\n    var params = this.buildGraphiteParams(graphOptions, options.scopedVars);\n    if (params.length === 0) {\n      return $q.when({data: []});\n    }\n\n    var httpOptions: any = {\n      method: 'POST',\n      url: '/render',\n      data: params.join('&'),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n    };\n\n    if (options.panelId) {\n      httpOptions.requestId = this.name + '.panelId.' + options.panelId;\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(this.convertDataPointsToMs);\n  };\n\n  this.convertDataPointsToMs = function(result) {\n    if (!result || !result.data) { return []; }\n    for (var i = 0; i < result.data.length; i++) {\n      var series = result.data[i];\n      for (var y = 0; y < series.datapoints.length; y++) {\n        series.datapoints[y][1] *= 1000;\n      }\n    }\n    return result;\n  };\n\n  this.parseTags = function(tagString) {\n    let tags = [];\n    tags = tagString.split(',');\n    if (tags.length === 1) {\n      tags = tagString.split(' ');\n      if (tags[0] === '') {\n        tags = [];\n      }\n    }\n    return tags;\n  };\n\n  this.annotationQuery = function(options) {\n    // Graphite metric as annotation\n    if (options.annotation.target) {\n      var target = templateSrv.replace(options.annotation.target, {}, 'glob');\n      var graphiteQuery = {\n        rangeRaw: options.rangeRaw,\n        targets: [{ target: target }],\n        format: 'json',\n        maxDataPoints: 100\n      };\n\n      return this.query(graphiteQuery).then(function(result) {\n        var list = [];\n\n        for (var i = 0; i < result.data.length; i++) {\n          var target = result.data[i];\n\n          for (var y = 0; y < target.datapoints.length; y++) {\n            var datapoint = target.datapoints[y];\n            if (!datapoint[0]) { continue; }\n\n            list.push({\n              annotation: options.annotation,\n              time: datapoint[1],\n              title: target.target\n            });\n          }\n        }\n\n        return list;\n      });\n    } else {\n      // Graphite event as annotation\n      var tags = templateSrv.replace(options.annotation.tags);\n      return this.events({range: options.rangeRaw, tags: tags}).then(results => {\n        var list = [];\n        for (var i = 0; i < results.data.length; i++) {\n          var e = results.data[i];\n\n          var tags = e.tags;\n          if (_.isString(e.tags)) {\n            tags = this.parseTags(e.tags);\n          }\n\n          list.push({\n            annotation: options.annotation,\n            time: e.when * 1000,\n            title: e.what,\n            tags: tags,\n            text: e.data\n          });\n        }\n\n        return list;\n      });\n    }\n  };\n\n  this.events = function(options) {\n    try {\n      var tags = '';\n      if (options.tags) {\n        tags = '&tags=' + options.tags;\n      }\n      return this.doGraphiteRequest({\n        method: 'GET',\n        url: '/events/get_data?from=' + this.translateTime(options.range.from, false) +\n          '&until=' + this.translateTime(options.range.to, true) + tags,\n      });\n    } catch (err) {\n      return $q.reject(err);\n    }\n  };\n\n  this.targetContainsTemplate = function(target) {\n    return templateSrv.variableExists(target.target);\n  };\n\n  this.translateTime = function(date, roundUp) {\n    if (_.isString(date)) {\n      if (date === 'now') {\n        return 'now';\n      } else if (date.indexOf('now-') >= 0 && date.indexOf('/') === -1) {\n        date = date.substring(3);\n        date = date.replace('m', 'min');\n        date = date.replace('M', 'mon');\n        return date;\n      }\n      date = dateMath.parse(date, roundUp);\n    }\n\n    // graphite' s from filter is exclusive\n    // here we step back one minute in order\n    // to guarantee that we get all the data that\n    // exists for the specified range\n    if (roundUp) {\n      if (date.get('s')) {\n        date.add(1, 'm');\n      }\n    } else if (roundUp === false) {\n      if (date.get('s')) {\n        date.subtract(1, 'm');\n      }\n    }\n\n    return date.unix();\n  };\n\n  this.metricFindQuery = function(query, optionalOptions) {\n    let options = optionalOptions || {};\n    let interpolatedQuery = templateSrv.replace(query);\n\n    let httpOptions: any =  {\n      method: 'GET',\n      url: '/metrics/find',\n      params: {\n        query: interpolatedQuery\n      },\n      // for cancellations\n      requestId: options.requestId,\n    };\n\n    if (options && options.range) {\n      httpOptions.params.from = this.translateTime(options.range.from, false);\n      httpOptions.params.until = this.translateTime(options.range.to, true);\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      return _.map(results.data, metric => {\n        return {\n          text: metric.text,\n          expandable: metric.expandable ? true : false\n        };\n      });\n    });\n  };\n\n  this.getTags = function(optionalOptions) {\n    let options = optionalOptions || {};\n\n    let httpOptions: any =  {\n      method: 'GET',\n      url: '/tags',\n      // for cancellations\n      requestId: options.requestId,\n    };\n\n    if (options && options.range) {\n      httpOptions.params.from = this.translateTime(options.range.from, false);\n      httpOptions.params.until = this.translateTime(options.range.to, true);\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      return _.map(results.data, tag => {\n        return {\n          text: tag.tag,\n          id: tag.id\n        };\n      });\n    });\n  };\n\n  this.getTagValues = function(tag, optionalOptions) {\n    let options = optionalOptions || {};\n\n    let httpOptions: any = {\n      method: 'GET',\n      url: '/tags/' + tag,\n      // for cancellations\n      requestId: options.requestId,\n    };\n\n    if (options && options.range) {\n      httpOptions.params.from = this.translateTime(options.range.from, false);\n      httpOptions.params.until = this.translateTime(options.range.to, true);\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      if (results.data && results.data.values) {\n        return _.map(results.data.values, value => {\n          return {\n            text: value.value,\n            id: value.id\n          };\n        });\n      } else {\n        return [];\n      }\n    });\n  };\n\n  this.getTagsAutoComplete = (expression, tagPrefix) => {\n    let httpOptions: any = {\n      method: 'GET',\n      url: '/tags/autoComplete/tags',\n      params: {\n        expr: expression\n      }\n    };\n\n    if (tagPrefix) {\n      httpOptions.params.tagPrefix = tagPrefix;\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      if (results.data) {\n        return _.map(results.data, (tag) => {\n          return { text: tag };\n        });\n      } else {\n        return [];\n      }\n    });\n  };\n\n  this.getTagValuesAutoComplete = (expression, tag, valuePrefix) => {\n    let httpOptions: any = {\n      method: 'GET',\n      url: '/tags/autoComplete/values',\n      params: {\n        expr: expression,\n        tag: tag\n      }\n    };\n\n    if (valuePrefix) {\n      httpOptions.params.valuePrefix = valuePrefix;\n    }\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      if (results.data) {\n        return _.map(results.data, (value) => {\n          return { text: value };\n        });\n      } else {\n        return [];\n      }\n    });\n  };\n\n  this.getVersion = function() {\n    let httpOptions = {\n      method: 'GET',\n      url: '/version/_', // Prevent last / trimming\n    };\n\n    return this.doGraphiteRequest(httpOptions).then(results => {\n      if (results.data) {\n        let semver = new SemVersion(results.data);\n        return semver.isValid() ? results.data : '';\n      }\n      return '';\n    }).catch(() => {\n      return '';\n    });\n  };\n\n  this.testDatasource = function() {\n    return this.metricFindQuery('*').then(function () {\n      return { status: \"success\", message: \"Data source is working\"};\n    });\n  };\n\n  this.doGraphiteRequest = function(options) {\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n    if (this.basicAuth) {\n      options.headers = options.headers || {};\n      options.headers.Authorization = this.basicAuth;\n    }\n\n    options.url = this.url + options.url;\n    options.inspect = {type: 'graphite'};\n\n    return backendSrv.datasourceRequest(options);\n  };\n\n  this._seriesRefLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n  this.buildGraphiteParams = function(options, scopedVars) {\n    var graphite_options = ['from', 'until', 'rawData', 'format', 'maxDataPoints', 'cacheTimeout'];\n    var clean_options = [], targets = {};\n    var target, targetValue, i;\n    var regex = /\\#([A-Z])/g;\n    var intervalFormatFixRegex = /'(\\d+)m'/gi;\n    var hasTargets = false;\n\n    options['format'] = 'json';\n\n    function fixIntervalFormat(match) {\n      return match.replace('m', 'min').replace('M', 'mon');\n    }\n\n    for (i = 0; i < options.targets.length; i++) {\n      target = options.targets[i];\n      if (!target.target) {\n        continue;\n      }\n\n      if (!target.refId) {\n        target.refId = this._seriesRefLetters[i];\n      }\n\n      targetValue = templateSrv.replace(target.target, scopedVars);\n      targetValue = targetValue.replace(intervalFormatFixRegex, fixIntervalFormat);\n      targets[target.refId] = targetValue;\n    }\n\n    function nestedSeriesRegexReplacer(match, g1) {\n      return targets[g1] || match;\n    }\n\n    for (i = 0; i < options.targets.length; i++) {\n      target = options.targets[i];\n      if (!target.target) {\n        continue;\n      }\n\n      targetValue = targets[target.refId];\n      targetValue = targetValue.replace(regex, nestedSeriesRegexReplacer);\n      targets[target.refId] = targetValue;\n\n      if (!target.hide) {\n        hasTargets = true;\n        clean_options.push(\"target=\" + encodeURIComponent(targetValue));\n      }\n    }\n\n    _.each(options, function (value, key) {\n      if (_.indexOf(graphite_options, key) === -1) { return; }\n      if (value) {\n        clean_options.push(key + \"=\" + encodeURIComponent(value));\n      }\n    });\n\n    if (!hasTargets) {\n      return [];\n    }\n\n    return clean_options;\n  };\n}\n\nfunction supportsTags(version: string): boolean {\n  return isVersionGtOrEq(version, '1.1');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/datasource.ts","import './add_graphite_func';\nimport './func_editor';\n\nimport _ from 'lodash';\nimport gfunc from './gfunc';\nimport GraphiteQuery from './graphite_query';\nimport {QueryCtrl} from 'app/plugins/sdk';\nimport appEvents from 'app/core/app_events';\n\nconst GRAPHITE_TAG_OPERATORS = ['=', '!=', '=~', '!=~'];\nconst TAG_PREFIX = 'tag: ';\n\nexport class GraphiteQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  queryModel: GraphiteQuery;\n  segments: any[];\n  addTagSegments: any[];\n  removeTagValue: string;\n  supportsTags: boolean;\n\n  /** @ngInject **/\n  constructor($scope, $injector, private uiSegmentSrv, private templateSrv) {\n    super($scope, $injector);\n    this.supportsTags = this.datasource.supportsTags;\n\n    if (this.target) {\n      this.target.target = this.target.target || '';\n      this.queryModel = new GraphiteQuery(this.target, templateSrv);\n      this.buildSegments();\n    }\n\n    this.removeTagValue = '-- remove tag --';\n  }\n\n  parseTarget() {\n    this.queryModel.parseTarget();\n    this.buildSegments();\n  }\n\n  toggleEditorMode() {\n    this.target.textEditor = !this.target.textEditor;\n    this.parseTarget();\n  }\n\n  buildSegments() {\n    this.segments = _.map(this.queryModel.segments, segment => {\n      return this.uiSegmentSrv.newSegment(segment);\n    });\n\n    let checkOtherSegmentsIndex = this.queryModel.checkOtherSegmentsIndex || 0;\n    this.checkOtherSegments(checkOtherSegmentsIndex);\n\n    if (this.queryModel.seriesByTagUsed) {\n      this.fixTagSegments();\n    }\n  }\n\n  addSelectMetricSegment() {\n    this.queryModel.addSelectMetricSegment();\n    this.segments.push(this.uiSegmentSrv.newSelectMetric());\n  }\n\n  checkOtherSegments(fromIndex) {\n    if (fromIndex === 0) {\n      this.addSelectMetricSegment();\n      return;\n    }\n\n    var path = this.queryModel.getSegmentPathUpTo(fromIndex + 1);\n    if (path === \"\") {\n      return Promise.resolve();\n    }\n\n    return this.datasource.metricFindQuery(path).then(segments => {\n      if (segments.length === 0) {\n        if (path !== '') {\n          this.queryModel.segments = this.queryModel.segments.splice(0, fromIndex);\n          this.segments = this.segments.splice(0, fromIndex);\n          this.addSelectMetricSegment();\n        }\n      } else if (segments[0].expandable) {\n        if (this.segments.length === fromIndex) {\n          this.addSelectMetricSegment();\n        } else {\n          return this.checkOtherSegments(fromIndex + 1);\n        }\n      }\n    }).catch(err => {\n      appEvents.emit('alert-error', ['Error', err]);\n    });\n  }\n\n  setSegmentFocus(segmentIndex) {\n    _.each(this.segments, (segment, index) => {\n      segment.focus = segmentIndex === index;\n    });\n  }\n\n  getAltSegments(index) {\n    var query = index === 0 ? '*' : this.queryModel.getSegmentPathUpTo(index) + '.*';\n    var options = {range: this.panelCtrl.range, requestId: \"get-alt-segments\"};\n\n    return this.datasource.metricFindQuery(query, options).then(segments => {\n      var altSegments = _.map(segments, segment => {\n        return this.uiSegmentSrv.newSegment({value: segment.text, expandable: segment.expandable});\n      });\n\n      if (altSegments.length === 0) { return altSegments; }\n\n      // add template variables\n      _.each(this.templateSrv.variables, variable => {\n        altSegments.unshift(this.uiSegmentSrv.newSegment({\n          type: 'template',\n          value: '$' + variable.name,\n          expandable: true,\n        }));\n      });\n\n      // add wildcard option\n      altSegments.unshift(this.uiSegmentSrv.newSegment('*'));\n\n      if (this.supportsTags && index === 0) {\n        this.removeTaggedEntry(altSegments);\n        return this.addAltTagSegments(index, altSegments);\n      } else {\n        return altSegments;\n      }\n    }).catch(err => {\n      return [];\n    });\n  }\n\n  addAltTagSegments(index, altSegments) {\n    return this.getTagsAsSegments().then((tagSegments) => {\n      tagSegments = _.map(tagSegments, (segment) => {\n        segment.value = TAG_PREFIX + segment.value;\n        return segment;\n      });\n      return altSegments.concat(...tagSegments);\n    });\n  }\n\n  removeTaggedEntry(altSegments) {\n    altSegments = _.remove(altSegments, (s) => s.value === '_tagged');\n  }\n\n  segmentValueChanged(segment, segmentIndex) {\n    this.error = null;\n    this.queryModel.updateSegmentValue(segment, segmentIndex);\n\n    if (this.queryModel.functions.length > 0 && this.queryModel.functions[0].def.fake) {\n      this.queryModel.functions = [];\n    }\n\n    if (segment.type === 'tag') {\n      let tag = removeTagPrefix(segment.value);\n      this.addSeriesByTagFunc(tag);\n      return;\n    }\n\n    if (segment.expandable) {\n      return this.checkOtherSegments(segmentIndex + 1).then(() => {\n        this.setSegmentFocus(segmentIndex + 1);\n        this.targetChanged();\n      });\n    } else {\n      this.spliceSegments(segmentIndex + 1);\n    }\n\n    this.setSegmentFocus(segmentIndex + 1);\n    this.targetChanged();\n  }\n\n  spliceSegments(index) {\n    this.segments = this.segments.splice(0, index);\n    this.queryModel.segments = this.queryModel.segments.splice(0, index);\n  }\n\n  emptySegments() {\n    this.queryModel.segments = [];\n    this.segments = [];\n  }\n\n  targetTextChanged() {\n    this.updateModelTarget();\n    this.refresh();\n  }\n\n  updateModelTarget() {\n    this.queryModel.updateModelTarget(this.panelCtrl.panel.targets);\n  }\n\n  targetChanged() {\n    if (this.queryModel.error) {\n      return;\n    }\n\n    var oldTarget = this.queryModel.target.target;\n    this.updateModelTarget();\n\n    if (this.queryModel.target !== oldTarget) {\n      var lastSegment = this.segments.length > 0 ? this.segments[this.segments.length - 1] : {};\n      if (lastSegment.value !== 'select metric') {\n        this.panelCtrl.refresh();\n      }\n    }\n  }\n\n  addFunction(funcDef) {\n    var newFunc = gfunc.createFuncInstance(funcDef, { withDefaultParams: true });\n    newFunc.added = true;\n    this.queryModel.addFunction(newFunc);\n    this.smartlyHandleNewAliasByNode(newFunc);\n\n    if (this.segments.length === 1 && this.segments[0].fake) {\n      this.emptySegments();\n    }\n\n    if (!newFunc.params.length && newFunc.added) {\n      this.targetChanged();\n    }\n\n    if (newFunc.def.name === 'seriesByTag') {\n      this.parseTarget();\n    }\n  }\n\n  removeFunction(func) {\n    this.queryModel.removeFunction(func);\n    this.targetChanged();\n  }\n\n  addSeriesByTagFunc(tag) {\n    let funcDef = gfunc.getFuncDef('seriesByTag');\n    let newFunc = gfunc.createFuncInstance(funcDef, { withDefaultParams: false });\n    let tagParam = `${tag}=select tag value`;\n    newFunc.params = [tagParam];\n    this.queryModel.addFunction(newFunc);\n    newFunc.added = true;\n\n    this.emptySegments();\n    this.targetChanged();\n    this.parseTarget();\n  }\n\n  smartlyHandleNewAliasByNode(func) {\n    if (func.def.name !== 'aliasByNode') {\n      return;\n    }\n\n    for (var i = 0; i < this.segments.length; i++) {\n      if (this.segments[i].value.indexOf('*') >= 0) {\n        func.params[0] = i;\n        func.added = false;\n        this.targetChanged();\n        return;\n      }\n    }\n  }\n\n  getAllTags() {\n    return this.datasource.getTags().then((values) => {\n      let altTags = _.map(values, 'text');\n      altTags.splice(0, 0, this.removeTagValue);\n      return mapToDropdownOptions(altTags);\n    });\n  }\n\n  getTags(index, tagPrefix) {\n    let tagExpressions = this.queryModel.renderTagExpressions(index);\n    return this.datasource.getTagsAutoComplete(tagExpressions, tagPrefix)\n    .then((values) => {\n      let altTags = _.map(values, 'text');\n      altTags.splice(0, 0, this.removeTagValue);\n      return mapToDropdownOptions(altTags);\n    });\n  }\n\n  getTagsAsSegments() {\n    let tagExpressions = this.queryModel.renderTagExpressions();\n    return this.datasource.getTagsAutoComplete(tagExpressions)\n    .then((values) => {\n      return _.map(values, (val) => {\n        return this.uiSegmentSrv.newSegment({value: val.text, type: 'tag', expandable: false});\n      });\n    });\n  }\n\n  getTagOperators() {\n    return mapToDropdownOptions(GRAPHITE_TAG_OPERATORS);\n  }\n\n  getAllTagValues(tag) {\n    let tagKey = tag.key;\n    return this.datasource.getTagValues(tagKey).then((values) => {\n      let altValues = _.map(values, 'text');\n      return mapToDropdownOptions(altValues);\n    });\n  }\n\n  getTagValues(tag, index, valuePrefix) {\n    let tagExpressions = this.queryModel.renderTagExpressions(index);\n    let tagKey = tag.key;\n    return this.datasource.getTagValuesAutoComplete(tagExpressions, tagKey, valuePrefix).then((values) => {\n      let altValues = _.map(values, 'text');\n      return mapToDropdownOptions(altValues);\n    });\n  }\n\n  tagChanged(tag, tagIndex) {\n    this.queryModel.updateTag(tag, tagIndex);\n    this.targetChanged();\n  }\n\n  addNewTag(segment) {\n    let newTagKey = segment.value;\n    let newTag = {key: newTagKey, operator: '=', value: 'select tag value'};\n    this.queryModel.addTag(newTag);\n    this.targetChanged();\n    this.fixTagSegments();\n  }\n\n  removeTag(index) {\n    this.queryModel.removeTag(index);\n    this.targetChanged();\n  }\n\n  fixTagSegments() {\n    // Adding tag with the same name as just removed works incorrectly if single segment is used (instead of array)\n    this.addTagSegments = [this.uiSegmentSrv.newPlusButton()];\n  }\n\n  showDelimiter(index) {\n    return index !== this.queryModel.tags.length - 1;\n  }\n}\n\nfunction mapToDropdownOptions(results) {\n  return _.map(results, (value) => {\n    return {text: value, value: value};\n  });\n}\n\nfunction removeTagPrefix(value: string): string {\n  return value.replace(TAG_PREFIX, '');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/query_ctrl.ts","define([\n  'angular',\n  'lodash',\n  'jquery',\n  './gfunc',\n],\nfunction (angular, _, $, gfunc) {\n  'use strict';\n\n  gfunc = gfunc.default;\n\n  angular\n    .module('grafana.directives')\n    .directive('graphiteAddFunc', function($compile) {\n      var inputTemplate = '<input type=\"text\"'+\n                            ' class=\"gf-form-input\"' +\n                            ' spellcheck=\"false\" style=\"display:none\"></input>';\n\n      var buttonTemplate = '<a  class=\"gf-form-label query-part dropdown-toggle\"' +\n                              ' tabindex=\"1\" gf-dropdown=\"functionMenu\" data-toggle=\"dropdown\">' +\n                              '<i class=\"fa fa-plus\"></i></a>';\n\n      return {\n        link: function($scope, elem) {\n          var ctrl = $scope.ctrl;\n          var graphiteVersion = ctrl.datasource.graphiteVersion;\n          var categories = gfunc.getCategories(graphiteVersion);\n          var allFunctions = getAllFunctionNames(categories);\n\n          $scope.functionMenu = createFunctionDropDownMenu(categories);\n\n          var $input = $(inputTemplate);\n          var $button = $(buttonTemplate);\n          $input.appendTo(elem);\n          $button.appendTo(elem);\n\n          $input.attr('data-provide', 'typeahead');\n          $input.typeahead({\n            source: allFunctions,\n            minLength: 1,\n            items: 10,\n            updater: function (value) {\n              var funcDef = gfunc.getFuncDef(value);\n              if (!funcDef) {\n                // try find close match\n                value = value.toLowerCase();\n                funcDef = _.find(allFunctions, function(funcName) {\n                  return funcName.toLowerCase().indexOf(value) === 0;\n                });\n\n                if (!funcDef) { return; }\n              }\n\n              $scope.$apply(function() {\n                ctrl.addFunction(funcDef);\n              });\n\n              $input.trigger('blur');\n              return '';\n            }\n          });\n\n          $button.click(function() {\n            $button.hide();\n            $input.show();\n            $input.focus();\n          });\n\n          $input.keyup(function() {\n            elem.toggleClass('open', $input.val() === '');\n          });\n\n          $input.blur(function() {\n            // clicking the function dropdown menu wont\n            // work if you remove class at once\n            setTimeout(function() {\n              $input.val('');\n              $input.hide();\n              $button.show();\n              elem.removeClass('open');\n            }, 200);\n          });\n\n          $compile(elem.contents())($scope);\n        }\n      };\n    });\n\n  function getAllFunctionNames(categories) {\n    return _.reduce(categories, function(list, category) {\n      _.each(category, function(func) {\n        list.push(func.name);\n      });\n      return list;\n    }, []);\n  }\n\n  function createFunctionDropDownMenu(categories) {\n    return _.map(categories, function(list, category) {\n      var submenu = _.map(list, function(value) {\n        return {\n          text: value.name,\n          click: \"ctrl.addFunction('\" + value.name + \"')\",\n        };\n      });\n\n      return {\n        text: category,\n        submenu: submenu\n      };\n    });\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/graphite/add_graphite_func.js\n// module id = 1435\n// module chunks = 0","define([\n  'angular',\n  'lodash',\n  'jquery',\n],\nfunction (angular, _, $) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('graphiteFuncEditor', function($compile, templateSrv) {\n\n      var funcSpanTemplate = '<a ng-click=\"\">{{func.def.name}}</a><span>(</span>';\n      var paramTemplate = '<input type=\"text\" style=\"display:none\"' +\n                          ' class=\"input-mini tight-form-func-param\"></input>';\n\n      var funcControlsTemplate =\n         '<div class=\"tight-form-func-controls\">' +\n           '<span class=\"pointer fa fa-arrow-left\"></span>' +\n           '<span class=\"pointer fa fa-question-circle\"></span>' +\n           '<span class=\"pointer fa fa-remove\" ></span>' +\n           '<span class=\"pointer fa fa-arrow-right\"></span>' +\n         '</div>';\n\n      return {\n        restrict: 'A',\n        link: function postLink($scope, elem) {\n          var $funcLink = $(funcSpanTemplate);\n          var $funcControls = $(funcControlsTemplate);\n          var ctrl = $scope.ctrl;\n          var func = $scope.func;\n          var funcDef = func.def;\n          var scheduledRelink = false;\n          var paramCountAtLink = 0;\n\n          function clickFuncParam(paramIndex) {\n            /*jshint validthis:true */\n\n            var $link = $(this);\n            var $input = $link.next();\n\n            $input.val(func.params[paramIndex]);\n            $input.css('width', ($link.width() + 16) + 'px');\n\n            $link.hide();\n            $input.show();\n            $input.focus();\n            $input.select();\n\n            var typeahead = $input.data('typeahead');\n            if (typeahead) {\n              $input.val('');\n              typeahead.lookup();\n            }\n          }\n\n          function scheduledRelinkIfNeeded() {\n            if (paramCountAtLink === func.params.length) {\n              return;\n            }\n\n            if (!scheduledRelink) {\n              scheduledRelink = true;\n              setTimeout(function() {\n                relink();\n                scheduledRelink = false;\n              }, 200);\n            }\n          }\n\n          function inputBlur(paramIndex) {\n            /*jshint validthis:true */\n            var $input = $(this);\n            var $link = $input.prev();\n            var newValue = $input.val();\n\n            if (newValue !== '' || func.def.params[paramIndex].optional) {\n              $link.html(templateSrv.highlightVariablesAsHtml(newValue));\n\n              func.updateParam($input.val(), paramIndex);\n              scheduledRelinkIfNeeded();\n\n              $scope.$apply(function() {\n                ctrl.targetChanged();\n              });\n\n              $input.hide();\n              $link.show();\n            }\n          }\n\n          function inputKeyPress(paramIndex, e) {\n            /*jshint validthis:true */\n            if(e.which === 13) {\n              inputBlur.call(this, paramIndex);\n            }\n          }\n\n          function inputKeyDown() {\n            /*jshint validthis:true */\n            this.style.width = (3 + this.value.length) * 8 + 'px';\n          }\n\n          function addTypeahead($input, paramIndex) {\n            $input.attr('data-provide', 'typeahead');\n\n            var options = funcDef.params[paramIndex].options;\n            if (funcDef.params[paramIndex].type === 'int') {\n              options = _.map(options, function(val) { return val.toString(); });\n            }\n\n            $input.typeahead({\n              source: options,\n              minLength: 0,\n              items: 20,\n              updater: function (value) {\n                setTimeout(function() {\n                  inputBlur.call($input[0], paramIndex);\n                }, 0);\n                return value;\n              }\n            });\n\n            var typeahead = $input.data('typeahead');\n            typeahead.lookup = function () {\n              this.query = this.$element.val() || '';\n              return this.process(this.source);\n            };\n          }\n\n          function toggleFuncControls() {\n            var targetDiv = elem.closest('.tight-form');\n\n            if (elem.hasClass('show-function-controls')) {\n              elem.removeClass('show-function-controls');\n              targetDiv.removeClass('has-open-function');\n              $funcControls.hide();\n              return;\n            }\n\n            elem.addClass('show-function-controls');\n            targetDiv.addClass('has-open-function');\n\n            $funcControls.show();\n          }\n\n          function addElementsAndCompile() {\n            $funcControls.appendTo(elem);\n            $funcLink.appendTo(elem);\n\n            _.each(funcDef.params, function(param, index) {\n              if (param.optional && func.params.length <= index) {\n                return;\n              }\n\n              if (index > 0) {\n                $('<span>, </span>').appendTo(elem);\n              }\n\n              var paramValue = templateSrv.highlightVariablesAsHtml(func.params[index]);\n              var $paramLink = $('<a ng-click=\"\" class=\"graphite-func-param-link\">' + paramValue + '</a>');\n              var $input = $(paramTemplate);\n\n              paramCountAtLink++;\n\n              $paramLink.appendTo(elem);\n              $input.appendTo(elem);\n\n              $input.blur(_.partial(inputBlur, index));\n              $input.keyup(inputKeyDown);\n              $input.keypress(_.partial(inputKeyPress, index));\n              $paramLink.click(_.partial(clickFuncParam, index));\n\n              if (funcDef.params[index].options) {\n                addTypeahead($input, index);\n              }\n\n            });\n\n            $('<span>)</span>').appendTo(elem);\n\n            $compile(elem.contents())($scope);\n          }\n\n          function ifJustAddedFocusFistParam() {\n            if ($scope.func.added) {\n              $scope.func.added = false;\n              setTimeout(function() {\n                elem.find('.graphite-func-param-link').first().click();\n              }, 10);\n            }\n          }\n\n          function registerFuncControlsToggle() {\n            $funcLink.click(toggleFuncControls);\n          }\n\n          function registerFuncControlsActions() {\n            $funcControls.click(function(e) {\n              var $target = $(e.target);\n              if ($target.hasClass('fa-remove')) {\n                toggleFuncControls();\n                $scope.$apply(function() {\n                  ctrl.removeFunction($scope.func);\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-arrow-left')) {\n                $scope.$apply(function() {\n                  _.move(ctrl.functions, $scope.$index, $scope.$index - 1);\n                  ctrl.targetChanged();\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-arrow-right')) {\n                $scope.$apply(function() {\n                  _.move(ctrl.functions, $scope.$index, $scope.$index + 1);\n                  ctrl.targetChanged();\n                });\n                return;\n              }\n\n              if ($target.hasClass('fa-question-circle')) {\n                window.open(\"http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions.\" + funcDef.name,'_blank');\n                return;\n              }\n            });\n          }\n\n          function relink() {\n            elem.children().remove();\n\n            addElementsAndCompile();\n            ifJustAddedFocusFistParam();\n            registerFuncControlsToggle();\n            registerFuncControlsActions();\n          }\n\n          relink();\n        }\n      };\n\n    });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/graphite/func_editor.js\n// module id = 1436\n// module chunks = 0","import _ from 'lodash';\nimport gfunc from './gfunc';\nimport {Parser} from './parser';\n\nexport default class GraphiteQuery {\n  target: any;\n  functions: any[];\n  segments: any[];\n  tags: any[];\n  error: any;\n  seriesByTagUsed: boolean;\n  checkOtherSegmentsIndex: number;\n  removeTagValue: string;\n  templateSrv: any;\n  scopedVars: any;\n\n  /** @ngInject */\n  constructor(target, templateSrv?, scopedVars?) {\n    this.target = target;\n    this.parseTarget();\n\n    this.removeTagValue = '-- remove tag --';\n  }\n\n  parseTarget() {\n    this.functions = [];\n    this.segments = [];\n    this.tags = [];\n    this.error = null;\n\n    if (this.target.textEditor) {\n      return;\n    }\n\n    var parser = new Parser(this.target.target);\n    var astNode = parser.getAst();\n    if (astNode === null) {\n      this.checkOtherSegmentsIndex = 0;\n      return;\n    }\n\n    if (astNode.type === 'error') {\n      this.error = astNode.message + \" at position: \" + astNode.pos;\n      this.target.textEditor = true;\n      return;\n    }\n\n    try {\n      this.parseTargetRecursive(astNode, null, 0);\n    } catch (err) {\n      console.log('error parsing target:', err.message);\n      this.error = err.message;\n      this.target.textEditor = true;\n    }\n\n    this.checkOtherSegmentsIndex = this.segments.length - 1;\n    this.checkForSeriesByTag();\n  }\n\n  checkForSeriesByTag() {\n    let seriesByTagFunc = _.find(this.functions, (func) => func.def.name === 'seriesByTag');\n    if (seriesByTagFunc) {\n      this.seriesByTagUsed = true;\n      seriesByTagFunc.hidden = true;\n      let tags = this.splitSeriesByTagParams(seriesByTagFunc);\n      this.tags = tags;\n    }\n  }\n\n  getSegmentPathUpTo(index) {\n    var arr = this.segments.slice(0, index);\n\n    return _.reduce(arr, function(result, segment) {\n      return result ? (result + \".\" + segment.value) : segment.value;\n    }, \"\");\n  }\n\n  parseTargetRecursive(astNode, func, index) {\n    if (astNode === null) {\n      return null;\n    }\n\n    switch (astNode.type) {\n      case 'function':\n        var innerFunc = gfunc.createFuncInstance(astNode.name, { withDefaultParams: false });\n        _.each(astNode.params, (param, index) => {\n          this.parseTargetRecursive(param, innerFunc, index);\n        });\n\n        innerFunc.updateText();\n        this.functions.push(innerFunc);\n        break;\n      case 'series-ref':\n        this.addFunctionParameter(func, astNode.value, index, this.segments.length > 0);\n        break;\n      case 'bool':\n      case 'string':\n      case 'number':\n        if ((index-1) >= func.def.params.length) {\n          throw { message: 'invalid number of parameters to method ' + func.def.name };\n        }\n        var shiftBack = this.isShiftParamsBack(func);\n        this.addFunctionParameter(func, astNode.value, index, shiftBack);\n      break;\n      case 'metric':\n        if (this.segments.length > 0) {\n        if (astNode.segments.length !== 1) {\n          throw { message: 'Multiple metric params not supported, use text editor.' };\n        }\n        this.addFunctionParameter(func, astNode.segments[0].value, index, true);\n        break;\n      }\n\n      this.segments = astNode.segments;\n    }\n  }\n\n  isShiftParamsBack(func) {\n    return func.def.name !== 'seriesByTag';\n  }\n\n  updateSegmentValue(segment, index) {\n    this.segments[index].value = segment.value;\n  }\n\n  addSelectMetricSegment() {\n    this.segments.push({value: \"select metric\"});\n  }\n\n  addFunction(newFunc) {\n    this.functions.push(newFunc);\n    this.moveAliasFuncLast();\n  }\n\n  moveAliasFuncLast() {\n    var aliasFunc = _.find(this.functions, function(func) {\n      return func.def.name === 'alias' ||\n        func.def.name === 'aliasByNode' ||\n        func.def.name === 'aliasByMetric';\n    });\n\n    if (aliasFunc) {\n      this.functions = _.without(this.functions, aliasFunc);\n      this.functions.push(aliasFunc);\n    }\n  }\n\n  addFunctionParameter(func, value, index, shiftBack) {\n    if (shiftBack) {\n      index = Math.max(index - 1, 0);\n    }\n    func.params[index] = value;\n  }\n\n  removeFunction(func) {\n    this.functions = _.without(this.functions, func);\n  }\n\n  updateModelTarget(targets) {\n    // render query\n    if (!this.target.textEditor) {\n      var metricPath = this.getSegmentPathUpTo(this.segments.length);\n      this.target.target = _.reduce(this.functions, wrapFunction, metricPath);\n    }\n\n    this.updateRenderedTarget(this.target, targets);\n\n    // loop through other queries and update targetFull as needed\n    for (const target of targets || []) {\n      if (target.refId !== this.target.refId) {\n        this.updateRenderedTarget(target, targets);\n      }\n    }\n  }\n\n  updateRenderedTarget(target, targets) {\n    // render nested query\n    var targetsByRefId = _.keyBy(targets, 'refId');\n\n    // no references to self\n    delete targetsByRefId[target.refId];\n\n    var nestedSeriesRefRegex = /\\#([A-Z])/g;\n    var targetWithNestedQueries = target.target;\n\n    // Keep interpolating until there are no query references\n    // The reason for the loop is that the referenced query might contain another reference to another query\n    while (targetWithNestedQueries.match(nestedSeriesRefRegex)) {\n      var updated = targetWithNestedQueries.replace(nestedSeriesRefRegex, (match, g1) => {\n        var t = targetsByRefId[g1];\n        if (!t) {\n          return match;\n        }\n\n        // no circular references\n        delete targetsByRefId[g1];\n        return t.target;\n      });\n\n      if (updated === targetWithNestedQueries) {\n        break;\n      }\n\n      targetWithNestedQueries = updated;\n    }\n\n    delete target.targetFull;\n    if (target.target !== targetWithNestedQueries) {\n      target.targetFull = targetWithNestedQueries;\n    }\n  }\n\n  splitSeriesByTagParams(func) {\n    const tagPattern = /([^\\!=~]+)([\\!=~]+)([^\\!=~]+)/;\n    return _.flatten(_.map(func.params, (param: string) => {\n      let matches = tagPattern.exec(param);\n      if (matches) {\n        let tag = matches.slice(1);\n        if (tag.length === 3) {\n          return {\n            key: tag[0],\n            operator: tag[1],\n            value: tag[2]\n          };\n        }\n      }\n      return [];\n    }));\n  }\n\n  getSeriesByTagFuncIndex() {\n    return _.findIndex(this.functions, (func) => func.def.name === 'seriesByTag');\n  }\n\n  getSeriesByTagFunc() {\n    let seriesByTagFuncIndex = this.getSeriesByTagFuncIndex();\n    if (seriesByTagFuncIndex >= 0) {\n      return this.functions[seriesByTagFuncIndex];\n    } else {\n      return undefined;\n    }\n  }\n\n  addTag(tag) {\n    let newTagParam = renderTagString(tag);\n    this.getSeriesByTagFunc().params.push(newTagParam);\n    this.tags.push(tag);\n  }\n\n  removeTag(index) {\n    this.getSeriesByTagFunc().params.splice(index, 1);\n    this.tags.splice(index, 1);\n  }\n\n  updateTag(tag, tagIndex) {\n    this.error = null;\n\n    if (tag.key === this.removeTagValue) {\n      this.removeTag(tagIndex);\n      return;\n    }\n\n    let newTagParam = renderTagString(tag);\n    this.getSeriesByTagFunc().params[tagIndex] = newTagParam;\n    this.tags[tagIndex] = tag;\n  }\n\n  renderTagExpressions(excludeIndex = -1) {\n    return _.compact(_.map(this.tags, (tagExpr, index) => {\n      // Don't render tag that we want to lookup\n      if (index !== excludeIndex) {\n        return tagExpr.key + tagExpr.operator + tagExpr.value;\n      }\n    }));\n  }\n}\n\nfunction wrapFunction(target, func) {\n  return func.render(target);\n}\n\nfunction renderTagString(tag) {\n  return tag.key + tag.operator + tag.value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/graphite_query.ts","\nimport {Lexer} from './lexer';\n\nexport function Parser(expression) {\n  this.expression = expression;\n  this.lexer = new Lexer(expression);\n  this.tokens = this.lexer.tokenize();\n  this.index = 0;\n}\n\nParser.prototype = {\n\n  getAst: function () {\n    return this.start();\n  },\n\n  start: function () {\n    try {\n      return this.functionCall() || this.metricExpression();\n    } catch (e) {\n      return {\n        type: 'error',\n        message: e.message,\n        pos: e.pos\n      };\n    }\n  },\n\n  curlyBraceSegment: function() {\n    if (this.match('identifier', '{') || this.match('{')) {\n\n      var curlySegment = \"\";\n\n      while (!this.match('') && !this.match('}')) {\n        curlySegment += this.consumeToken().value;\n      }\n\n      if (!this.match('}')) {\n        this.errorMark(\"Expected closing '}'\");\n      }\n\n      curlySegment += this.consumeToken().value;\n\n      // if curly segment is directly followed by identifier\n      // include it in the segment\n      if (this.match('identifier')) {\n        curlySegment += this.consumeToken().value;\n      }\n\n      return {\n        type: 'segment',\n        value: curlySegment\n      };\n    } else {\n      return null;\n    }\n  },\n\n  metricSegment: function() {\n    var curly = this.curlyBraceSegment();\n    if (curly) {\n      return curly;\n    }\n\n    if (this.match('identifier') || this.match('number')) {\n      // hack to handle float numbers in metric segments\n      var parts = this.consumeToken().value.split('.');\n      if (parts.length === 2) {\n        this.tokens.splice(this.index, 0, { type: '.' });\n        this.tokens.splice(this.index + 1, 0, { type: 'number', value: parts[1] });\n      }\n\n      return {\n        type: 'segment',\n        value: parts[0]\n      };\n    }\n\n    if (!this.match('templateStart')) {\n      this.errorMark('Expected metric identifier');\n    }\n\n    this.consumeToken();\n\n    if (!this.match('identifier')) {\n      this.errorMark('Expected identifier after templateStart');\n    }\n\n    var node = {\n      type: 'template',\n      value: this.consumeToken().value\n    };\n\n    if (!this.match('templateEnd')) {\n      this.errorMark('Expected templateEnd');\n    }\n\n    this.consumeToken();\n    return node;\n  },\n\n  metricExpression: function() {\n    if (!this.match('templateStart') && !this.match('identifier') && !this.match('number') && !this.match('{')) {\n      return null;\n    }\n\n    var node = {\n      type: 'metric',\n      segments: []\n    };\n\n    node.segments.push(this.metricSegment());\n\n    while (this.match('.')) {\n      this.consumeToken();\n\n      var segment = this.metricSegment();\n      if (!segment) {\n        this.errorMark('Expected metric identifier');\n      }\n\n      node.segments.push(segment);\n    }\n\n    return node;\n  },\n\n  functionCall: function() {\n    if (!this.match('identifier', '(')) {\n      return null;\n    }\n\n    var node: any = {\n      type: 'function',\n      name: this.consumeToken().value,\n    };\n\n    // consume left parenthesis\n    this.consumeToken();\n\n    node.params = this.functionParameters();\n\n    if (!this.match(')')) {\n      this.errorMark('Expected closing parenthesis');\n    }\n\n    this.consumeToken();\n\n    return node;\n  },\n\n  boolExpression: function() {\n    if (!this.match('bool')) {\n      return null;\n    }\n\n    return {\n      type: 'bool',\n      value: this.consumeToken().value === 'true',\n    };\n  },\n\n  functionParameters: function () {\n    if (this.match(')') || this.match('')) {\n      return [];\n    }\n\n    var param =\n      this.functionCall() ||\n      this.numericLiteral() ||\n      this.seriesRefExpression() ||\n      this.boolExpression() ||\n      this.metricExpression() ||\n      this.stringLiteral();\n\n    if (!this.match(',')) {\n      return [param];\n    }\n\n    this.consumeToken();\n    return [param].concat(this.functionParameters());\n  },\n\n  seriesRefExpression: function() {\n    if (!this.match('identifier')) {\n      return null;\n    }\n\n    var value = this.tokens[this.index].value;\n    if (!value.match(/\\#[A-Z]/)) {\n      return null;\n    }\n\n    var token = this.consumeToken();\n\n    return {\n      type: 'series-ref',\n      value: token.value\n    };\n  },\n\n  numericLiteral: function () {\n    if (!this.match('number')) {\n      return null;\n    }\n\n    return {\n      type: 'number',\n      value: parseFloat(this.consumeToken().value)\n    };\n  },\n\n  stringLiteral: function () {\n    if (!this.match('string')) {\n      return null;\n    }\n\n    var token = this.consumeToken();\n    if (token.isUnclosed) {\n      throw { message: 'Unclosed string parameter', pos: token.pos };\n    }\n\n    return {\n      type: 'string',\n      value: token.value\n    };\n  },\n\n  errorMark: function(text) {\n    var currentToken = this.tokens[this.index];\n    var type = currentToken ? currentToken.type : 'end of string';\n    throw {\n      message: text + \" instead found \" + type,\n      pos: currentToken ? currentToken.pos : this.lexer.char\n    };\n  },\n\n  // returns token value and incre\n  consumeToken: function() {\n    this.index++;\n    return this.tokens[this.index - 1];\n  },\n\n  matchToken: function(type, index) {\n    var token = this.tokens[this.index + index];\n    return (token === undefined && type === '') ||\n      token && token.type === type;\n  },\n\n  match: function(token1, token2) {\n    return this.matchToken(token1, 0) &&\n      (!token2 || this.matchToken(token2, 1));\n  },\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/parser.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\n// This is auto generated from the unicode tables.\n// The tables are at:\n// http://www.fileformat.info/info/unicode/category/Lu/list.htm\n// http://www.fileformat.info/info/unicode/category/Ll/list.htm\n// http://www.fileformat.info/info/unicode/category/Lt/list.htm\n// http://www.fileformat.info/info/unicode/category/Lm/list.htm\n// http://www.fileformat.info/info/unicode/category/Lo/list.htm\n// http://www.fileformat.info/info/unicode/category/Nl/list.htm\n\nvar unicodeLetterTable = [\n  170, 170, 181, 181, 186, 186, 192, 214,\n  216, 246, 248, 705, 710, 721, 736, 740, 748, 748, 750, 750,\n  880, 884, 886, 887, 890, 893, 902, 902, 904, 906, 908, 908,\n  910, 929, 931, 1013, 1015, 1153, 1162, 1319, 1329, 1366,\n  1369, 1369, 1377, 1415, 1488, 1514, 1520, 1522, 1568, 1610,\n  1646, 1647, 1649, 1747, 1749, 1749, 1765, 1766, 1774, 1775,\n  1786, 1788, 1791, 1791, 1808, 1808, 1810, 1839, 1869, 1957,\n  1969, 1969, 1994, 2026, 2036, 2037, 2042, 2042, 2048, 2069,\n  2074, 2074, 2084, 2084, 2088, 2088, 2112, 2136, 2308, 2361,\n  2365, 2365, 2384, 2384, 2392, 2401, 2417, 2423, 2425, 2431,\n  2437, 2444, 2447, 2448, 2451, 2472, 2474, 2480, 2482, 2482,\n  2486, 2489, 2493, 2493, 2510, 2510, 2524, 2525, 2527, 2529,\n  2544, 2545, 2565, 2570, 2575, 2576, 2579, 2600, 2602, 2608,\n  2610, 2611, 2613, 2614, 2616, 2617, 2649, 2652, 2654, 2654,\n  2674, 2676, 2693, 2701, 2703, 2705, 2707, 2728, 2730, 2736,\n  2738, 2739, 2741, 2745, 2749, 2749, 2768, 2768, 2784, 2785,\n  2821, 2828, 2831, 2832, 2835, 2856, 2858, 2864, 2866, 2867,\n  2869, 2873, 2877, 2877, 2908, 2909, 2911, 2913, 2929, 2929,\n  2947, 2947, 2949, 2954, 2958, 2960, 2962, 2965, 2969, 2970,\n  2972, 2972, 2974, 2975, 2979, 2980, 2984, 2986, 2990, 3001,\n  3024, 3024, 3077, 3084, 3086, 3088, 3090, 3112, 3114, 3123,\n  3125, 3129, 3133, 3133, 3160, 3161, 3168, 3169, 3205, 3212,\n  3214, 3216, 3218, 3240, 3242, 3251, 3253, 3257, 3261, 3261,\n  3294, 3294, 3296, 3297, 3313, 3314, 3333, 3340, 3342, 3344,\n  3346, 3386, 3389, 3389, 3406, 3406, 3424, 3425, 3450, 3455,\n  3461, 3478, 3482, 3505, 3507, 3515, 3517, 3517, 3520, 3526,\n  3585, 3632, 3634, 3635, 3648, 3654, 3713, 3714, 3716, 3716,\n  3719, 3720, 3722, 3722, 3725, 3725, 3732, 3735, 3737, 3743,\n  3745, 3747, 3749, 3749, 3751, 3751, 3754, 3755, 3757, 3760,\n  3762, 3763, 3773, 3773, 3776, 3780, 3782, 3782, 3804, 3805,\n  3840, 3840, 3904, 3911, 3913, 3948, 3976, 3980, 4096, 4138,\n  4159, 4159, 4176, 4181, 4186, 4189, 4193, 4193, 4197, 4198,\n  4206, 4208, 4213, 4225, 4238, 4238, 4256, 4293, 4304, 4346,\n  4348, 4348, 4352, 4680, 4682, 4685, 4688, 4694, 4696, 4696,\n  4698, 4701, 4704, 4744, 4746, 4749, 4752, 4784, 4786, 4789,\n  4792, 4798, 4800, 4800, 4802, 4805, 4808, 4822, 4824, 4880,\n  4882, 4885, 4888, 4954, 4992, 5007, 5024, 5108, 5121, 5740,\n  5743, 5759, 5761, 5786, 5792, 5866, 5870, 5872, 5888, 5900,\n  5902, 5905, 5920, 5937, 5952, 5969, 5984, 5996, 5998, 6000,\n  6016, 6067, 6103, 6103, 6108, 6108, 6176, 6263, 6272, 6312,\n  6314, 6314, 6320, 6389, 6400, 6428, 6480, 6509, 6512, 6516,\n  6528, 6571, 6593, 6599, 6656, 6678, 6688, 6740, 6823, 6823,\n  6917, 6963, 6981, 6987, 7043, 7072, 7086, 7087, 7104, 7141,\n  7168, 7203, 7245, 7247, 7258, 7293, 7401, 7404, 7406, 7409,\n  7424, 7615, 7680, 7957, 7960, 7965, 7968, 8005, 8008, 8013,\n  8016, 8023, 8025, 8025, 8027, 8027, 8029, 8029, 8031, 8061,\n  8064, 8116, 8118, 8124, 8126, 8126, 8130, 8132, 8134, 8140,\n  8144, 8147, 8150, 8155, 8160, 8172, 8178, 8180, 8182, 8188,\n  8305, 8305, 8319, 8319, 8336, 8348, 8450, 8450, 8455, 8455,\n  8458, 8467, 8469, 8469, 8473, 8477, 8484, 8484, 8486, 8486,\n  8488, 8488, 8490, 8493, 8495, 8505, 8508, 8511, 8517, 8521,\n  8526, 8526, 8544, 8584, 11264, 11310, 11312, 11358,\n  11360, 11492, 11499, 11502, 11520, 11557, 11568, 11621,\n  11631, 11631, 11648, 11670, 11680, 11686, 11688, 11694,\n  11696, 11702, 11704, 11710, 11712, 11718, 11720, 11726,\n  11728, 11734, 11736, 11742, 11823, 11823, 12293, 12295,\n  12321, 12329, 12337, 12341, 12344, 12348, 12353, 12438,\n  12445, 12447, 12449, 12538, 12540, 12543, 12549, 12589,\n  12593, 12686, 12704, 12730, 12784, 12799, 13312, 13312,\n  19893, 19893, 19968, 19968, 40907, 40907, 40960, 42124,\n  42192, 42237, 42240, 42508, 42512, 42527, 42538, 42539,\n  42560, 42606, 42623, 42647, 42656, 42735, 42775, 42783,\n  42786, 42888, 42891, 42894, 42896, 42897, 42912, 42921,\n  43002, 43009, 43011, 43013, 43015, 43018, 43020, 43042,\n  43072, 43123, 43138, 43187, 43250, 43255, 43259, 43259,\n  43274, 43301, 43312, 43334, 43360, 43388, 43396, 43442,\n  43471, 43471, 43520, 43560, 43584, 43586, 43588, 43595,\n  43616, 43638, 43642, 43642, 43648, 43695, 43697, 43697,\n  43701, 43702, 43705, 43709, 43712, 43712, 43714, 43714,\n  43739, 43741, 43777, 43782, 43785, 43790, 43793, 43798,\n  43808, 43814, 43816, 43822, 43968, 44002, 44032, 44032,\n  55203, 55203, 55216, 55238, 55243, 55291, 63744, 64045,\n  64048, 64109, 64112, 64217, 64256, 64262, 64275, 64279,\n  64285, 64285, 64287, 64296, 64298, 64310, 64312, 64316,\n  64318, 64318, 64320, 64321, 64323, 64324, 64326, 64433,\n  64467, 64829, 64848, 64911, 64914, 64967, 65008, 65019,\n  65136, 65140, 65142, 65276, 65313, 65338, 65345, 65370,\n  65382, 65470, 65474, 65479, 65482, 65487, 65490, 65495,\n  65498, 65500, 65536, 65547, 65549, 65574, 65576, 65594,\n  65596, 65597, 65599, 65613, 65616, 65629, 65664, 65786,\n  65856, 65908, 66176, 66204, 66208, 66256, 66304, 66334,\n  66352, 66378, 66432, 66461, 66464, 66499, 66504, 66511,\n  66513, 66517, 66560, 66717, 67584, 67589, 67592, 67592,\n  67594, 67637, 67639, 67640, 67644, 67644, 67647, 67669,\n  67840, 67861, 67872, 67897, 68096, 68096, 68112, 68115,\n  68117, 68119, 68121, 68147, 68192, 68220, 68352, 68405,\n  68416, 68437, 68448, 68466, 68608, 68680, 69635, 69687,\n  69763, 69807, 73728, 74606, 74752, 74850, 77824, 78894,\n  92160, 92728, 110592, 110593, 119808, 119892, 119894, 119964,\n  119966, 119967, 119970, 119970, 119973, 119974, 119977, 119980,\n  119982, 119993, 119995, 119995, 119997, 120003, 120005, 120069,\n  120071, 120074, 120077, 120084, 120086, 120092, 120094, 120121,\n  120123, 120126, 120128, 120132, 120134, 120134, 120138, 120144,\n  120146, 120485, 120488, 120512, 120514, 120538, 120540, 120570,\n  120572, 120596, 120598, 120628, 120630, 120654, 120656, 120686,\n  120688, 120712, 120714, 120744, 120746, 120770, 120772, 120779,\n  131072, 131072, 173782, 173782, 173824, 173824, 177972, 177972,\n  177984, 177984, 178205, 178205, 194560, 195101\n];\n\nvar identifierStartTable = [];\n\nfor (var i = 0; i < 128; i++) {\n  identifierStartTable[i] =\n    i >= 48 && i <= 57 || // 0-9\n    i === 36 ||           // $\n    i === 126 ||          // ~\n    i === 124 ||          // |\n    i >= 65 && i <= 90 || // A-Z\n    i === 95 ||           // _\n    i === 45 ||           // -\n    i === 42 ||           // *\n    i === 58 ||           // :\n    i === 91 ||           // templateStart [\n    i === 93 ||           // templateEnd ]\n    i === 63 ||           // ?\n    i === 37 ||           // %\n    i === 35 ||           // #\n    i === 61 ||           // =\n    i >= 97 && i <= 122;  // a-z\n}\n\nvar identifierPartTable = identifierStartTable;\n\nexport function Lexer(expression) {\n  this.input = expression;\n  this.char = 1;\n  this.from = 1;\n}\n\nLexer.prototype = {\n\n  peek: function (i) {\n    return this.input.charAt(i || 0);\n  },\n\n  skip: function (i) {\n    i = i || 1;\n    this.char += i;\n    this.input = this.input.slice(i);\n  },\n\n  tokenize: function() {\n    var list = [];\n    var token;\n    while (token = this.next()) {\n      list.push(token);\n    }\n    return list;\n  },\n\n  next: function() {\n    this.from = this.char;\n\n    // Move to the next non-space character.\n    var start;\n    if (/\\s/.test(this.peek())) {\n      start = this.char;\n\n      while (/\\s/.test(this.peek())) {\n        this.from += 1;\n        this.skip();\n      }\n\n      if (this.peek() === \"\") { // EOL\n        return null;\n      }\n    }\n\n    var match = this.scanStringLiteral();\n    if (match) {\n      return match;\n    }\n\n    match =\n      this.scanPunctuator() ||\n      this.scanNumericLiteral() ||\n      this.scanIdentifier() ||\n      this.scanTemplateSequence();\n\n    if (match) {\n      this.skip(match.value.length);\n      return match;\n    }\n\n    // No token could be matched, give up.\n    return null;\n  },\n\n  scanTemplateSequence: function() {\n    if (this.peek() === '[' && this.peek(1) === '[') {\n      return {\n        type: 'templateStart',\n        value: '[[',\n        pos: this.char\n      };\n    }\n\n    if (this.peek() === ']' && this.peek(1) === ']') {\n      return {\n        type: 'templateEnd',\n        value: '[[',\n        pos: this.char\n      };\n    }\n\n    return null;\n  },\n\n  /*\n   * Extract a JavaScript identifier out of the next sequence of\n   * characters or return 'null' if its not possible. In addition,\n   * to Identifier this method can also produce BooleanLiteral\n   * (true/false) and NullLiteral (null).\n   */\n  scanIdentifier: function() {\n    var id = \"\";\n    var index = 0;\n    var type, char;\n\n    // Detects any character in the Unicode categories \"Uppercase\n    // letter (Lu)\", \"Lowercase letter (Ll)\", \"Titlecase letter\n    // (Lt)\", \"Modifier letter (Lm)\", \"Other letter (Lo)\", or\n    // \"Letter number (Nl)\".\n    //\n    // Both approach and unicodeLetterTable were borrowed from\n    // Google's Traceur.\n\n    function isUnicodeLetter(code) {\n      for (var i = 0; i < unicodeLetterTable.length;) {\n        if (code < unicodeLetterTable[i++]) {\n          return false;\n        }\n\n        if (code <= unicodeLetterTable[i++]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    function isHexDigit(str) {\n      return (/^[0-9a-fA-F]$/).test(str);\n    }\n\n    var readUnicodeEscapeSequence = _.bind(function () {\n      /*jshint validthis:true */\n      index += 1;\n\n      if (this.peek(index) !== \"u\") {\n        return null;\n      }\n\n      var ch1 = this.peek(index + 1);\n      var ch2 = this.peek(index + 2);\n      var ch3 = this.peek(index + 3);\n      var ch4 = this.peek(index + 4);\n      var code;\n\n      if (isHexDigit(ch1) && isHexDigit(ch2) && isHexDigit(ch3) && isHexDigit(ch4)) {\n        code = parseInt(ch1 + ch2 + ch3 + ch4, 16);\n\n        if (isUnicodeLetter(code)) {\n          index += 5;\n          return \"\\\\u\" + ch1 + ch2 + ch3 + ch4;\n        }\n\n        return null;\n      }\n\n      return null;\n    }, this);\n\n    var getIdentifierStart = _.bind(function () {\n      /*jshint validthis:true */\n      var chr = this.peek(index);\n      var code = chr.charCodeAt(0);\n\n      if (chr === '*') {\n        index += 1;\n        return chr;\n      }\n\n      if (code === 92) {\n        return readUnicodeEscapeSequence();\n      }\n\n      if (code < 128) {\n        if (identifierStartTable[code]) {\n          index += 1;\n          return chr;\n        }\n\n        return null;\n      }\n\n      if (isUnicodeLetter(code)) {\n        index += 1;\n        return chr;\n      }\n\n      return null;\n    }, this);\n\n    var getIdentifierPart = _.bind(function () {\n      /*jshint validthis:true */\n      var chr = this.peek(index);\n      var code = chr.charCodeAt(0);\n\n      if (code === 92) {\n        return readUnicodeEscapeSequence();\n      }\n\n      if (code < 128) {\n        if (identifierPartTable[code]) {\n          index += 1;\n          return chr;\n        }\n\n        return null;\n      }\n\n      if (isUnicodeLetter(code)) {\n        index += 1;\n        return chr;\n      }\n\n      return null;\n    }, this);\n\n    char = getIdentifierStart();\n    if (char === null) {\n      return null;\n    }\n\n    id = char;\n    for (;;) {\n      char = getIdentifierPart();\n\n      if (char === null) {\n        break;\n      }\n\n      id += char;\n    }\n\n    switch (id) {\n      case 'true': {\n        type = 'bool';\n        break;\n      }\n      case 'false': {\n        type = 'bool';\n        break;\n      }\n      default:\n        type = \"identifier\";\n    }\n\n    return {\n      type: type,\n      value: id,\n      pos: this.char\n    };\n\n  },\n\n  /*\n   * Extract a numeric literal out of the next sequence of\n   * characters or return 'null' if its not possible. This method\n   * supports all numeric literals described in section 7.8.3\n   * of the EcmaScript 5 specification.\n   *\n   * This method's implementation was heavily influenced by the\n   * scanNumericLiteral function in the Esprima parser's source code.\n   */\n  scanNumericLiteral: function (): any {\n    var index = 0;\n    var value = \"\";\n    var length = this.input.length;\n    var char = this.peek(index);\n    var bad;\n\n    function isDecimalDigit(str) {\n      return (/^[0-9]$/).test(str);\n    }\n\n    function isOctalDigit(str) {\n      return (/^[0-7]$/).test(str);\n    }\n\n    function isHexDigit(str) {\n      return (/^[0-9a-fA-F]$/).test(str);\n    }\n\n    function isIdentifierStart(ch) {\n      return (ch === \"$\") || (ch === \"_\") || (ch === \"\\\\\") ||\n        (ch >= \"a\" && ch <= \"z\") || (ch >= \"A\" && ch <= \"Z\");\n    }\n\n    // handle negative num literals\n    if (char === '-') {\n      value += char;\n      index += 1;\n      char = this.peek(index);\n    }\n\n    // Numbers must start either with a decimal digit or a point.\n    if (char !== \".\" && !isDecimalDigit(char)) {\n      return null;\n    }\n\n    if (char !== \".\") {\n      value += this.peek(index);\n      index += 1;\n      char = this.peek(index);\n\n      if (value === \"0\") {\n        // Base-16 numbers.\n        if (char === \"x\" || char === \"X\") {\n          index += 1;\n          value += char;\n\n          while (index < length) {\n            char = this.peek(index);\n            if (!isHexDigit(char)) {\n              break;\n            }\n            value += char;\n            index += 1;\n          }\n\n          if (value.length <= 2) { // 0x\n            return {\n              type: 'number',\n              value: value,\n              isMalformed: true,\n              pos: this.char\n            };\n          }\n\n          if (index < length) {\n            char = this.peek(index);\n            if (isIdentifierStart(char)) {\n              return null;\n            }\n          }\n\n          return {\n            type: 'number',\n            value: value,\n            base: 16,\n            isMalformed: false,\n            pos: this.char\n          };\n        }\n\n        // Base-8 numbers.\n        if (isOctalDigit(char)) {\n          index += 1;\n          value += char;\n          bad = false;\n\n          while (index < length) {\n            char = this.peek(index);\n\n            // Numbers like '019' (note the 9) are not valid octals\n            // but we still parse them and mark as malformed.\n\n            if (isDecimalDigit(char)) {\n              bad = true;\n            } if (!isOctalDigit(char)) {\n              // if the char is a non punctuator then its not a valid number\n              if (!this.isPunctuator(char)) {\n                return null;\n              }\n              break;\n            }\n            value += char;\n            index += 1;\n          }\n\n          if (index < length) {\n            char = this.peek(index);\n            if (isIdentifierStart(char)) {\n              return null;\n            }\n          }\n\n          return {\n            type: 'number',\n            value: value,\n            base: 8,\n            isMalformed: bad\n          };\n        }\n\n        // Decimal numbers that start with '0' such as '09' are illegal\n        // but we still parse them and return as malformed.\n\n        if (isDecimalDigit(char)) {\n          index += 1;\n          value += char;\n        }\n      }\n\n      while (index < length) {\n        char = this.peek(index);\n        if (!isDecimalDigit(char)) {\n          break;\n        }\n        value += char;\n        index += 1;\n      }\n    }\n\n    // Decimal digits.\n\n    if (char === \".\") {\n      value += char;\n      index += 1;\n\n      while (index < length) {\n        char = this.peek(index);\n        if (!isDecimalDigit(char)) {\n          break;\n        }\n        value += char;\n        index += 1;\n      }\n    }\n\n    // Exponent part.\n\n    if (char === \"e\" || char === \"E\") {\n      value += char;\n      index += 1;\n      char = this.peek(index);\n\n      if (char === \"+\" || char === \"-\") {\n        value += this.peek(index);\n        index += 1;\n      }\n\n      char = this.peek(index);\n      if (isDecimalDigit(char)) {\n        value += char;\n        index += 1;\n\n        while (index < length) {\n          char = this.peek(index);\n          if (!isDecimalDigit(char)) {\n            break;\n          }\n          value += char;\n          index += 1;\n        }\n      } else {\n        return null;\n      }\n    }\n\n    if (index < length) {\n      char = this.peek(index);\n      if (!this.isPunctuator(char)) {\n        return null;\n      }\n    }\n\n    return {\n      type: 'number',\n      value: value,\n      base: 10,\n      pos: this.char,\n      isMalformed: !isFinite(+value)\n    };\n  },\n\n  isPunctuator: function (ch1) {\n    switch (ch1) {\n      case \".\":\n        case \"(\":\n        case \")\":\n        case \",\":\n        case \"{\":\n        case \"}\":\n        return true;\n    }\n\n    return false;\n  },\n\n  scanPunctuator: function () {\n    var ch1 = this.peek();\n\n    if (this.isPunctuator(ch1)) {\n      return {\n        type: ch1,\n        value: ch1,\n        pos: this.char\n      };\n    }\n\n    return null;\n  },\n\n  /*\n   * Extract a string out of the next sequence of characters and/or\n   * lines or return 'null' if its not possible. Since strings can\n   * span across multiple lines this method has to move the char\n   * pointer.\n   *\n   * This method recognizes pseudo-multiline JavaScript strings:\n   *\n   *   var str = \"hello\\\n   *   world\";\n   */\n  scanStringLiteral: function () {\n    /*jshint loopfunc:true */\n    var quote = this.peek();\n\n    // String must start with a quote.\n    if (quote !== \"\\\"\" && quote !== \"'\") {\n      return null;\n    }\n\n    var value = \"\";\n\n    this.skip();\n\n    while (this.peek() !== quote) {\n      if (this.peek() === \"\") { // End Of Line\n        return {\n          type: 'string',\n          value: value,\n          isUnclosed: true,\n          quote: quote,\n          pos: this.char\n        };\n      }\n\n      var char = this.peek();\n      var jump = 1; // A length of a jump, after we're done\n      // parsing this character.\n\n      value += char;\n      this.skip(jump);\n    }\n\n    this.skip();\n    return {\n      type: 'string',\n      value: value,\n      isUnclosed: false,\n      quote: quote,\n      pos: this.char\n    };\n  },\n\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/lexer.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nexport class GraphiteConfigCtrl {\n  static templateUrl = 'public/app/plugins/datasource/graphite/partials/config.html';\n  datasourceSrv: any;\n  current: any;\n\n  /** @ngInject */\n  constructor($scope, datasourceSrv) {\n    this.datasourceSrv = datasourceSrv;\n    this.current.jsonData = this.current.jsonData || {};\n    this.current.jsonData.graphiteVersion = this.current.jsonData.graphiteVersion || '0.9';\n\n    this.autoDetectGraphiteVersion();\n  }\n\n  autoDetectGraphiteVersion() {\n    this.datasourceSrv.loadDatasource(this.current.name)\n    .then((ds) => {\n      return ds.getVersion();\n    }).then((version) => {\n      this.graphiteVersions.push({name: version, value: version});\n      this.current.jsonData.graphiteVersion = version;\n    });\n  }\n\n  graphiteVersions = [\n    {name: '0.9.x', value: '0.9'},\n    {name: '1.0.x', value: '1.0'},\n    {name: '1.1.x', value: '1.1'},\n  ];\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/graphite/config_ctrl.ts","import './query_parameter_ctrl';\n\nimport CloudWatchDatasource from './datasource';\nimport {CloudWatchQueryCtrl} from './query_ctrl';\nimport {CloudWatchConfigCtrl} from './config_ctrl';\n\nclass CloudWatchAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  CloudWatchDatasource as Datasource,\n  CloudWatchQueryCtrl as QueryCtrl,\n  CloudWatchConfigCtrl as ConfigCtrl,\n  CloudWatchAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/cloudwatch/module.ts","define([\n  'angular',\n  'lodash',\n  'moment',\n  'app/core/utils/datemath',\n  'app/core/utils/kbn',\n  'app/features/templating/variable',\n],\nfunction (angular, _, moment, dateMath, kbn, templatingVariable) {\n  'use strict';\n\n  kbn = kbn.default;\n\n  /** @ngInject */\n  function CloudWatchDatasource(instanceSettings, $q, backendSrv, templateSrv, timeSrv) {\n    this.type = 'cloudwatch';\n    this.name = instanceSettings.name;\n    this.supportMetrics = true;\n    this.proxyUrl = instanceSettings.url;\n    this.defaultRegion = instanceSettings.jsonData.defaultRegion;\n    this.instanceSettings = instanceSettings;\n    this.standardStatistics = [\n      'Average',\n      'Maximum',\n      'Minimum',\n      'Sum',\n      'SampleCount'\n    ];\n\n    var self = this;\n    this.query = function(options) {\n      options = angular.copy(options);\n      options.targets = this.expandTemplateVariable(options.targets, options.scopedVars, templateSrv);\n\n      var queries = _.filter(options.targets, function (item) {\n        return item.hide !== true &&\n          !!item.region &&\n          !!item.namespace &&\n          !!item.metricName &&\n          !_.isEmpty(item.statistics);\n      }).map(function (item) {\n        item.region = templateSrv.replace(item.region, options.scopedVars);\n        item.namespace = templateSrv.replace(item.namespace, options.scopedVars);\n        item.metricName = templateSrv.replace(item.metricName, options.scopedVars);\n        item.dimensions = self.convertDimensionFormat(item.dimensions, options.scopeVars);\n        item.period = String(self.getPeriod(item, options)); // use string format for period in graph query, and alerting\n\n        return _.extend({\n          refId: item.refId,\n          intervalMs: options.intervalMs,\n          maxDataPoints: options.maxDataPoints,\n          datasourceId: self.instanceSettings.id,\n          type: 'timeSeriesQuery',\n        }, item);\n      });\n\n      // No valid targets, return the empty result to save a round trip.\n      if (_.isEmpty(queries)) {\n        var d = $q.defer();\n        d.resolve({ data: [] });\n        return d.promise;\n      }\n\n      var request = {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: queries\n      };\n\n      return this.performTimeSeriesQuery(request);\n    };\n\n    this.getPeriod = function(target, options, now) {\n      var start = this.convertToCloudWatchTime(options.range.from, false);\n      var end = this.convertToCloudWatchTime(options.range.to, true);\n      now = Math.round((now || Date.now()) / 1000);\n\n      var period;\n      var range = end - start;\n\n      var hourSec = 60 * 60;\n      var daySec = hourSec * 24;\n      var periodUnit = 60;\n      if (!target.period) {\n        if (now - start <= (daySec * 15)) { // until 15 days ago\n          if (target.namespace === 'AWS/EC2') {\n            periodUnit = period = 300;\n          } else {\n            periodUnit = period = 60;\n          }\n        } else if (now - start <= (daySec * 63)) { // until 63 days ago\n          periodUnit = period = 60 * 5;\n        } else if (now - start <= (daySec * 455)) { // until 455 days ago\n          periodUnit = period = 60 * 60;\n        } else { // over 455 days, should return error, but try to long period\n          periodUnit = period = 60 * 60;\n        }\n      } else {\n        if (/^\\d+$/.test(target.period)) {\n          period = parseInt(target.period, 10);\n        } else {\n          period = kbn.interval_to_seconds(templateSrv.replace(target.period, options.scopedVars));\n        }\n      }\n      if (period < 1) {\n        period = 1;\n      }\n      if (range / period >= 1440) {\n        period = Math.ceil(range / 1440 / periodUnit) * periodUnit;\n      }\n\n      return period;\n    };\n\n    this.performTimeSeriesQuery = function(request) {\n      return backendSrv.post('/api/tsdb/query', request).then(function (res) {\n        var data = [];\n\n        if (res.results) {\n          _.forEach(res.results, function (queryRes) {\n            _.forEach(queryRes.series, function (series) {\n              data.push({target: series.name, datapoints: series.points});\n            });\n          });\n        }\n\n        return {data: data};\n      });\n    };\n\n    function transformSuggestDataFromTable(suggestData) {\n      return _.map(suggestData.results['metricFindQuery'].tables[0].rows, function (v) {\n        return {\n          text: v[0],\n          value: v[1]\n        };\n      });\n    }\n\n    this.doMetricQueryRequest = function (subtype, parameters) {\n      var range = timeSrv.timeRange();\n      return backendSrv.post('/api/tsdb/query', {\n        from: range.from.valueOf().toString(),\n        to: range.to.valueOf().toString(),\n        queries: [\n          _.extend({\n            refId: 'metricFindQuery',\n            intervalMs: 1, // dummy\n            maxDataPoints: 1, // dummy\n            datasourceId: this.instanceSettings.id,\n            type: 'metricFindQuery',\n            subtype: subtype\n          }, parameters)\n        ]\n      }).then(function (r) { return transformSuggestDataFromTable(r); });\n    };\n\n    this.getRegions = function () {\n      return this.doMetricQueryRequest('regions', null);\n    };\n\n    this.getNamespaces = function() {\n      return this.doMetricQueryRequest('namespaces', null);\n    };\n\n    this.getMetrics = function (namespace, region) {\n      return this.doMetricQueryRequest('metrics', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace)\n      });\n    };\n\n    this.getDimensionKeys = function(namespace, region) {\n      return this.doMetricQueryRequest('dimension_keys', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace)\n      });\n    };\n\n    this.getDimensionValues = function(region, namespace, metricName, dimensionKey, filterDimensions) {\n      return this.doMetricQueryRequest('dimension_values', {\n        region: templateSrv.replace(region),\n        namespace: templateSrv.replace(namespace),\n        metricName: templateSrv.replace(metricName),\n        dimensionKey: templateSrv.replace(dimensionKey),\n        dimensions: this.convertDimensionFormat(filterDimensions, {}),\n      });\n    };\n\n    this.getEbsVolumeIds = function(region, instanceId) {\n      return this.doMetricQueryRequest('ebs_volume_ids', {\n        region: templateSrv.replace(region),\n        instanceId: templateSrv.replace(instanceId)\n      });\n    };\n\n    this.getEc2InstanceAttribute = function(region, attributeName, filters) {\n      return this.doMetricQueryRequest('ec2_instance_attribute', {\n        region: templateSrv.replace(region),\n        attributeName: templateSrv.replace(attributeName),\n        filters: filters\n      });\n    };\n\n    this.metricFindQuery = function(query) {\n      var region;\n      var namespace;\n      var metricName;\n\n      var regionQuery = query.match(/^regions\\(\\)/);\n      if (regionQuery) {\n        return this.getRegions();\n      }\n\n      var namespaceQuery = query.match(/^namespaces\\(\\)/);\n      if (namespaceQuery) {\n        return this.getNamespaces();\n      }\n\n      var metricNameQuery = query.match(/^metrics\\(([^\\)]+?)(,\\s?([^,]+?))?\\)/);\n      if (metricNameQuery) {\n        namespace = metricNameQuery[1];\n        region = metricNameQuery[3];\n        return this.getMetrics(namespace, region);\n      }\n\n      var dimensionKeysQuery = query.match(/^dimension_keys\\(([^\\)]+?)(,\\s?([^,]+?))?\\)/);\n      if (dimensionKeysQuery) {\n        namespace = dimensionKeysQuery[1];\n        region = dimensionKeysQuery[3];\n        return this.getDimensionKeys(namespace, region);\n      }\n\n      var dimensionValuesQuery = query.match(/^dimension_values\\(([^,]+?),\\s?([^,]+?),\\s?([^,]+?),\\s?([^,]+?)\\)/);\n      if (dimensionValuesQuery) {\n        region = dimensionValuesQuery[1];\n        namespace = dimensionValuesQuery[2];\n        metricName = dimensionValuesQuery[3];\n        var dimensionKey = dimensionValuesQuery[4];\n\n        return this.getDimensionValues(region, namespace, metricName, dimensionKey, {});\n      }\n\n      var ebsVolumeIdsQuery = query.match(/^ebs_volume_ids\\(([^,]+?),\\s?([^,]+?)\\)/);\n      if (ebsVolumeIdsQuery) {\n        region = ebsVolumeIdsQuery[1];\n        var instanceId = ebsVolumeIdsQuery[2];\n        return this.getEbsVolumeIds(region, instanceId);\n      }\n\n      var ec2InstanceAttributeQuery = query.match(/^ec2_instance_attribute\\(([^,]+?),\\s?([^,]+?),\\s?(.+?)\\)/);\n      if (ec2InstanceAttributeQuery) {\n        region = ec2InstanceAttributeQuery[1];\n        var targetAttributeName = ec2InstanceAttributeQuery[2];\n        var filterJson = JSON.parse(templateSrv.replace(ec2InstanceAttributeQuery[3]));\n        return this.getEc2InstanceAttribute(region, targetAttributeName, filterJson);\n      }\n\n      return $q.when([]);\n    };\n\n    this.annotationQuery = function (options) {\n      var annotation = options.annotation;\n      var statistics = _.map(annotation.statistics, function (s) { return templateSrv.replace(s); });\n      var defaultPeriod = annotation.prefixMatching ? '' : '300';\n      var period = annotation.period || defaultPeriod;\n      period = parseInt(period, 10);\n      var parameters = {\n        prefixMatching: annotation.prefixMatching,\n        region: templateSrv.replace(annotation.region),\n        namespace: templateSrv.replace(annotation.namespace),\n        metricName: templateSrv.replace(annotation.metricName),\n        dimensions: this.convertDimensionFormat(annotation.dimensions, {}),\n        statistics: statistics,\n        period: period,\n        actionPrefix: annotation.actionPrefix || '',\n        alarmNamePrefix: annotation.alarmNamePrefix || ''\n      };\n\n      return backendSrv.post('/api/tsdb/query', {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: [\n          _.extend({\n            refId: 'annotationQuery',\n            intervalMs: 1, // dummy\n            maxDataPoints: 1, // dummy\n            datasourceId: this.instanceSettings.id,\n            type: 'annotationQuery'\n          }, parameters)\n        ]\n      }).then(function (r) {\n        return _.map(r.results['annotationQuery'].tables[0].rows, function (v) {\n          return {\n            annotation: annotation,\n            time: Date.parse(v[0]),\n            title: v[1],\n            tags: [v[2]],\n            text: v[3]\n          };\n        });\n      });\n    };\n\n    this.targetContainsTemplate = function(target) {\n      return templateSrv.variableExists(target.region) ||\n      templateSrv.variableExists(target.namespace) ||\n      templateSrv.variableExists(target.metricName) ||\n      _.find(target.dimensions, function(v, k) {\n        return templateSrv.variableExists(k) || templateSrv.variableExists(v);\n      });\n    };\n\n    this.testDatasource = function() {\n      /* use billing metrics for test */\n      var region = this.defaultRegion;\n      var namespace = 'AWS/Billing';\n      var metricName = 'EstimatedCharges';\n      var dimensions = {};\n\n      return this.getDimensionValues(region, namespace, metricName, 'ServiceName', dimensions).then(function () {\n        return { status: 'success', message: 'Data source is working' };\n      }, function (err) {\n        return { status: 'error', message: err.message };\n      });\n    };\n\n    this.awsRequest = function(data) {\n      var options = {\n        method: 'POST',\n        url: this.proxyUrl,\n        data: data\n      };\n\n      return backendSrv.datasourceRequest(options).then(function(result) {\n        return result.data;\n      });\n    };\n\n    this.getDefaultRegion = function() {\n      return this.defaultRegion;\n    };\n\n    this.getExpandedVariables = function(target, dimensionKey, variable, templateSrv) {\n      /* if the all checkbox is marked we should add all values to the targets */\n      var allSelected = _.find(variable.options, {'selected': true, 'text': 'All'});\n      return _.chain(variable.options)\n      .filter(function(v) {\n        if (allSelected) {\n          return v.text !== 'All';\n        } else {\n          return v.selected;\n        }\n      })\n      .map(function(v) {\n        var t = angular.copy(target);\n        var scopedVar = {};\n        scopedVar[variable.name] = v;\n        t.refId = target.refId + '_' + v.value;\n        t.dimensions[dimensionKey] = templateSrv.replace(t.dimensions[dimensionKey], scopedVar);\n        return t;\n      }).value();\n    };\n\n    this.expandTemplateVariable = function(targets, scopedVars, templateSrv) {\n      var self = this;\n      return _.chain(targets)\n      .map(function(target) {\n        var dimensionKey = _.findKey(target.dimensions, function(v) {\n          return templateSrv.variableExists(v) && !_.has(scopedVars, templateSrv.getVariableName(v));\n        });\n\n        if (dimensionKey) {\n          var multiVariable = _.find(templateSrv.variables, function(variable) {\n            return templatingVariable.containsVariable(target.dimensions[dimensionKey], variable.name) && variable.multi;\n          });\n          var variable = _.find(templateSrv.variables, function(variable) {\n            return templatingVariable.containsVariable(target.dimensions[dimensionKey], variable.name);\n          });\n          return self.getExpandedVariables(target, dimensionKey, multiVariable || variable, templateSrv);\n        } else {\n          return [target];\n        }\n      }).flatten().value();\n    };\n\n    this.convertToCloudWatchTime = function(date, roundUp) {\n      if (_.isString(date)) {\n        date = dateMath.parse(date, roundUp);\n      }\n      return Math.round(date.valueOf() / 1000);\n    };\n\n    this.convertDimensionFormat = function(dimensions, scopedVars) {\n      var convertedDimensions = {};\n      _.each(dimensions, function (value, key) {\n        convertedDimensions[templateSrv.replace(key, scopedVars)] = templateSrv.replace(value, scopedVars);\n      });\n      return convertedDimensions;\n    };\n\n  }\n\n  return CloudWatchDatasource;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/cloudwatch/datasource.js\n// module id = 1442\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nexport class CloudWatchConfigCtrl {\n  static templateUrl = 'partials/config.html';\n  current: any;\n\n  accessKeyExist = false;\n  secretKeyExist = false;\n\n  /** @ngInject */\n  constructor($scope) {\n    this.current.jsonData.timeField = this.current.jsonData.timeField || '@timestamp';\n    this.current.jsonData.authType = this.current.jsonData.authType || 'credentials';\n\n    this.accessKeyExist = this.current.secureJsonFields.accessKey;\n    this.secretKeyExist = this.current.secureJsonFields.secretKey;\n  }\n\n  resetAccessKey() {\n    this.accessKeyExist = false;\n  }\n\n  resetSecretKey() {\n    this.secretKeyExist = false;\n  }\n\n  authTypes = [\n    {name: 'Access & secret key', value: 'keys'},\n    {name: 'Credentials file', value: 'credentials'},\n    {name: 'ARN', value: 'arn'},\n  ];\n\n  indexPatternTypes = [\n    {name: 'No pattern',  value: undefined},\n    {name: 'Hourly',      value: 'Hourly',  example: '[logstash-]YYYY.MM.DD.HH'},\n    {name: 'Daily',       value: 'Daily',   example: '[logstash-]YYYY.MM.DD'},\n    {name: 'Weekly',      value: 'Weekly',  example: '[logstash-]GGGG.WW'},\n    {name: 'Monthly',     value: 'Monthly', example: '[logstash-]YYYY.MM'},\n    {name: 'Yearly',      value: 'Yearly',  example: '[logstash-]YYYY'},\n  ];\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/cloudwatch/config_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport './query_parameter_ctrl';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport class CloudWatchQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  aliasSyntax: string;\n\n  /** @ngInject **/\n  constructor($scope, $injector) {\n    super($scope, $injector);\n    this.aliasSyntax = '{{metric}} {{stat}} {{namespace}} {{region}} {{<dimension name>}}';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/cloudwatch/query_ctrl.ts","import {ElasticDatasource} from './datasource';\nimport {ElasticQueryCtrl} from './query_ctrl';\nimport {ElasticConfigCtrl} from './config_ctrl';\n\nclass ElasticQueryOptionsCtrl {\n  static templateUrl = 'partials/query.options.html';\n}\n\nclass ElasticAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  ElasticDatasource as Datasource,\n  ElasticQueryCtrl as QueryCtrl,\n  ElasticConfigCtrl as ConfigCtrl,\n  ElasticQueryOptionsCtrl as QueryOptionsCtrl,\n  ElasticAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport {ElasticQueryBuilder} from './query_builder';\nimport {IndexPattern} from './index_pattern';\nimport {ElasticResponse} from './elastic_response';\n\nexport class ElasticDatasource {\n  basicAuth: string;\n  withCredentials: boolean;\n  url: string;\n  name: string;\n  index: string;\n  timeField: string;\n  esVersion: number;\n  interval: string;\n  queryBuilder: ElasticQueryBuilder;\n  indexPattern: IndexPattern;\n\n  /** @ngInject */\n  constructor(instanceSettings, private $q, private backendSrv, private templateSrv, private timeSrv) {\n    this.basicAuth = instanceSettings.basicAuth;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.index = instanceSettings.index;\n    this.timeField = instanceSettings.jsonData.timeField;\n    this.esVersion = instanceSettings.jsonData.esVersion;\n    this.indexPattern = new IndexPattern(instanceSettings.index, instanceSettings.jsonData.interval);\n    this.interval = instanceSettings.jsonData.timeInterval;\n    this.queryBuilder = new ElasticQueryBuilder({\n      timeField: this.timeField,\n      esVersion: this.esVersion,\n    });\n  }\n\n  private request(method, url, data?) {\n    var options: any = {\n      url: this.url + \"/\" + url,\n      method: method,\n      data: data\n    };\n\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n    if (this.basicAuth) {\n      options.headers = {\n        \"Authorization\": this.basicAuth\n      };\n    }\n\n    return this.backendSrv.datasourceRequest(options);\n  }\n\n  private get(url) {\n    var range = this.timeSrv.timeRange();\n    var index_list = this.indexPattern.getIndexList(range.from.valueOf(), range.to.valueOf());\n    if (_.isArray(index_list) && index_list.length) {\n      return this.request('GET', index_list[0] + url).then(function(results) {\n        results.data.$$config = results.config;\n        return results.data;\n      });\n    } else {\n      return this.request('GET', this.indexPattern.getIndexForToday() + url).then(function(results) {\n        results.data.$$config = results.config;\n        return results.data;\n      });\n    }\n  }\n\n  private post(url, data) {\n    return this.request('POST', url, data).then(function(results) {\n      results.data.$$config = results.config;\n      return results.data;\n    }).catch(err => {\n      if (err.data && err.data.error) {\n        throw {message: 'Elasticsearch error: ' + err.data.error.reason, error: err.data.error};\n      }\n\n      throw err;\n    });\n  }\n\n  annotationQuery(options) {\n    var annotation = options.annotation;\n    var timeField = annotation.timeField || '@timestamp';\n    var queryString = annotation.query || '*';\n    var tagsField = annotation.tagsField || 'tags';\n    var textField = annotation.textField || null;\n\n    var range = {};\n    range[timeField]= {\n      from: options.range.from.valueOf(),\n      to: options.range.to.valueOf(),\n      format: \"epoch_millis\",\n    };\n\n    var queryInterpolated = this.templateSrv.replace(queryString, {}, 'lucene');\n    var query = {\n      \"bool\": {\n        \"filter\": [\n          { \"range\": range },\n          {\n            \"query_string\": {\n              \"query\": queryInterpolated\n            }\n          }\n        ]\n      }\n    };\n\n    var data = {\n      \"query\" : query,\n      \"size\": 10000\n    };\n\n    // fields field not supported on ES 5.x\n    if (this.esVersion < 5) {\n      data[\"fields\"] = [timeField, \"_source\"];\n    }\n\n    var header: any = {search_type: \"query_then_fetch\", \"ignore_unavailable\": true};\n\n    // old elastic annotations had index specified on them\n    if (annotation.index) {\n      header.index = annotation.index;\n    } else {\n      header.index = this.indexPattern.getIndexList(options.range.from, options.range.to);\n    }\n\n    var payload = angular.toJson(header) + '\\n' + angular.toJson(data) + '\\n';\n\n    return this.post('_msearch', payload).then(res => {\n      var list = [];\n      var hits = res.responses[0].hits.hits;\n\n      var getFieldFromSource = function(source, fieldName) {\n        if (!fieldName) { return; }\n\n        var fieldNames = fieldName.split('.');\n        var fieldValue = source;\n\n        for (var i = 0; i < fieldNames.length; i++) {\n          fieldValue = fieldValue[fieldNames[i]];\n          if (!fieldValue) {\n            console.log('could not find field in annotation: ', fieldName);\n            return '';\n          }\n        }\n\n        return fieldValue;\n      };\n\n      for (var i = 0; i < hits.length; i++) {\n        var source = hits[i]._source;\n        var time = source[timeField];\n        if (typeof hits[i].fields !== 'undefined') {\n          var fields = hits[i].fields;\n          if (_.isString(fields[timeField]) || _.isNumber(fields[timeField])) {\n            time = fields[timeField];\n          }\n        }\n\n        var event = {\n          annotation: annotation,\n          time: moment.utc(time).valueOf(),\n          text: getFieldFromSource(source, textField),\n          tags: getFieldFromSource(source, tagsField),\n        };\n\n        // legacy support for title tield\n        if (annotation.titleField) {\n          const title = getFieldFromSource(source, annotation.titleField);\n          if (title) {\n            event.text = title + '\\n' + event.text;\n          }\n        }\n\n        if (typeof event.tags === 'string') {\n          event.tags = event.tags.split(',');\n        }\n\n        list.push(event);\n      }\n      return list;\n    });\n  }\n\n  testDatasource() {\n    this.timeSrv.setTime({ from: 'now-1m', to: 'now' }, true);\n    // validate that the index exist and has date field\n    return this.getFields({type: 'date'}).then(function(dateFields) {\n      var timeField = _.find(dateFields, {text: this.timeField});\n      if (!timeField) {\n        return { status: \"error\", message: \"No date field named \" + this.timeField + ' found' };\n      }\n      return { status: \"success\", message: \"Index OK. Time field name OK.\" };\n    }.bind(this), function(err) {\n      console.log(err);\n      if (err.data && err.data.error) {\n        var message = angular.toJson(err.data.error);\n        if (err.data.error.reason) {\n          message = err.data.error.reason;\n        }\n        return { status: \"error\", message: message };\n      } else {\n        return { status: \"error\", message: err.status };\n      }\n    });\n  }\n\n  getQueryHeader(searchType, timeFrom, timeTo) {\n    return angular.toJson({\n        search_type: searchType,\n        \"ignore_unavailable\": true,\n        index: this.indexPattern.getIndexList(timeFrom, timeTo),\n    });\n  }\n\n  query(options) {\n    var payload = \"\";\n    var target;\n    var sentTargets = [];\n\n    // add global adhoc filters to timeFilter\n    var adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n\n    for (var i = 0; i < options.targets.length; i++) {\n      target = options.targets[i];\n      if (target.hide) {continue;}\n\n      var queryString = this.templateSrv.replace(target.query || '*', options.scopedVars, 'lucene');\n      var queryObj = this.queryBuilder.build(target, adhocFilters, queryString);\n      var esQuery = angular.toJson(queryObj);\n\n      var searchType = (queryObj.size === 0 && this.esVersion < 5) ? 'count' : 'query_then_fetch';\n      var header = this.getQueryHeader(searchType, options.range.from, options.range.to);\n      payload +=  header + '\\n';\n\n      payload += esQuery + '\\n';\n      sentTargets.push(target);\n    }\n\n    if (sentTargets.length === 0) {\n      return this.$q.when([]);\n    }\n\n    payload = payload.replace(/\\$timeFrom/g, options.range.from.valueOf());\n    payload = payload.replace(/\\$timeTo/g, options.range.to.valueOf());\n    payload = this.templateSrv.replace(payload, options.scopedVars);\n\n    return this.post('_msearch', payload).then(function(res) {\n      return new ElasticResponse(sentTargets, res).getTimeSeries();\n    });\n  }\n\n  getFields(query) {\n    return this.get('/_mapping').then(function(result) {\n\n      var typeMap = {\n        'float': 'number',\n        'double': 'number',\n        'integer': 'number',\n        'long': 'number',\n        'date': 'date',\n        'string': 'string',\n        'text': 'string',\n        'scaled_float': 'number',\n        'nested': 'nested'\n      };\n\n      function shouldAddField(obj, key, query) {\n        if (key[0] === '_') {\n          return false;\n        }\n\n        if (!query.type) {\n          return true;\n        }\n\n        // equal query type filter, or via typemap translation\n        return query.type === obj.type || query.type === typeMap[obj.type];\n      }\n\n      // Store subfield names: [system, process, cpu, total] -> system.process.cpu.total\n      var fieldNameParts = [];\n      var fields = {};\n\n      function getFieldsRecursively(obj) {\n        for (var key in obj) {\n          var subObj = obj[key];\n\n          // Check mapping field for nested fields\n          if (_.isObject(subObj.properties)) {\n            fieldNameParts.push(key);\n            getFieldsRecursively(subObj.properties);\n          }\n\n          if (_.isObject(subObj.fields)) {\n            fieldNameParts.push(key);\n            getFieldsRecursively(subObj.fields);\n          }\n\n          if (_.isString(subObj.type)) {\n            var fieldName = fieldNameParts.concat(key).join('.');\n\n            // Hide meta-fields and check field type\n            if (shouldAddField(subObj, key, query)) {\n              fields[fieldName] = {\n                text: fieldName,\n                type: subObj.type\n              };\n            }\n          }\n        }\n        fieldNameParts.pop();\n      }\n\n      for (var indexName in result) {\n        var index = result[indexName];\n        if (index && index.mappings) {\n          var mappings = index.mappings;\n          for (var typeName in mappings) {\n            var properties = mappings[typeName].properties;\n            getFieldsRecursively(properties);\n          }\n        }\n      }\n\n      // transform to array\n      return _.map(fields, function(value) {\n        return value;\n      });\n    });\n  }\n\n  getTerms(queryDef) {\n    var range = this.timeSrv.timeRange();\n    var searchType = this.esVersion >= 5 ? 'query_then_fetch' : 'count' ;\n    var header = this.getQueryHeader(searchType, range.from, range.to);\n    var esQuery = angular.toJson(this.queryBuilder.getTermsQuery(queryDef));\n\n    esQuery = esQuery.replace(/\\$timeFrom/g, range.from.valueOf());\n    esQuery = esQuery.replace(/\\$timeTo/g, range.to.valueOf());\n    esQuery = header + '\\n' + esQuery + '\\n';\n\n    return this.post('_msearch?search_type=' + searchType, esQuery).then(function(res) {\n      if (!res.responses[0].aggregations) {\n        return [];\n      }\n\n      var buckets = res.responses[0].aggregations[\"1\"].buckets;\n      return _.map(buckets, function(bucket) {\n        return {\n          text: bucket.key_as_string || bucket.key,\n          value: bucket.key\n        };\n      });\n    });\n  }\n\n  metricFindQuery(query) {\n    query = angular.fromJson(query);\n    if (!query) {\n      return this.$q.when([]);\n    }\n\n    if (query.find === 'fields') {\n      query.field = this.templateSrv.replace(query.field, {}, 'lucene');\n      return this.getFields(query);\n    }\n\n    if (query.find === 'terms') {\n      query.query = this.templateSrv.replace(query.query || '*', {}, 'lucene');\n      return this.getTerms(query);\n    }\n  }\n\n  getTagKeys() {\n    return this.getFields({});\n  }\n\n  getTagValues(options) {\n    return this.getTerms({field: options.key, query: '*'});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/datasource.ts","import * as queryDef from './query_def';\n\nexport class ElasticQueryBuilder {\n  timeField: string;\n  esVersion: number;\n\n  constructor(options) {\n    this.timeField = options.timeField;\n    this.esVersion = options.esVersion;\n  }\n\n  getRangeFilter() {\n    var filter = {};\n    filter[this.timeField] = {\n      gte: \"$timeFrom\",\n      lte: \"$timeTo\",\n      format: \"epoch_millis\",\n    };\n\n    return filter;\n  }\n\n  buildTermsAgg(aggDef, queryNode, target) {\n    var metricRef, metric, y;\n    queryNode.terms = { \"field\": aggDef.field };\n\n    if (!aggDef.settings) {\n      return queryNode;\n    }\n\n    queryNode.terms.size = parseInt(aggDef.settings.size, 10) === 0 ? 500 : parseInt(aggDef.settings.size, 10);\n    if (aggDef.settings.orderBy !== void 0) {\n      queryNode.terms.order = {};\n      queryNode.terms.order[aggDef.settings.orderBy] = aggDef.settings.order;\n\n      // if metric ref, look it up and add it to this agg level\n      metricRef = parseInt(aggDef.settings.orderBy, 10);\n      if (!isNaN(metricRef)) {\n        for (y = 0; y < target.metrics.length; y++) {\n          metric = target.metrics[y];\n          if (metric.id === aggDef.settings.orderBy) {\n            queryNode.aggs = {};\n            queryNode.aggs[metric.id] = {};\n            queryNode.aggs[metric.id][metric.type] = {field: metric.field};\n            break;\n          }\n        }\n      }\n    }\n\n    if (aggDef.settings.min_doc_count !== void 0) {\n      queryNode.terms.min_doc_count = parseInt(aggDef.settings.min_doc_count, 10);\n    }\n\n    if (aggDef.settings.missing) {\n      queryNode.terms.missing = aggDef.settings.missing;\n    }\n\n    return queryNode;\n  }\n\n  getDateHistogramAgg(aggDef) {\n    var esAgg: any = {};\n    var settings = aggDef.settings || {};\n    esAgg.interval = settings.interval;\n    esAgg.field = this.timeField;\n    esAgg.min_doc_count = settings.min_doc_count || 0;\n    esAgg.extended_bounds = {min: \"$timeFrom\", max: \"$timeTo\"};\n    esAgg.format = \"epoch_millis\";\n\n    if (esAgg.interval === 'auto') {\n      esAgg.interval = \"$__interval\";\n    }\n\n    if (settings.missing) {\n      esAgg.missing = settings.missing;\n    }\n\n    return esAgg;\n  }\n\n  getHistogramAgg(aggDef) {\n    var esAgg: any = {};\n    var settings = aggDef.settings || {};\n    esAgg.interval = settings.interval;\n    esAgg.field = aggDef.field;\n    esAgg.min_doc_count = settings.min_doc_count || 0;\n\n    if (settings.missing) {\n      esAgg.missing = settings.missing;\n    }\n    return esAgg;\n  }\n\n  getFiltersAgg(aggDef) {\n    var filterObj = {};\n    for (var i = 0; i < aggDef.settings.filters.length; i++) {\n      var query = aggDef.settings.filters[i].query;\n      var label = aggDef.settings.filters[i].label;\n      label = label === '' || label === undefined ? query : label;\n      filterObj[label] = {\n        query_string: {\n          query: query,\n          analyze_wildcard: true\n        }\n      };\n    }\n\n    return filterObj;\n  }\n\n  documentQuery(query, size) {\n    query.size = size;\n    query.sort = {};\n    query.sort[this.timeField] = {order: 'desc', unmapped_type: 'boolean'};\n\n    // fields field not supported on ES 5.x\n    if (this.esVersion < 5) {\n      query.fields = [\"*\", \"_source\"];\n    }\n\n    query.script_fields = {};\n    if (this.esVersion < 5) {\n      query.fielddata_fields = [this.timeField];\n    } else {\n      query.docvalue_fields = [this.timeField];\n    }\n    return query;\n  }\n\n  addAdhocFilters(query, adhocFilters) {\n    if (!adhocFilters) {\n      return;\n    }\n\n    var i, filter, condition, queryCondition;\n\n    for (i = 0; i < adhocFilters.length; i++) {\n      filter = adhocFilters[i];\n      condition = {};\n      condition[filter.key] = filter.value;\n      queryCondition = {};\n      queryCondition[filter.key] = {query: filter.value};\n\n      switch (filter.operator){\n        case \"=\":\n          if (!query.query.bool.must) { query.query.bool.must = []; }\n          query.query.bool.must.push({match_phrase: queryCondition});\n          break;\n        case \"!=\":\n          if (!query.query.bool.must_not) { query.query.bool.must_not = []; }\n          query.query.bool.must_not.push({match_phrase: queryCondition});\n          break;\n        case \"<\":\n          condition[filter.key] = {\"lt\": filter.value};\n          query.query.bool.filter.push({\"range\": condition});\n          break;\n        case \">\":\n          condition[filter.key] = {\"gt\": filter.value};\n          query.query.bool.filter.push({\"range\": condition});\n          break;\n        case \"=~\":\n          query.query.bool.filter.push({\"regexp\": condition});\n          break;\n        case \"!~\":\n          query.query.bool.filter.push({\"bool\": {\"must_not\": {\"regexp\": condition}}});\n          break;\n      }\n    }\n  }\n\n  build(target, adhocFilters?, queryString?) {\n    // make sure query has defaults;\n    target.metrics = target.metrics || [{ type: 'count', id: '1' }];\n    target.dsType = 'elasticsearch';\n    target.bucketAggs = target.bucketAggs || [{type: 'date_histogram', id: '2', settings: {interval: 'auto'}}];\n    target.timeField =  this.timeField;\n\n    var i, nestedAggs, metric;\n    var query = {\n      \"size\": 0,\n      \"query\": {\n        \"bool\": {\n          \"filter\": [\n            {\"range\": this.getRangeFilter()},\n            {\n              \"query_string\": {\n                \"analyze_wildcard\": true,\n                \"query\": queryString,\n              }\n            }\n          ]\n        }\n      }\n    };\n\n    this.addAdhocFilters(query, adhocFilters);\n\n    // handle document query\n    if (target.bucketAggs.length === 0) {\n      metric = target.metrics[0];\n      if (!metric || metric.type !== 'raw_document') {\n        throw {message: 'Invalid query'};\n      }\n\n      var size = (metric.settings && metric.settings.size) || 500;\n      return this.documentQuery(query, size);\n    }\n\n    nestedAggs = query;\n\n    for (i = 0; i < target.bucketAggs.length; i++) {\n      var aggDef = target.bucketAggs[i];\n      var esAgg = {};\n\n      switch (aggDef.type) {\n        case 'date_histogram': {\n          esAgg[\"date_histogram\"] = this.getDateHistogramAgg(aggDef);\n          break;\n        }\n        case 'histogram': {\n          esAgg[\"histogram\"] = this.getHistogramAgg(aggDef);\n          break;\n        }\n        case 'filters': {\n          esAgg[\"filters\"] = {filters: this.getFiltersAgg(aggDef)};\n          break;\n        }\n        case 'terms': {\n          this.buildTermsAgg(aggDef, esAgg, target);\n          break;\n        }\n        case 'geohash_grid': {\n          esAgg['geohash_grid'] = {field: aggDef.field, precision: aggDef.settings.precision};\n          break;\n        }\n      }\n\n      nestedAggs.aggs = nestedAggs.aggs || {};\n      nestedAggs.aggs[aggDef.id] = esAgg;\n      nestedAggs = esAgg;\n    }\n\n    nestedAggs.aggs = {};\n\n    for (i = 0; i < target.metrics.length; i++) {\n      metric = target.metrics[i];\n      if (metric.type === 'count') {\n        continue;\n      }\n\n      var aggField = {};\n      var metricAgg = null;\n\n      if (queryDef.isPipelineAgg(metric.type)) {\n        if (metric.pipelineAgg && /^\\d*$/.test(metric.pipelineAgg)) {\n          metricAgg = { buckets_path: metric.pipelineAgg };\n        } else {\n          continue;\n        }\n      } else {\n        metricAgg = {field: metric.field};\n      }\n\n      for (var prop in metric.settings) {\n        if (metric.settings.hasOwnProperty(prop) && metric.settings[prop] !== null) {\n          metricAgg[prop] = metric.settings[prop];\n        }\n      }\n\n      aggField[metric.type] = metricAgg;\n      nestedAggs.aggs[metric.id] = aggField;\n    }\n\n    return query;\n  }\n\n  getTermsQuery(queryDef) {\n    var query: any = {\n      \"size\": 0,\n      \"query\": {\n        \"bool\": {\n          \"filter\": [{\"range\": this.getRangeFilter()}]\n        }\n      }\n    };\n\n    if (queryDef.query) {\n      query.query.bool.filter.push({\n        \"query_string\": {\n          \"analyze_wildcard\": true,\n          \"query\": queryDef.query,\n        }\n      });\n    }\n\n    var size = 500;\n    if (queryDef.size) {\n      size = queryDef.size;\n    }\n\n    query.aggs =  {\n      \"1\": {\n        \"terms\": {\n          \"field\": queryDef.field,\n          \"size\": size,\n          \"order\": {\n            \"_term\": \"asc\"\n          }\n        },\n      }\n    };\n    return query;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/query_builder.ts","import moment from 'moment';\n\nconst intervalMap = {\n  \"Hourly\":  { startOf: 'hour',     amount: 'hours'},\n  \"Daily\":   { startOf: 'day',      amount: 'days'},\n  \"Weekly\":  { startOf: 'isoWeek',  amount: 'weeks'},\n  \"Monthly\": { startOf: 'month',    amount: 'months'},\n  \"Yearly\":  { startOf: 'year',     amount: 'years'},\n};\n\nexport class IndexPattern {\n\n  constructor(private pattern, private interval: string | null) { }\n\n  getIndexForToday() {\n    if (this.interval) {\n      return moment.utc().format(this.pattern);\n    } else {\n      return this.pattern;\n    }\n  }\n\n  getIndexList(from, to) {\n    if (!this.interval) {\n      return this.pattern;\n    }\n\n    var intervalInfo = intervalMap[this.interval];\n    var start = moment(from).utc().startOf(intervalInfo.startOf);\n    var endEpoch = moment(to).utc().startOf(intervalInfo.startOf).valueOf();\n    var indexList = [];\n\n    while (start.valueOf() <= endEpoch) {\n      indexList.push(start.format(this.pattern));\n      start.add(1, intervalInfo.amount);\n    }\n\n    return indexList;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/index_pattern.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport  _ from 'lodash';\nimport * as queryDef from \"./query_def\";\nimport TableModel from 'app/core/table_model';\n\nexport class ElasticResponse {\n\n  constructor(private targets, private response) {\n    this.targets = targets;\n    this.response = response;\n  }\n\n  processMetrics(esAgg, target, seriesList, props) {\n    var metric, y, i, newSeries, bucket, value;\n\n    for (y = 0; y < target.metrics.length; y++) {\n      metric = target.metrics[y];\n      if (metric.hide) {\n        continue;\n      }\n\n      switch (metric.type) {\n        case 'count': {\n          newSeries = { datapoints: [], metric: 'count', props: props};\n          for (i = 0; i < esAgg.buckets.length; i++) {\n            bucket = esAgg.buckets[i];\n            value = bucket.doc_count;\n            newSeries.datapoints.push([value, bucket.key]);\n          }\n          seriesList.push(newSeries);\n          break;\n        }\n        case 'percentiles': {\n          if (esAgg.buckets.length === 0) {\n            break;\n          }\n\n          var firstBucket = esAgg.buckets[0];\n          var percentiles = firstBucket[metric.id].values;\n\n          for (var percentileName in percentiles) {\n            newSeries = {datapoints: [], metric: 'p' + percentileName, props: props, field: metric.field};\n\n            for (i = 0; i < esAgg.buckets.length; i++) {\n              bucket = esAgg.buckets[i];\n              var values = bucket[metric.id].values;\n              newSeries.datapoints.push([values[percentileName], bucket.key]);\n            }\n            seriesList.push(newSeries);\n          }\n\n          break;\n        }\n        case 'extended_stats': {\n          for (var statName in metric.meta) {\n            if (!metric.meta[statName]) {\n              continue;\n            }\n\n            newSeries = {datapoints: [], metric: statName, props: props, field: metric.field};\n\n            for (i = 0; i < esAgg.buckets.length; i++) {\n              bucket = esAgg.buckets[i];\n              var stats = bucket[metric.id];\n\n              // add stats that are in nested obj to top level obj\n              stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;\n              stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;\n\n              newSeries.datapoints.push([stats[statName], bucket.key]);\n            }\n\n            seriesList.push(newSeries);\n          }\n\n          break;\n        }\n        default: {\n          newSeries = { datapoints: [], metric: metric.type, field: metric.field, props: props};\n          for (i = 0; i < esAgg.buckets.length; i++) {\n            bucket = esAgg.buckets[i];\n\n            value = bucket[metric.id];\n            if (value !== undefined) {\n              if (value.normalized_value) {\n                newSeries.datapoints.push([value.normalized_value, bucket.key]);\n              } else {\n                newSeries.datapoints.push([value.value, bucket.key]);\n              }\n            }\n\n          }\n          seriesList.push(newSeries);\n          break;\n        }\n      }\n    }\n  }\n\n  processAggregationDocs(esAgg, aggDef, target, table, props) {\n    // add columns\n    if (table.columns.length === 0) {\n      for (let propKey of _.keys(props)) {\n        table.addColumn({text: propKey, filterable: true});\n      }\n      table.addColumn({text: aggDef.field, filterable: true});\n    }\n\n    // helper func to add values to value array\n    let addMetricValue = (values, metricName, value) => {\n      table.addColumn({text: metricName});\n      values.push(value);\n    };\n\n    for (let bucket of esAgg.buckets) {\n      let values = [];\n\n      for (let propValues of _.values(props)) {\n        values.push(propValues);\n      }\n\n      // add bucket key (value)\n      values.push(bucket.key);\n\n      for (let metric of target.metrics) {\n        switch (metric.type) {\n          case \"count\": {\n            addMetricValue(values, this.getMetricName(metric.type), bucket.doc_count);\n            break;\n          }\n          case 'extended_stats': {\n            for (var statName in metric.meta) {\n              if (!metric.meta[statName]) {\n                continue;\n              }\n\n              var stats = bucket[metric.id];\n              // add stats that are in nested obj to top level obj\n              stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;\n              stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;\n\n              addMetricValue(values, this.getMetricName(statName), stats[statName]);\n            }\n            break;\n          }\n          default:  {\n            let metricName = this.getMetricName(metric.type);\n            let otherMetrics = _.filter(target.metrics, {type: metric.type});\n\n            // if more of the same metric type include field field name in property\n            if (otherMetrics.length > 1) {\n              metricName += ' ' + metric.field;\n            }\n\n            addMetricValue(values, metricName, bucket[metric.id].value);\n            break;\n          }\n        }\n      }\n\n      table.rows.push(values);\n    }\n  }\n\n  // This is quite complex\n  // neeed to recurise down the nested buckets to build series\n  processBuckets(aggs, target, seriesList, table, props, depth) {\n    var bucket, aggDef, esAgg, aggId;\n    var maxDepth = target.bucketAggs.length-1;\n\n    for (aggId in aggs) {\n      aggDef = _.find(target.bucketAggs, {id: aggId});\n      esAgg = aggs[aggId];\n\n      if (!aggDef) {\n        continue;\n      }\n\n      if (depth === maxDepth) {\n        if (aggDef.type === 'date_histogram')  {\n          this.processMetrics(esAgg, target, seriesList, props);\n        } else {\n          this.processAggregationDocs(esAgg, aggDef, target, table, props);\n        }\n      } else {\n        for (var nameIndex in esAgg.buckets) {\n          bucket = esAgg.buckets[nameIndex];\n          props = _.clone(props);\n          if (bucket.key !== void 0) {\n            props[aggDef.field] = bucket.key;\n          } else {\n            props[\"filter\"] = nameIndex;\n          }\n          if (bucket.key_as_string) {\n            props[aggDef.field] = bucket.key_as_string;\n          }\n          this.processBuckets(bucket, target, seriesList, table, props, depth+1);\n        }\n      }\n    }\n  }\n\n  private getMetricName(metric) {\n    var metricDef = _.find(queryDef.metricAggTypes, {value: metric});\n    if (!metricDef)  {\n      metricDef = _.find(queryDef.extendedStats, {value: metric});\n    }\n\n    return metricDef ? metricDef.text : metric;\n  }\n\n  private getSeriesName(series, target, metricTypeCount) {\n    var metricName = this.getMetricName(series.metric);\n\n    if (target.alias) {\n      var regex = /\\{\\{([\\s\\S]+?)\\}\\}/g;\n\n      return target.alias.replace(regex, function(match, g1, g2) {\n        var group = g1 || g2;\n\n        if (group.indexOf('term ') === 0) { return series.props[group.substring(5)]; }\n        if (series.props[group] !== void 0) { return series.props[group]; }\n        if (group === 'metric') { return metricName; }\n        if (group === 'field') { return series.field; }\n\n        return match;\n      });\n    }\n\n    if (series.field && queryDef.isPipelineAgg(series.metric)) {\n      var appliedAgg = _.find(target.metrics, { id: series.field });\n      if (appliedAgg) {\n        metricName += ' ' + queryDef.describeMetric(appliedAgg);\n      } else {\n        metricName = 'Unset';\n      }\n    } else if (series.field) {\n      metricName += ' ' + series.field;\n    }\n\n    var propKeys = _.keys(series.props);\n    if (propKeys.length === 0) {\n      return metricName;\n    }\n\n    var name = '';\n    for (var propName in series.props) {\n      name += series.props[propName] + ' ';\n    }\n\n    if (metricTypeCount === 1) {\n      return name.trim();\n    }\n\n    return name.trim() + ' ' + metricName;\n  }\n\n  nameSeries(seriesList, target) {\n    var metricTypeCount = _.uniq(_.map(seriesList, 'metric')).length;\n\n    for (var i = 0; i < seriesList.length; i++) {\n      var series = seriesList[i];\n      series.target = this.getSeriesName(series, target, metricTypeCount);\n    }\n  }\n\n  processHits(hits, seriesList) {\n    var series = {target: 'docs', type: 'docs', datapoints: [], total: hits.total, filterable: true};\n    var propName, hit, doc, i;\n\n    for (i = 0; i < hits.hits.length; i++) {\n      hit = hits.hits[i];\n      doc = {\n        _id: hit._id,\n        _type: hit._type,\n        _index: hit._index\n      };\n\n      if (hit._source) {\n        for (propName in hit._source) {\n          doc[propName] = hit._source[propName];\n        }\n      }\n\n      for (propName in hit.fields) {\n        doc[propName] = hit.fields[propName];\n      }\n      series.datapoints.push(doc);\n    }\n\n    seriesList.push(series);\n  }\n\n  trimDatapoints(aggregations, target) {\n    var histogram = _.find(target.bucketAggs, { type: 'date_histogram'});\n\n    var shouldDropFirstAndLast = histogram && histogram.settings && histogram.settings.trimEdges;\n    if (shouldDropFirstAndLast) {\n      var trim = histogram.settings.trimEdges;\n      for (var prop in aggregations) {\n        var points = aggregations[prop];\n        if (points.datapoints.length > trim * 2) {\n          points.datapoints = points.datapoints.slice(trim, points.datapoints.length - trim);\n        }\n      }\n    }\n  }\n\n  getErrorFromElasticResponse(response, err) {\n    var result: any = {};\n    result.data = JSON.stringify(err, null, 4);\n    if (err.root_cause && err.root_cause.length > 0 && err.root_cause[0].reason) {\n      result.message = err.root_cause[0].reason;\n    } else {\n      result.message = err.reason || 'Unkown elatic error response';\n    }\n\n    if (response.$$config) {\n      result.config = response.$$config;\n    }\n\n    return result;\n  }\n\n  getTimeSeries() {\n    var seriesList = [];\n\n    for (var i = 0; i < this.response.responses.length; i++) {\n      var response = this.response.responses[i];\n      if (response.error) {\n        throw this.getErrorFromElasticResponse(this.response, response.error);\n      }\n\n      if (response.hits && response.hits.hits.length > 0) {\n        this.processHits(response.hits, seriesList);\n      }\n\n      if (response.aggregations) {\n        var aggregations = response.aggregations;\n        var target = this.targets[i];\n        var tmpSeriesList = [];\n        var table = new TableModel();\n\n        this.processBuckets(aggregations, target, tmpSeriesList, table, {}, 0);\n        this.trimDatapoints(tmpSeriesList, target);\n        this.nameSeries(tmpSeriesList, target);\n\n        for (var y = 0; y < tmpSeriesList.length; y++) {\n          seriesList.push(tmpSeriesList[y]);\n        }\n\n        if (table.rows.length > 0) {\n          seriesList.push(table);\n        }\n      }\n    }\n\n    return { data: seriesList };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/elastic_response.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport './bucket_agg';\nimport './metric_agg';\n\nimport angular from 'angular';\nimport _ from 'lodash';\nimport * as queryDef from './query_def';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport class ElasticQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  esVersion: any;\n  rawQueryOld: string;\n\n  /** @ngInject **/\n  constructor($scope, $injector, private $rootScope, private uiSegmentSrv) {\n    super($scope, $injector);\n\n    this.esVersion = this.datasource.esVersion;\n    this.queryUpdated();\n  }\n\n  getFields(type) {\n    var jsonStr = angular.toJson({find: 'fields', type: type});\n    return this.datasource.metricFindQuery(jsonStr)\n    .then(this.uiSegmentSrv.transformToSegments(false))\n    .catch(this.handleQueryError.bind(this));\n  }\n\n  queryUpdated() {\n    var newJson = angular.toJson(this.datasource.queryBuilder.build(this.target), true);\n    if (this.rawQueryOld && newJson !== this.rawQueryOld) {\n      this.refresh();\n    }\n\n    this.rawQueryOld = newJson;\n    this.$rootScope.appEvent('elastic-query-updated');\n  }\n\n  getCollapsedText() {\n    var metricAggs = this.target.metrics;\n    var bucketAggs = this.target.bucketAggs;\n    var metricAggTypes = queryDef.getMetricAggTypes(this.esVersion);\n    var bucketAggTypes = queryDef.bucketAggTypes;\n    var text = '';\n\n    if (this.target.query) {\n      text += 'Query: ' + this.target.query + ', ';\n    }\n\n    text += 'Metrics: ';\n\n    _.each(metricAggs, (metric, index) => {\n      var aggDef = _.find(metricAggTypes, {value: metric.type});\n      text += aggDef.text + '(';\n      if (aggDef.requiresField) {\n        text += metric.field;\n      }\n      text += '), ';\n    });\n\n    _.each(bucketAggs, (bucketAgg, index) => {\n      if (index === 0) {\n        text += ' Group by: ';\n      }\n\n      var aggDef = _.find(bucketAggTypes, {value: bucketAgg.type});\n      text += aggDef.text + '(';\n      if (aggDef.requiresField) {\n        text += bucketAgg.field;\n      }\n      text += '), ';\n    });\n\n    if (this.target.alias) {\n      text += 'Alias: ' + this.target.alias;\n    }\n\n    return text;\n  }\n\n  handleQueryError(err) {\n    this.error = err.message || 'Failed to issue metric query';\n    return [];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/query_ctrl.ts","define([\n  'angular',\n  'lodash',\n  './query_def',\n],\nfunction (angular, _, queryDef) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('elasticBucketAgg', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/elasticsearch/partials/bucket_agg.html',\n      controller: 'ElasticBucketAggCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        index: \"=\",\n        onChange: \"&\",\n        getFields: \"&\",\n      }\n    };\n  });\n\n  module.controller('ElasticBucketAggCtrl', function($scope, uiSegmentSrv, $q, $rootScope) {\n    var bucketAggs = $scope.target.bucketAggs;\n\n    $scope.orderByOptions = [];\n\n    $scope.getBucketAggTypes = function() {\n      return queryDef.bucketAggTypes;\n    };\n\n    $scope.getOrderOptions = function() {\n      return queryDef.orderOptions;\n    };\n\n    $scope.getSizeOptions = function() {\n      return queryDef.sizeOptions;\n    };\n\n    $rootScope.onAppEvent('elastic-query-updated', function() {\n      $scope.validateModel();\n    }, $scope);\n\n    $scope.init = function() {\n      $scope.agg = bucketAggs[$scope.index];\n      $scope.validateModel();\n    };\n\n    $scope.onChangeInternal = function() {\n      $scope.onChange();\n    };\n\n    $scope.onTypeChanged = function() {\n      $scope.agg.settings = {};\n      $scope.showOptions = false;\n\n      switch($scope.agg.type) {\n        case 'date_histogram':\n        case 'histogram':\n        case 'terms':  {\n          delete $scope.agg.query;\n          $scope.agg.field = 'select field';\n          break;\n        }\n        case 'filters': {\n          delete $scope.agg.field;\n          $scope.agg.query = '*';\n          break;\n        }\n        case 'geohash_grid': {\n          $scope.agg.settings.precision = 3;\n          break;\n        }\n      }\n\n      $scope.validateModel();\n      $scope.onChange();\n    };\n\n    $scope.validateModel = function() {\n      $scope.index = _.indexOf(bucketAggs, $scope.agg);\n      $scope.isFirst = $scope.index === 0;\n      $scope.bucketAggCount = bucketAggs.length;\n\n      var settingsLinkText = \"\";\n      var settings = $scope.agg.settings || {};\n\n      switch($scope.agg.type) {\n        case 'terms': {\n          settings.order = settings.order || \"desc\";\n          settings.size = settings.size || \"10\";\n          settings.min_doc_count = settings.min_doc_count || 1;\n          settings.orderBy = settings.orderBy || \"_term\";\n\n          if (settings.size !== '0') {\n            settingsLinkText = queryDef.describeOrder(settings.order) + ' ' + settings.size + ', ';\n          }\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += 'Min Doc Count: ' + settings.min_doc_count + ', ';\n          }\n\n          settingsLinkText += 'Order by: ' + queryDef.describeOrderBy(settings.orderBy, $scope.target);\n\n          if (settings.size === '0') {\n            settingsLinkText += ' (' + settings.order + ')';\n          }\n\n          break;\n        }\n        case 'filters': {\n          settings.filters = settings.filters || [{query: '*'}];\n          settingsLinkText = _.reduce(settings.filters, function(memo, value, index) {\n            memo += 'Q' + (index + 1) + '  = ' + value.query + ' ';\n            return memo;\n          }, '');\n          if (settingsLinkText.length > 50) {\n            settingsLinkText = settingsLinkText.substr(0, 50) + \"...\";\n          }\n          settingsLinkText = 'Filter Queries (' + settings.filters.length + ')';\n          break;\n        }\n        case 'date_histogram': {\n          settings.interval = settings.interval || 'auto';\n          settings.min_doc_count = settings.min_doc_count || 0;\n          $scope.agg.field = $scope.target.timeField;\n          settingsLinkText = 'Interval: ' + settings.interval;\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += ', Min Doc Count: ' + settings.min_doc_count;\n          }\n\n          if (settings.trimEdges === undefined || settings.trimEdges < 0) {\n            settings.trimEdges = 0;\n          }\n\n          if (settings.trimEdges && settings.trimEdges > 0) {\n            settingsLinkText += ', Trim edges: ' + settings.trimEdges;\n          }\n          break;\n        }\n        case 'histogram': {\n          settings.interval = settings.interval || 1000;\n          settings.min_doc_count = _.defaultTo(settings.min_doc_count, 1);\n          settingsLinkText = 'Interval: ' + settings.interval;\n\n          if (settings.min_doc_count > 0) {\n            settingsLinkText += ', Min Doc Count: ' + settings.min_doc_count;\n          }\n          break;\n        }\n        case 'geohash_grid': {\n          // limit precision to 7\n          settings.precision = Math.max(Math.min(settings.precision, 7), 1);\n          settingsLinkText = 'Precision: ' + settings.precision;\n          break;\n        }\n      }\n\n      $scope.settingsLinkText = settingsLinkText;\n      $scope.agg.settings = settings;\n      return true;\n    };\n\n    $scope.addFiltersQuery = function() {\n      $scope.agg.settings.filters.push({query: '*'});\n    };\n\n    $scope.removeFiltersQuery = function(filter) {\n      $scope.agg.settings.filters = _.without($scope.agg.settings.filters, filter);\n    };\n\n    $scope.toggleOptions = function() {\n      $scope.showOptions = !$scope.showOptions;\n    };\n\n    $scope.getOrderByOptions = function() {\n      return queryDef.getOrderByOptions($scope.target);\n    };\n\n    $scope.getFieldsInternal = function() {\n      if ($scope.agg.type === 'date_histogram') {\n        return $scope.getFields({$fieldType: 'date'});\n      } else {\n        return $scope.getFields();\n      }\n    };\n\n    $scope.getIntervalOptions = function() {\n      return $q.when(uiSegmentSrv.transformToSegments(true, 'interval')(queryDef.intervalOptions));\n    };\n\n    $scope.addBucketAgg = function() {\n      // if last is date histogram add it before\n      var lastBucket = bucketAggs[bucketAggs.length - 1];\n      var addIndex = bucketAggs.length - 1;\n\n      if (lastBucket && lastBucket.type === 'date_histogram') {\n        addIndex - 1;\n      }\n\n      var id = _.reduce($scope.target.bucketAggs.concat($scope.target.metrics), function(max, val) {\n        return parseInt(val.id) > max ? parseInt(val.id) : max;\n      }, 0);\n\n      bucketAggs.splice(addIndex, 0, {type: \"terms\", field: \"select field\", id: (id+1).toString(), fake: true});\n      $scope.onChange();\n    };\n\n    $scope.removeBucketAgg = function() {\n      bucketAggs.splice($scope.index, 1);\n      $scope.onChange();\n    };\n\n    $scope.init();\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/elasticsearch/bucket_agg.js\n// module id = 1451\n// module chunks = 0","define([\n  'angular',\n  'lodash',\n  './query_def'\n],\nfunction (angular, _, queryDef) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('elasticMetricAgg', function() {\n    return {\n      templateUrl: 'public/app/plugins/datasource/elasticsearch/partials/metric_agg.html',\n      controller: 'ElasticMetricAggCtrl',\n      restrict: 'E',\n      scope: {\n        target: \"=\",\n        index: \"=\",\n        onChange: \"&\",\n        getFields: \"&\",\n        esVersion: '='\n      }\n    };\n  });\n\n  module.controller('ElasticMetricAggCtrl', function($scope, uiSegmentSrv, $q, $rootScope) {\n    var metricAggs = $scope.target.metrics;\n\n    $scope.metricAggTypes = queryDef.getMetricAggTypes($scope.esVersion);\n    $scope.extendedStats = queryDef.extendedStats;\n    $scope.pipelineAggOptions = [];\n    $scope.modelSettingsValues = {};\n\n    $scope.init = function() {\n      $scope.agg = metricAggs[$scope.index];\n      $scope.validateModel();\n      $scope.updatePipelineAggOptions();\n    };\n\n    $scope.updatePipelineAggOptions = function() {\n      $scope.pipelineAggOptions = queryDef.getPipelineAggOptions($scope.target);\n    };\n\n    $rootScope.onAppEvent('elastic-query-updated', function() {\n      $scope.index = _.indexOf(metricAggs, $scope.agg);\n      $scope.updatePipelineAggOptions();\n      $scope.validateModel();\n    }, $scope);\n\n    $scope.validateModel = function() {\n      $scope.isFirst = $scope.index === 0;\n      $scope.isSingle = metricAggs.length === 1;\n      $scope.settingsLinkText = '';\n      $scope.aggDef = _.find($scope.metricAggTypes, {value: $scope.agg.type});\n\n      if (queryDef.isPipelineAgg($scope.agg.type)) {\n        $scope.agg.pipelineAgg = $scope.agg.pipelineAgg || 'select metric';\n        $scope.agg.field = $scope.agg.pipelineAgg;\n\n        var pipelineOptions = queryDef.getPipelineOptions($scope.agg);\n        if (pipelineOptions.length > 0) {\n          _.each(pipelineOptions, function(opt) {\n            $scope.agg.settings[opt.text] = $scope.agg.settings[opt.text] || opt.default;\n          });\n          $scope.settingsLinkText = 'Options';\n        }\n      } else if (!$scope.agg.field) {\n        $scope.agg.field = 'select field';\n      }\n      switch($scope.agg.type) {\n        case 'cardinality': {\n          var precision_threshold = $scope.agg.settings.precision_threshold || '';\n          $scope.settingsLinkText = 'Precision threshold: ' + precision_threshold;\n          break;\n        }\n        case 'percentiles': {\n          $scope.agg.settings.percents = $scope.agg.settings.percents || [25,50,75,95,99];\n          $scope.settingsLinkText = 'Values: ' + $scope.agg.settings.percents.join(',');\n          break;\n        }\n        case 'extended_stats': {\n          if (_.keys($scope.agg.meta).length === 0)  {\n            $scope.agg.meta.std_deviation_bounds_lower = true;\n            $scope.agg.meta.std_deviation_bounds_upper = true;\n          }\n\n          var stats = _.reduce($scope.agg.meta, function(memo, val, key) {\n            if (val) {\n              var def = _.find($scope.extendedStats, {value: key});\n              memo.push(def.text);\n            }\n            return memo;\n          }, []);\n\n          $scope.settingsLinkText = 'Stats: ' + stats.join(', ');\n          break;\n        }\n        case 'moving_avg': {\n          $scope.movingAvgModelTypes = queryDef.movingAvgModelOptions;\n          $scope.modelSettings = queryDef.getMovingAvgSettings($scope.agg.settings.model, true);\n          $scope.updateMovingAvgModelSettings();\n          break;\n        }\n        case 'raw_document': {\n          $scope.agg.settings.size = $scope.agg.settings.size || 500;\n          $scope.settingsLinkText = 'Size: ' + $scope.agg.settings.size ;\n          $scope.target.metrics.splice(0,$scope.target.metrics.length, $scope.agg);\n\n          $scope.target.bucketAggs = [];\n          break;\n        }\n      }\n      if ($scope.aggDef.supportsInlineScript) {\n        // I know this stores the inline script twice\n        // but having it like this simplifes the query_builder\n        var inlineScript = $scope.agg.inlineScript;\n        if (inlineScript) {\n          $scope.agg.settings.script = {inline: inlineScript};\n        } else {\n          delete $scope.agg.settings.script;\n        }\n\n        if ($scope.settingsLinkText === '') {\n          $scope.settingsLinkText = 'Options';\n        }\n      }\n    };\n\n    $scope.toggleOptions = function() {\n      $scope.showOptions = !$scope.showOptions;\n      $scope.updatePipelineAggOptions();\n    };\n\n    $scope.onChangeInternal = function() {\n      $scope.onChange();\n    };\n\n    $scope.updateMovingAvgModelSettings = function () {\n      var modelSettingsKeys = [];\n      var modelSettings = queryDef.getMovingAvgSettings($scope.agg.settings.model, false);\n      for (var i=0; i < modelSettings.length; i++) {\n        modelSettingsKeys.push(modelSettings[i].value);\n      }\n\n      for (var key in $scope.agg.settings.settings) {\n        if (($scope.agg.settings.settings[key] === null) || (modelSettingsKeys.indexOf(key) === -1)) {\n          delete $scope.agg.settings.settings[key];\n        }\n      }\n    };\n\n    $scope.onChangeClearInternal = function() {\n      delete $scope.agg.settings.minimize;\n      $scope.onChange();\n    };\n\n    $scope.onTypeChange = function() {\n      $scope.agg.settings = {};\n      $scope.agg.meta = {};\n      $scope.showOptions = false;\n      $scope.updatePipelineAggOptions();\n      $scope.onChange();\n    };\n\n    $scope.getFieldsInternal = function() {\n      if ($scope.agg.type === 'cardinality') {\n        return $scope.getFields();\n      }\n      return $scope.getFields({$fieldType: 'number'});\n    };\n\n    $scope.addMetricAgg = function() {\n      var addIndex = metricAggs.length;\n\n      var id = _.reduce($scope.target.bucketAggs.concat($scope.target.metrics), function(max, val) {\n        return parseInt(val.id) > max ? parseInt(val.id) : max;\n      }, 0);\n\n      metricAggs.splice(addIndex, 0, {type: \"count\", field: \"select field\", id: (id+1).toString()});\n      $scope.onChange();\n    };\n\n    $scope.removeMetricAgg = function() {\n      metricAggs.splice($scope.index, 1);\n      $scope.onChange();\n    };\n\n    $scope.toggleShowMetric = function() {\n      $scope.agg.hide = !$scope.agg.hide;\n      if (!$scope.agg.hide) {\n        delete $scope.agg.hide;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/elasticsearch/metric_agg.js\n// module id = 1452\n// module chunks = 0","import _ from 'lodash';\n\nexport class ElasticConfigCtrl {\n  static templateUrl = 'public/app/plugins/datasource/elasticsearch/partials/config.html';\n  current: any;\n\n  /** @ngInject */\n  constructor($scope) {\n    this.current.jsonData.timeField = this.current.jsonData.timeField || '@timestamp';\n    this.current.jsonData.esVersion = this.current.jsonData.esVersion || 5;\n  }\n\n  indexPatternTypes = [\n    {name: 'No pattern',  value: undefined},\n    {name: 'Hourly',      value: 'Hourly',  example: '[logstash-]YYYY.MM.DD.HH'},\n    {name: 'Daily',       value: 'Daily',   example: '[logstash-]YYYY.MM.DD'},\n    {name: 'Weekly',      value: 'Weekly',  example: '[logstash-]GGGG.WW'},\n    {name: 'Monthly',     value: 'Monthly', example: '[logstash-]YYYY.MM'},\n    {name: 'Yearly',      value: 'Yearly',  example: '[logstash-]YYYY'},\n  ];\n\n  esVersions = [\n    {name: '2.x', value: 2},\n    {name: '5.x', value: 5},\n  ];\n\n  indexPatternTypeChanged() {\n    var def = _.find(this.indexPatternTypes, {value: this.current.jsonData.interval});\n    this.current.database = def.example || 'es-index-name';\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/elasticsearch/config_ctrl.ts","import OpenTsDatasource from './datasource';\nimport {OpenTsQueryCtrl} from './query_ctrl';\nimport {OpenTsConfigCtrl} from './config_ctrl';\n\nclass AnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  OpenTsDatasource as Datasource,\n  OpenTsQueryCtrl as QueryCtrl,\n  OpenTsConfigCtrl as ConfigCtrl,\n  AnnotationsQueryCtrl as AnnotationsQueryCtrl\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/opentsdb/module.ts","define([\n  'angular',\n  'lodash',\n  'app/core/utils/datemath',\n  'moment',\n],\nfunction (angular, _, dateMath) {\n  'use strict';\n\n  /** @ngInject */\n  function OpenTsDatasource(instanceSettings, $q, backendSrv, templateSrv) {\n    this.type = 'opentsdb';\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.basicAuth = instanceSettings.basicAuth;\n    instanceSettings.jsonData = instanceSettings.jsonData || {};\n    this.tsdbVersion = instanceSettings.jsonData.tsdbVersion || 1;\n    this.tsdbResolution = instanceSettings.jsonData.tsdbResolution || 1;\n    this.supportMetrics = true;\n    this.tagKeys = {};\n\n    //console.info(res);\n    this.cnMap={\n      'env.air.beichen':'大气监测站点',\n      'env.power.beichen':'企业电力监测站点',\n      'env.video.beichen':'视频监控站点',\n      'env':'环境',\n      'env.air':'空气',\n      'env.water':'水质',\n      'env.gas':'废气',\n      'public':'公共',\n      'private':'私有',\n      'env.device':'设备',\n      'etc':'其他',\n      'evn':'evn',\n      'swm':'swm',\n      'swm.flowmeter':'流量计',\n      'swm.pressuremeter':'压力计',\n      'swm.watermeter':'水表',\n      'site':'站点',\n      'city':'城市',\n      'DT':'设备温度',\n      'PRESSURE':'压力',\n      'FLOW':'流量',\n      'TOTAL_FLOW_L':'大管总流量',\n      'TOTAL_FLOW_S':'小管总流量',\n      'TEMPERATURE':'温度',\n      'HUMIDITY':'湿度',\n      'epa':'市环保局监测信息系统',\n      'company':'国控市控重点企业监管系统',//重点企业电力电量负荷监测系统\n      'town':'镇级空气环境质量监测系统',\n      //'private':'空气网格化监测系统',\n      'odour':'恶臭污染物连续监测系统',\n      'police':'公安高清视频监控',\n      'straw':'监测秸秆焚烧的高架监控系统',\n      'SPEED':'风速',\n      'DIRECTION':'风向',\n      'CURRENT':'电流',\n      'POWER':'电量',\n      'SOC':'剩余电流',\n      'VOLTAGE'\t:'电压',\n\n\n    };\n    this.air=['AQI','PM25','PM10','O3','SO2','NO2','CO','TEMPERATURE','HUMIDITY'];\n    this.water=['PH','DO','COD','FTU','CT','TEMPERATURE','TOTAL_P','NH3_N'];\n    this.gas=['CL2','ETO','HCL','NH3','C6H6','H2S','C7H8','TEMPERATURE','HUMIDITY'];\n\n    // Called once per panel (graph)\n    this.query = function(options) {\n      var start = convertToTSDBTime(options.rangeRaw.from, false);\n      var end = convertToTSDBTime(options.rangeRaw.to, true);\n      var qs = [];\n\n      _.each(options.targets, function(target) {\n        if (!target.metric) { return; }\n        qs.push(convertTargetToQuery(target, options, this.tsdbVersion));\n      }.bind(this));\n\n      var queries = _.compact(qs);\n\n      // No valid targets, return the empty result to save a round trip.\n      if (_.isEmpty(queries)) {\n        var d = $q.defer();\n        d.resolve({ data: [] });\n        return d.promise;\n      }\n\n      var groupByTags = {};\n      _.each(queries, function(query) {\n        if (query.filters && query.filters.length > 0) {\n          _.each(query.filters, function(val) {\n            groupByTags[val.tagk] = true;\n          });\n        } else {\n          _.each(query.tags, function(val, key) {\n            groupByTags[key] = true;\n          });\n        }\n      });\n\n      options.targets = _.filter(options.targets, function(query) {\n        return query.hide !== true;\n      });\n\n      return this.performTimeSeriesQuery(queries, start, end).then(function(response) {\n        var metricToTargetMapping = mapMetricsToTargets(response.data, options, this.tsdbVersion);\n        var result = _.map(response.data, function(metricData, index) {\n          index = metricToTargetMapping[index];\n          if (index === -1) {\n            index = 0;\n          }\n          this._saveTagKeys(metricData);\n\n          return transformMetricData(metricData, groupByTags, options.targets[index], options, this.tsdbResolution);\n        }.bind(this));\n        return { data: result };\n      }.bind(this));\n    };\n\n    this.annotationQuery = function(options) {\n      var start = convertToTSDBTime(options.rangeRaw.from, false);\n      var end = convertToTSDBTime(options.rangeRaw.to, true);\n      var qs = [];\n      var eventList = [];\n\n      qs.push({ aggregator:\"sum\", metric:options.annotation.target });\n\n      var queries = _.compact(qs);\n\n      return this.performTimeSeriesQuery(queries, start, end).then(function(results) {\n        if(results.data[0]) {\n          var annotationObject = results.data[0].annotations;\n          if(options.annotation.isGlobal){\n            annotationObject = results.data[0].globalAnnotations;\n          }\n          if(annotationObject) {\n            _.each(annotationObject, function(annotation) {\n              var event = {\n                text: annotation.description,\n                time: Math.floor(annotation.startTime) * 1000,\n                annotation: options.annotation\n              };\n\n              eventList.push(event);\n            });\n          }\n        }\n        return eventList;\n\n      }.bind(this));\n    };\n\n    this.targetContainsTemplate = function(target) {\n      if (target.filters && target.filters.length > 0) {\n        for (var i = 0; i < target.filters.length; i++) {\n          if (templateSrv.variableExists(target.filters[i].filter)) {\n            return true;\n          }\n        }\n      }\n\n      if (target.tags && Object.keys(target.tags).length > 0) {\n        for (var tagKey in target.tags) {\n          if (templateSrv.variableExists(target.tags[tagKey])) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n\n    this.performTimeSeriesQuery = function(queries, start, end) {\n      var msResolution = false;\n      if (this.tsdbResolution === 2) {\n        msResolution = true;\n      }\n      var reqBody = {\n        start: start,\n        queries: queries,\n        msResolution: msResolution,\n        globalAnnotations: true\n      };\n      if (this.tsdbVersion === 3) {\n        reqBody.showQuery = true;\n      }\n\n      // Relative queries (e.g. last hour) don't include an end time\n      if (end) {\n        reqBody.end = end;\n      }\n\n      var options = {\n        method: 'POST',\n        url: this.url + '/api/query',\n        data: reqBody\n      };\n\n      this._addCredentialOptions(options);\n      return backendSrv.datasourceRequest(options);\n    };\n\n    this.suggestTagKeys = function(metric) {\n      return $q.when(this.tagKeys[metric] || []);\n    };\n\n    this._saveTagKeys = function(metricData) {\n      var tagKeys = Object.keys(metricData.tags);\n      _.each(metricData.aggregateTags, function(tag) {\n        tagKeys.push(tag);\n      });\n\n      this.tagKeys[metricData.metric] = tagKeys;\n    };\n\n    this._performSuggestQuery = function(query, type) {\n      return this._get('/api/suggest', {type: type, q: query, max: 1000}).then(function(result) {\n        return result.data;\n      });\n    };\n\n    this._performMetricKeyValueLookup = function(metric, keys) {\n\n      if(!metric || !keys) {\n        return $q.when([]);\n      }\n\n      var keysArray = keys.split(\",\").map(function(key) {\n        return key.trim();\n      });\n      var key = keysArray[0];\n      var keysQuery = key + \"=*\";\n\n      if (keysArray.length > 1) {\n        keysQuery += \",\" + keysArray.splice(1).join(\",\");\n      }\n\n      var m = metric + \"{\" + keysQuery + \"}\";\n\n      return this._get('/api/search/lookup', {m: m, limit: 3000}).then(function(result) {\n        result = result.data.results;\n        var tagvs = [];\n        _.each(result, function(r) {\n          if (tagvs.indexOf(r.tags[key]) === -1) {\n            tagvs.push(r.tags[key]);\n          }\n        });\n        return tagvs;\n      });\n    };\n\n    this._performMetricKeyLookup = function(metric) {\n      if(!metric) { return $q.when([]); }\n\n      return this._get('/api/search/lookup', {m: metric, limit: 1000}).then(function(result) {\n        result = result.data.results;\n        var tagks = [];\n        _.each(result, function(r) {\n          _.each(r.tags, function(tagv, tagk) {\n            if(tagks.indexOf(tagk) === -1) {\n              tagks.push(tagk);\n            }\n          });\n        });\n        return tagks;\n      });\n    };\n\n    this._get = function(relativeUrl, params) {\n      var options = {\n        method: 'GET',\n        url: this.url + relativeUrl,\n        params: params,\n      };\n\n      this._addCredentialOptions(options);\n\n      return backendSrv.datasourceRequest(options);\n    };\n\n    this._addCredentialOptions = function(options) {\n      if (this.basicAuth || this.withCredentials) {\n        options.withCredentials = true;\n      }\n      if (this.basicAuth) {\n        options.headers = {\"Authorization\": this.basicAuth};\n      }\n    };\n\n    this.metricFindQuery = function(query,options) {\n      if (!query) { return $q.when([]); }\n\n      var interpolated;\n      try {\n        interpolated = templateSrv.replace(query, {}, 'distributed');\n      }\n      catch (err) {\n        return $q.reject(err);\n      }\n      var ds=this;\n      var responseTransform = function(result)\n      {\n        //排序\n        if(tag_values_query)\n        {\n          //console.log(tag_values_query)\n          var keysArray = tag_values_query[2].split(\",\").map(function(key) {\n            return key.trim();\n          });\n          var key = keysArray[0];\n          if(key==='index')\n          {\n            if(tag_values_query[1]==='env.air')\n            {\n              /*for(let i=0;i<result.length;i++)\n              {\n                let item=result[i];\n                let index=ds.air.indexOf(item);\n\n                result.splice(i,1);\n                result.splice()\n              }*/\n              result=ds.air;\n\n            }else if(tag_values_query[1]==='env.gas')\n            {\n              result=ds.gas;\n            }else if(tag_values_query[1]==='env.water')\n            {\n              result=ds.water;\n            }\n          }\n          if(key==='host')\n          {\n            if(options)\n            {\n              //console.info(options.variable.cnData);\n              var hostMap={};\n              _.map(options.variable.cnData,function (item) {\n                hostMap[item.key]=item.name;\n                return item;\n              });\n              return _.map(result, function(value) {\n                return {text: value,cn:hostMap[value]};\n              });\n            }\n\n          }\n          if(key==='source')\n          {\n\n            if(options)\n            {\n              //console.info(options.variable.cnData);\n              var hostMap={};\n              _.map(options.variable.cnData,function (item) {\n                hostMap[item.key]=item.name;\n                return item;\n              });\n              return _.map(result, function(value) {\n                if(tag_values_query[1]==='env.air.beichen'&&key=='source'&&value=='private')\n                  return {text: value,cn:'空气网格化监测系统'};\n                if(tag_values_query[1]==='env.power.beichen'&&key=='source'&&value=='company')\n                  return {text: value,cn:'重点企业电力电量负荷监测系统'};\n                return {text: value,cn:ds.cnMap[value]};\n                return {text: value,cn:hostMap[value]};\n              });\n            }\n\n          }\n\n        }\n\n        return _.map(result, function(value) {\n          return {text: value,cn:ds.cnMap[value]};\n        });\n      };\n\n      var metrics_regex = /metrics\\((.*)\\)/;\n      var tag_names_regex = /tag_names\\((.*)\\)/;\n      var tag_values_regex = /tag_values\\((.*?),\\s?(.*)\\)/;\n      var tag_names_suggest_regex = /suggest_tagk\\((.*)\\)/;\n      var tag_values_suggest_regex = /suggest_tagv\\((.*)\\)/;\n\n\n\n      var metrics_query = interpolated.match(metrics_regex);\n      //console.info(metrics_query);\n      if (metrics_query) {\n        return this._performSuggestQuery(metrics_query[1], 'metrics').then(responseTransform);\n      }\n\n      var tag_names_query = interpolated.match(tag_names_regex);\n      if (tag_names_query) {\n        return this._performMetricKeyLookup(tag_names_query[1]).then(responseTransform);\n      }\n\n      var tag_values_query = interpolated.match(tag_values_regex);\n      //console.info(interpolated);\n      console.info(tag_values_query);\n      if (tag_values_query) {\n        return this._performMetricKeyValueLookup(tag_values_query[1], tag_values_query[2]).then(responseTransform);\n      }\n\n      var tag_names_suggest_query = interpolated.match(tag_names_suggest_regex);\n      if (tag_names_suggest_query) {\n        return this._performSuggestQuery(tag_names_suggest_query[1], 'tagk').then(responseTransform);\n      }\n\n      var tag_values_suggest_query = interpolated.match(tag_values_suggest_regex);\n      if (tag_values_suggest_query) {\n        return this._performSuggestQuery(tag_values_suggest_query[1], 'tagv').then(responseTransform);\n      }\n\n      return $q.when([]);\n    };\n\n    this.testDatasource = function() {\n      return this._performSuggestQuery('cpu', 'metrics').then(function () {\n        return { status: \"success\", message: \"Data source is working\" };\n      });\n    };\n\n    var aggregatorsPromise = null;\n    this.getAggregators = function() {\n      if (aggregatorsPromise) { return aggregatorsPromise; }\n\n      aggregatorsPromise = this._get('/api/aggregators').then(function(result) {\n        if (result.data && _.isArray(result.data)) {\n          return result.data.sort();\n        }\n        return [];\n      });\n      return aggregatorsPromise;\n    };\n\n    var filterTypesPromise = null;\n    this.getFilterTypes = function() {\n      if (filterTypesPromise) { return filterTypesPromise; }\n\n      filterTypesPromise = this._get('/api/config/filters').then(function(result) {\n        if (result.data) {\n          return Object.keys(result.data).sort();\n        }\n        return [];\n      });\n      return filterTypesPromise;\n    };\n\n    function transformMetricData(md, groupByTags, target, options, tsdbResolution) {\n      var metricLabel = createMetricLabel(md, target, groupByTags, options);\n      var dps = [];\n\n      // TSDB returns datapoints has a hash of ts => value.\n      // Can't use _.pairs(invert()) because it stringifies keys/values\n      _.each(md.dps, function (v, k) {\n        if (tsdbResolution === 2) {\n          dps.push([v, k * 1]);\n        } else {\n          dps.push([v, k * 1000]);\n        }\n      });\n\n      return { target: metricLabel, datapoints: dps };\n    }\n\n    function createMetricLabel(md, target, groupByTags, options) {\n      if (target.alias) {\n        var scopedVars = _.clone(options.scopedVars || {});\n        _.each(md.tags, function(value, key) {\n          scopedVars['tag_' + key] = {value: value};\n        });\n        return templateSrv.replace(target.alias, scopedVars);\n      }\n\n      var label = md.metric;\n      var tagData = [];\n\n      if (!_.isEmpty(md.tags)) {\n        _.each(_.toPairs(md.tags), function(tag) {\n          if (_.has(groupByTags, tag[0])) {\n            tagData.push(tag[0] + \"=\" + tag[1]);\n          }\n        });\n      }\n\n      if (!_.isEmpty(tagData)) {\n        label += \"{\" + tagData.join(\", \") + \"}\";\n      }\n\n      return label;\n    }\n\n    function convertTargetToQuery(target, options, tsdbVersion) {\n      if (!target.metric || target.hide) {\n        return null;\n      }\n\n      var query = {\n        metric: templateSrv.replace(target.metric, options.scopedVars, 'pipe'),\n        aggregator: \"avg\"\n      };\n\n      if (target.aggregator) {\n        query.aggregator = templateSrv.replace(target.aggregator);\n      }\n\n      if (target.shouldComputeRate) {\n        query.rate = true;\n        query.rateOptions = {\n          counter: !!target.isCounter\n        };\n\n        if (target.counterMax && target.counterMax.length) {\n          query.rateOptions.counterMax = parseInt(target.counterMax);\n        }\n\n        if (target.counterResetValue && target.counterResetValue.length) {\n          query.rateOptions.resetValue = parseInt(target.counterResetValue);\n        }\n\n        if(tsdbVersion >= 2) {\n          query.rateOptions.dropResets = !query.rateOptions.counterMax &&\n                (!query.rateOptions.ResetValue || query.rateOptions.ResetValue === 0);\n        }\n      }\n\n      if (!target.disableDownsampling) {\n        var interval =  templateSrv.replace(target.downsampleInterval || options.interval);\n\n        if (interval.match(/\\.[0-9]+s/)) {\n          interval = parseFloat(interval)*1000 + \"ms\";\n        }\n\n        query.downsample = interval + \"-\" + target.downsampleAggregator;\n\n        if (target.downsampleFillPolicy && target.downsampleFillPolicy !== \"none\") {\n          query.downsample += \"-\" + target.downsampleFillPolicy;\n        }\n      }\n\n      if (target.filters && target.filters.length > 0) {\n        query.filters = angular.copy(target.filters);\n        if (query.filters){\n          for (var filter_key in query.filters) {\n            query.filters[filter_key].filter = templateSrv.replace(query.filters[filter_key].filter, options.scopedVars, 'pipe');\n          }\n        }\n      } else {\n        query.tags = angular.copy(target.tags);\n        if (query.tags){\n          for (var tag_key in query.tags) {\n            query.tags[tag_key] = templateSrv.replace(query.tags[tag_key], options.scopedVars, 'pipe');\n          }\n        }\n      }\n\n      if (target.explicitTags) {\n        query.explicitTags = true;\n      }\n\n      return query;\n    }\n\n    function mapMetricsToTargets(metrics, options, tsdbVersion) {\n      var interpolatedTagValue, arrTagV;\n      return _.map(metrics, function(metricData) {\n        if (tsdbVersion === 3) {\n          return metricData.query.index;\n        } else {\n          return _.findIndex(options.targets, function(target) {\n            if (target.filters && target.filters.length > 0) {\n              return target.metric === metricData.metric;\n            } else {\n              return target.metric === metricData.metric &&\n              _.every(target.tags, function(tagV, tagK) {\n                interpolatedTagValue = templateSrv.replace(tagV, options.scopedVars, 'pipe');\n                arrTagV = interpolatedTagValue.split('|');\n                return _.includes(arrTagV, metricData.tags[tagK]) || interpolatedTagValue === \"*\";\n              });\n            }\n          });\n        }\n      });\n    }\n\n    function convertToTSDBTime(date, roundUp) {\n      if (date === 'now') {\n        return null;\n      }\n\n      date = dateMath.parse(date, roundUp);\n      return date.valueOf();\n    }\n  }\n\n  return OpenTsDatasource;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/opentsdb/datasource.js\n// module id = 1455\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport class OpenTsQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n  aggregators: any;\n  fillPolicies: any;\n  filterTypes: any;\n  tsdbVersion: any;\n  aggregator: any;\n  downsampleInterval: any;\n  downsampleAggregator: any;\n  downsampleFillPolicy: any;\n  errors: any;\n  suggestMetrics: any;\n  suggestTagKeys: any;\n  suggestTagValues: any;\n  addTagMode: boolean;\n  addFilterMode: boolean;\n\n  /** @ngInject **/\n  constructor($scope, $injector) {\n    super($scope, $injector);\n\n    this.errors = this.validateTarget();\n    this.aggregators = ['avg', 'sum', 'min', 'max', 'dev', 'zimsum', 'mimmin', 'mimmax'];\n    this.fillPolicies = ['none', 'nan', 'null', 'zero'];\n    this.filterTypes = ['wildcard','iliteral_or','not_iliteral_or','not_literal_or','iwildcard','literal_or','regexp'];\n\n    this.tsdbVersion = this.datasource.tsdbVersion;\n\n    if (!this.target.aggregator) {\n      this.target.aggregator = 'sum';\n    }\n\n    if (!this.target.downsampleAggregator) {\n      this.target.downsampleAggregator = 'avg';\n    }\n\n    if (!this.target.downsampleFillPolicy) {\n      this.target.downsampleFillPolicy = 'none';\n    }\n\n    this.datasource.getAggregators().then((aggs) => {\n      if (aggs.length !== 0) {\n        this.aggregators = aggs;\n      }\n    });\n\n    this.datasource.getFilterTypes().then((filterTypes) => {\n      if (filterTypes.length !== 0) {\n        this.filterTypes = filterTypes;\n      }\n    });\n\n    // needs to be defined here as it is called from typeahead\n    this.suggestMetrics = (query, callback) => {\n      this.datasource.metricFindQuery('metrics(' + query + ')')\n      .then(this.getTextValues)\n      .then(callback);\n    };\n\n    this.suggestTagKeys = (query, callback) => {\n      this.datasource.suggestTagKeys(this.target.metric).then(callback);\n    };\n\n    this.suggestTagValues = (query, callback) => {\n      this.datasource.metricFindQuery('suggest_tagv(' + query + ')')\n      .then(this.getTextValues)\n      .then(callback);\n    };\n  }\n\n  targetBlur() {\n    this.errors = this.validateTarget();\n    this.refresh();\n  }\n\n  getTextValues(metricFindResult) {\n    return _.map(metricFindResult, function(value) { return value.text; });\n  }\n\n  addTag() {\n\n    if (this.target.filters && this.target.filters.length > 0) {\n      this.errors.tags = \"Please remove filters to use tags, tags and filters are mutually exclusive.\";\n    }\n\n    if (!this.addTagMode) {\n      this.addTagMode = true;\n      return;\n    }\n\n    if (!this.target.tags) {\n      this.target.tags = {};\n    }\n\n    this.errors = this.validateTarget();\n\n    if (!this.errors.tags) {\n      this.target.tags[this.target.currentTagKey] = this.target.currentTagValue;\n      this.target.currentTagKey = '';\n      this.target.currentTagValue = '';\n      this.targetBlur();\n    }\n\n    this.addTagMode = false;\n  }\n\n  removeTag(key) {\n    delete this.target.tags[key];\n    this.targetBlur();\n  }\n\n  editTag(key, value) {\n    this.removeTag(key);\n    this.target.currentTagKey = key;\n    this.target.currentTagValue = value;\n    this.addTag();\n  }\n\n  closeAddTagMode() {\n    this.addTagMode = false;\n    return;\n  }\n\n  addFilter() {\n\n    if (this.target.tags && _.size(this.target.tags) > 0) {\n      this.errors.filters = \"Please remove tags to use filters, tags and filters are mutually exclusive.\";\n    }\n\n    if (!this.addFilterMode) {\n      this.addFilterMode = true;\n      return;\n    }\n\n    if (!this.target.filters) {\n      this.target.filters = [];\n    }\n\n    if (!this.target.currentFilterType) {\n      this.target.currentFilterType = 'iliteral_or';\n    }\n\n    if (!this.target.currentFilterGroupBy) {\n      this.target.currentFilterGroupBy = false;\n    }\n\n    this.errors = this.validateTarget();\n\n    if (!this.errors.filters) {\n      var currentFilter = {\n        type:    this.target.currentFilterType,\n        tagk:     this.target.currentFilterKey,\n        filter:   this.target.currentFilterValue,\n        groupBy: this.target.currentFilterGroupBy\n      };\n      this.target.filters.push(currentFilter);\n      this.target.currentFilterType = 'literal_or';\n      this.target.currentFilterKey = '';\n      this.target.currentFilterValue = '';\n      this.target.currentFilterGroupBy = false;\n      this.targetBlur();\n    }\n\n    this.addFilterMode = false;\n  }\n\n  removeFilter(index) {\n    this.target.filters.splice(index, 1);\n    this.targetBlur();\n  }\n\n  editFilter(fil, index) {\n    this.removeFilter(index);\n    this.target.currentFilterKey = fil.tagk;\n    this.target.currentFilterValue = fil.filter;\n    this.target.currentFilterType = fil.type;\n    this.target.currentFilterGroupBy = fil.groupBy;\n    this.addFilter();\n  }\n\n  closeAddFilterMode() {\n    this.addFilterMode = false;\n    return;\n  }\n\n  validateTarget() {\n    var errs: any = {};\n\n    if (this.target.shouldDownsample) {\n      try {\n        if (this.target.downsampleInterval) {\n          kbn.describe_interval(this.target.downsampleInterval);\n        } else {\n          errs.downsampleInterval = \"You must supply a downsample interval (e.g. '1m' or '1h').\";\n        }\n      } catch (err) {\n        errs.downsampleInterval = err.message;\n      }\n    }\n\n    if (this.target.tags && _.has(this.target.tags, this.target.currentTagKey)) {\n      errs.tags = \"Duplicate tag key '\" + this.target.currentTagKey + \"'.\";\n    }\n\n    return errs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/opentsdb/query_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nexport class OpenTsConfigCtrl {\n  static templateUrl = 'public/app/plugins/datasource/opentsdb/partials/config.html';\n  current: any;\n\n  /** @ngInject */\n  constructor($scope) {\n    this.current.jsonData = this.current.jsonData || {};\n    this.current.jsonData.tsdbVersion = this.current.jsonData.tsdbVersion || 1;\n    this.current.jsonData.tsdbResolution = this.current.jsonData.tsdbResolution || 1;\n  }\n\n  tsdbVersions = [\n    {name: '<=2.1', value: 1},\n    {name: '==2.2', value: 2},\n    {name: '==2.3', value: 3},\n  ];\n\n  tsdbResolutions = [\n    {name: 'second', value: 1},\n    {name: 'millisecond', value: 2},\n  ];\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/opentsdb/config_ctrl.ts","import {GrafanaDatasource} from './datasource';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nclass GrafanaQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n}\n\nclass GrafanaAnnotationsQueryCtrl {\n  annotation: any;\n\n  types = [\n    {text: 'Dashboard', value: 'dashboard'},\n    {text: 'Tags', value: 'tags'}\n  ];\n\n  constructor() {\n    this.annotation.type = this.annotation.type || 'tags';\n    this.annotation.limit = this.annotation.limit || 100;\n  }\n\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  GrafanaDatasource,\n  GrafanaDatasource as Datasource,\n  GrafanaQueryCtrl as QueryCtrl,\n  GrafanaAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/grafana/module.ts","import _ from 'lodash';\n\nclass GrafanaDatasource {\n\n  /** @ngInject */\n  constructor(private backendSrv, private $q) {}\n\n  query(options) {\n    return this.backendSrv\n      .get('/api/tsdb/testdata/random-walk', {\n        from: options.range.from.valueOf(),\n        to: options.range.to.valueOf(),\n        intervalMs: options.intervalMs,\n        maxDataPoints: options.maxDataPoints,\n      })\n      .then(res => {\n        var data = [];\n\n        if (res.results) {\n          _.forEach(res.results, queryRes => {\n            for (let series of queryRes.series) {\n              data.push({\n                target: series.name,\n                datapoints: series.points,\n              });\n            }\n          });\n        }\n\n        return {data: data};\n      });\n  }\n\n  metricFindQuery(options) {\n    return this.$q.when({data: []});\n  }\n\n\n  annotationQuery(options) {\n    const params: any = {\n      from: options.range.from.valueOf(),\n      to: options.range.to.valueOf(),\n      limit: options.annotation.limit,\n      tags: options.annotation.tags,\n    };\n\n    if (options.annotation.type === 'dashboard') {\n      // if no dashboard id yet return\n      if (!options.dashboard.id) {\n        return this.$q.when([]);\n      }\n      // filter by dashboard id\n      params.dashboardId = options.dashboard.id;\n      // remove tags filter if any\n      delete params.tags;\n    } else {\n      // require at least one tag\n      if (!_.isArray(options.annotation.tags) || options.annotation.tags.length === 0) {\n        return this.$q.when([]);\n      }\n    }\n\n    return this.backendSrv.get('/api/annotations', params);\n  }\n}\n\nexport {GrafanaDatasource};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/grafana/datasource.ts","import _ from 'lodash';\n\nimport * as dateMath from 'app/core/utils/datemath';\nimport InfluxSeries from './influx_series';\nimport InfluxQuery from './influx_query';\nimport ResponseParser from './response_parser';\nimport {InfluxQueryBuilder} from './query_builder';\n\nexport default class InfluxDatasource {\n  type: string;\n  urls: any;\n  username: string;\n  password: string;\n  name: string;\n  database: any;\n  basicAuth: any;\n  withCredentials: any;\n  interval: any;\n  supportAnnotations: boolean;\n  supportMetrics: boolean;\n  responseParser: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, private $q, private backendSrv, private templateSrv) {\n    this.type = 'influxdb';\n    this.urls = _.map(instanceSettings.url.split(','), function(url) {\n      return url.trim();\n    });\n\n    this.username = instanceSettings.username;\n    this.password = instanceSettings.password;\n    this.name = instanceSettings.name;\n    this.database = instanceSettings.database;\n    this.basicAuth = instanceSettings.basicAuth;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.interval = (instanceSettings.jsonData || {}).timeInterval;\n    this.supportAnnotations = true;\n    this.supportMetrics = true;\n    this.responseParser = new ResponseParser();\n  }\n\n  query(options) {\n    var timeFilter = this.getTimeFilter(options);\n    var scopedVars = options.scopedVars;\n    var targets = _.cloneDeep(options.targets);\n    var queryTargets = [];\n    var queryModel;\n    var i, y;\n\n    var allQueries = _.map(targets, target => {\n      if (target.hide) { return \"\"; }\n\n      queryTargets.push(target);\n\n      // backward compatability\n      scopedVars.interval = scopedVars.__interval;\n\n      queryModel = new InfluxQuery(target, this.templateSrv, scopedVars);\n      return queryModel.render(true);\n\n    }).reduce((acc, current) => {\n      if (current !== \"\") {\n        acc += \";\" + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return this.$q.when({data: []});\n    }\n\n    // add global adhoc filters to timeFilter\n    var adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0 ) {\n      timeFilter += ' AND ' + queryModel.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = {value: timeFilter};\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries).then((data): any => {\n      if (!data || !data.results) {\n        return [];\n      }\n\n      var seriesList = [];\n      for (i = 0; i < data.results.length; i++) {\n        var result = data.results[i];\n        if (!result || !result.series) { continue; }\n\n        var target = queryTargets[i];\n        var alias = target.alias;\n        if (alias) {\n          alias = this.templateSrv.replace(target.alias, options.scopedVars);\n        }\n\n        var influxSeries = new InfluxSeries({ series: data.results[i].series, alias: alias });\n\n        switch (target.resultFormat) {\n          case 'table': {\n            seriesList.push(influxSeries.getTable());\n            break;\n          }\n          default: {\n            var timeSeries = influxSeries.getTimeSeries();\n            for (y = 0; y < timeSeries.length; y++) {\n              seriesList.push(timeSeries[y]);\n            }\n            break;\n          }\n        }\n      }\n\n      return {data: seriesList};\n    });\n  }\n\n  annotationQuery(options) {\n    if (!options.annotation.query) {\n      return this.$q.reject({message: 'Query missing in annotation definition'});\n    }\n\n    var timeFilter = this.getTimeFilter({rangeRaw: options.rangeRaw});\n    var query = options.annotation.query.replace('$timeFilter', timeFilter);\n    query = this.templateSrv.replace(query, null, 'regex');\n\n    return this._seriesQuery(query).then(data => {\n      if (!data || !data.results || !data.results[0]) {\n        throw { message: 'No results in response from InfluxDB' };\n      }\n      return new InfluxSeries({series: data.results[0].series, annotation: options.annotation}).getAnnotations();\n    });\n  }\n\n  targetContainsTemplate(target) {\n    for (let group of target.groupBy) {\n      for (let param of group.params) {\n        if (this.templateSrv.variableExists(param)) {\n          return true;\n        }\n      }\n    }\n\n    for (let i in target.tags) {\n      if (this.templateSrv.variableExists(target.tags[i].value)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  metricFindQuery(query) {\n    var interpolated = this.templateSrv.replace(query, null, 'regex');\n\n    return this._seriesQuery(interpolated)\n      .then(_.curry(this.responseParser.parse)(query));\n  }\n\n  getTagKeys(options) {\n    var queryBuilder = new InfluxQueryBuilder({measurement: '', tags: []}, this.database);\n    var query = queryBuilder.buildExploreQuery('TAG_KEYS');\n    return this.metricFindQuery(query);\n  }\n\n  getTagValues(options) {\n    var queryBuilder = new InfluxQueryBuilder({measurement: '', tags: []}, this.database);\n    var query = queryBuilder.buildExploreQuery('TAG_VALUES', options.key);\n    return this.metricFindQuery(query);\n  }\n\n  _seriesQuery(query) {\n    if (!query) { return this.$q.when({results: []}); }\n\n    return this._influxRequest('GET', '/query', {q: query, epoch: 'ms'});\n  }\n\n  serializeParams(params) {\n    if (!params) { return '';}\n\n    return _.reduce(params, (memo, value, key) => {\n      if (value === null || value === undefined) { return memo; }\n      memo.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n      return memo;\n    }, []).join(\"&\");\n  }\n\n  testDatasource() {\n    return this.metricFindQuery('SHOW DATABASES').then(res => {\n      let found = _.find(res, {text: this.database});\n      if (!found) {\n        return { status: \"error\", message: \"Could not find the specified database name.\" };\n      }\n      return { status: \"success\", message: \"Data source is working\" };\n    }).catch(err => {\n      return { status: \"error\", message: err.message };\n    });\n  }\n\n  _influxRequest(method, url, data) {\n    var self = this;\n\n    var currentUrl = self.urls.shift();\n    self.urls.push(currentUrl);\n\n    var params: any = {};\n\n    if (self.username) {\n      params.u =  self.username;\n      params.p =  self.password;\n    }\n\n    if (self.database) {\n      params.db = self.database;\n    }\n\n    if (method === 'GET') {\n      _.extend(params, data);\n      data = null;\n    }\n\n    var options: any = {\n      method: method,\n      url:    currentUrl + url,\n      params: params,\n      data:   data,\n      precision: \"ms\",\n      inspect: { type: 'influxdb' },\n      paramSerializer: this.serializeParams,\n    };\n\n    options.headers = options.headers || {};\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n    if (self.basicAuth) {\n      options.headers.Authorization = self.basicAuth;\n    }\n\n    return this.backendSrv.datasourceRequest(options).then(result => {\n      return result.data;\n    }, function(err) {\n      if (err.status !== 0 || err.status >= 300) {\n        if (err.data && err.data.error) {\n          throw { message: 'InfluxDB Error: ' + err.data.error, data: err.data, config: err.config };\n        } else {\n          throw { message: 'Network Error: ' + err.statusText + '(' + err.status + ')', data: err.data, config: err.config };\n        }\n      }\n    });\n  }\n\n  getTimeFilter(options) {\n    var from = this.getInfluxTime(options.rangeRaw.from, false);\n    var until = this.getInfluxTime(options.rangeRaw.to, true);\n    var fromIsAbsolute = from[from.length-1] === 'ms';\n\n    if (until === 'now()' && !fromIsAbsolute) {\n      return 'time >= ' + from;\n    }\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getInfluxTime(date, roundUp) {\n    if (_.isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      var parts = /^now-(\\d+)([d|h|m|s])$/.exec(date);\n      if (parts) {\n        var amount = parseInt(parts[1]);\n        var unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/datasource.ts","import InfluxDatasource from './datasource';\nimport {InfluxQueryCtrl} from './query_ctrl';\n\nclass InfluxConfigCtrl {\n  static templateUrl = 'partials/config.html';\n}\n\nclass InfluxAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  InfluxDatasource as Datasource,\n  InfluxQueryCtrl as QueryCtrl,\n  InfluxConfigCtrl as ConfigCtrl,\n  InfluxAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/module.ts","define([\n  'lodash',\n  'app/core/table_model',\n],\nfunction (_, TableModel) {\n  'use strict';\n\n  function InfluxSeries(options) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n  }\n\n  var p = InfluxSeries.prototype;\n\n  p.getTimeSeries = function() {\n    var output = [];\n    var self = this;\n    var i, j;\n\n    if (self.series.length === 0) {\n      return output;\n    }\n\n    _.each(self.series, function(series) {\n      var columns = series.columns.length;\n      var tags = _.map(series.tags, function(value, key) {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        var seriesName = series.name;\n        var columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (self.alias) {\n          seriesName = self._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        var datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({ target: seriesName, datapoints: datapoints});\n      }\n    });\n\n    return output;\n  };\n\n  p._getSeriesName = function(series, index) {\n    var regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    var segments = series.name.split('.');\n\n    return this.alias.replace(regex, function(match, g1, g2) {\n      var group = g1 || g2;\n      var segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') { return series.name; }\n      if (group === 'col') { return series.columns[index]; }\n      if (!isNaN(segIndex)) { return segments[segIndex]; }\n      if (group.indexOf('tag_') !== 0) { return match; }\n\n      var tag = group.replace('tag_', '');\n      if (!series.tags) { return match; }\n      return series.tags[tag];\n    });\n  };\n\n  p.getAnnotations = function () {\n    var list = [];\n    var self = this;\n\n    _.each(this.series, function (series) {\n      var titleCol = null;\n      var timeCol = null;\n      var tagsCol = [];\n      var textCol = null;\n\n      _.each(series.columns, function(column, index) {\n        if (column === 'time') { timeCol = index; return; }\n        if (column === 'sequence_number') { return; }\n        if (!titleCol) { titleCol = index; }\n        if (column === self.annotation.titleColumn) { titleCol = index; return; }\n        if (_.includes((self.annotation.tagsColumn || '').replace(' ', '').split(\",\"), column)) { tagsCol.push(index); return; }\n        if (column === self.annotation.textColumn) { textCol = index; return; }\n      });\n\n      _.each(series.values, function (value) {\n        var data = {\n          annotation: self.annotation,\n          time: + new Date(value[timeCol]),\n          title: value[titleCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: _.flatten(tagsCol.filter(function (t) { return value[t]; }).map(function(t) { return value[t].split(\",\"); })),\n          text: value[textCol]\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  };\n\n  p.getTable = function() {\n    var table = new TableModel.default();\n    var self = this;\n    var i, j;\n\n    if (self.series.length === 0) {\n      return table;\n    }\n\n    _.each(self.series, function(series, seriesIndex) {\n\n      if (seriesIndex === 0) {\n        table.columns.push({text: 'Time', type: 'time'});\n        _.each(_.keys(series.tags), function(key) {\n          table.columns.push({text: key});\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({text: series.columns[j]});\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          var values = series.values[i];\n          var reordered = [values[0]];\n          if (series.tags) {\n            for (var key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  };\n\n  return InfluxSeries;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/influxdb/influx_series.js\n// module id = 1462\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport default class ResponseParser {\n\n  parse(query, results) {\n    if (!results || results.results.length === 0) { return []; }\n\n    var influxResults = results.results[0];\n    if (!influxResults.series) {\n      return [];\n    }\n\n    var influxdb11format = query.toLowerCase().indexOf('show tag values') >= 0;\n\n    var res = {};\n    _.each(influxResults.series, serie => {\n      _.each(serie.values, value => {\n        if (_.isArray(value)) {\n          if (influxdb11format) {\n            addUnique(res, value[1] || value[0]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    return _.map(res, value => {\n      return { text: value};\n    });\n  }\n}\n\nfunction addUnique(arr, value) {\n  arr[value] = value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/response_parser.ts","import angular from 'angular';\nimport _ from 'lodash';\nimport {InfluxQueryBuilder} from './query_builder';\nimport InfluxQuery from './influx_query';\nimport queryPart from './query_part';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport class InfluxQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  queryModel: InfluxQuery;\n  queryBuilder: any;\n  groupBySegment: any;\n  resultFormats: any[];\n  orderByTime: any[];\n  policySegment: any;\n  tagSegments: any[];\n  selectMenu: any;\n  measurementSegment: any;\n  removeTagFilterSegment: any;\n\n  /** @ngInject **/\n  constructor($scope, $injector, private templateSrv, private $q, private uiSegmentSrv) {\n    super($scope, $injector);\n\n    this.target = this.target;\n    this.queryModel = new InfluxQuery(this.target, templateSrv, this.panel.scopedVars);\n    this.queryBuilder = new InfluxQueryBuilder(this.target, this.datasource.database);\n    this.groupBySegment = this.uiSegmentSrv.newPlusButton();\n    this.resultFormats = [\n      {text: 'Time series', value: 'time_series'},\n      {text: 'Table', value: 'table'},\n    ];\n    this.policySegment = uiSegmentSrv.newSegment(this.target.policy);\n\n    if (!this.target.measurement) {\n      this.measurementSegment = uiSegmentSrv.newSelectMeasurement();\n    } else {\n      this.measurementSegment = uiSegmentSrv.newSegment(this.target.measurement);\n    }\n\n    this.tagSegments = [];\n    for (let tag of this.target.tags) {\n      if (!tag.operator) {\n        if (/^\\/.*\\/$/.test(tag.value)) {\n          tag.operator = \"=~\";\n        } else {\n          tag.operator = '=';\n        }\n      }\n\n      if (tag.condition) {\n        this.tagSegments.push(uiSegmentSrv.newCondition(tag.condition));\n      }\n\n      this.tagSegments.push(uiSegmentSrv.newKey(tag.key));\n      this.tagSegments.push(uiSegmentSrv.newOperator(tag.operator));\n      this.tagSegments.push(uiSegmentSrv.newKeyValue(tag.value));\n    }\n\n    this.fixTagSegments();\n    this.buildSelectMenu();\n    this.removeTagFilterSegment = uiSegmentSrv.newSegment({fake: true, value: '-- remove tag filter --'});\n  }\n\n  removeOrderByTime() {\n    this.target.orderByTime = 'ASC';\n  }\n\n  buildSelectMenu() {\n    var categories = queryPart.getCategories();\n    this.selectMenu = _.reduce(categories, function(memo, cat, key) {\n      var menu = {\n        text: key,\n        submenu: cat.map(item => {\n         return {text: item.type, value: item.type};\n        }),\n      };\n      memo.push(menu);\n      return memo;\n    }, []);\n  }\n\n  getGroupByOptions() {\n    var query = this.queryBuilder.buildExploreQuery('TAG_KEYS');\n\n    return this.datasource.metricFindQuery(query).then(tags => {\n      var options = [];\n      if (!this.queryModel.hasFill()) {\n        options.push(this.uiSegmentSrv.newSegment({value: 'fill(null)'}));\n      }\n      if (!this.target.limit) {\n        options.push(this.uiSegmentSrv.newSegment({value: 'LIMIT'}));\n      }\n      if (!this.target.slimit) {\n        options.push(this.uiSegmentSrv.newSegment({value: 'SLIMIT'}));\n      }\n      if (this.target.orderByTime === 'ASC') {\n        options.push(this.uiSegmentSrv.newSegment({value: 'ORDER BY time DESC'}));\n      }\n      if (!this.queryModel.hasGroupByTime()) {\n        options.push(this.uiSegmentSrv.newSegment({value: 'time($interval)'}));\n      }\n      for (let tag of tags) {\n        options.push(this.uiSegmentSrv.newSegment({value: 'tag(' + tag.text + ')'}));\n      }\n      return options;\n    }).catch(this.handleQueryError.bind(this));\n  }\n\n  groupByAction() {\n    switch (this.groupBySegment.value) {\n      case 'LIMIT': {\n        this.target.limit = 10;\n        break;\n      }\n      case 'SLIMIT': {\n        this.target.slimit = 10;\n        break;\n      }\n      case 'ORDER BY time DESC': {\n        this.target.orderByTime = 'DESC';\n        break;\n      }\n      default: {\n        this.queryModel.addGroupBy(this.groupBySegment.value);\n      }\n    }\n\n    var plusButton = this.uiSegmentSrv.newPlusButton();\n    this.groupBySegment.value  = plusButton.value;\n    this.groupBySegment.html  = plusButton.html;\n    this.panelCtrl.refresh();\n  }\n\n  addSelectPart(selectParts, cat, subitem) {\n    this.queryModel.addSelectPart(selectParts, subitem.value);\n    this.panelCtrl.refresh();\n  }\n\n  handleSelectPartEvent(selectParts, part, evt) {\n    switch (evt.name) {\n      case \"get-param-options\": {\n        var fieldsQuery = this.queryBuilder.buildExploreQuery('FIELDS');\n        return this.datasource.metricFindQuery(fieldsQuery)\n        .then(this.transformToSegments(true))\n        .catch(this.handleQueryError.bind(this));\n      }\n      case \"part-param-changed\": {\n        this.panelCtrl.refresh();\n        break;\n      }\n      case \"action\": {\n        this.queryModel.removeSelectPart(selectParts, part);\n        this.panelCtrl.refresh();\n        break;\n      }\n      case \"get-part-actions\": {\n        return this.$q.when([{text: 'Remove', value: 'remove-part'}]);\n      }\n    }\n  }\n\n  handleGroupByPartEvent(part, index, evt) {\n    switch (evt.name) {\n      case \"get-param-options\": {\n        var tagsQuery = this.queryBuilder.buildExploreQuery('TAG_KEYS');\n        return this.datasource.metricFindQuery(tagsQuery)\n        .then(this.transformToSegments(true))\n        .catch(this.handleQueryError.bind(this));\n      }\n      case \"part-param-changed\": {\n        this.panelCtrl.refresh();\n        break;\n      }\n      case \"action\": {\n        this.queryModel.removeGroupByPart(part, index);\n        this.panelCtrl.refresh();\n        break;\n      }\n      case \"get-part-actions\": {\n        return this.$q.when([{text: 'Remove', value: 'remove-part'}]);\n      }\n    }\n  }\n\n  fixTagSegments() {\n    var count = this.tagSegments.length;\n    var lastSegment = this.tagSegments[Math.max(count-1, 0)];\n\n    if (!lastSegment || lastSegment.type !== 'plus-button') {\n      this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\n    }\n  }\n\n  measurementChanged() {\n    this.target.measurement = this.measurementSegment.value;\n    this.panelCtrl.refresh();\n  }\n\n  getPolicySegments() {\n    var policiesQuery = this.queryBuilder.buildExploreQuery('RETENTION POLICIES');\n    return this.datasource.metricFindQuery(policiesQuery)\n    .then(this.transformToSegments(false))\n    .catch(this.handleQueryError.bind(this));\n  }\n\n  policyChanged() {\n    this.target.policy = this.policySegment.value;\n    this.panelCtrl.refresh();\n  }\n\n  toggleEditorMode() {\n    try {\n      this.target.query = this.queryModel.render(false);\n    } catch (err) {\n      console.log('query render error');\n    }\n    this.target.rawQuery = !this.target.rawQuery;\n  }\n\n  getMeasurements(measurementFilter) {\n    var query = this.queryBuilder.buildExploreQuery('MEASUREMENTS', undefined, measurementFilter);\n    return this.datasource.metricFindQuery(query)\n      .then(this.transformToSegments(true))\n      .catch(this.handleQueryError.bind(this));\n  }\n\n  handleQueryError(err) {\n    this.error = err.message || 'Failed to issue metric query';\n    return [];\n  }\n\n  transformToSegments(addTemplateVars) {\n    return (results) => {\n      var segments = _.map(results, segment => {\n        return this.uiSegmentSrv.newSegment({ value: segment.text, expandable: segment.expandable });\n      });\n\n      if (addTemplateVars) {\n        for (let variable of this.templateSrv.variables) {\n          segments.unshift(this.uiSegmentSrv.newSegment({ type: 'template', value: '/^$' + variable.name + '$/', expandable: true }));\n        }\n      }\n\n      return segments;\n    };\n  }\n\n  getTagsOrValues(segment, index) {\n    if (segment.type === 'condition') {\n      return this.$q.when([this.uiSegmentSrv.newSegment('AND'), this.uiSegmentSrv.newSegment('OR')]);\n    }\n    if (segment.type === 'operator') {\n      var nextValue = this.tagSegments[index+1].value;\n      if (/^\\/.*\\/$/.test(nextValue)) {\n        return this.$q.when(this.uiSegmentSrv.newOperators(['=~', '!~']));\n      } else {\n        return this.$q.when(this.uiSegmentSrv.newOperators(['=', '!=', '<>', '<', '>']));\n      }\n    }\n\n    var query, addTemplateVars;\n    if (segment.type === 'key' || segment.type === 'plus-button') {\n      query = this.queryBuilder.buildExploreQuery('TAG_KEYS');\n      addTemplateVars = false;\n    } else if (segment.type === 'value')  {\n      query = this.queryBuilder.buildExploreQuery('TAG_VALUES', this.tagSegments[index-2].value);\n      addTemplateVars = true;\n    }\n\n    return this.datasource.metricFindQuery(query)\n    .then(this.transformToSegments(addTemplateVars))\n    .then(results => {\n      if (segment.type === 'key') {\n        results.splice(0, 0, angular.copy(this.removeTagFilterSegment));\n      }\n      return results;\n    })\n    .catch(this.handleQueryError.bind(this));\n  }\n\n  getFieldSegments() {\n    var fieldsQuery = this.queryBuilder.buildExploreQuery('FIELDS');\n    return this.datasource.metricFindQuery(fieldsQuery)\n    .then(this.transformToSegments(false))\n    .catch(this.handleQueryError);\n  }\n\n  tagSegmentUpdated(segment, index) {\n    this.tagSegments[index] = segment;\n\n    // handle remove tag condition\n    if (segment.value === this.removeTagFilterSegment.value) {\n      this.tagSegments.splice(index, 3);\n      if (this.tagSegments.length === 0) {\n        this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\n      } else if (this.tagSegments.length > 2) {\n        this.tagSegments.splice(Math.max(index-1, 0), 1);\n        if (this.tagSegments[this.tagSegments.length-1].type !== 'plus-button') {\n          this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\n        }\n      }\n    } else {\n      if (segment.type === 'plus-button') {\n        if (index > 2) {\n          this.tagSegments.splice(index, 0, this.uiSegmentSrv.newCondition('AND'));\n        }\n        this.tagSegments.push(this.uiSegmentSrv.newOperator('='));\n        this.tagSegments.push(this.uiSegmentSrv.newFake('select tag value', 'value', 'query-segment-value'));\n        segment.type = 'key';\n        segment.cssClass = 'query-segment-key';\n      }\n\n      if ((index+1) === this.tagSegments.length) {\n        this.tagSegments.push(this.uiSegmentSrv.newPlusButton());\n      }\n    }\n\n    this.rebuildTargetTagConditions();\n  }\n\n  rebuildTargetTagConditions() {\n    var tags = [];\n    var tagIndex = 0;\n    var tagOperator = \"\";\n\n    _.each(this.tagSegments, (segment2, index) => {\n      if (segment2.type === 'key') {\n        if (tags.length === 0) {\n          tags.push({});\n        }\n        tags[tagIndex].key = segment2.value;\n      } else if (segment2.type === 'value') {\n        tagOperator = this.getTagValueOperator(segment2.value, tags[tagIndex].operator);\n        if (tagOperator) {\n          this.tagSegments[index-1] = this.uiSegmentSrv.newOperator(tagOperator);\n          tags[tagIndex].operator = tagOperator;\n        }\n        tags[tagIndex].value = segment2.value;\n      } else if (segment2.type === 'condition') {\n        tags.push({ condition: segment2.value });\n        tagIndex += 1;\n      } else if (segment2.type === 'operator') {\n        tags[tagIndex].operator = segment2.value;\n      }\n    });\n\n    this.target.tags = tags;\n    this.panelCtrl.refresh();\n  }\n\n  getTagValueOperator(tagValue, tagOperator): string {\n    if (tagOperator !== '=~' && tagOperator !== '!~' && /^\\/.*\\/$/.test(tagValue)) {\n      return '=~';\n    } else if ((tagOperator === '=~' || tagOperator === '!~') && /^(?!\\/.*\\/$)/.test(tagValue)) {\n      return '=';\n    }\n    return null;\n  }\n\n  getCollapsedText() {\n    return this.queryModel.render(false);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/influxdb/query_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nclass MixedDatasource {\n\n  /** @ngInject */\n  constructor(private $q, private datasourceSrv) {\n  }\n\n  query(options) {\n    var sets = _.groupBy(options.targets, 'datasource');\n    var promises = _.map(sets, targets => {\n      var dsName = targets[0].datasource;\n      if (dsName === '-- Mixed --') {\n        return this.$q([]);\n      }\n\n      return this.datasourceSrv.get(dsName).then(function(ds) {\n        var opt = angular.copy(options);\n        opt.targets = targets;\n        return ds.query(opt);\n      });\n    });\n\n    return this.$q.all(promises).then(function(results) {\n      return { data: _.flatten(_.map(results, 'data')) };\n    });\n  }\n}\n\nexport {MixedDatasource, MixedDatasource as Datasource};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mixed/datasource.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {MixedDatasource} from './datasource';\nexport {MixedDatasource, MixedDatasource as Datasource};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mixed/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {MysqlDatasource} from './datasource';\nimport {MysqlQueryCtrl} from './query_ctrl';\n\nclass MysqlConfigCtrl {\n  static templateUrl = 'partials/config.html';\n}\n\nconst defaultQuery = `SELECT\n    UNIX_TIMESTAMP(<time_column>) as time_sec,\n    <text_column> as text,\n    <tags_column> as tags\n  FROM <table name>\n  WHERE $__timeFilter(time_column)\n  ORDER BY <time_column> ASC\n  LIMIT 100\n  `;\n\nclass MysqlAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n\n  annotation: any;\n\n  /** @ngInject **/\n  constructor() {\n    this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\n  }\n}\n\nexport {\n  MysqlDatasource,\n  MysqlDatasource as Datasource,\n  MysqlQueryCtrl as QueryCtrl,\n  MysqlConfigCtrl as ConfigCtrl,\n  MysqlAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mysql/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport ResponseParser from './response_parser';\n\nexport class MysqlDatasource {\n  id: any;\n  name: any;\n  responseParser: ResponseParser;\n\n  /** @ngInject **/\n  constructor(instanceSettings, private backendSrv, private $q, private templateSrv) {\n    this.name = instanceSettings.name;\n    this.id = instanceSettings.id;\n    this.responseParser = new ResponseParser(this.$q);\n  }\n\n  interpolateVariable(value, variable) {\n    if (typeof value === 'string') {\n      if (variable.multi || variable.includeAll) {\n        return '\\'' + value + '\\'';\n      } else {\n        return value;\n      }\n    }\n\n    if (typeof value === 'number') {\n      return value;\n    }\n\n    var quotedValues = _.map(value, function(val) {\n      if (typeof value === 'number') {\n        return value;\n      }\n\n      return '\\'' + val + '\\'';\n    });\n    return  quotedValues.join(',');\n  }\n\n  query(options) {\n    var queries = _.filter(options.targets, item => {\n      return item.hide !== true;\n    }).map(item => {\n      return {\n        refId: item.refId,\n        intervalMs: options.intervalMs,\n        maxDataPoints: options.maxDataPoints,\n        datasourceId: this.id,\n        rawSql: this.templateSrv.replace(item.rawSql, options.scopedVars, this.interpolateVariable),\n        format: item.format,\n      };\n    });\n\n    if (queries.length === 0) {\n      return this.$q.when({data: []});\n    }\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: queries,\n      }\n    }).then(this.responseParser.processQueryResult);\n  }\n\n  annotationQuery(options) {\n    if (!options.annotation.rawQuery) {\n      return this.$q.reject({message: 'Query missing in annotation definition'});\n    }\n\n    const query = {\n      refId: options.annotation.name,\n      datasourceId: this.id,\n      rawSql: this.templateSrv.replace(options.annotation.rawQuery, options.scopedVars, this.interpolateVariable),\n      format: 'table',\n    };\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: [query],\n      }\n    }).then(data => this.responseParser.transformAnnotationResponse(options, data));\n  }\n\n  metricFindQuery(query, optionalOptions) {\n    let refId = 'tempvar';\n    if (optionalOptions && optionalOptions.variable && optionalOptions.variable.name) {\n      refId = optionalOptions.variable.name;\n    }\n\n    const interpolatedQuery = {\n      refId: refId,\n      datasourceId: this.id,\n      rawSql: this.templateSrv.replace(query, {}, this.interpolateVariable),\n      format: 'table',\n    };\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        queries: [interpolatedQuery],\n      }\n    })\n    .then(data => this.responseParser.parseMetricFindQueryResult(refId, data));\n  }\n\n  testDatasource() {\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: '5m',\n        to: 'now',\n        queries: [{\n          refId: 'A',\n          intervalMs: 1,\n          maxDataPoints: 1,\n          datasourceId: this.id,\n          rawSql: \"SELECT 1\",\n          format: 'table',\n        }],\n      }\n    }).then(res => {\n      return { status: \"success\", message: \"Database Connection OK\"};\n    }).catch(err => {\n      console.log(err);\n      if (err.data && err.data.message) {\n        return { status: \"error\", message: err.data.message };\n      } else {\n        return { status: \"error\", message: err.status };\n      }\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mysql/datasource.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport default class ResponseParser {\n  constructor(private $q) {}\n\n  processQueryResult(res) {\n    var data = [];\n\n    if (!res.data.results) {\n      return {data: data};\n    }\n\n    for (let key in res.data.results) {\n      let queryRes = res.data.results[key];\n\n      if (queryRes.series) {\n        for (let series of queryRes.series) {\n          data.push({\n            target: series.name,\n            datapoints: series.points,\n            refId: queryRes.refId,\n            meta: queryRes.meta,\n          });\n        }\n      }\n\n      if (queryRes.tables) {\n        for (let table of queryRes.tables) {\n          table.type = 'table';\n          table.refId = queryRes.refId;\n          table.meta = queryRes.meta;\n          data.push(table);\n        }\n      }\n    }\n\n    return {data: data};\n  }\n\n  parseMetricFindQueryResult(refId, results) {\n    if (!results || results.data.length === 0 || results.data.results[refId].meta.rowCount === 0) { return []; }\n\n    const columns = results.data.results[refId].tables[0].columns;\n    const rows = results.data.results[refId].tables[0].rows;\n    const textColIndex = this.findColIndex(columns, '__text');\n    const valueColIndex = this.findColIndex(columns, '__value');\n\n    if (columns.length === 2 && textColIndex !== -1 && valueColIndex !== -1) {\n      return this.transformToKeyValueList(rows, textColIndex, valueColIndex);\n    }\n\n    return this.transformToSimpleList(rows);\n  }\n\n  transformToKeyValueList(rows, textColIndex, valueColIndex) {\n    const res = [];\n\n    for (let i = 0; i < rows.length; i++) {\n      if (!this.containsKey(res, rows[i][textColIndex])) {\n        res.push({text: rows[i][textColIndex], value: rows[i][valueColIndex]});\n      }\n    }\n\n    return res;\n  }\n\n  transformToSimpleList(rows) {\n    const res = [];\n\n    for (let i = 0; i < rows.length; i++) {\n      for (let j = 0; j < rows[i].length; j++) {\n        const value = rows[i][j];\n        if ( res.indexOf( value ) === -1 ) {\n          res.push(value);\n        }\n      }\n    }\n\n    return _.map(res, value => {\n      return { text: value};\n    });\n  }\n\n  findColIndex(columns, colName) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].text === colName) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  containsKey(res, key) {\n    for (let i = 0; i < res.length; i++) {\n      if (res[i].text === key) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  transformAnnotationResponse(options, data) {\n    const table = data.data.results[options.annotation.name].tables[0];\n\n    let timeColumnIndex = -1;\n    let textColumnIndex = -1;\n    let tagsColumnIndex = -1;\n\n    for (let i = 0; i < table.columns.length; i++) {\n      if (table.columns[i].text === 'time_sec') {\n        timeColumnIndex = i;\n      } else if (table.columns[i].text === 'title') {\n        return this.$q.reject({message: 'The title column for annotations is deprecated, now only a column named text is returned'});\n      } else if (table.columns[i].text === 'text') {\n        textColumnIndex = i;\n      } else if (table.columns[i].text === 'tags') {\n        tagsColumnIndex = i;\n      }\n    }\n\n    if (timeColumnIndex === -1) {\n      return this.$q.reject({message: 'Missing mandatory time column (with time_sec column alias) in annotation query.'});\n    }\n\n    const list = [];\n    for (let i = 0; i < table.rows.length; i++) {\n      const row = table.rows[i];\n      list.push({\n        annotation: options.annotation,\n        time: Math.floor(row[timeColumnIndex]) * 1000,\n        text: row[textColumnIndex],\n        tags: row[tagsColumnIndex] ? row[tagsColumnIndex].trim().split(/\\s*,\\s*/) : []\n      });\n    }\n\n    return list;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mysql/response_parser.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport interface MysqlQuery {\n  refId: string;\n  format: string;\n  alias: string;\n  rawSql: string;\n}\n\nexport interface QueryMeta {\n  sql: string;\n}\n\n\nconst defaultQuery = `SELECT\n  UNIX_TIMESTAMP(<time_column>) as time_sec,\n  <value column> as value,\n  <series name column> as metric\nFROM <table name>\nWHERE $__timeFilter(time_column)\nORDER BY <time_column> ASC\n`;\n\nexport class MysqlQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  showLastQuerySQL: boolean;\n  formats: any[];\n  target: MysqlQuery;\n  lastQueryMeta: QueryMeta;\n  lastQueryError: string;\n  showHelp: boolean;\n\n  /** @ngInject **/\n  constructor($scope, $injector) {\n    super($scope, $injector);\n\n    this.target.format = this.target.format || 'time_series';\n    this.target.alias = \"\";\n    this.formats = [\n      {text: 'Time series', value: 'time_series'},\n      {text: 'Table', value: 'table'},\n    ];\n\n    if (!this.target.rawSql) {\n\n      // special handling when in table panel\n      if (this.panelCtrl.panel.type === 'table') {\n        this.target.format = 'table';\n        this.target.rawSql = \"SELECT 1\";\n      } else {\n        this.target.rawSql = defaultQuery;\n      }\n    }\n\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryMeta = null;\n    this.lastQueryError = null;\n\n    let anySeriesFromQuery = _.find(dataList, {refId: this.target.refId});\n    if (anySeriesFromQuery) {\n      this.lastQueryMeta = anySeriesFromQuery.meta;\n    }\n  }\n\n  onDataError(err) {\n    if (err.data && err.data.results) {\n      let queryRes = err.data.results[this.target.refId];\n      if (queryRes) {\n        this.lastQueryMeta = queryRes.meta;\n        this.lastQueryError = queryRes.error;\n      }\n    }\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/mysql/query_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {PostgresDatasource} from './datasource';\nimport {PostgresQueryCtrl} from './query_ctrl';\n\nclass PostgresConfigCtrl {\n  static templateUrl = 'partials/config.html';\n\n  current: any;\n\n   /** @ngInject **/\n  constructor($scope) {\n    this.current.jsonData.sslmode = this.current.jsonData.sslmode || 'require';\n  }\n}\n\nconst defaultQuery = `SELECT\n  extract(epoch from time_column) AS time,\n  text_column as text,\n  tags_column as tags\nFROM\n  metric_table\nWHERE\n  $__timeFilter(time_column)\n`;\n\nclass PostgresAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n\n  annotation: any;\n\n  /** @ngInject **/\n  constructor() {\n    this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\n  }\n}\n\nexport {\n  PostgresDatasource,\n  PostgresDatasource as Datasource,\n  PostgresQueryCtrl as QueryCtrl,\n  PostgresConfigCtrl as ConfigCtrl,\n  PostgresAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/postgres/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport ResponseParser from './response_parser';\n\nexport class PostgresDatasource {\n  id: any;\n  name: any;\n  responseParser: ResponseParser;\n\n  /** @ngInject **/\n  constructor(instanceSettings, private backendSrv, private $q, private templateSrv) {\n    this.name = instanceSettings.name;\n    this.id = instanceSettings.id;\n    this.responseParser = new ResponseParser(this.$q);\n  }\n\n  interpolateVariable(value, variable) {\n    if (typeof value === 'string') {\n      if (variable.multi || variable.includeAll) {\n        return '\\'' + value + '\\'';\n      } else {\n        return value;\n      }\n    }\n\n    if (typeof value === 'number') {\n      return value;\n    }\n\n    var quotedValues = _.map(value, function(val) {\n      return '\\'' + val + '\\'';\n    });\n    return  quotedValues.join(',');\n  }\n\n  query(options) {\n    var queries = _.filter(options.targets, item => {\n      return item.hide !== true;\n    }).map(item => {\n      return {\n        refId: item.refId,\n        intervalMs: options.intervalMs,\n        maxDataPoints: options.maxDataPoints,\n        datasourceId: this.id,\n        rawSql: this.templateSrv.replace(item.rawSql, options.scopedVars, this.interpolateVariable),\n        format: item.format,\n      };\n    });\n\n    if (queries.length === 0) {\n      return this.$q.when({data: []});\n    }\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: queries,\n      }\n    }).then(this.responseParser.processQueryResult);\n  }\n\n  annotationQuery(options) {\n    if (!options.annotation.rawQuery) {\n      return this.$q.reject({message: 'Query missing in annotation definition'});\n    }\n\n    const query = {\n      refId: options.annotation.name,\n      datasourceId: this.id,\n      rawSql: this.templateSrv.replace(options.annotation.rawQuery, options.scopedVars, this.interpolateVariable),\n      format: 'table',\n    };\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: options.range.from.valueOf().toString(),\n        to: options.range.to.valueOf().toString(),\n        queries: [query],\n      }\n    }).then(data => this.responseParser.transformAnnotationResponse(options, data));\n  }\n\n  metricFindQuery(query, optionalOptions) {\n    let refId = 'tempvar';\n    if (optionalOptions && optionalOptions.variable && optionalOptions.variable.name) {\n      refId = optionalOptions.variable.name;\n    }\n\n    const interpolatedQuery = {\n      refId: refId,\n      datasourceId: this.id,\n      rawSql: this.templateSrv.replace(query, {}, this.interpolateVariable),\n      format: 'table',\n    };\n\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        queries: [interpolatedQuery],\n      }\n    })\n    .then(data => this.responseParser.parseMetricFindQueryResult(refId, data));\n  }\n\n  testDatasource() {\n    return this.backendSrv.datasourceRequest({\n      url: '/api/tsdb/query',\n      method: 'POST',\n      data: {\n        from: '5m',\n        to: 'now',\n        queries: [{\n          refId: 'A',\n          intervalMs: 1,\n          maxDataPoints: 1,\n          datasourceId: this.id,\n          rawSql: \"SELECT 1\",\n          format: 'table',\n        }],\n      }\n    }).then(res => {\n      return { status: \"success\", message: \"Database Connection OK\"};\n    }).catch(err => {\n      console.log(err);\n      if (err.data && err.data.message) {\n        return { status: \"error\", message: err.data.message };\n      } else {\n        return { status: \"error\", message: err.status };\n      }\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/postgres/datasource.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\n\nexport default class ResponseParser {\n  constructor(private $q) {}\n\n  processQueryResult(res) {\n    var data = [];\n\n    if (!res.data.results) {\n      return {data: data};\n    }\n\n    for (let key in res.data.results) {\n      let queryRes = res.data.results[key];\n\n      if (queryRes.series) {\n        for (let series of queryRes.series) {\n          data.push({\n            target: series.name,\n            datapoints: series.points,\n            refId: queryRes.refId,\n            meta: queryRes.meta,\n          });\n        }\n      }\n\n      if (queryRes.tables) {\n        for (let table of queryRes.tables) {\n          table.type = 'table';\n          table.refId = queryRes.refId;\n          table.meta = queryRes.meta;\n          data.push(table);\n        }\n      }\n    }\n\n    return {data: data};\n  }\n\n  parseMetricFindQueryResult(refId, results) {\n    if (!results || results.data.length === 0 || results.data.results[refId].meta.rowCount === 0) { return []; }\n\n    const columns = results.data.results[refId].tables[0].columns;\n    const rows = results.data.results[refId].tables[0].rows;\n    const textColIndex = this.findColIndex(columns, '__text');\n    const valueColIndex = this.findColIndex(columns, '__value');\n\n    if (columns.length === 2 && textColIndex !== -1 && valueColIndex !== -1) {\n      return this.transformToKeyValueList(rows, textColIndex, valueColIndex);\n    }\n\n    return this.transformToSimpleList(rows);\n  }\n\n  transformToKeyValueList(rows, textColIndex, valueColIndex) {\n    const res = [];\n\n    for (let i = 0; i < rows.length; i++) {\n      if (!this.containsKey(res, rows[i][textColIndex])) {\n        res.push({text: rows[i][textColIndex], value: rows[i][valueColIndex]});\n      }\n    }\n\n    return res;\n  }\n\n  transformToSimpleList(rows) {\n    const res = [];\n\n    for (let i = 0; i < rows.length; i++) {\n      for (let j = 0; j < rows[i].length; j++) {\n        const value = rows[i][j];\n        if ( res.indexOf( value ) === -1 ) {\n          res.push(value);\n        }\n      }\n    }\n\n    return _.map(res, value => {\n      return { text: value};\n    });\n  }\n\n  findColIndex(columns, colName) {\n    for (let i = 0; i < columns.length; i++) {\n      if (columns[i].text === colName) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  containsKey(res, key) {\n    for (let i = 0; i < res.length; i++) {\n      if (res[i].text === key) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  transformAnnotationResponse(options, data) {\n    const table = data.data.results[options.annotation.name].tables[0];\n\n    let timeColumnIndex = -1;\n    let titleColumnIndex = -1;\n    let textColumnIndex = -1;\n    let tagsColumnIndex = -1;\n\n    for (let i = 0; i < table.columns.length; i++) {\n      if (table.columns[i].text === 'time') {\n        timeColumnIndex = i;\n      } else if (table.columns[i].text === 'text') {\n        textColumnIndex = i;\n      } else if (table.columns[i].text === 'tags') {\n        tagsColumnIndex = i;\n      }\n    }\n\n    if (timeColumnIndex === -1) {\n      return this.$q.reject({message: 'Missing mandatory time column in annotation query.'});\n    }\n\n    const list = [];\n    for (let i = 0; i < table.rows.length; i++) {\n      const row = table.rows[i];\n      list.push({\n        annotation: options.annotation,\n        time: Math.floor(row[timeColumnIndex]) * 1000,\n        title: row[titleColumnIndex],\n        text: row[textColumnIndex],\n        tags: row[tagsColumnIndex] ? row[tagsColumnIndex].trim().split(/\\s*,\\s*/) : []\n      });\n    }\n\n    return list;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/postgres/response_parser.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nexport interface PostgresQuery {\n  refId: string;\n  format: string;\n  alias: string;\n  rawSql: string;\n}\n\nexport interface QueryMeta {\n  sql: string;\n}\n\n\nconst defaultQuery = `SELECT\n  $__time(time_column),\n  value1\nFROM\n  metric_table\nWHERE\n  $__timeFilter(time_column)\n`;\n\nexport class PostgresQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  showLastQuerySQL: boolean;\n  formats: any[];\n  target: PostgresQuery;\n  lastQueryMeta: QueryMeta;\n  lastQueryError: string;\n  showHelp: boolean;\n\n  /** @ngInject **/\n  constructor($scope, $injector) {\n    super($scope, $injector);\n\n    this.target.format = this.target.format || 'time_series';\n    this.target.alias = \"\";\n    this.formats = [\n      {text: 'Time series', value: 'time_series'},\n      {text: 'Table', value: 'table'},\n    ];\n\n    if (!this.target.rawSql) {\n\n      // special handling when in table panel\n      if (this.panelCtrl.panel.type === 'table') {\n        this.target.format = 'table';\n        this.target.rawSql = \"SELECT 1\";\n      } else {\n        this.target.rawSql = defaultQuery;\n      }\n    }\n\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryMeta = null;\n    this.lastQueryError = null;\n\n    let anySeriesFromQuery = _.find(dataList, {refId: this.target.refId});\n    if (anySeriesFromQuery) {\n      this.lastQueryMeta = anySeriesFromQuery.meta;\n    }\n  }\n\n  onDataError(err) {\n    if (err.data && err.data.results) {\n      let queryRes = err.data.results[this.target.refId];\n      if (queryRes) {\n        this.lastQueryMeta = queryRes.meta;\n        this.lastQueryError = queryRes.error;\n      }\n    }\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/postgres/query_ctrl.ts","import {PrometheusDatasource} from './datasource';\nimport {PrometheusQueryCtrl} from './query_ctrl';\n\nclass PrometheusConfigCtrl {\n  static templateUrl = 'partials/config.html';\n}\n\nclass PrometheusAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n}\n\nexport {\n  PrometheusDatasource as Datasource,\n  PrometheusQueryCtrl as QueryCtrl,\n  PrometheusConfigCtrl as ConfigCtrl,\n  PrometheusAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/prometheus/module.ts","import _ from 'lodash';\n\nimport kbn from 'app/core/utils/kbn';\nimport * as dateMath from 'app/core/utils/datemath';\nimport PrometheusMetricFindQuery from './metric_find_query';\nimport TableModel from 'app/core/table_model';\n\nfunction prometheusSpecialRegexEscape(value) {\n  return value.replace(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\\\\\$&');\n}\n\nexport class PrometheusDatasource {\n  type: string;\n  editorSrc: string;\n  name: string;\n  supportMetrics: boolean;\n  url: string;\n  directUrl: string;\n  basicAuth: any;\n  withCredentials: any;\n  metricsNameCache: any;\n  interval: string;\n\n  /** @ngInject */\n  constructor(instanceSettings,\n              private $q,\n              private backendSrv,\n              private templateSrv,\n              private timeSrv) {\n    this.type = 'prometheus';\n    this.editorSrc = 'app/features/prometheus/partials/query.editor.html';\n    this.name = instanceSettings.name;\n    this.supportMetrics = true;\n    this.url = instanceSettings.url;\n    this.directUrl = instanceSettings.directUrl;\n    this.basicAuth = instanceSettings.basicAuth;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.interval = instanceSettings.jsonData.timeInterval || '15s';\n  }\n\n  _request(method, url, requestId?) {\n    var options: any = {\n      url: this.url + url,\n      method: method,\n      requestId: requestId,\n    };\n\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n\n    if (this.basicAuth) {\n      options.headers = {\n        \"Authorization\": this.basicAuth\n      };\n    }\n\n    return this.backendSrv.datasourceRequest(options);\n  }\n\n  interpolateQueryExpr(value, variable, defaultFormatFn) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return prometheusSpecialRegexEscape(value);\n    }\n\n    var escapedValues = _.map(value, prometheusSpecialRegexEscape);\n    return escapedValues.join('|');\n  }\n\n  targetContainsTemplate(target) {\n    return this.templateSrv.variableExists(target.expr);\n  }\n\n  query(options) {\n    var self = this;\n    var start = this.getPrometheusTime(options.range.from, false);\n    var end = this.getPrometheusTime(options.range.to, true);\n    var range = Math.ceil(end - start);\n\n    var queries = [];\n    var activeTargets = [];\n\n    options = _.clone(options);\n\n    for (let target of options.targets) {\n      if (!target.expr || target.hide) {\n        continue;\n      }\n\n      activeTargets.push(target);\n      queries.push(this.createQuery(target, options, range));\n    }\n\n    // No valid targets, return the empty result to save a round trip.\n    if (_.isEmpty(queries)) {\n      return this.$q.when({ data: [] });\n    }\n\n    var allQueryPromise = _.map(queries, query => {\n      if (!query.instant) {\n        return this.performTimeSeriesQuery(query, start, end);\n      } else {\n        return this.performInstantQuery(query, end);\n      }\n    });\n\n    return this.$q.all(allQueryPromise).then(responseList => {\n      var result = [];\n\n      _.each(responseList, (response, index) => {\n        if (response.status === 'error') {\n          throw response.error;\n        }\n\n        if (activeTargets[index].format === \"table\") {\n          result.push(self.transformMetricDataToTable(response.data.data.result));\n        } else {\n          for (let metricData of response.data.data.result) {\n            if (response.data.data.resultType === 'matrix') {\n              result.push(self.transformMetricData(metricData, activeTargets[index], start, end, queries[index].step));\n            } else if (response.data.data.resultType === 'vector') {\n              result.push(self.transformInstantMetricData(metricData, activeTargets[index]));\n            }\n          }\n        }\n      });\n\n      return { data: result };\n    });\n  }\n\n  createQuery(target, options, range) {\n    var query: any = {};\n    query.instant = target.instant;\n\n    var interval = kbn.interval_to_seconds(options.interval);\n    // Minimum interval (\"Min step\"), if specified for the query. or same as interval otherwise\n    var minInterval = kbn.interval_to_seconds(this.templateSrv.replace(target.interval, options.scopedVars) || options.interval);\n    var intervalFactor = target.intervalFactor || 1;\n    // Adjust the interval to take into account any specified minimum and interval factor plus Prometheus limits\n    var adjustedInterval = this.adjustInterval(interval, minInterval, range, intervalFactor);\n    var scopedVars = options.scopedVars;\n    // If the interval was adjusted, make a shallow copy of scopedVars with updated interval vars\n    if (interval !== adjustedInterval) {\n      interval = adjustedInterval;\n      scopedVars = Object.assign({}, options.scopedVars, {\n        \"__interval\":     {text: interval + \"s\",  value: interval + \"s\"},\n        \"__interval_ms\":  {text: interval * 1000, value: interval * 1000},\n      });\n    }\n    query.step = interval;\n\n    // Only replace vars in expression after having (possibly) updated interval vars\n    query.expr = this.templateSrv.replace(target.expr, scopedVars, this.interpolateQueryExpr);\n    query.requestId = options.panelId + target.refId;\n    return query;\n  }\n\n  adjustInterval(interval, minInterval, range, intervalFactor) {\n    // Prometheus will drop queries that might return more than 11000 data points.\n    // Calibrate interval if it is too small.\n    if (interval !== 0 && range / intervalFactor / interval > 11000) {\n      interval = Math.ceil(range / intervalFactor / 11000);\n    }\n    return Math.max(interval * intervalFactor, minInterval, 1);\n  }\n\n  performTimeSeriesQuery(query, start, end) {\n    if (start > end) {\n      throw { message: 'Invalid time range' };\n    }\n\n    var url = '/api/v1/query_range?query=' + encodeURIComponent(query.expr) + '&start=' + start + '&end=' + end + '&step=' + query.step;\n    return this._request('GET', url, query.requestId);\n  }\n\n  performInstantQuery(query, time) {\n    var url = '/api/v1/query?query=' + encodeURIComponent(query.expr) + '&time=' + time;\n    return this._request('GET', url, query.requestId);\n  }\n\n  performSuggestQuery(query, cache = false) {\n    var url = '/api/v1/label/__name__/values';\n\n    if (cache && this.metricsNameCache && this.metricsNameCache.expire > Date.now()) {\n      return this.$q.when(_.filter(this.metricsNameCache.data, metricName => {\n        return metricName.indexOf(query) !== 1;\n      }));\n    }\n\n    return this._request('GET', url).then(result => {\n      this.metricsNameCache = {\n        data: result.data.data,\n        expire: Date.now() + (60 * 1000)\n      };\n      return _.filter(result.data.data, metricName => {\n        return metricName.indexOf(query) !== 1;\n      });\n    });\n  }\n\n  metricFindQuery(query) {\n    if (!query) { return this.$q.when([]); }\n\n    let interpolated = this.templateSrv.replace(query, {}, this.interpolateQueryExpr);\n    var metricFindQuery = new PrometheusMetricFindQuery(this, interpolated, this.timeSrv);\n    return metricFindQuery.process();\n  }\n\n  annotationQuery(options) {\n    var annotation = options.annotation;\n    var expr = annotation.expr || '';\n    var tagKeys = annotation.tagKeys || '';\n    var titleFormat = annotation.titleFormat || '';\n    var textFormat = annotation.textFormat || '';\n\n    if (!expr) { return this.$q.when([]); }\n\n    var interpolated = this.templateSrv.replace(expr, {}, this.interpolateQueryExpr);\n\n    var step = '60s';\n    if (annotation.step) {\n      step = this.templateSrv.replace(annotation.step);\n    }\n\n    var start = this.getPrometheusTime(options.range.from, false);\n    var end = this.getPrometheusTime(options.range.to, true);\n    var query = {\n      expr: interpolated,\n      step: this.adjustInterval(kbn.interval_to_seconds(step), 0, Math.ceil(end - start), 1) + 's'\n    };\n\n    var self = this;\n    return this.performTimeSeriesQuery(query, start, end).then(function(results) {\n      var eventList = [];\n      tagKeys = tagKeys.split(',');\n\n      _.each(results.data.data.result, function(series) {\n        var tags = _.chain(series.metric)\n        .filter(function(v, k) {\n          return _.includes(tagKeys, k);\n        }).value();\n\n        for (let value of series.values) {\n          if (value[1] === '1') {\n            var event = {\n              annotation: annotation,\n              time: Math.floor(parseFloat(value[0])) * 1000,\n              title: self.renderTemplate(titleFormat, series.metric),\n              tags: tags,\n              text: self.renderTemplate(textFormat, series.metric)\n            };\n\n            eventList.push(event);\n          }\n        }\n      });\n\n      return eventList;\n    });\n  }\n\n  testDatasource() {\n    return this.metricFindQuery('metrics(.*)').then(function() {\n      return { status: 'success', message: 'Data source is working'};\n    });\n  }\n\n  transformMetricData(md, options, start, end, step) {\n    var dps = [],\n      metricLabel = null;\n\n    metricLabel = this.createMetricLabel(md.metric, options);\n\n    var stepMs = step * 1000;\n    var baseTimestamp = start * 1000;\n    for (let value of md.values) {\n      var dp_value = parseFloat(value[1]);\n      if (_.isNaN(dp_value)) {\n        dp_value = null;\n      }\n\n      var timestamp = parseFloat(value[0]) * 1000;\n      for (let t = baseTimestamp; t < timestamp; t += stepMs) {\n        dps.push([null, t]);\n      }\n      baseTimestamp = timestamp + stepMs;\n      dps.push([dp_value, timestamp]);\n    }\n\n    var endTimestamp = end * 1000;\n    for (let t = baseTimestamp; t <= endTimestamp; t += stepMs) {\n      dps.push([null, t]);\n    }\n\n    return { target: metricLabel, datapoints: dps };\n  }\n\n  transformMetricDataToTable(md) {\n    var table = new TableModel();\n    var i, j;\n    var metricLabels = {};\n\n    if (md.length === 0) {\n      return table;\n    }\n\n    // Collect all labels across all metrics\n    _.each(md, function(series) {\n      for (var label in series.metric) {\n        if (!metricLabels.hasOwnProperty(label)) {\n          metricLabels[label] = 1;\n        }\n      }\n    });\n\n    // Sort metric labels, create columns for them and record their index\n    var sortedLabels = _.keys(metricLabels).sort();\n    table.columns.push({text: 'Time', type: 'time'});\n    _.each(sortedLabels, function(label, labelIndex) {\n      metricLabels[label] = labelIndex + 1;\n      table.columns.push({text: label});\n    });\n    table.columns.push({text: 'Value'});\n\n    // Populate rows, set value to empty string when label not present.\n    _.each(md, function(series) {\n      if (series.value) {\n        series.values = [series.value];\n      }\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          var values = series.values[i];\n          var reordered: any = [values[0] * 1000];\n          if (series.metric) {\n            for (j = 0; j < sortedLabels.length; j++) {\n              var label = sortedLabels[j];\n              if (series.metric.hasOwnProperty(label)) {\n                reordered.push(series.metric[label]);\n              } else {\n                reordered.push('');\n              }\n            }\n          }\n          reordered.push(parseFloat(values[1]));\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n\n  transformInstantMetricData(md, options) {\n    var dps = [], metricLabel = null;\n    metricLabel = this.createMetricLabel(md.metric, options);\n    dps.push([parseFloat(md.value[1]), md.value[0] * 1000]);\n    return { target: metricLabel, datapoints: dps };\n  }\n\n  createMetricLabel(labelData, options) {\n    if (_.isUndefined(options) || _.isEmpty(options.legendFormat)) {\n      return this.getOriginalMetricName(labelData);\n    }\n\n    return this.renderTemplate(this.templateSrv.replace(options.legendFormat), labelData) || '{}';\n  }\n\n  renderTemplate(aliasPattern, aliasData) {\n    var aliasRegex = /\\{\\{\\s*(.+?)\\s*\\}\\}/g;\n    return aliasPattern.replace(aliasRegex, function(match, g1) {\n      if (aliasData[g1]) {\n        return aliasData[g1];\n      }\n      return g1;\n    });\n  }\n\n  getOriginalMetricName(labelData) {\n    var metricName = labelData.__name__ || '';\n    delete labelData.__name__;\n    var labelPart = _.map(_.toPairs(labelData), function(label) {\n      return label[0] + '=\"' + label[1] + '\"';\n    }).join(',');\n    return metricName + '{' + labelPart + '}';\n  }\n\n  getPrometheusTime(date, roundUp) {\n    if (_.isString(date)) {\n      date = dateMath.parse(date, roundUp);\n    }\n    return Math.ceil(date.valueOf() / 1000);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/prometheus/datasource.ts","define([\n  'lodash'\n],\nfunction (_) {\n  'use strict';\n\n  function PrometheusMetricFindQuery(datasource, query, timeSrv) {\n    this.datasource = datasource;\n    this.query = query;\n    this.range = timeSrv.timeRange();\n  }\n\n  PrometheusMetricFindQuery.prototype.process = function() {\n    var label_values_regex = /^label_values\\((?:(.+),\\s*)?([a-zA-Z_][a-zA-Z0-9_]+)\\)$/;\n    var metric_names_regex = /^metrics\\((.+)\\)$/;\n    var query_result_regex = /^query_result\\((.+)\\)$/;\n\n    var label_values_query = this.query.match(label_values_regex);\n    if (label_values_query) {\n      if (label_values_query[1]) {\n        return this.labelValuesQuery(label_values_query[2], label_values_query[1]);\n      } else {\n        return this.labelValuesQuery(label_values_query[2], null);\n      }\n    }\n\n    var metric_names_query = this.query.match(metric_names_regex);\n    if (metric_names_query) {\n      return this.metricNameQuery(metric_names_query[1]);\n    }\n\n    var query_result_query = this.query.match(query_result_regex);\n    if (query_result_query) {\n      return this.queryResultQuery(query_result_query[1]);\n    }\n\n    // if query contains full metric name, return metric name and label list\n    return this.metricNameAndLabelsQuery(this.query);\n  };\n\n  PrometheusMetricFindQuery.prototype.labelValuesQuery = function(label, metric) {\n    var url;\n\n    if (!metric) {\n      // return label values globally\n      url = '/api/v1/label/' + label + '/values';\n\n      return this.datasource._request('GET', url).then(function(result) {\n        return _.map(result.data.data, function(value) {\n          return {text: value};\n        });\n      });\n    } else {\n      var start = this.datasource.getPrometheusTime(this.range.from, false);\n      var end = this.datasource.getPrometheusTime(this.range.to, true);\n      url = '/api/v1/series?match[]=' + encodeURIComponent(metric)\n        + '&start=' + start\n        + '&end=' + end;\n\n      return this.datasource._request('GET', url)\n      .then(function(result) {\n        var _labels = _.map(result.data.data, function(metric) {\n          return metric[label];\n        });\n\n        return _.uniq(_labels).map(function(metric) {\n          return {\n            text: metric,\n            expandable: true\n          };\n        });\n      });\n    }\n  };\n\n  PrometheusMetricFindQuery.prototype.metricNameQuery = function(metricFilterPattern) {\n    var url = '/api/v1/label/__name__/values';\n\n    return this.datasource._request('GET', url)\n    .then(function(result) {\n      return _.chain(result.data.data)\n      .filter(function(metricName) {\n        var r = new RegExp(metricFilterPattern);\n        return r.test(metricName);\n      })\n      .map(function(matchedMetricName) {\n        return {\n          text: matchedMetricName,\n          expandable: true\n        };\n      })\n      .value();\n    });\n  };\n\n  PrometheusMetricFindQuery.prototype.queryResultQuery = function(query) {\n    var end = this.datasource.getPrometheusTime(this.range.to, true);\n    return this.datasource.performInstantQuery({ expr: query }, end)\n    .then(function(result) {\n      return _.map(result.data.data.result, function(metricData) {\n        var text = metricData.metric.__name__ || '';\n        delete metricData.metric.__name__;\n        text += '{' +\n                _.map(metricData.metric, function(v, k) { return k + '=\"' + v + '\"'; }).join(',') +\n                '}';\n        text += ' ' + metricData.value[1] + ' ' + metricData.value[0] * 1000;\n\n        return {\n          text: text,\n          expandable: true\n        };\n      });\n    });\n  };\n\n  PrometheusMetricFindQuery.prototype.metricNameAndLabelsQuery = function(query) {\n    var start = this.datasource.getPrometheusTime(this.range.from, false);\n    var end = this.datasource.getPrometheusTime(this.range.to, true);\n    var url = '/api/v1/series?match[]=' + encodeURIComponent(query)\n      + '&start=' + start\n      + '&end=' + end;\n\n    var self = this;\n    return this.datasource._request('GET', url)\n    .then(function(result) {\n      return _.map(result.data.data, function(metric) {\n        return {\n          text: self.datasource.getOriginalMetricName(metric),\n          expandable: true\n        };\n      });\n    });\n  };\n\n  return PrometheusMetricFindQuery;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/prometheus/metric_find_query.js\n// module id = 1477\n// module chunks = 0","import angular from 'angular';\nimport _ from 'lodash';\nimport {QueryCtrl} from 'app/plugins/sdk';\nimport {PromCompleter} from './completer';\nimport './mode-prometheus';\nimport './snippets/prometheus';\n\nclass PrometheusQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  metric: any;\n  resolutions: any;\n  formats: any;\n  instant: any;\n  oldTarget: any;\n  suggestMetrics: any;\n  getMetricsAutocomplete: any;\n  linkToPrometheus: any;\n\n  /** @ngInject */\n  constructor($scope, $injector, private templateSrv) {\n    super($scope, $injector);\n\n    var target = this.target;\n    target.expr = target.expr || '';\n    target.intervalFactor = target.intervalFactor || 2;\n    target.format = target.format || this.getDefaultFormat();\n\n    this.metric = '';\n    this.resolutions = _.map([1,2,3,4,5,10], function(f) {\n      return {factor: f, label: '1/' + f};\n    });\n\n    this.formats = [\n      {text: 'Time series', value: 'time_series'},\n      {text: 'Table', value: 'table'},\n    ];\n\n    this.instant = false;\n\n    this.updateLink();\n  }\n\n  getCompleter(query) {\n    return new PromCompleter(this.datasource);\n  }\n\n  getDefaultFormat() {\n    if (this.panelCtrl.panel.type === 'table') {\n      return 'table';\n    }\n    return 'time_series';\n  }\n\n  refreshMetricData() {\n    if (!_.isEqual(this.oldTarget, this.target)) {\n      this.oldTarget = angular.copy(this.target);\n      this.panelCtrl.refresh();\n      this.updateLink();\n    }\n  }\n\n  updateLink() {\n    var range = this.panelCtrl.range;\n    if (!range) {\n      return;\n    }\n\n    var rangeDiff = Math.ceil((range.to.valueOf() - range.from.valueOf()) / 1000);\n    var endTime = range.to.utc().format('YYYY-MM-DD HH:mm');\n    var expr = {\n      'g0.expr': this.templateSrv.replace(this.target.expr, this.panelCtrl.panel.scopedVars, this.datasource.interpolateQueryExpr),\n      'g0.range_input': rangeDiff + 's',\n      'g0.end_input': endTime,\n      'g0.step_input': this.target.step,\n      'g0.stacked': this.panelCtrl.panel.stack ? 1 : 0,\n      'g0.tab': 0\n    };\n    var args = _.map(expr, (v, k) => { return k + '=' + encodeURIComponent(v); }).join('&');\n    this.linkToPrometheus = this.datasource.directUrl + '/graph?' + args;\n  }\n\n  getCollapsedText() {\n    return this.target.expr;\n  }\n}\n\nexport {PrometheusQueryCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/prometheus/query_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {PrometheusDatasource} from \"./datasource\";\nimport _ from 'lodash';\n\nexport class PromCompleter {\n  labelQueryCache: any;\n  labelNameCache: any;\n  labelValueCache: any;\n\n  identifierRegexps = [/\\[/, /[a-zA-Z0-9_:]/];\n\n  constructor(private datasource: PrometheusDatasource) {\n    this.labelQueryCache = {};\n    this.labelNameCache = {};\n    this.labelValueCache = {};\n  }\n\n  getCompletions(editor, session, pos, prefix, callback) {\n    let token = session.getTokenAt(pos.row, pos.column);\n\n    var metricName;\n    switch (token.type) {\n      case 'entity.name.tag':\n        metricName = this.findMetricName(session, pos.row, pos.column);\n        if (!metricName) {\n          callback(null, this.transformToCompletions(['__name__', 'instance', 'job'], 'label name'));\n          return;\n        }\n\n        if (this.labelNameCache[metricName]) {\n          callback(null, this.labelNameCache[metricName]);\n          return;\n        }\n\n        return this.getLabelNameAndValueForMetric(metricName).then(result => {\n          var labelNames = this.transformToCompletions(\n            _.uniq(_.flatten(result.map(r => {\n              return Object.keys(r.metric);\n            })))\n          , 'label name');\n          this.labelNameCache[metricName] = labelNames;\n          callback(null, labelNames);\n        });\n      case 'string.quoted':\n        metricName = this.findMetricName(session, pos.row, pos.column);\n        if (!metricName) {\n          callback(null, []);\n          return;\n        }\n\n        var labelNameToken = this.findToken(session, pos.row, pos.column, 'entity.name.tag', null, 'paren.lparen');\n        if (!labelNameToken) {\n          callback(null, []);\n          return;\n        }\n        var labelName = labelNameToken.value;\n\n        if (this.labelValueCache[metricName] && this.labelValueCache[metricName][labelName]) {\n          callback(null, this.labelValueCache[metricName][labelName]);\n          return;\n        }\n\n        return this.getLabelNameAndValueForMetric(metricName).then(result => {\n          var labelValues = this.transformToCompletions(\n            _.uniq(result.map(r => {\n              return r.metric[labelName];\n            }))\n          , 'label value');\n          this.labelValueCache[metricName] = this.labelValueCache[metricName] || {};\n          this.labelValueCache[metricName][labelName] = labelValues;\n          callback(null, labelValues);\n        });\n    }\n\n    if (token.type === 'paren.lparen' && token.value === '[') {\n      var vectors = [];\n      for (let unit of ['s', 'm', 'h']) {\n        for (let value of [1,5,10,30]) {\n         vectors.push({caption: value+unit, value: '['+value+unit, meta: 'range vector'});\n        }\n      }\n      vectors.push({caption: '$__interval', value: '[$__interval', meta: 'range vector'});\n      vectors.push({caption: '$__interval_ms', value: '[$__interval_ms', meta: 'range vector'});\n      callback(null, vectors);\n      return;\n    }\n\n    var query = prefix;\n\n    return this.datasource.performSuggestQuery(query, true).then(metricNames => {\n      callback(null, metricNames.map(name => {\n        let value = name;\n        if (prefix === '(') {\n          value = '(' + name;\n        }\n\n        return {\n          caption: name,\n          value: value,\n          meta: 'metric',\n        };\n      }));\n    });\n  }\n\n  getLabelNameAndValueForMetric(metricName) {\n    if (this.labelQueryCache[metricName]) {\n      return Promise.resolve(this.labelQueryCache[metricName]);\n    }\n    var op = '=~';\n    if (/[a-zA-Z_:][a-zA-Z0-9_:]*/.test(metricName)) {\n      op = '=';\n    }\n    var expr = '{__name__' + op + '\"' + metricName + '\"}';\n    return this.datasource.performInstantQuery({ expr: expr }, new Date().getTime() / 1000).then(response => {\n      this.labelQueryCache[metricName] = response.data.data.result;\n      return response.data.data.result;\n    });\n  }\n\n  transformToCompletions(words, meta) {\n    return words.map(name => {\n      return {\n        caption: name,\n        value: name,\n        meta: meta,\n        score: Number.MAX_VALUE\n      };\n    });\n  }\n\n  findMetricName(session, row, column) {\n    var metricName = '';\n\n    var tokens;\n    var nameLabelNameToken = this.findToken(session, row, column, 'entity.name.tag', '__name__', 'paren.lparen');\n    if (nameLabelNameToken) {\n      tokens = session.getTokens(nameLabelNameToken.row);\n      var nameLabelValueToken = tokens[nameLabelNameToken.index + 2];\n      if (nameLabelValueToken && nameLabelValueToken.type === 'string.quoted') {\n        metricName = nameLabelValueToken.value.slice(1, -1); // cut begin/end quotation\n      }\n    } else {\n      var metricNameToken = this.findToken(session, row, column, 'identifier', null, null);\n      if (metricNameToken) {\n        tokens = session.getTokens(metricNameToken.row);\n        if (tokens[metricNameToken.index + 1].type === 'paren.lparen') {\n          metricName = metricNameToken.value;\n        }\n      }\n    }\n\n    return metricName;\n  }\n\n  findToken(session, row, column, target, value, guard) {\n    var tokens, idx;\n    for (var r = row; r >= 0; r--) {\n      tokens = session.getTokens(r);\n      if (r === row) { // current row\n        var c = 0;\n        for (idx = 0; idx < tokens.length; idx++) {\n          c += tokens[idx].value.length;\n          if (c >= column) {\n            break;\n          }\n        }\n      } else {\n        idx = tokens.length - 1;\n      }\n\n      for (; idx >= 0; idx--) {\n        if (tokens[idx].type === guard) {\n          return null;\n        }\n\n        if (tokens[idx].type === target\n          && (!value || tokens[idx].value === value)) {\n          tokens[idx].row = r;\n          tokens[idx].index = idx;\n          return tokens[idx];\n        }\n      }\n    }\n\n    return null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/datasource/prometheus/completer.ts","// jshint ignore: start\n// jscs: disable\nace.define(\"ace/mode/prometheus_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar PrometheusHighlightRules = function() {\n  var keywords = (\n    \"by|without|keep_common|offset|bool|and|or|unless|ignoring|on|group_left|group_right|\" +\n    \"count|count_values|min|max|avg|sum|stddev|stdvar|bottomk|topk|quantile\"\n  );\n\n  var builtinConstants = (\n    \"true|false|null|__name__|job\"\n  );\n\n  var builtinFunctions = (\n    \"abs|absent|ceil|changes|clamp_max|clamp_min|count_scalar|day_of_month|day_of_week|days_in_month|delta|deriv|\" + \"drop_common_labels|exp|floor|histogram_quantile|holt_winters|hour|idelta|increase|irate|label_replace|ln|log2|\" +\n    \"log10|minute|month|predict_linear|rate|resets|round|scalar|sort|sort_desc|sqrt|time|vector|year|avg_over_time|\" +\n    \"min_over_time|max_over_time|sum_over_time|count_over_time|quantile_over_time|stddev_over_time|stdvar_over_time\"\n  );\n\n  var keywordMapper = this.createKeywordMapper({\n    \"support.function\": builtinFunctions,\n    \"keyword\": keywords,\n    \"constant.language\": builtinConstants\n  }, \"identifier\", true);\n\n  this.$rules = {\n    \"start\" : [ {\n      token : \"string\", // single line\n      regex : /\"(?:[^\"\\\\]|\\\\.)*?\"/\n    }, {\n      token : \"string\", // string\n      regex : \"'.*?'\"\n    }, {\n      token : \"constant.numeric\", // float\n      regex : \"[-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n    }, {\n      token : \"constant.language\", // time\n      regex : \"\\\\d+[smhdwy]\"\n    }, {\n      token : keywordMapper,\n      regex : \"[a-zA-Z_:][a-zA-Z0-9_:]*\"\n    }, {\n      token : \"keyword.operator\",\n      regex : \"\\\\+|\\\\-|\\\\*|\\\\/|%|\\\\^|==|!=|<=|>=|<|>\"\n    }, {\n      token : \"paren.lparen\",\n      regex : \"[[(]\"\n    }, {\n      token : \"paren.lparen\",\n      regex : \"{\",\n      next  : \"start-label-matcher\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"[\\\\])]\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"}\"\n    }, {\n      token : \"text\",\n      regex : \"\\\\s+\"\n    } ],\n    \"start-label-matcher\" : [ {\n      token : \"entity.name.tag\",\n      regex : '[a-zA-Z_][a-zA-Z0-9_]*'\n    }, {\n      token : \"keyword.operator\",\n      regex : '=~|=|!~|!='\n    }, {\n      token : \"string.quoted\",\n      regex : '\"[^\"]*\"|\\'[^\\']*\\''\n    }, {\n      token : \"punctuation.operator\",\n      regex : \",\"\n    }, {\n      token : \"paren.rparen\",\n      regex : \"}\",\n      next  : \"start\"\n    } ]\n  };\n\n  this.normalizeRules();\n};\n\noop.inherits(PrometheusHighlightRules, TextHighlightRules);\n\nexports.PrometheusHighlightRules = PrometheusHighlightRules;\n});\n\nace.define(\"ace/mode/prometheus_completions\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\", \"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar prometheusKeyWords = [\n  \"by\", \"without\", \"keep_common\", \"offset\", \"bool\", \"and\", \"or\", \"unless\", \"ignoring\", \"on\", \"group_left\",\n  \"group_right\", \"count\", \"count_values\", \"min\", \"max\", \"avg\", \"sum\", \"stddev\", \"stdvar\", \"bottomk\", \"topk\", \"quantile\"\n];\n\nvar keyWordsCompletions = prometheusKeyWords.map(function(word) {\n  return {\n    caption: word,\n    value: word,\n    meta: \"keyword\",\n    score: Number.MAX_VALUE\n  }\n});\n\nvar prometheusFunctions = [\n  {\n    name: 'abs()', value: 'abs',\n    def: 'abs(v instant-vector)',\n    docText: 'Returns the input vector with all sample values converted to their absolute value.'\n  },\n  {\n    name: 'absent()', value: 'absent',\n    def: 'absent(v instant-vector)',\n    docText: 'Returns an empty vector if the vector passed to it has any elements and a 1-element vector with the value 1 if the vector passed to it has no elements. This is useful for alerting on when no time series exist for a given metric name and label combination.'\n  },\n  {\n    name: 'ceil()', value: 'ceil',\n    def: 'ceil(v instant-vector)',\n    docText: 'Rounds the sample values of all elements in `v` up to the nearest integer.'\n  },\n  {\n    name: 'changes()', value: 'changes',\n    def: 'changes(v range-vector)',\n    docText: 'For each input time series, `changes(v range-vector)` returns the number of times its value has changed within the provided time range as an instant vector.'\n  },\n  {\n    name: 'clamp_max()', value: 'clamp_max',\n    def: 'clamp_max(v instant-vector, max scalar)',\n    docText: 'Clamps the sample values of all elements in `v` to have an upper limit of `max`.'\n  },\n  {\n    name: 'clamp_min()', value: 'clamp_min',\n    def: 'clamp_min(v instant-vector, min scalar)',\n    docText: 'Clamps the sample values of all elements in `v` to have a lower limit of `min`.'\n  },\n  {\n    name: 'count_scalar()', value: 'count_scalar',\n    def: 'count_scalar(v instant-vector)',\n    docText: 'Returns the number of elements in a time series vector as a scalar. This is in contrast to the `count()` aggregation operator, which always returns a vector (an empty one if the input vector is empty) and allows grouping by labels via a `by` clause.'\n  },\n  {\n    name: 'day_of_month()', value: 'day_of_month',\n    def: 'day_of_month(v=vector(time()) instant-vector)',\n    docText: 'Returns the day of the month for each of the given times in UTC. Returned values are from 1 to 31.'\n  },\n  {\n    name: 'day_of_week()', value: 'day_of_week',\n    def: 'day_of_week(v=vector(time()) instant-vector)',\n    docText: 'Returns the day of the week for each of the given times in UTC. Returned values are from 0 to 6, where 0 means Sunday etc.'\n  },\n  {\n    name: 'days_in_month()', value: 'days_in_month',\n    def: 'days_in_month(v=vector(time()) instant-vector)',\n    docText: 'Returns number of days in the month for each of the given times in UTC. Returned values are from 28 to 31.'\n  },\n  {\n    name: 'delta()', value: 'delta',\n    def: 'delta(v range-vector)',\n    docText: 'Calculates the difference between the first and last value of each time series element in a range vector `v`, returning an instant vector with the given deltas and equivalent labels. The delta is extrapolated to cover the full time range as specified in the range vector selector, so that it is possible to get a non-integer result even if the sample values are all integers.'\n  },\n  {\n    name: 'deriv()', value: 'deriv',\n    def: 'deriv(v range-vector)',\n    docText: 'Calculates the per-second derivative of the time series in a range vector `v`, using simple linear regression.'\n  },\n  {\n    name: 'drop_common_labels()', value: 'drop_common_labels',\n    def: 'drop_common_labels(instant-vector)',\n    docText: 'Drops all labels that have the same name and value across all series in the input vector.'\n  },\n  {\n    name: 'exp()', value: 'exp',\n    def: 'exp(v instant-vector)',\n    docText: 'Calculates the exponential function for all elements in `v`.\\nSpecial cases are:\\n* `Exp(+Inf) = +Inf` \\n* `Exp(NaN) = NaN`'\n  },\n  {\n    name: 'floor()', value: 'floor',\n    def: 'floor(v instant-vector)',\n    docText: 'Rounds the sample values of all elements in `v` down to the nearest integer.'\n  },\n  {\n    name: 'histogram_quantile()', value: 'histogram_quantile',\n    def: 'histogram_quantile(φ float, b instant-vector)',\n    docText: 'Calculates the φ-quantile (0 ≤ φ ≤ 1) from the buckets `b` of a histogram. The samples in `b` are the counts of observations in each bucket. Each sample must have a label `le` where the label value denotes the inclusive upper bound of the bucket. (Samples without such a label are silently ignored.) The histogram metric type automatically provides time series with the `_bucket` suffix and the appropriate labels.'\n  },\n  {\n    name: 'holt_winters()', value: 'holt_winters',\n    def: 'holt_winters(v range-vector, sf scalar, tf scalar)',\n    docText: 'Produces a smoothed value for time series based on the range in `v`. The lower the smoothing factor `sf`, the more importance is given to old data. The higher the trend factor `tf`, the more trends in the data is considered. Both `sf` and `tf` must be between 0 and 1.'\n  },\n  {\n    name: 'hour()', value: 'hour',\n    def: 'hour(v=vector(time()) instant-vector)',\n    docText: 'Returns the hour of the day for each of the given times in UTC. Returned values are from 0 to 23.'\n  },\n  {\n    name: 'idelta()', value: 'idelta',\n    def: 'idelta(v range-vector)',\n    docText: 'Calculates the difference between the last two samples in the range vector `v`, returning an instant vector with the given deltas and equivalent labels.'\n  },\n  {\n    name: 'increase()', value: 'increase',\n    def: 'increase(v range-vector)',\n    docText: 'Calculates the increase in the time series in the range vector. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for. The increase is extrapolated to cover the full time range as specified in the range vector selector, so that it is possible to get a non-integer result even if a counter increases only by integer increments.'\n  },\n  {\n    name: 'irate()', value: 'irate',\n    def: 'irate(v range-vector)',\n    docText: 'Calculates the per-second instant rate of increase of the time series in the range vector. This is based on the last two data points. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for.'\n  },\n  {\n    name: 'label_replace()', value: 'label_replace',\n    def: 'label_replace(v instant-vector, dst_label string, replacement string, src_label string, regex string)',\n    docText: 'For each timeseries in `v`, `label_replace(v instant-vector, dst_label string, replacement string, src_label string, regex string)`  matches the regular expression `regex` against the label `src_label`.  If it matches, then the timeseries is returned with the label `dst_label` replaced by the expansion of `replacement`. `$1` is replaced with the first matching subgroup, `$2` with the second etc. If the regular expression doesn\\'t match then the timeseries is returned unchanged.'\n  },\n  {\n    name: 'ln()', value: 'ln',\n    def: 'ln(v instant-vector)',\n    docText: 'calculates the natural logarithm for all elements in `v`.\\nSpecial cases are:\\n * `ln(+Inf) = +Inf`\\n * `ln(0) = -Inf`\\n * `ln(x < 0) = NaN`\\n * `ln(NaN) = NaN`'\n  },\n  {\n    name: 'log2()', value: 'log2',\n    def: 'log2(v instant-vector)',\n    docText: 'Calculates the binary logarithm for all elements in `v`. The special cases are equivalent to those in `ln`.'\n  },\n  {\n    name: 'log10()', value: 'log10',\n    def: 'log10(v instant-vector)',\n    docText: 'Calculates the decimal logarithm for all elements in `v`. The special cases are equivalent to those in `ln`.'\n  },\n  {\n    name: 'minute()', value: 'minute',\n    def: 'minute(v=vector(time()) instant-vector)',\n    docText: 'Returns the minute of the hour for each of the given times in UTC. Returned values are from 0 to 59.'\n  },\n  {\n    name: 'month()', value: 'month',\n    def: 'month(v=vector(time()) instant-vector)',\n    docText: 'Returns the month of the year for each of the given times in UTC. Returned values are from 1 to 12, where 1 means January etc.'\n  },\n  {\n    name: 'predict_linear()', value: 'predict_linear',\n    def: 'predict_linear(v range-vector, t scalar)',\n    docText: 'Predicts the value of time series `t` seconds from now, based on the range vector `v`, using simple linear regression.'\n  },\n  {\n    name: 'rate()', value: 'rate',\n    def: 'rate(v range-vector)',\n    docText: \"Calculates the per-second average rate of increase of the time series in the range vector. Breaks in monotonicity (such as counter resets due to target restarts) are automatically adjusted for. Also, the calculation extrapolates to the ends of the time range, allowing for missed scrapes or imperfect alignment of scrape cycles with the range's time period.\"\n  },\n  {\n    name: 'resets()', value: 'resets',\n    def: 'resets(v range-vector)',\n    docText: 'For each input time series, `resets(v range-vector)` returns the number of counter resets within the provided time range as an instant vector. Any decrease in the value between two consecutive samples is interpreted as a counter reset.'\n  },\n  {\n    name: 'round()', value: 'round',\n    def: 'round(v instant-vector, to_nearest=1 scalar)',\n    docText: 'Rounds the sample values of all elements in `v` to the nearest integer. Ties are resolved by rounding up. The optional `to_nearest` argument allows specifying the nearest multiple to which the sample values should be rounded. This multiple may also be a fraction.'\n  },\n  {\n    name: 'scalar()', value: 'scalar',\n    def: 'scalar(v instant-vector)',\n    docText: 'Given a single-element input vector, `scalar(v instant-vector)` returns the sample value of that single element as a scalar. If the input vector does not have exactly one element, `scalar` will return `NaN`.'\n  },\n  {\n    name: 'sort()', value: 'sort',\n    def: 'sort(v instant-vector)',\n    docText: 'Returns vector elements sorted by their sample values, in ascending order.'\n  },\n  {\n    name: 'sort_desc()', value: 'sort_desc',\n    def: 'sort_desc(v instant-vector)',\n    docText: 'Returns vector elements sorted by their sample values, in descending order.'\n  },\n  {\n    name: 'sqrt()', value: 'sqrt',\n    def: 'sqrt(v instant-vector)',\n    docText: 'Calculates the square root of all elements in `v`.'\n  },\n  {\n    name: 'time()', value: 'time',\n    def: 'time()',\n    docText: 'Returns the number of seconds since January 1, 1970 UTC. Note that this does not actually return the current time, but the time at which the expression is to be evaluated.'\n  },\n  {\n    name: 'vector()', value: 'vector',\n    def: 'vector(s scalar)',\n    docText: 'Returns the scalar `s` as a vector with no labels.'\n  },\n  {\n    name: 'year()', value: 'year',\n    def: 'year(v=vector(time()) instant-vector)',\n    docText: 'Returns the year for each of the given times in UTC.'\n  },\n  {\n    name: 'avg_over_time()', value: 'avg_over_time',\n    def: 'avg_over_time(range-vector)',\n    docText: 'The average value of all points in the specified interval.'\n  },\n  {\n    name: 'min_over_time()', value: 'min_over_time',\n    def: 'min_over_time(range-vector)',\n    docText: 'The minimum value of all points in the specified interval.'\n  },\n  {\n    name: 'max_over_time()', value: 'max_over_time',\n    def: 'max_over_time(range-vector)',\n    docText: 'The maximum value of all points in the specified interval.'\n  },\n  {\n    name: 'sum_over_time()', value: 'sum_over_time',\n    def: 'sum_over_time(range-vector)',\n    docText: 'The sum of all values in the specified interval.'\n  },\n  {\n    name: 'count_over_time()', value: 'count_over_time',\n    def: 'count_over_time(range-vector)',\n    docText: 'The count of all values in the specified interval.'\n  },\n  {\n    name: 'quantile_over_time()', value: 'quantile_over_time',\n    def: 'quantile_over_time(scalar, range-vector)',\n    docText: 'The φ-quantile (0 ≤ φ ≤ 1) of the values in the specified interval.'\n  },\n  {\n    name: 'stddev_over_time()', value: 'stddev_over_time',\n    def: 'stddev_over_time(range-vector)',\n    docText: 'The population standard deviation of the values in the specified interval.'\n  },\n  {\n    name: 'stdvar_over_time()', value: 'stdvar_over_time',\n    def: 'stdvar_over_time(range-vector)',\n    docText: 'The population standard variance of the values in the specified interval.'\n  },\n];\n\nfunction wrapText(str, len) {\n  len = len || 60;\n  var lines = [];\n  var space_index = 0;\n  var line_start = 0;\n  var next_line_end = len;\n  var line = \"\";\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === ' ') {\n      space_index = i;\n    } else if (i >= next_line_end  && space_index != 0) {\n      line = str.slice(line_start, space_index);\n      lines.push(line);\n      line_start = space_index + 1;\n      next_line_end = i + len;\n      space_index = 0;\n    }\n  }\n  line = str.slice(line_start);\n  lines.push(line);\n  return lines.join(\"&nbsp<br>\");\n}\n\nfunction convertMarkDownTags(text) {\n  text = text.replace(/```(.+)```/, \"<pre>$1</pre>\");\n  text = text.replace(/`([^`]+)`/, \"<code>$1</code>\");\n  return text;\n}\n\nfunction convertToHTML(item) {\n  var docText = lang.escapeHTML(item.docText);\n  docText = convertMarkDownTags(wrapText(docText, 40));\n  return [\n    \"<b>\", lang.escapeHTML(item.def), \"</b>\", \"<hr></hr>\", docText, \"<br>&nbsp\"\n  ].join(\"\");\n}\n\nvar functionsCompletions = prometheusFunctions.map(function(item) {\n  return {\n    caption: item.name,\n    value: item.value,\n    docHTML: convertToHTML(item),\n    meta: \"function\",\n    score: Number.MAX_VALUE\n  };\n});\n\nvar PrometheusCompletions = function() {};\n\n(function() {\n  this.getCompletions = function(state, session, pos, prefix, callback) {\n    var token = session.getTokenAt(pos.row, pos.column);\n    if (token.type === 'entity.name.tag' || token.type === 'string.quoted') {\n      return callback(null, []);\n    }\n\n    var completions = keyWordsCompletions.concat(functionsCompletions);\n    callback(null, completions);\n  };\n\n}).call(PrometheusCompletions.prototype);\n\nexports.PrometheusCompletions = PrometheusCompletions;\n});\n\nace.define(\"ace/mode/behaviour/prometheus\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/mode/behaviour/cstyle\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nfunction getWrapped(selection, selected, opening, closing) {\n  var rowDiff = selection.end.row - selection.start.row;\n  return {\n    text: opening + selected + closing,\n    selection: [\n      0,\n      selection.start.column + 1,\n      rowDiff,\n      selection.end.column + (rowDiff ? 0 : 1)\n    ]\n  };\n};\n\nvar PrometheusBehaviour = function () {\n  this.inherit(CstyleBehaviour);\n\n  // Rewrite default CstyleBehaviour for {} braces\n  this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n    if (text == '{') {\n      var selection = editor.getSelectionRange();\n      var selected = session.doc.getTextRange(selection);\n      if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n        return getWrapped(selection, selected, '{', '}');\n      } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n        return {\n          text: '{}',\n          selection: [1, 1]\n        };\n      }\n    } else if (text == '}') {\n      var cursor = editor.getCursorPosition();\n      var line = session.doc.getLine(cursor.row);\n      var rightChar = line.substring(cursor.column, cursor.column + 1);\n      if (rightChar == '}') {\n        var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n        if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n          return {\n            text: '',\n            selection: [1, 1]\n          };\n        }\n      }\n    }\n  });\n\n  this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n    var selected = session.doc.getTextRange(range);\n    if (!range.isMultiLine() && selected == '{') {\n      var line = session.doc.getLine(range.start.row);\n      var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n      if (rightChar == '}') {\n        range.end.column++;\n        return range;\n      }\n    }\n  });\n\n}\noop.inherits(PrometheusBehaviour, CstyleBehaviour);\n\nexports.PrometheusBehaviour = PrometheusBehaviour;\n});\n\nace.define(\"ace/mode/prometheus\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/prometheus_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar PrometheusHighlightRules = require(\"./prometheus_highlight_rules\").PrometheusHighlightRules;\nvar PrometheusCompletions = require(\"./prometheus_completions\").PrometheusCompletions;\nvar PrometheusBehaviour = require(\"./behaviour/prometheus\").PrometheusBehaviour;\n\nvar Mode = function() {\n  this.HighlightRules = PrometheusHighlightRules;\n  this.$behaviour = new PrometheusBehaviour();\n  this.$completer = new PrometheusCompletions();\n  // replace keyWordCompleter\n  this.completer = this.$completer;\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n  this.$id = \"ace/mode/prometheus\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/prometheus/mode-prometheus.js\n// module id = 1480\n// module chunks = 0","// jshint ignore: start\n// jscs: disable\nace.define(\"ace/snippets/prometheus\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\n// exports.snippetText = \"# rate\\n\\\n// snippet r\\n\\\n//   rate(${1:metric}[${2:range}])\\n\\\n// \";\n\nexports.snippets = [\n  {\n    \"content\": \"rate(${1:metric}[${2:range}])\",\n    \"name\": \"rate()\",\n    \"scope\": \"prometheus\",\n    \"tabTrigger\": \"r\"\n  }\n];\n\nexports.scope = \"prometheus\";\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/datasource/prometheus/snippets/prometheus.js\n// module id = 1481\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {PanelCtrl} from 'app/plugins/sdk';\n\nexport class TextPanelCtrl extends PanelCtrl {\n  static templateUrl = `public/app/plugins/panel/text/module.html`;\n\n  remarkable: any;\n  content: string;\n  // Set and populate defaults\n  panelDefaults = {\n    mode    : \"markdown\", // 'html', 'markdown', 'text'\n    content : \"# title\",\n  };\n\n  /** @ngInject **/\n  constructor($scope, $injector, private templateSrv, private $sce) {\n    super($scope, $injector);\n\n    _.defaults(this.panel, this.panelDefaults);\n\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('refresh', this.onRefresh.bind(this));\n    this.events.on('render', this.onRender.bind(this));\n    $scope.$watch('ctrl.panel.content',\n     _.throttle(() => {\n       this.render();\n     }, 1000)\n    );\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', 'public/app/plugins/panel/text/editor.html');\n    this.editorTabIndex = 1;\n\n    if (this.panel.mode === 'text') {\n      this.panel.mode = 'markdown';\n    }\n  }\n\n  onRefresh() {\n    this.render();\n  }\n\n  onRender() {\n    if (this.panel.mode === 'markdown') {\n      this.renderMarkdown(this.panel.content);\n    } else if (this.panel.mode === 'html') {\n      this.updateContent(this.panel.content);\n    }\n    this.renderingCompleted();\n  }\n\n  renderText(content) {\n    content = content\n    .replace(/&/g, '&amp;')\n    .replace(/>/g, '&gt;')\n    .replace(/</g, '&lt;')\n    .replace(/\\n/g, '<br/>');\n    this.updateContent(content);\n  }\n\n  renderMarkdown(content) {\n    if (!this.remarkable) {\n      return System.import('remarkable').then(Remarkable => {\n        this.remarkable = new Remarkable();\n        this.$scope.$apply(() => {\n          this.updateContent(this.remarkable.render(content));\n        });\n      });\n    }\n\n    this.$scope.$applyAsync(() => {\n      this.updateContent(this.remarkable.render(content));\n    });\n  }\n\n  updateContent(html) {\n    try {\n      this.content = this.$sce.trustAsHtml(this.templateSrv.replace(html, this.panel.scopedVars));\n    } catch (e) {\n      console.log('Text panel error: ', e);\n      this.content = this.$sce.trustAsHtml(html);\n    }\n  }\n}\n\nexport {TextPanelCtrl as PanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/text/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport './graph';\nimport './legend';\nimport './series_overrides_ctrl';\nimport './thresholds_form';\n\nimport template from './template';\nimport _ from 'lodash';\nimport config from 'app/core/config';\nimport {MetricsPanelCtrl, alertTab} from 'app/plugins/sdk';\nimport {DataProcessor} from './data_processor';\nimport {axesEditorComponent} from './axes_editor';\n\nclass GraphCtrl extends MetricsPanelCtrl {\n  static template = template;\n\n  hiddenSeries: any = {};\n  seriesList: any = [];\n  dataList: any = [];\n  annotations: any = [];\n  alertState: any;\n\n  annotationsPromise: any;\n  dataWarning: any;\n  colors: any = [];\n  subTabIndex: number;\n  processor: DataProcessor;\n\n  panelDefaults = {\n    // datasource name, null = default datasource\n    datasource: null,\n    // sets client side (flot) or native graphite png renderer (png)\n    renderer: 'flot',\n    yaxes: [\n      {\n        label: null,\n        show: true,\n        logBase: 1,\n        min: null,\n        max: null,\n        format: 'short'\n      },\n      {\n        label: null,\n        show: true,\n        logBase: 1,\n        min: null,\n        max: null,\n        format: 'short'\n      }\n    ],\n    xaxis: {\n      show: true,\n      mode: 'time',\n      name: null,\n      values: [],\n      buckets: null\n    },\n    // show/hide lines\n    lines         : true,\n    // fill factor\n    fill          : 1,\n    // line width in pixels\n    linewidth     : 1,\n    // show/hide dashed line\n    dashes        : false,\n    // length of a dash\n    dashLength    : 10,\n    // length of space between two dashes\n    spaceLength   : 10,\n    // show hide points\n    points        : false,\n    // point radius in pixels\n    pointradius   : 5,\n    // show hide bars\n    bars          : false,\n    // enable/disable stacking\n    stack         : false,\n    // stack percentage mode\n    percentage    : false,\n    // legend options\n    legend: {\n      show: true, // disable/enable legend\n      values: false, // disable/enable legend values\n      min: false,\n      max: false,\n      current: false,\n      total: false,\n      avg: false\n    },\n    // how null points should be handled\n    nullPointMode : 'null',\n    // staircase line mode\n    steppedLine: false,\n    // tooltip options\n    tooltip       : {\n      value_type: 'individual',\n      shared: true,\n      sort: 0,\n    },\n    // time overrides\n    timeFrom: null,\n    timeShift: null,\n    // metric queries\n    targets: [{}],\n    // series color overrides\n    aliasColors: {},\n    // other style overrides\n    seriesOverrides: [],\n    thresholds: [],\n  };\n\n  /** @ngInject */\n  constructor($scope, $injector, private annotationsSrv) {\n    super($scope, $injector);\n\n    _.defaults(this.panel, this.panelDefaults);\n    _.defaults(this.panel.tooltip, this.panelDefaults.tooltip);\n    _.defaults(this.panel.legend, this.panelDefaults.legend);\n    _.defaults(this.panel.xaxis, this.panelDefaults.xaxis);\n\n    this.processor = new DataProcessor(this.panel);\n\n    this.events.on('render', this.onRender.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataSnapshotLoad.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('init-panel-actions', this.onInitPanelActions.bind(this));\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Axes', axesEditorComponent, 2);\n    this.addEditorTab('Legend', 'public/app/plugins/panel/graph/tab_legend.html', 3);\n    this.addEditorTab('Display', 'public/app/plugins/panel/graph/tab_display.html', 4);\n\n    if (config.alertingEnabled) {\n      this.addEditorTab('Alert', alertTab, 5);\n    }\n\n    this.subTabIndex = 0;\n  }\n\n  onInitPanelActions(actions) {\n    actions.push({text: 'Export CSV', click: 'ctrl.exportCsv()'});\n    actions.push({text: 'Toggle legend', click: 'ctrl.toggleLegend()'});\n  }\n\n  issueQueries(datasource) {\n    this.annotationsPromise = this.annotationsSrv.getAnnotations({\n      dashboard: this.dashboard,\n      panel: this.panel,\n      range: this.range,\n    });\n    return super.issueQueries(datasource);\n  }\n\n  zoomOut(evt) {\n    this.publishAppEvent('zoom-out', 2);\n  }\n\n  onDataSnapshotLoad(snapshotData) {\n    this.annotationsPromise = this.annotationsSrv.getAnnotations({\n      dashboard: this.dashboard,\n      panel: this.panel,\n      range: this.range,\n    });\n    this.onDataReceived(snapshotData);\n  }\n\n  onDataError(err) {\n    this.seriesList = [];\n    this.annotations = [];\n    this.render([]);\n  }\n\n  onDataReceived(dataList) {\n    this.dataList = dataList;\n    this.seriesList = this.processor.getSeriesList({dataList: dataList, range: this.range});\n\n    this.dataWarning = null;\n    const datapointsCount = this.seriesList.reduce((prev, series) => {\n      return prev + series.datapoints.length;\n    }, 0);\n\n    if (datapointsCount === 0) {\n      this.dataWarning = {\n        title: 'No data points',\n        tip: 'No datapoints returned from data query'\n      };\n    } else {\n\n      for (let series of this.seriesList) {\n        if (series.isOutsideRange) {\n          this.dataWarning = {\n            title: 'Data points outside time range',\n            tip: 'Can be caused by timezone mismatch or missing time filter in query',\n          };\n          break;\n        }\n      }\n    }\n\n    this.annotationsPromise.then(result => {\n      this.loading = false;\n      this.alertState = result.alertState;\n      this.annotations = result.annotations;\n      this.render(this.seriesList);\n    }, () => {\n      this.loading = false;\n      this.render(this.seriesList);\n    });\n  }\n\n  onRender() {\n    if (!this.seriesList) { return; }\n\n    for (let series of this.seriesList) {\n      series.applySeriesOverrides(this.panel.seriesOverrides);\n\n      if (series.unit) {\n        this.panel.yaxes[series.yaxis-1].format = series.unit;\n      }\n    }\n  }\n\n  changeSeriesColor(series, color) {\n    series.color = color;\n    this.panel.aliasColors[series.alias] = series.color;\n    this.render();\n  }\n\n  toggleSeries(serie, event) {\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      if (this.hiddenSeries[serie.alias]) {\n        delete this.hiddenSeries[serie.alias];\n      } else {\n        this.hiddenSeries[serie.alias] = true;\n      }\n    } else {\n      this.toggleSeriesExclusiveMode(serie);\n    }\n    this.render();\n  }\n\n  toggleSeriesExclusiveMode (serie) {\n    var hidden = this.hiddenSeries;\n\n    if (hidden[serie.alias]) {\n      delete hidden[serie.alias];\n    }\n\n    // check if every other series is hidden\n    var alreadyExclusive = _.every(this.seriesList, value => {\n      if (value.alias === serie.alias) {\n        return true;\n      }\n\n      return hidden[value.alias];\n    });\n\n    if (alreadyExclusive) {\n      // remove all hidden series\n      _.each(this.seriesList, value => {\n        delete this.hiddenSeries[value.alias];\n      });\n    } else {\n      // hide all but this serie\n      _.each(this.seriesList, value => {\n        if (value.alias === serie.alias) {\n          return;\n        }\n\n        this.hiddenSeries[value.alias] = true;\n      });\n    }\n  }\n\n  toggleAxis(info) {\n    var override = _.find(this.panel.seriesOverrides, {alias: info.alias});\n    if (!override) {\n      override = { alias: info.alias };\n      this.panel.seriesOverrides.push(override);\n    }\n    info.yaxis = override.yaxis = info.yaxis === 2 ? 1 : 2;\n    this.render();\n  }\n\n  addSeriesOverride(override) {\n    this.panel.seriesOverrides.push(override || {});\n  }\n\n  removeSeriesOverride(override) {\n    this.panel.seriesOverrides = _.without(this.panel.seriesOverrides, override);\n    this.render();\n  }\n\n  toggleLegend() {\n    this.panel.legend.show = !this.panel.legend.show;\n    this.refresh();\n  }\n\n  legendValuesOptionChanged() {\n    var legend = this.panel.legend;\n    legend.values = legend.min || legend.max || legend.avg || legend.current || legend.total;\n    this.render();\n  }\n\n  exportCsv() {\n    var scope = this.$scope.$new(true);\n    scope.seriesList = this.seriesList;\n    this.publishAppEvent('show-modal', {\n      templateHtml: '<export-data-modal data=\"seriesList\"></export-data-modal>',\n      scope,\n      modalClass: 'modal--narrow'\n    });\n  }\n}\n\nexport {GraphCtrl, GraphCtrl as PanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport 'vendor/flot/jquery.flot';\nimport 'vendor/flot/jquery.flot.selection';\nimport 'vendor/flot/jquery.flot.time';\nimport 'vendor/flot/jquery.flot.stack';\nimport 'vendor/flot/jquery.flot.stackpercent';\nimport 'vendor/flot/jquery.flot.fillbelow';\nimport 'vendor/flot/jquery.flot.crosshair';\nimport 'vendor/flot/jquery.flot.dashes';\nimport './jquery.flot.events';\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport kbn from 'app/core/utils/kbn';\nimport {tickStep} from 'app/core/utils/ticks';\nimport {appEvents, coreModule} from 'app/core/core';\nimport GraphTooltip from './graph_tooltip';\nimport {ThresholdManager} from './threshold_manager';\nimport {EventManager} from 'app/features/annotations/all';\nimport {convertValuesToHistogram, getSeriesValues} from './histogram';\n\n/** @ngInject **/\nfunction graphDirective($rootScope, timeSrv, popoverSrv, contextSrv) {\n  return {\n    restrict: 'A',\n    template: '',\n    link: function(scope, elem) {\n      var ctrl = scope.ctrl;\n      var dashboard = ctrl.dashboard;\n      var panel = ctrl.panel;\n      var annotations = [];\n      var data;\n      var plot;\n      var sortedSeries;\n      var legendSideLastValue = null;\n      var rootScope = scope.$root;\n      var panelWidth = 0;\n      var eventManager = new EventManager(ctrl);\n      var thresholdManager = new ThresholdManager(ctrl);\n      var tooltip = new GraphTooltip(elem, dashboard, scope, function() {\n        return sortedSeries;\n      });\n\n      // panel events\n      ctrl.events.on('panel-teardown', () => {\n        thresholdManager = null;\n\n        if (plot) {\n          plot.destroy();\n          plot = null;\n        }\n      });\n\n      ctrl.events.on('render', function(renderData) {\n        data = renderData || data;\n        if (!data) {\n          return;\n        }\n        annotations = ctrl.annotations || [];\n        render_panel();\n      });\n\n      // global events\n      appEvents.on('graph-hover', function(evt) {\n        // ignore other graph hover events if shared tooltip is disabled\n        if (!dashboard.sharedTooltipModeEnabled()) {\n          return;\n        }\n\n        // ignore if we are the emitter\n        if (!plot || evt.panel.id === panel.id || ctrl.otherPanelInFullscreenMode()) {\n          return;\n        }\n\n        tooltip.show(evt.pos);\n      }, scope);\n\n      appEvents.on('graph-hover-clear', function(event, info) {\n        if (plot) {\n          tooltip.clear(plot);\n        }\n      }, scope);\n\n      function getLegendHeight(panelHeight) {\n        if (!panel.legend.show || panel.legend.rightSide) {\n          return 0;\n        }\n\n        if (panel.legend.alignAsTable) {\n          var legendSeries = _.filter(data, function(series) {\n            return series.hideFromLegend(panel.legend) === false;\n          });\n          var total = 23 + (21 * legendSeries.length);\n          return Math.min(total, Math.floor(panelHeight/2));\n        } else {\n          return 26;\n        }\n      }\n\n      function setElementHeight() {\n        try {\n          var height = ctrl.height - getLegendHeight(ctrl.height);\n          elem.css('height', height + 'px');\n\n          return true;\n        } catch (e) { // IE throws errors sometimes\n          console.log(e);\n          return false;\n        }\n      }\n\n      function shouldAbortRender() {\n        if (!data) {\n          return true;\n        }\n\n        if (!setElementHeight()) { return true; }\n\n        if (panelWidth === 0) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function drawHook(plot) {\n        // Update legend values\n        var yaxis = plot.getYAxes();\n        for (var i = 0; i < data.length; i++) {\n          var series = data[i];\n          var axis = yaxis[series.yaxis||1 - 1];//console.log(series)\n          var formater = kbn.valueFormats[panel.yaxes[series.yaxis||1 - 1].format];\n\n          // decimal override\n          if (_.isNumber(panel.decimals)) {\n            series.updateLegendValues(formater, panel.decimals, null);\n          } else {\n            // auto decimals\n            // legend and tooltip gets one more decimal precision\n            // than graph legend ticks\n            var tickDecimals = ((axis?axis.tickDecimals : 0) || -1) + 1;\n            series.updateLegendValues(formater, tickDecimals, axis?axis.scaledDecimals : 0 + 2);\n          }\n\n          if (!rootScope.$$phase) { scope.$digest(); }\n        }\n\n        // add left axis labels\n        if (panel.yaxes[0].label && panel.yaxes[0].show) {\n          $(\"<div class='axisLabel left-yaxis-label flot-temp-elem'></div>\").text(panel.yaxes[0].label).appendTo(elem);\n        }\n\n        // add right axis labels\n        if (panel.yaxes[1].label && panel.yaxes[1].show) {\n          $(\"<div class='axisLabel right-yaxis-label flot-temp-elem'></div>\").text(panel.yaxes[1].label).appendTo(elem);\n        }\n\n        thresholdManager.draw(plot);\n      }\n\n      function processOffsetHook(plot, gridMargin) {\n        var left = panel.yaxes[0];\n        var right = panel.yaxes[1];\n        if (left.show && left.label) { gridMargin.left = 20; }\n        if (right.show && right.label) { gridMargin.right = 20; }\n\n        // apply y-axis min/max options\n        var yaxis = plot.getYAxes();\n        for (var i = 0; i < yaxis.length; i++) {\n          var axis = yaxis[i];\n          var panelOptions = panel.yaxes[i];\n          axis.options.max = axis.options.max !== null ? axis.options.max : panelOptions.max;\n          axis.options.min = axis.options.min !== null ? axis.options.min : panelOptions.min;\n        }\n      }\n\n      // Series could have different timeSteps,\n      // let's find the smallest one so that bars are correctly rendered.\n      // In addition, only take series which are rendered as bars for this.\n      function getMinTimeStepOfSeries(data) {\n        var min = Number.MAX_VALUE;\n\n        for (let i = 0; i < data.length; i++) {\n          if (!data[i].stats.timeStep) {\n            continue;\n          }\n          if (panel.bars) {\n            if (data[i].bars && data[i].bars.show === false) {\n              continue;\n            }\n          } else {\n            if (typeof data[i].bars === 'undefined' || typeof data[i].bars.show === 'undefined' || !data[i].bars.show) {\n              continue;\n            }\n          }\n\n          if (data[i].stats.timeStep < min) {\n            min = data[i].stats.timeStep;\n          }\n        }\n\n        return min;\n      }\n\n      // Function for rendering panel\n      function render_panel() {\n        panelWidth =  elem.width();\n\n        if (shouldAbortRender()) {\n          return;\n        }\n\n        // give space to alert editing\n        thresholdManager.prepare(elem, data);\n\n        // un-check dashes if lines are unchecked\n        panel.dashes = panel.lines ? panel.dashes : false;\n\n        var stack = panel.stack ? true : null;\n\n        // Populate element\n        var options: any = {\n          hooks: {\n            draw: [drawHook],\n            processOffset: [processOffsetHook],\n          },\n          legend: { show: false },\n          series: {\n            stackpercent: panel.stack ? panel.percentage : false,\n            stack: panel.percentage ? null : stack,\n            lines:  {\n              show: panel.lines,\n              zero: false,\n              fill: translateFillOption(panel.fill),\n              lineWidth: panel.dashes ? 0 : panel.linewidth,\n              steps: panel.steppedLine\n            },\n            dashes: {\n              show: panel.dashes,\n              lineWidth: panel.linewidth,\n              dashLength: [panel.dashLength, panel.spaceLength]\n            },\n            bars: {\n              show: panel.bars,\n              fill: 1,\n              barWidth: 1,\n              zero: false,\n              lineWidth: 0\n            },\n            points: {\n              show: panel.points,\n              fill: 1,\n              fillColor: false,\n              radius: panel.points ? panel.pointradius : 2\n            },\n            shadowSize: 0\n          },\n          yaxes: [],\n          xaxis: {},\n          grid: {\n            minBorderMargin: 0,\n            markings: [],\n            backgroundColor: null,\n            borderWidth: 0,\n            hoverable: true,\n            clickable: true,\n            color: '#c8c8c8',\n            margin: { left: 0, right: 0 },\n            labelMarginX: 0,\n          },\n          selection: {\n            mode: \"x\",\n            color: '#666'\n          },\n          crosshair: {\n            mode: 'x'\n          }\n        };\n\n        for (let i = 0; i < data.length; i++) {\n          let series = data[i];\n          series.data = series.getFlotPairs(series.nullPointMode || panel.nullPointMode);\n\n          // if hidden remove points and disable stack\n          if (ctrl.hiddenSeries[series.alias]) {\n            series.data = [];\n            series.stack = false;\n          }\n        }\n\n        switch (panel.xaxis.mode) {\n          case 'series': {\n            options.series.bars.barWidth = 0.7;\n            options.series.bars.align = 'center';\n\n            for (let i = 0; i < data.length; i++) {\n              let series = data[i];\n              series.data = [[i + 1, series.stats[panel.xaxis.values[0]]]];\n            }\n\n            addXSeriesAxis(options);\n            break;\n          }\n          case 'histogram': {\n            let bucketSize: number;\n            let values = getSeriesValues(data);\n\n            if (data.length && values.length) {\n              let histMin = _.min(_.map(data, s => s.stats.min));\n              let histMax = _.max(_.map(data, s => s.stats.max));\n              let ticks = panel.xaxis.buckets || panelWidth / 50;\n              bucketSize = tickStep(histMin, histMax, ticks);\n              let histogram = convertValuesToHistogram(values, bucketSize);\n              data[0].data = histogram;\n              options.series.bars.barWidth = bucketSize * 0.8;\n            } else {\n              bucketSize = 0;\n            }\n\n            addXHistogramAxis(options, bucketSize);\n            break;\n          }\n          case 'table': {\n            options.series.bars.barWidth = 0.7;\n            options.series.bars.align = 'center';\n            addXTableAxis(options);\n            break;\n          }\n          default: {\n            options.series.bars.barWidth = getMinTimeStepOfSeries(data) / 1.5;\n            addTimeAxis(options);\n            break;\n          }\n        }\n\n        thresholdManager.addFlotOptions(options, panel);\n        eventManager.addFlotEvents(annotations, options);\n        configureAxisOptions(data, options);\n\n        sortedSeries = sortSeries(data, ctrl.panel);\n\n        function callPlot(incrementRenderCounter) {\n          try {\n            plot = $.plot(elem, sortedSeries, options);\n            if (ctrl.renderError) {\n              delete ctrl.error;\n              delete ctrl.inspector;\n            }\n          } catch (e) {\n            console.log('flotcharts error', e);\n            ctrl.error = e.message || \"Render Error\";\n            ctrl.renderError = true;\n            ctrl.inspector = {error: e};\n          }\n\n          if (incrementRenderCounter) {\n            ctrl.renderingCompleted();\n          }\n        }\n\n        if (shouldDelayDraw(panel)) {\n          // temp fix for legends on the side, need to render twice to get dimensions right\n          callPlot(false);\n          setTimeout(function() { callPlot(true); }, 50);\n          legendSideLastValue = panel.legend.rightSide;\n        } else {\n          callPlot(true);\n        }\n      }\n\n      function sortSeries(series, panel) {\n        var sortBy = panel.legend.sort;\n        var sortOrder = panel.legend.sortDesc;\n        var haveSortBy = sortBy !== null || sortBy !== undefined;\n        var haveSortOrder = sortOrder !== null || sortOrder !== undefined;\n\n        if (panel.stack && haveSortBy && haveSortOrder) {\n          var desc = desc = panel.legend.sortDesc === true ? -1 : 1;\n          series.sort((x, y) => {\n            if (x.stats[sortBy] > y.stats[sortBy]) {\n              return 1 * desc;\n            }\n            if (x.stats[sortBy] < y.stats[sortBy]) {\n              return -1 * desc;\n            }\n\n            return 0;\n          });\n        }\n\n        series.sort((x, y) => {\n          if (x.zindex > y.zindex) {\n            return 1;\n          }\n\n          if (x.zindex < y.zindex) {\n            return -1;\n          }\n\n          return 0;\n        });\n\n        return series;\n      }\n\n      function translateFillOption(fill) {\n        if (panel.percentage && panel.stack) {\n          return fill === 0 ? 0.001 : fill/10;\n        } else {\n          return fill/10;\n        }\n      }\n\n      function shouldDelayDraw(panel) {\n        if (panel.legend.rightSide) {\n          return true;\n        }\n        if (legendSideLastValue !== null && panel.legend.rightSide !== legendSideLastValue) {\n          return true;\n        }\n        return false;\n      }\n\n      function addTimeAxis(options) {\n        var ticks = panelWidth / 100;\n        var min = _.isUndefined(ctrl.range.from) ? null : ctrl.range.from.valueOf();\n        var max = _.isUndefined(ctrl.range.to) ? null : ctrl.range.to.valueOf();\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: \"time\",\n          min: min,\n          max: max,\n          label: \"Datetime\",\n          ticks: ticks,\n          timeformat: time_format(ticks, min, max),\n        };\n      }\n\n      function addXSeriesAxis(options) {\n        var ticks = _.map(data, function(series, index) {\n          return [index + 1, series.alias];\n        });\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: 0,\n          max: ticks.length + 1,\n          label: \"Datetime\",\n          ticks: ticks\n        };\n      }\n\n      function addXHistogramAxis(options, bucketSize) {\n        let ticks, min, max;\n        let defaultTicks = panelWidth / 50;\n\n        if (data.length && bucketSize) {\n          ticks = _.map(data[0].data, point => point[0]);\n          min = _.min(ticks);\n          max = _.max(ticks);\n\n          // Adjust tick step\n          let tickStep = bucketSize;\n          let ticks_num = Math.floor((max - min) / tickStep);\n          while (ticks_num > defaultTicks) {\n            tickStep = tickStep * 2;\n            ticks_num = Math.ceil((max - min) / tickStep);\n          }\n\n          // Expand ticks for pretty view\n          min = Math.floor(min / tickStep) * tickStep;\n          max = Math.ceil(max / tickStep) * tickStep;\n\n          ticks = [];\n          for (let i = min; i <= max; i += tickStep) {\n            ticks.push(i);\n          }\n        } else {\n          // Set defaults if no data\n          ticks = defaultTicks / 2;\n          min = 0;\n          max = 1;\n        }\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: min,\n          max: max,\n          label: \"Histogram\",\n          ticks: ticks\n        };\n\n        // Use 'short' format for histogram values\n        configureAxisMode(options.xaxis, 'short');\n      }\n\n      function addXTableAxis(options) {\n        var ticks = _.map(data, function(series, seriesIndex) {\n          return _.map(series.datapoints, function(point, pointIndex) {\n            var tickIndex = seriesIndex * series.datapoints.length + pointIndex;\n            return [tickIndex + 1, point[1]];\n          });\n        });\n        ticks = _.flatten(ticks, true);\n\n        options.xaxis = {\n          timezone: dashboard.getTimezone(),\n          show: panel.xaxis.show,\n          mode: null,\n          min: 0,\n          max: ticks.length + 1,\n          label: \"Datetime\",\n          ticks: ticks\n        };\n      }\n\n      function configureAxisOptions(data, options) {\n        var defaults = {\n          position: 'left',\n          show: panel.yaxes[0].show,\n          index: 1,\n          logBase: panel.yaxes[0].logBase || 1,\n          min: parseNumber(panel.yaxes[0].min),\n          max: parseNumber(panel.yaxes[0].max),\n          tickDecimals: panel.yaxes[0].decimals\n        };\n\n        options.yaxes.push(defaults);\n\n        if (_.find(data, {yaxis: 2})) {\n          var secondY = _.clone(defaults);\n          secondY.index = 2;\n          secondY.show = panel.yaxes[1].show;\n          secondY.logBase = panel.yaxes[1].logBase || 1;\n          secondY.position = 'right';\n          secondY.min = parseNumber(panel.yaxes[1].min);\n          secondY.max = parseNumber(panel.yaxes[1].max);\n          secondY.tickDecimals = panel.yaxes[1].decimals;\n          options.yaxes.push(secondY);\n\n          applyLogScale(options.yaxes[1], data);\n          configureAxisMode(options.yaxes[1], panel.percentage && panel.stack ? \"percent\" : panel.yaxes[1].format);\n        }\n        applyLogScale(options.yaxes[0], data);\n        configureAxisMode(options.yaxes[0], panel.percentage && panel.stack ? \"percent\" : panel.yaxes[0].format);\n      }\n\n      function parseNumber(value: any) {\n        if (value === null || typeof value === 'undefined') {\n          return null;\n        }\n\n        return _.toNumber(value);\n      }\n\n      function applyLogScale(axis, data) {\n        if (axis.logBase === 1) {\n          return;\n        }\n\n        const minSetToZero = axis.min === 0;\n\n        if (axis.min < Number.MIN_VALUE) {\n          axis.min = null;\n        }\n        if (axis.max < Number.MIN_VALUE) {\n          axis.max = null;\n        }\n\n        var series, i;\n        var max = axis.max, min = axis.min;\n\n        for (i = 0; i < data.length; i++) {\n          series = data[i];\n          if (series.yaxis === axis.index) {\n            if (!max || max < series.stats.max) {\n              max = series.stats.max;\n            }\n            if (!min || min > series.stats.logmin) {\n              min = series.stats.logmin;\n            }\n          }\n        }\n\n        axis.transform = function(v) { return (v < Number.MIN_VALUE) ? null : Math.log(v) / Math.log(axis.logBase); };\n        axis.inverseTransform  = function (v) { return Math.pow(axis.logBase,v); };\n\n        if (!max && !min) {\n          max = axis.inverseTransform(+2);\n          min = axis.inverseTransform(-2);\n        } else if (!max) {\n          max = min*axis.inverseTransform(+4);\n        } else if (!min) {\n          min = max*axis.inverseTransform(-4);\n        }\n\n        if (axis.min) {\n          min = axis.inverseTransform(Math.ceil(axis.transform(axis.min)));\n        } else {\n          min = axis.min = axis.inverseTransform(Math.floor(axis.transform(min)));\n        }\n        if (axis.max) {\n          max = axis.inverseTransform(Math.floor(axis.transform(axis.max)));\n        } else {\n          max = axis.max = axis.inverseTransform(Math.ceil(axis.transform(max)));\n        }\n\n        if (!min || min < Number.MIN_VALUE || !max || max < Number.MIN_VALUE) {\n          return;\n        }\n\n        if (Number.isFinite(min) && Number.isFinite(max)) {\n          if (minSetToZero) {\n            axis.min = 0.1;\n            min = 1;\n          }\n\n          axis.ticks = generateTicksForLogScaleYAxis(min, max, axis.logBase);\n          if (minSetToZero) {\n            axis.ticks.unshift(0.1);\n          }\n          if (axis.ticks[axis.ticks.length - 1] > axis.max) {\n            axis.max = axis.ticks[axis.ticks.length - 1];\n          }\n        } else {\n          axis.ticks = [1, 2];\n          delete axis.min;\n          delete axis.max;\n        }\n      }\n\n      function generateTicksForLogScaleYAxis(min, max, logBase) {\n        let ticks = [];\n\n        var nextTick;\n        for (nextTick = min; nextTick <= max; nextTick *= logBase) {\n          ticks.push(nextTick);\n        }\n\n        const maxNumTicks = Math.ceil(ctrl.height/25);\n        const numTicks = ticks.length;\n        if (numTicks > maxNumTicks) {\n          const factor = Math.ceil(numTicks/maxNumTicks) * logBase;\n          ticks = [];\n\n          for (nextTick = min; nextTick <= (max * factor); nextTick *= factor) {\n            ticks.push(nextTick);\n          }\n        }\n\n        return ticks;\n      }\n\n      function configureAxisMode(axis, format) {\n        axis.tickFormatter = function(val, axis) {\n          return kbn.valueFormats[format](val, axis.tickDecimals, axis.scaledDecimals);\n        };\n      }\n\n      function time_format(ticks, min, max) {\n        if (min && max && ticks) {\n          var range = max - min;\n          var secPerTick = (range/ticks) / 1000;\n          var oneDay = 86400000;\n          var oneYear = 31536000000;\n\n          if (secPerTick <= 45) {\n            return \"%H:%M:%S\";\n          }\n          if (secPerTick <= 7200 || range <= oneDay) {\n            return \"%H:%M\";\n          }\n          if (secPerTick <= 80000) {\n            return \"%m/%d %H:%M\";\n          }\n          if (secPerTick <= 2419200 || range <= oneYear) {\n            return \"%m/%d\";\n          }\n          return \"%Y-%m\";\n        }\n\n        return \"%H:%M\";\n      }\n\n      elem.bind(\"plotselected\", function (event, ranges) {\n        if ((ranges.ctrlKey || ranges.metaKey) && contextSrv.isEditor) {\n          setTimeout(() => {\n            eventManager.updateTime(ranges.xaxis);\n          }, 100);\n        } else {\n          scope.$apply(function() {\n            timeSrv.setTime({\n              from  : moment.utc(ranges.xaxis.from),\n              to    : moment.utc(ranges.xaxis.to),\n            });\n          });\n        }\n      });\n\n      elem.bind(\"plotclick\", function (event, pos, item) {\n        if ((pos.ctrlKey || pos.metaKey) && contextSrv.isEditor) {\n          // Skip if range selected (added in \"plotselected\" event handler)\n          let isRangeSelection = pos.x !== pos.x1;\n          if (!isRangeSelection) {\n            setTimeout(() => {\n              eventManager.updateTime({from: pos.x, to: null});\n            }, 100);\n          }\n        }\n      });\n\n      scope.$on('$destroy', function() {\n        tooltip.destroy();\n        elem.off();\n        elem.remove();\n      });\n    }\n  };\n}\n\ncoreModule.directive('grafanaGraph', graphDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/graph.ts","define([\n  'jquery',\n  'lodash',\n  'angular',\n  'tether-drop',\n],\nfunction ($, _, angular, Drop) {\n  'use strict';\n\n  function createAnnotationToolip(element, event, plot) {\n    var injector = angular.element(document).injector();\n    var content = document.createElement('div');\n    content.innerHTML = '<annotation-tooltip event=\"event\" on-edit=\"onEdit()\"></annotation-tooltip>';\n\n    injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n      var eventManager = plot.getOptions().events.manager;\n      var tmpScope = $rootScope.$new(true);\n      tmpScope.event = event;\n      tmpScope.onEdit = function() {\n        eventManager.editEvent(event);\n      };\n\n      $compile(content)(tmpScope);\n      tmpScope.$digest();\n      tmpScope.$destroy();\n\n      var drop = new Drop({\n        target: element[0],\n        content: content,\n        position: \"bottom center\",\n        classes: 'drop-popover drop-popover--annotation',\n        openOn: 'hover',\n        hoverCloseDelay: 200,\n        tetherOptions: {\n          constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n        }\n      });\n\n      drop.open();\n\n      drop.on('close', function() {\n        setTimeout(function() {\n          drop.destroy();\n        });\n      });\n    }]);\n  }\n\n  var markerElementToAttachTo = null;\n\n  function createEditPopover(element, event, plot) {\n    var eventManager = plot.getOptions().events.manager;\n    if (eventManager.editorOpen) {\n      // update marker element to attach to (needed in case of legend on the right\n      // when there is a double render pass and the inital marker element is removed)\n      markerElementToAttachTo = element;\n      return;\n    }\n\n    // mark as openend\n    eventManager.editorOpened();\n    // set marker elment to attache to\n    markerElementToAttachTo = element;\n\n    // wait for element to be attached and positioned\n    setTimeout(function() {\n\n      var injector = angular.element(document).injector();\n      var content = document.createElement('div');\n      content.innerHTML = '<event-editor panel-ctrl=\"panelCtrl\" event=\"event\" close=\"close()\"></event-editor>';\n\n      injector.invoke([\"$compile\", \"$rootScope\", function($compile, $rootScope) {\n        var scope = $rootScope.$new(true);\n        var drop;\n\n        scope.event = event;\n        scope.panelCtrl = eventManager.panelCtrl;\n        scope.close = function() {\n          drop.close();\n        };\n\n        $compile(content)(scope);\n        scope.$digest();\n\n        drop = new Drop({\n          target: markerElementToAttachTo[0],\n          content: content,\n          position: \"bottom center\",\n          classes: 'drop-popover drop-popover--form',\n          openOn: 'click',\n          tetherOptions: {\n            constraints: [{to: 'window', pin: true, attachment: \"both\"}]\n          }\n        });\n\n        drop.open();\n        eventManager.editorOpened();\n\n        drop.on('close', function() {\n          // need timeout here in order call drop.destroy\n          setTimeout(function() {\n            eventManager.editorClosed();\n            scope.$destroy();\n            drop.destroy();\n          });\n        });\n      }]);\n\n    }, 100);\n  }\n\n  /*\n   * jquery.flot.events\n   *\n   * description: Flot plugin for adding events/markers to the plot\n   * version: 0.2.5\n   * authors:\n   *    Alexander Wunschik <alex@wunschik.net>\n   *    Joel Oughton <joeloughton@gmail.com>\n   *    Nicolas Joseph <www.nicolasjoseph.com>\n   *\n   * website: https://github.com/mojoaxel/flot-events\n   *\n   * released under MIT License and GPLv2+\n   */\n\n  /**\n   * A class that allows for the drawing an remove of some object\n   */\n  var DrawableEvent = function(object, drawFunc, clearFunc, moveFunc, left, top, width, height) {\n    var _object = object;\n    var\t_drawFunc = drawFunc;\n    var\t_clearFunc = clearFunc;\n    var\t_moveFunc = moveFunc;\n    var\t_position = { left: left, top: top };\n    var\t_width = width;\n    var\t_height = height;\n\n    this.width = function() { return _width; };\n    this.height = function() { return _height; };\n    this.position = function() { return _position; };\n    this.draw = function() { _drawFunc(_object); };\n    this.clear = function() { _clearFunc(_object); };\n    this.getObject = function() { return _object; };\n    this.moveTo = function(position) {\n      _position = position;\n      _moveFunc(_object, _position);\n    };\n  };\n\n  /**\n   * Event class that stores options (eventType, min, max, title, description) and the object to draw.\n   */\n  var VisualEvent = function(options, drawableEvent) {\n    var _parent;\n    var _options = options;\n    var _drawableEvent = drawableEvent;\n    var _hidden = false;\n\n    this.visual = function() { return _drawableEvent; };\n    this.getOptions = function() { return _options; };\n    this.getParent = function() { return _parent; };\n    this.isHidden = function() { return _hidden; };\n    this.hide = function() { _hidden = true; };\n    this.unhide = function() { _hidden = false; };\n  };\n\n  /**\n   * A Class that handles the event-markers inside the given plot\n   */\n  var EventMarkers = function(plot) {\n    var _events = [];\n\n    this._types = [];\n    this._plot = plot;\n    this.eventsEnabled = false;\n\n    this.getEvents = function() {\n      return _events;\n    };\n\n    this.setTypes = function(types) {\n      return this._types = types;\n    };\n\n    /**\n     * create internal objects for the given events\n     */\n    this.setupEvents = function(events) {\n      var that = this;\n      var parts = _.partition(events, 'isRegion');\n      var regions = parts[0];\n      events = parts[1];\n\n      $.each(events, function(index, event) {\n        var ve = new VisualEvent(event, that._buildDiv(event));\n        _events.push(ve);\n      });\n\n      $.each(regions, function (index, event) {\n        var vre = new VisualEvent(event, that._buildRegDiv(event));\n        _events.push(vre);\n      });\n\n      _events.sort(function(a, b) {\n        var ao = a.getOptions(), bo = b.getOptions();\n        if (ao.min > bo.min) { return 1; }\n        if (ao.min < bo.min) { return -1; }\n        return 0;\n      });\n    };\n\n    /**\n     * draw the events to the plot\n     */\n    this.drawEvents = function() {\n      var that = this;\n      // var o = this._plot.getPlotOffset();\n\n      $.each(_events, function(index, event) {\n        // check event is inside the graph range\n        if (that._insidePlot(event.getOptions().min) && !event.isHidden()) {\n          event.visual().draw();\n        }  else {\n          event.visual().getObject().hide();\n        }\n      });\n    };\n\n    /**\n     * update the position of the event-markers (e.g. after scrolling or zooming)\n     */\n    this.updateEvents = function() {\n      var that = this;\n      var o = this._plot.getPlotOffset(), left, top;\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n\n      $.each(_events, function(index, event) {\n        top = o.top + that._plot.height() - event.visual().height();\n        left = xaxis.p2c(event.getOptions().min) + o.left - event.visual().width() / 2;\n        event.visual().moveTo({ top: top, left: left });\n      });\n    };\n\n    /**\n     * remove all events from the plot\n     */\n    this._clearEvents = function() {\n      $.each(_events, function(index, val) {\n        val.visual().clear();\n      });\n      _events = [];\n    };\n\n    /**\n     * create a DOM element for the given event\n     */\n    this._buildDiv = function(event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, color, markerSize, markerShow, lineStyle, lineWidth;\n      var markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].markerSize) {\n        markerSize = 8; //default marker size\n      } else {\n        markerSize = this._types[eventTypeId].markerSize;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerShow === undefined) {\n        markerShow = true;\n      } else {\n        markerShow = this._types[eventTypeId].markerShow;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      var topOffset = xaxis.options.eventSectionHeight || 0;\n      topOffset = topOffset / 3;\n\n      top = o.top + this._plot.height() + topOffset;\n      left = xaxis.p2c(event.min) + o.left;\n\n      var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.8,\n        \"left\": left + 'px',\n        \"top\": 8,\n        \"width\": lineWidth + \"px\",\n        \"height\": this._plot.height() + topOffset * 0.8,\n        \"border-left-width\": lineWidth + \"px\",\n        \"border-left-style\": lineStyle,\n        \"border-left-color\": color,\n        \"color\": color\n      })\n      .appendTo(container);\n\n      if (markerShow) {\n        var marker = $('<div class=\"events_marker\"></div>').css({\n          \"position\": \"absolute\",\n          \"left\": (-markerSize - Math.round(lineWidth / 2)) + \"px\",\n          \"font-size\": 0,\n          \"line-height\": 0,\n          \"width\": 0,\n          \"height\": 0,\n          \"border-left\": markerSize+\"px solid transparent\",\n          \"border-right\": markerSize+\"px solid transparent\"\n        });\n\n        marker.appendTo(line);\n\n        if (this._types[eventTypeId] && this._types[eventTypeId].position && this._types[eventTypeId].position.toUpperCase() === 'BOTTOM') {\n          marker.css({\n            \"top\": top-markerSize-8 +\"px\",\n            \"border-top\": \"none\",\n            \"border-bottom\": markerSize+\"px solid \" + color\n          });\n        } else {\n          marker.css({\n            \"top\": \"0px\",\n            \"border-top\": markerSize+\"px solid \" + color,\n            \"border-bottom\": \"none\"\n          });\n        }\n\n        marker.data({\n          \"event\": event\n        });\n\n        var mouseenter = function() {\n          createAnnotationToolip(marker, $(this).data(\"event\"), that._plot);\n        };\n\n        if (event.editModel) {\n          createEditPopover(marker, event.editModel, that._plot);\n        }\n\n        var mouseleave = function() {\n          that._plot.clearSelection();\n        };\n\n        if (markerTooltip) {\n          marker.css({ \"cursor\": \"help\" });\n          marker.hover(mouseenter, mouseleave);\n        }\n      }\n\n      var drawableEvent = new DrawableEvent(\n        line,\n        function drawFunc(obj) { obj.show(); },\n        function(obj) { obj.remove(); },\n        function(obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        line.width(),\n        line.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * create a DOM element for the given region\n     */\n    this._buildRegDiv = function (event) {\n      var that = this;\n\n      var container = this._plot.getPlaceholder();\n      var o = this._plot.getPlotOffset();\n      var axes = this._plot.getAxes();\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var yaxis, top, left, lineWidth, regionWidth, lineStyle, color, markerTooltip;\n\n      // determine the y axis used\n      if (axes.yaxis && axes.yaxis.used) { yaxis = axes.yaxis; }\n      if (axes.yaxis2 && axes.yaxis2.used) { yaxis = axes.yaxis2; }\n\n      // map the eventType to a types object\n      var eventTypeId = event.eventType;\n\n      if (this._types === null || !this._types[eventTypeId] || !this._types[eventTypeId].color) {\n        color = '#666';\n      } else {\n        color = this._types[eventTypeId].color;\n      }\n\n      if (this._types === null || !this._types[eventTypeId] || this._types[eventTypeId].markerTooltip === undefined) {\n        markerTooltip = true;\n      } else {\n        markerTooltip = this._types[eventTypeId].markerTooltip;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || this._types[eventTypeId].lineWidth === undefined) {\n        lineWidth = 1; //default line width\n      } else {\n        lineWidth = this._types[eventTypeId].lineWidth;\n      }\n\n      if (this._types == null || !this._types[eventTypeId] || !this._types[eventTypeId].lineStyle) {\n        lineStyle = 'dashed'; //default line style\n      } else {\n        lineStyle = this._types[eventTypeId].lineStyle.toLowerCase();\n      }\n\n      var topOffset = 2;\n      top = o.top + this._plot.height() + topOffset;\n\n      var timeFrom = Math.min(event.min, event.timeEnd);\n      var timeTo = Math.max(event.min, event.timeEnd);\n      left = xaxis.p2c(timeFrom) + o.left;\n      var right = xaxis.p2c(timeTo) + o.left;\n      regionWidth = right - left;\n\n      _.each([left, right], function(position) {\n        var line = $('<div class=\"events_line flot-temp-elem\"></div>').css({\n          \"position\": \"absolute\",\n          \"opacity\": 0.8,\n          \"left\": position + 'px',\n          \"top\": 8,\n          \"width\": lineWidth + \"px\",\n          \"height\": that._plot.height() + topOffset,\n          \"border-left-width\": lineWidth + \"px\",\n          \"border-left-style\": lineStyle,\n          \"border-left-color\": color,\n          \"color\": color\n        });\n        line.appendTo(container);\n      });\n\n      var region = $('<div class=\"events_marker region_marker flot-temp-elem\"></div>').css({\n        \"position\": \"absolute\",\n        \"opacity\": 0.5,\n        \"left\": left + 'px',\n        \"top\": top,\n        \"width\": Math.round(regionWidth + lineWidth) + \"px\",\n        \"height\": \"0.5rem\",\n        \"border-left-color\": color,\n        \"color\": color,\n        \"background-color\": color\n      });\n      region.appendTo(container);\n\n      region.data({\n        \"event\": event\n      });\n\n      var mouseenter = function () {\n        createAnnotationToolip(region, $(this).data(\"event\"), that._plot);\n      };\n\n      if (event.editModel) {\n        createEditPopover(region, event.editModel, that._plot);\n      }\n\n      var mouseleave = function () {\n        that._plot.clearSelection();\n      };\n\n      if (markerTooltip) {\n        region.css({ \"cursor\": \"help\" });\n        region.hover(mouseenter, mouseleave);\n      }\n\n      var drawableEvent = new DrawableEvent(\n        region,\n        function drawFunc(obj) { obj.show(); },\n        function (obj) { obj.remove(); },\n        function (obj, position) {\n          obj.css({\n            top: position.top,\n            left: position.left\n          });\n        },\n        left,\n        top,\n        region.width(),\n        region.height()\n      );\n\n      return drawableEvent;\n    };\n\n    /**\n     * check if the event is inside visible range\n     */\n    this._insidePlot = function(x) {\n      var xaxis = this._plot.getXAxes()[this._plot.getOptions().events.xaxis - 1];\n      var xc = xaxis.p2c(x);\n      return xc > 0 && xc < xaxis.p2c(xaxis.max);\n    };\n  };\n\n  /**\n   * initialize the plugin for the given plot\n   */\n  function init(plot) {\n    /*jshint validthis:true */\n    var that = this;\n    var eventMarkers = new EventMarkers(plot);\n\n    plot.getEvents = function() {\n      return eventMarkers._events;\n    };\n\n    plot.hideEvents = function() {\n      $.each(eventMarkers._events, function(index, event) {\n        event.visual().getObject().hide();\n      });\n    };\n\n    plot.showEvents = function() {\n      plot.hideEvents();\n      $.each(eventMarkers._events, function(index, event) {\n        event.hide();\n      });\n\n      that.eventMarkers.drawEvents();\n    };\n\n    // change events on an existing plot\n    plot.setEvents = function(events) {\n      if (eventMarkers.eventsEnabled) {\n        eventMarkers.setupEvents(events);\n      }\n    };\n\n    plot.hooks.processOptions.push(function(plot, options) {\n      // enable the plugin\n      if (options.events.data != null) {\n        eventMarkers.eventsEnabled = true;\n      }\n    });\n\n    plot.hooks.draw.push(function(plot) {\n      var options = plot.getOptions();\n\n      if (eventMarkers.eventsEnabled) {\n        // check for first run\n        if (eventMarkers.getEvents().length < 1) {\n          eventMarkers.setTypes(options.events.types);\n          eventMarkers.setupEvents(options.events.data);\n        } else {\n          eventMarkers.updateEvents();\n        }\n      }\n\n      eventMarkers.drawEvents();\n    });\n  }\n\n  var defaultOptions = {\n    events: {\n      data: null,\n      types: null,\n      xaxis: 1,\n      position: 'BOTTOM'\n    }\n  };\n\n  $.plot.plugins.push({\n    init: init,\n    options: defaultOptions,\n    name: \"events\",\n    version: \"0.2.5\"\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/panel/graph/jquery.flot.events.js\n// module id = 1485\n// module chunks = 0","define([\n  'jquery',\n  'app/core/core',\n],\nfunction ($, core) {\n  'use strict';\n\n  var appEvents = core.appEvents;\n\n  function GraphTooltip(elem, dashboard, scope, getSeriesFn) {\n    var self = this;\n    var ctrl = scope.ctrl;\n    var panel = ctrl.panel;\n\n    var $tooltip = $('<div class=\"graph-tooltip\">');\n\n    this.destroy = function() {\n      $tooltip.remove();\n    };\n\n    this.findHoverIndexFromDataPoints = function(posX, series, last) {\n      var ps = series.datapoints.pointsize;\n      var initial = last*ps;\n      var len = series.datapoints.points.length;\n      for (var j = initial; j < len; j += ps) {\n        // Special case of a non stepped line, highlight the very last point just before a null point\n        if ((!series.lines.steps && series.datapoints.points[initial] != null && series.datapoints.points[j] == null)\n            //normal case\n            || series.datapoints.points[j] > posX) {\n          return Math.max(j - ps,  0)/ps;\n        }\n      }\n      return j/ps - 1;\n    };\n\n    this.findHoverIndexFromData = function(posX, series) {\n      var lower = 0;\n      var upper = series.data.length - 1;\n      var middle;\n      while (true) {\n        if (lower > upper) {\n          return Math.max(upper, 0);\n        }\n        middle = Math.floor((lower + upper) / 2);\n        if (series.data[middle][0] === posX) {\n          return middle;\n        } else if (series.data[middle][0] < posX) {\n          lower = middle + 1;\n        } else {\n          upper = middle - 1;\n        }\n      }\n    };\n\n    this.renderAndShow = function(absoluteTime, innerHtml, pos, xMode) {\n      if (xMode === 'time') {\n        innerHtml = '<div class=\"graph-tooltip-time\">'+ absoluteTime + '</div>' + innerHtml;\n      }\n      $tooltip.html(innerHtml).place_tt(pos.pageX + 20, pos.pageY);\n    };\n\n    this.getMultiSeriesPlotHoverInfo = function(seriesList, pos) {\n      var value, i, series, hoverIndex, hoverDistance, pointTime, yaxis;\n      // 3 sub-arrays, 1st for hidden series, 2nd for left yaxis, 3rd for right yaxis.\n      var results = [[],[],[]];\n\n      //now we know the current X (j) position for X and Y values\n      var last_value = 0; //needed for stacked values\n\n      var minDistance, minTime;\n\n      for (i = 0; i < seriesList.length; i++) {\n        series = seriesList[i];\n\n        if (!series.data.length || (panel.legend.hideEmpty && series.allIsNull)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        if (!series.data.length || (panel.legend.hideZero && series.allIsZero)) {\n          // Init value so that it does not brake series sorting\n          results[0].push({ hidden: true, value: 0 });\n          continue;\n        }\n\n        hoverIndex = this.findHoverIndexFromData(pos.x, series);\n        hoverDistance = pos.x - series.data[hoverIndex][0];\n        pointTime = series.data[hoverIndex][0];\n\n        // Take the closest point before the cursor, or if it does not exist, the closest after\n        if (! minDistance\n            || (hoverDistance >=0 && (hoverDistance < minDistance || minDistance < 0))\n            || (hoverDistance < 0 && hoverDistance > minDistance)) {\n          minDistance = hoverDistance;\n          minTime = pointTime;\n        }\n\n        if (series.stack) {\n          if (panel.tooltip.value_type === 'individual') {\n            value = series.data[hoverIndex][1];\n          } else if (!series.stack) {\n            value = series.data[hoverIndex][1];\n          } else {\n            last_value += series.data[hoverIndex][1];\n            value = last_value;\n          }\n        } else {\n          value = series.data[hoverIndex][1];\n        }\n\n        // Highlighting multiple Points depending on the plot type\n        if (series.lines.steps || series.stack) {\n          // stacked and steppedLine plots can have series with different length.\n          // Stacked series can increase its length on each new stacked serie if null points found,\n          // to speed the index search we begin always on the last found hoverIndex.\n          hoverIndex = this.findHoverIndexFromDataPoints(pos.x, series, hoverIndex);\n        }\n\n        // Be sure we have a yaxis so that it does not brake series sorting\n        yaxis = 0;\n        if (series.yaxis) {\n          yaxis = series.yaxis.n;\n        }\n\n        results[yaxis].push({\n          value: value,\n          hoverIndex: hoverIndex,\n          color: series.color,\n          label: series.aliasEscaped,\n          time: pointTime,\n          distance: hoverDistance,\n          index: i\n        });\n      }\n\n      // Contat the 3 sub-arrays\n      results = results[0].concat(results[1],results[2]);\n\n      // Time of the point closer to pointer\n      results.time = minTime;\n\n      return results;\n    };\n\n    elem.mouseleave(function () {\n      if (panel.tooltip.shared) {\n        var plot = elem.data().plot;\n        if (plot) {\n          $tooltip.detach();\n          plot.unhighlight();\n        }\n      }\n      appEvents.emit('graph-hover-clear');\n    });\n\n    elem.bind(\"plothover\", function (event, pos, item) {\n      self.show(pos, item);\n\n      // broadcast to other graph panels that we are hovering!\n      pos.panelRelY = (pos.pageY - elem.offset().top) / elem.height();\n      appEvents.emit('graph-hover', {pos: pos, panel: panel});\n    });\n\n    elem.bind(\"plotclick\", function (event, pos, item) {\n      appEvents.emit('graph-click', {pos: pos, panel: panel, item: item});\n    });\n\n    this.clear = function(plot) {\n      $tooltip.detach();\n      plot.clearCrosshair();\n      plot.unhighlight();\n    };\n\n    this.show = function(pos, item) {\n      var plot = elem.data().plot;\n      var plotData = plot.getData();\n      var xAxes = plot.getXAxes();\n      var xMode = xAxes[0].options.mode;\n      var seriesList = getSeriesFn();\n      var allSeriesMode = panel.tooltip.shared;\n      var group, value, absoluteTime, hoverInfo, i, series, seriesHtml, tooltipFormat;\n\n      // if panelRelY is defined another panel wants us to show a tooltip\n      // get pageX from position on x axis and pageY from relative position in original panel\n      if (pos.panelRelY) {\n        var pointOffset = plot.pointOffset({x: pos.x});\n        if (Number.isNaN(pointOffset.left) || pointOffset.left < 0 || pointOffset.left > elem.width()) {\n          self.clear(plot);\n          return;\n        }\n        pos.pageX = elem.offset().left + pointOffset.left;\n        pos.pageY = elem.offset().top + elem.height() * pos.panelRelY;\n        var isVisible = pos.pageY >= $(window).scrollTop() && pos.pageY <= $(window).innerHeight() + $(window).scrollTop();\n        if (!isVisible) {\n          self.clear(plot);\n          return;\n        }\n        plot.setCrosshair(pos);\n        allSeriesMode = true;\n\n        if (dashboard.sharedCrosshairModeOnly()) {\n          // if only crosshair mode we are done\n          return;\n        }\n      }\n\n      if (seriesList.length === 0) {\n        return;\n      }\n\n      if (seriesList[0].hasMsResolution) {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss.SSS';\n      } else {\n        tooltipFormat = 'YYYY-MM-DD HH:mm:ss';\n      }\n\n      if (allSeriesMode) {\n        plot.unhighlight();\n\n        var seriesHoverInfo = self.getMultiSeriesPlotHoverInfo(plotData, pos);\n\n        seriesHtml = '';\n\n        absoluteTime = dashboard.formatDate(seriesHoverInfo.time, tooltipFormat);\n\n        // Dynamically reorder the hovercard for the current time point if the\n        // option is enabled.\n        if (panel.tooltip.sort === 2) {\n          seriesHoverInfo.sort(function(a, b) {\n            return b.value - a.value;\n          });\n        } else if (panel.tooltip.sort === 1) {\n          seriesHoverInfo.sort(function(a, b) {\n            return a.value - b.value;\n          });\n        }\n\n        for (i = 0; i < seriesHoverInfo.length; i++) {\n          hoverInfo = seriesHoverInfo[i];\n\n          if (hoverInfo.hidden) {\n            continue;\n          }\n\n          var highlightClass = '';\n          if (item && hoverInfo.index === item.seriesIndex) {\n            highlightClass = 'graph-tooltip-list-item--highlight';\n          }\n\n          series = seriesList[hoverInfo.index];\n\n          value = series.formatValue(hoverInfo.value);\n\n          seriesHtml += '<div class=\"graph-tooltip-list-item ' + highlightClass + '\"><div class=\"graph-tooltip-series-name\">';\n          seriesHtml += '<i class=\"fa fa-minus\" style=\"color:' + hoverInfo.color +';\"></i> ' + hoverInfo.label + ':</div>';\n          seriesHtml += '<div class=\"graph-tooltip-value\">' + value + '</div></div>';\n          plot.highlight(hoverInfo.index, hoverInfo.hoverIndex);\n        }\n\n        self.renderAndShow(absoluteTime, seriesHtml, pos, xMode);\n      }\n      // single series tooltip\n      else if (item) {\n        series = seriesList[item.seriesIndex];\n        group = '<div class=\"graph-tooltip-list-item\"><div class=\"graph-tooltip-series-name\">';\n        group += '<i class=\"fa fa-minus\" style=\"color:' + item.series.color +';\"></i> ' + series.aliasEscaped + ':</div>';\n\n        if (panel.stack && panel.tooltip.value_type === 'individual') {\n          value = item.datapoint[1] - item.datapoint[2];\n        }\n        else {\n          value = item.datapoint[1];\n        }\n\n        value = series.formatValue(value);\n\n        absoluteTime = dashboard.formatDate(item.datapoint[0], tooltipFormat);\n\n        group += '<div class=\"graph-tooltip-value\">' + value + '</div>';\n\n        self.renderAndShow(absoluteTime, group, pos, xMode);\n      }\n      // no hit\n      else {\n        $tooltip.detach();\n      }\n    };\n  }\n\n  return GraphTooltip;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/panel/graph/graph_tooltip.js\n// module id = 1486\n// module chunks = 0","import 'vendor/flot/jquery.flot';\nimport $ from 'jquery';\nimport _ from 'lodash';\n\nexport class ThresholdManager {\n  plot: any;\n  placeholder: any;\n  height: any;\n  thresholds: any;\n  needsCleanup: boolean;\n  hasSecondYAxis: any;\n\n  constructor(private panelCtrl) {}\n\n  getHandleHtml(handleIndex, model, valueStr) {\n    var stateClass = model.colorMode;\n    if (model.colorMode === 'custom') {\n      stateClass = 'critical';\n    }\n\n    return `\n    <div class=\"alert-handle-wrapper alert-handle-wrapper--T${handleIndex}\">\n      <div class=\"alert-handle-line alert-handle-line--${stateClass}\">\n      </div>\n      <div class=\"alert-handle\" data-handle-index=\"${handleIndex}\">\n        <i class=\"icon-gf icon-gf-${stateClass} alert-state-${stateClass}\"></i>\n        <span class=\"alert-handle-value\">${valueStr}<i class=\"alert-handle-grip\"></i></span>\n      </div>\n    </div>`;\n\n  }\n\n  initDragging(evt) {\n    var handleElem = $(evt.currentTarget).parents(\".alert-handle-wrapper\");\n    var handleIndex = $(evt.currentTarget).data(\"handleIndex\");\n\n    var isMoving = false;\n    var lastY = null;\n    var posTop;\n    var plot = this.plot;\n    var panelCtrl = this.panelCtrl;\n    var model = this.thresholds[handleIndex];\n\n    function dragging(evt) {\n      if (lastY === null) {\n        lastY = evt.clientY;\n      } else {\n        var diff = evt.clientY - lastY;\n        posTop = posTop + diff;\n        lastY = evt.clientY;\n        handleElem.css({top: posTop + diff});\n      }\n    }\n\n    function stopped() {\n      isMoving = false;\n      // calculate graph level\n      var graphValue = plot.c2p({left: 0, top: posTop}).y;\n      graphValue = parseInt(graphValue.toFixed(0));\n      model.value = graphValue;\n\n      handleElem.off(\"mousemove\", dragging);\n      handleElem.off(\"mouseup\", dragging);\n      handleElem.off(\"mouseleave\", dragging);\n\n      // trigger digest and render\n      panelCtrl.$scope.$apply(function() {\n        panelCtrl.render();\n        panelCtrl.events.emit('threshold-changed', {threshold: model, handleIndex: handleIndex});\n      });\n    }\n\n    isMoving = true;\n    lastY = null;\n    posTop = handleElem.position().top;\n\n    handleElem.on(\"mousemove\", dragging);\n    handleElem.on(\"mouseup\", stopped);\n    handleElem.on(\"mouseleave\", stopped);\n  }\n\n  cleanUp() {\n    this.placeholder.find(\".alert-handle-wrapper\").remove();\n    this.needsCleanup = false;\n  }\n\n  renderHandle(handleIndex, defaultHandleTopPos) {\n    var model = this.thresholds[handleIndex];\n    var value = model.value;\n    var valueStr = value;\n    var handleTopPos = 0;\n\n    // handle no value\n    if (!_.isNumber(value)) {\n      valueStr = '';\n      handleTopPos = defaultHandleTopPos;\n    } else {\n      var valueCanvasPos = this.plot.p2c({x: 0, y: value});\n      handleTopPos = Math.round(Math.min(Math.max(valueCanvasPos.top, 0), this.height) - 6);\n    }\n\n    var handleElem = $(this.getHandleHtml(handleIndex, model, valueStr));\n    this.placeholder.append(handleElem);\n\n    handleElem.toggleClass('alert-handle-wrapper--no-value', valueStr === '');\n    handleElem.css({top: handleTopPos});\n  }\n\n  shouldDrawHandles() {\n    return !this.hasSecondYAxis && this.panelCtrl.editingThresholds && this.panelCtrl.panel.thresholds.length > 0;\n  }\n\n  prepare(elem, data) {\n    this.hasSecondYAxis = false;\n    for (var i = 0; i < data.length; i++) {\n      if (data[i].yaxis > 1) {\n        this.hasSecondYAxis = true;\n        break;\n      }\n    }\n\n    if (this.shouldDrawHandles()) {\n      var thresholdMargin = this.panelCtrl.panel.thresholds.length > 1 ? '220px' : '110px';\n      elem.css('margin-right', thresholdMargin);\n    } else if (this.needsCleanup) {\n      elem.css('margin-right', '0');\n    }\n  }\n\n  draw(plot) {\n    this.thresholds = this.panelCtrl.panel.thresholds;\n    this.plot = plot;\n    this.placeholder = plot.getPlaceholder();\n\n    if (this.needsCleanup) {\n      this.cleanUp();\n    }\n\n    if (!this.shouldDrawHandles()) {\n      return;\n    }\n\n    this.height = plot.height();\n\n    if (this.thresholds.length > 0) {\n      this.renderHandle(0, 10);\n    }\n    if (this.thresholds.length > 1) {\n      this.renderHandle(1, this.height-30);\n    }\n\n    this.placeholder.off('mousedown', '.alert-handle');\n    this.placeholder.on('mousedown', '.alert-handle', this.initDragging.bind(this));\n    this.needsCleanup = true;\n  }\n\n  addFlotOptions(options, panel) {\n    if (!panel.thresholds || panel.thresholds.length === 0) {\n      return;\n    }\n\n    var gtLimit = Infinity;\n    var ltLimit = -Infinity;\n    var i, threshold, other;\n\n    for (i = 0; i < panel.thresholds.length; i++) {\n      threshold = panel.thresholds[i];\n      if (!_.isNumber(threshold.value)) {\n        continue;\n      }\n\n      var limit;\n      switch (threshold.op) {\n        case 'gt': {\n          limit = gtLimit;\n          // if next threshold is less then op and greater value, then use that as limit\n          if (panel.thresholds.length > i+1) {\n            other = panel.thresholds[i+1];\n            if (other.value > threshold.value) {\n              limit = other.value;\n              ltLimit = limit;\n            }\n          }\n          break;\n        }\n        case 'lt': {\n          limit = ltLimit;\n          // if next threshold is less then op and greater value, then use that as limit\n          if (panel.thresholds.length > i+1) {\n            other = panel.thresholds[i+1];\n            if (other.value < threshold.value) {\n              limit = other.value;\n              gtLimit = limit;\n            }\n          }\n          break;\n        }\n      }\n\n      var fillColor, lineColor;\n      switch (threshold.colorMode) {\n        case 'critical': {\n          fillColor = 'rgba(234, 112, 112, 0.12)';\n          lineColor = 'rgba(237, 46, 24, 0.60)';\n          break;\n        }\n        case 'warning': {\n          fillColor = 'rgba(235, 138, 14, 0.12)';\n          lineColor = 'rgba(247, 149, 32, 0.60)';\n          break;\n        }\n        case 'ok': {\n          fillColor = 'rgba(11, 237, 50, 0.090)';\n          lineColor = 'rgba(6,163,69, 0.60)';\n          break;\n        }\n        case 'custom': {\n          fillColor = threshold.fillColor;\n          lineColor = threshold.lineColor;\n          break;\n        }\n      }\n\n      // fill\n      if (threshold.fill) {\n        options.grid.markings.push({yaxis: {from: threshold.value, to: limit}, color: fillColor});\n      }\n      if (threshold.line) {\n        options.grid.markings.push({yaxis: {from: threshold.value, to: threshold.value}, color: lineColor});\n      }\n    }\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/threshold_manager.ts","define([\n  'angular',\n  'lodash',\n  'jquery',\n],\nfunction (angular, _, $) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  module.directive('graphLegend', function(popoverSrv, $timeout) {\n\n    return {\n      link: function(scope, elem) {\n        var $container = $('<section class=\"graph-legend\"></section>');\n        var firstRender = true;\n        var ctrl = scope.ctrl;\n        var panel = ctrl.panel;\n        var data;\n        var seriesList;\n        var i;\n\n        ctrl.events.on('render', function() {\n          data = ctrl.seriesList;\n          if (data) {\n            render();\n          }\n        });\n\n        function getSeriesIndexForElement(el) {\n          return el.parents('[data-series-index]').data('series-index');\n        }\n\n        function openColorSelector(e) {\n          // if we clicked inside poup container ignore click\n          if ($(e.target).parents('.popover').length) {\n            return;\n          }\n\n          var el = $(e.currentTarget).find('.fa-minus');\n          var index = getSeriesIndexForElement(el);\n          var series = seriesList[index];\n\n          $timeout(function() {\n            popoverSrv.show({\n              element: el[0],\n              position: 'bottom center',\n              template: '<series-color-picker series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\n                '</series-color-picker>',\n              openOn: 'hover',\n              model: {\n                series: series,\n                toggleAxis: function() {\n                  ctrl.toggleAxis(series);\n                },\n                colorSelected: function(color) {\n                  ctrl.changeSeriesColor(series, color);\n                }\n              },\n            });\n          });\n        }\n\n        function toggleSeries(e) {\n          var el = $(e.currentTarget);\n          var index = getSeriesIndexForElement(el);\n          var seriesInfo = seriesList[index];\n          var scrollPosition = $($container.children('tbody')).scrollTop();\n          ctrl.toggleSeries(seriesInfo, e);\n          $($container.children('tbody')).scrollTop(scrollPosition);\n        }\n\n        function sortLegend(e) {\n          var el = $(e.currentTarget);\n          var stat = el.data('stat');\n\n          if (stat !== panel.legend.sort) { panel.legend.sortDesc = null; }\n\n          // if already sort ascending, disable sorting\n          if (panel.legend.sortDesc === false) {\n            panel.legend.sort = null;\n            panel.legend.sortDesc = null;\n            ctrl.render();\n            return;\n          }\n\n          panel.legend.sortDesc = !panel.legend.sortDesc;\n          panel.legend.sort = stat;\n          ctrl.render();\n        }\n\n        function getTableHeaderHtml(statName) {\n          if (!panel.legend[statName]) { return \"\"; }\n          var html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + statName;\n\n          if (panel.legend.sort === statName) {\n            var cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up' ;\n            html += ' <span class=\"' + cssClass + '\"></span>';\n          }\n\n          return html + '</th>';\n        }\n\n        function render() {\n          if (!ctrl.panel.legend.show) {\n            elem.empty();\n            firstRender = true;\n            return;\n          }\n\n          if (firstRender) {\n            elem.append($container);\n            $container.on('click', '.graph-legend-icon', openColorSelector);\n            $container.on('click', '.graph-legend-alias', toggleSeries);\n            $container.on('click', 'th', sortLegend);\n            firstRender = false;\n          }\n\n          seriesList = data;\n\n          $container.empty();\n\n          // Set min-width if side style and there is a value, otherwise remove the CSS propery\n          var width = panel.legend.rightSide && panel.legend.sideWidth ? panel.legend.sideWidth + \"px\" : \"\";\n          $container.css(\"min-width\", width);\n\n          $container.toggleClass('graph-legend-table', panel.legend.alignAsTable === true);\n\n          var tableHeaderElem;\n          if (panel.legend.alignAsTable) {\n            var header = '<tr>';\n            header += '<th colspan=\"2\" style=\"text-align:left\"></th>';\n            if (panel.legend.values) {\n              header += getTableHeaderHtml('min');\n              header += getTableHeaderHtml('max');\n              header += getTableHeaderHtml('avg');\n              header += getTableHeaderHtml('current');\n              header += getTableHeaderHtml('total');\n            }\n            header += '</tr>';\n            tableHeaderElem = $(header);\n          }\n\n          if (panel.legend.sort) {\n            seriesList = _.sortBy(seriesList, function(series) {\n              return series.stats[panel.legend.sort];\n            });\n            if (panel.legend.sortDesc) {\n              seriesList = seriesList.reverse();\n            }\n          }\n\n          var seriesShown = 0;\n          var seriesElements = [];\n\n          for (i = 0; i < seriesList.length; i++) {\n            var series = seriesList[i];\n\n            if (series.hideFromLegend(panel.legend)) {\n              continue;\n            }\n\n            var html = '<div class=\"graph-legend-series';\n\n            if (series.yaxis === 2) { html += ' graph-legend-series--right-y'; }\n            if (ctrl.hiddenSeries[series.alias]) { html += ' graph-legend-series-hidden'; }\n            html += '\" data-series-index=\"' + i + '\">';\n            html += '<div class=\"graph-legend-icon\">';\n            html += '<i class=\"fa fa-minus pointer\" style=\"color:' + series.color + '\"></i>';\n            html += '</div>';\n\n            html += '<a class=\"graph-legend-alias pointer\" title=\"' + series.aliasEscaped + '\">' + series.aliasEscaped + '</a>';\n\n            if (panel.legend.values) {\n              var avg = series.formatValue(series.stats.avg);\n              var current = series.formatValue(series.stats.current);\n              var min = series.formatValue(series.stats.min);\n              var max = series.formatValue(series.stats.max);\n              var total = series.formatValue(series.stats.total);\n\n              if (panel.legend.min) { html += '<div class=\"graph-legend-value min\">' + min + '</div>'; }\n              if (panel.legend.max) { html += '<div class=\"graph-legend-value max\">' + max + '</div>'; }\n              if (panel.legend.avg) { html += '<div class=\"graph-legend-value avg\">' + avg + '</div>'; }\n              if (panel.legend.current) { html += '<div class=\"graph-legend-value current\">' + current + '</div>'; }\n              if (panel.legend.total) { html += '<div class=\"graph-legend-value total\">' + total + '</div>'; }\n            }\n\n            html += '</div>';\n            seriesElements.push($(html));\n\n            seriesShown++;\n          }\n\n          if (panel.legend.alignAsTable) {\n            var maxHeight = ctrl.height;\n\n            if (!panel.legend.rightSide) {\n              maxHeight = maxHeight/2;\n            }\n\n            var topPadding = 6;\n            var tbodyElem = $('<tbody></tbody>');\n            tbodyElem.css(\"max-height\", maxHeight - topPadding);\n            tbodyElem.append(tableHeaderElem);\n            tbodyElem.append(seriesElements);\n            $container.append(tbodyElem);\n          } else {\n            $container.append(seriesElements);\n          }\n        }\n      }\n    };\n  });\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/panel/graph/legend.js\n// module id = 1489\n// module chunks = 0","import _ from 'lodash';\nimport TimeSeries from 'app/core/time_series2';\n\n/**\n * Convert series into array of series values.\n * @param data Array of series\n */\nexport function getSeriesValues(dataList: TimeSeries[]): number[] {\n  const VALUE_INDEX = 0;\n  let values = [];\n\n  // Count histogam stats\n  for (let i = 0; i < dataList.length; i++) {\n    let series = dataList[i];\n    let datapoints = series.datapoints;\n    for (let j = 0; j < datapoints.length; j++) {\n      if (datapoints[j][VALUE_INDEX] !== null) {\n        values.push(datapoints[j][VALUE_INDEX]);\n      }\n    }\n  }\n\n  return values;\n}\n\n/**\n * Convert array of values into timeseries-like histogram:\n * [[val_1, count_1], [val_2, count_2], ..., [val_n, count_n]]\n * @param values\n * @param bucketSize\n */\nexport function convertValuesToHistogram(values: number[], bucketSize: number): any[] {\n  let histogram = {};\n\n  for (let i = 0; i < values.length; i++) {\n    let bound = getBucketBound(values[i], bucketSize);\n    if (histogram[bound]) {\n      histogram[bound] = histogram[bound] + 1;\n    } else {\n      histogram[bound] = 1;\n    }\n  }\n\n  let histogam_series = _.map(histogram, (count, bound) => {\n    return [Number(bound), count];\n  });\n\n  // Sort by Y axis values\n  return _.sortBy(histogam_series, point => point[0]);\n}\n\nfunction getBucketBound(value: number, bucketSize: number): number {\n  return Math.floor(value / bucketSize) * bucketSize;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/histogram.ts","define([\n  'angular',\n  'jquery',\n  'lodash',\n], function(angular, jquery, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SeriesOverridesCtrl', function($scope, $element, popoverSrv) {\n    $scope.overrideMenu = [];\n    $scope.currentOverrides = [];\n    $scope.override = $scope.override || {};\n\n    $scope.addOverrideOption = function(name, propertyName, values) {\n      var option = {};\n      option.text = name;\n      option.propertyName = propertyName;\n      option.index = $scope.overrideMenu.length;\n      option.values = values;\n\n      option.submenu = _.map(values, function(value) {\n        return { text: String(value), value: value };\n      });\n\n      $scope.overrideMenu.push(option);\n    };\n\n    $scope.setOverride = function(item, subItem) {\n      // handle color overrides\n      if (item.propertyName === 'color') {\n        $scope.openColorSelector($scope.override['color']);\n        return;\n      }\n\n      $scope.override[item.propertyName] = subItem.value;\n\n      // automatically disable lines for this series and the fill bellow to series\n      // can be removed by the user if they still want lines\n      if (item.propertyName === 'fillBelowTo') {\n        $scope.override['lines'] = false;\n        $scope.ctrl.addSeriesOverride({alias: subItem.value, lines: false });\n      }\n\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.colorSelected = function(color) {\n      $scope.override['color'] = color;\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.render();\n    };\n\n    $scope.openColorSelector = function(color) {\n      var fakeSeries = {color: color};\n      popoverSrv.show({\n        element: $element.find(\".dropdown\")[0],\n        position: 'top center',\n        openOn: 'click',\n        template: '<series-color-picker series=\"series\" onColorChange=\"colorSelected\" />',\n        model: {\n          autoClose: true,\n          colorSelected: $scope.colorSelected,\n          series: fakeSeries\n        },\n        onClose: function() {\n          $scope.ctrl.render();\n        }\n      });\n    };\n\n    $scope.removeOverride = function(option) {\n      delete $scope.override[option.propertyName];\n      $scope.updateCurrentOverrides();\n      $scope.ctrl.refresh();\n    };\n\n    $scope.getSeriesNames = function() {\n      return _.map($scope.ctrl.seriesList, function(series) {\n        return series.alias;\n      });\n    };\n\n    $scope.updateCurrentOverrides = function() {\n      $scope.currentOverrides = [];\n      _.each($scope.overrideMenu, function(option) {\n        var value = $scope.override[option.propertyName];\n        if (_.isUndefined(value)) { return; }\n        $scope.currentOverrides.push({\n          name: option.text,\n          propertyName: option.propertyName,\n          value: String(value)\n        });\n      });\n    };\n\n    $scope.addOverrideOption('Bars', 'bars', [true, false]);\n    $scope.addOverrideOption('Lines', 'lines', [true, false]);\n    $scope.addOverrideOption('Line fill', 'fill', [0,1,2,3,4,5,6,7,8,9,10]);\n    $scope.addOverrideOption('Line width', 'linewidth', [0,1,2,3,4,5,6,7,8,9,10]);\n    $scope.addOverrideOption('Null point mode', 'nullPointMode', ['connected', 'null', 'null as zero']);\n    $scope.addOverrideOption('Fill below to', 'fillBelowTo', $scope.getSeriesNames());\n    $scope.addOverrideOption('Staircase line', 'steppedLine', [true, false]);\n    $scope.addOverrideOption('Dashes', 'dashes', [true, false]);\n    $scope.addOverrideOption('Dash Length', 'dashLength', [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]);\n    $scope.addOverrideOption('Dash Space', 'spaceLength', [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]);\n    $scope.addOverrideOption('Points', 'points', [true, false]);\n    $scope.addOverrideOption('Points Radius', 'pointradius', [1,2,3,4,5]);\n    $scope.addOverrideOption('Stack', 'stack', [true, false, 'A', 'B', 'C', 'D']);\n    $scope.addOverrideOption('Color', 'color', ['change']);\n    $scope.addOverrideOption('Y-axis', 'yaxis', [1, 2]);\n    $scope.addOverrideOption('Z-index', 'zindex', [-3,-2,-1,0,1,2,3]);\n    $scope.addOverrideOption('Transform', 'transform', ['negative-Y']);\n    $scope.addOverrideOption('Legend', 'legend', [true, false]);\n    $scope.updateCurrentOverrides();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/plugins/panel/graph/series_overrides_ctrl.js\n// module id = 1490\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport coreModule from 'app/core/core_module';\n\nexport class ThresholdFormCtrl {\n  panelCtrl: any;\n  panel: any;\n  disabled: boolean;\n\n  /** @ngInject */\n  constructor($scope) {\n    this.panel = this.panelCtrl.panel;\n\n    if (this.panel.alert) {\n      this.disabled = true;\n    }\n\n    var unbindDestroy = $scope.$on(\"$destroy\", () => {\n      this.panelCtrl.editingThresholds = false;\n      this.panelCtrl.render();\n      unbindDestroy();\n    });\n\n    this.panelCtrl.editingThresholds = true;\n  }\n\n  addThreshold() {\n    this.panel.thresholds.push({value: undefined, colorMode: \"critical\", op: 'gt', fill: true, line: true});\n    this.panelCtrl.render();\n  }\n\n  removeThreshold(index) {\n    this.panel.thresholds.splice(index, 1);\n    this.panelCtrl.render();\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  onFillColorChange(index) {\n    return (newColor) => {\n      this.panel.thresholds[index].fillColor = newColor;\n      this.render();\n    };\n  }\n\n  onLineColorChange(index) {\n    return (newColor) => {\n      this.panel.thresholds[index].lineColor = newColor;\n      this.render();\n    };\n  }\n}\n\nvar template = `\n<div class=\"gf-form-group\">\n  <h5>Thresholds</h5>\n  <p class=\"muted\" ng-show=\"ctrl.disabled\">\n    Visual thresholds options <strong>disabled.</strong>\n    Visit the Alert tab update your thresholds. <br>\n    To re-enable thresholds, the alert rule must be deleted from this panel.\n  </p>\n  <div ng-class=\"{'thresholds-form-disabled': ctrl.disabled}\">\n    <div class=\"gf-form-inline\" ng-repeat=\"threshold in ctrl.panel.thresholds\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">T{{$index+1}}</label>\n      </div>\n\n      <div class=\"gf-form\">\n        <div class=\"gf-form-select-wrapper\">\n          <select class=\"gf-form-input\" ng-model=\"threshold.op\"\n                  ng-options=\"f for f in ['gt', 'lt']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></select>\n        </div>\n        <input type=\"number\" ng-model=\"threshold.value\" class=\"gf-form-input width-8\"\n               ng-change=\"ctrl.render()\" placeholder=\"value\" ng-disabled=\"ctrl.disabled\">\n      </div>\n\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">Color</label>\n        <div class=\"gf-form-select-wrapper\">\n          <select class=\"gf-form-input\" ng-model=\"threshold.colorMode\"\n                  ng-options=\"f for f in ['custom', 'critical', 'warning', 'ok']\" ng-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\">\n          </select>\n        </div>\n      </div>\n\n      <gf-form-switch class=\"gf-form\" label=\"Fill\" checked=\"threshold.fill\"\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\n\n      <div class=\"gf-form\" ng-if=\"threshold.fill && threshold.colorMode === 'custom'\">\n        <label class=\"gf-form-label\">Fill color</label>\n        <span class=\"gf-form-label\">\n          <color-picker color=\"threshold.fillColor\" onChange=\"ctrl.onFillColorChange($index)\"></color-picker>\n        </span>\n      </div>\n\n      <gf-form-switch class=\"gf-form\" label=\"Line\" checked=\"threshold.line\"\n                      on-change=\"ctrl.render()\" ng-disabled=\"ctrl.disabled\"></gf-form-switch>\n\n      <div class=\"gf-form\" ng-if=\"threshold.line && threshold.colorMode === 'custom'\">\n        <label class=\"gf-form-label\">Line color</label>\n        <span class=\"gf-form-label\">\n          <color-picker color=\"threshold.lineColor\" onChange=\"ctrl.onLineColorChange($index)\"></color-picker>\n        </span>\n      </div>\n\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label\">\n          <a class=\"pointer\" ng-click=\"ctrl.removeThreshold($index)\" ng-disabled=\"ctrl.disabled\">\n            <i class=\"fa fa-trash\"></i>\n          </a>\n        </label>\n      </div>\n    </div>\n\n    <div class=\"gf-form-button-row\">\n      <button class=\"btn btn-inverse\" ng-click=\"ctrl.addThreshold()\" ng-disabled=\"ctrl.disabled\">\n        <i class=\"fa fa-plus\"></i>&nbsp;Add Threshold\n      </button>\n    </div>\n  </div>\n</div>\n`;\n\ncoreModule.directive('graphThresholdForm', function() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: ThresholdFormCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      panelCtrl: \"=\"\n    }\n  };\n});\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/thresholds_form.ts","var template = `\n<div class=\"graph-wrapper\" ng-class=\"{'graph-legend-rightside': ctrl.panel.legend.rightSide}\">\n  <div class=\"graph-canvas-wrapper\">\n\n    <div class=\"datapoints-warning\" ng-if=\"ctrl.dataWarning\">\n      <span class=\"small\" bs-tooltip=\"ctrl.dataWarning.tip\">{{ctrl.dataWarning.title}}</span>\n    </div>\n\n    <div grafana-graph class=\"histogram-chart\" ng-dblclick=\"ctrl.zoomOut()\">\n    </div>\n\n  </div>\n\n  <div class=\"graph-legend-wrapper\" graph-legend></div>\n  </div>\n\n<div class=\"clearfix\"></div>\n`;\n\nexport default template;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/template.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport kbn from 'app/core/utils/kbn';\n\nexport class AxesEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n  unitFormats: any;\n  logScales: any;\n  xAxisModes: any;\n  xAxisStatOptions: any;\n  xNameSegment: any;\n\n  /** @ngInject **/\n  constructor(private $scope, private $q) {\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.$scope.ctrl = this;\n\n    this.unitFormats = kbn.getUnitFormats();\n\n    this.logScales = {\n      'linear': 1,\n      'log (base 2)': 2,\n      'log (base 10)': 10,\n      'log (base 32)': 32,\n      'log (base 1024)': 1024\n    };\n\n    this.xAxisModes = {\n      'Time': 'time',\n      'Series': 'series',\n      'Histogram': 'histogram'\n      // 'Data field': 'field',\n    };\n\n    this.xAxisStatOptions =  [\n      {text: 'Avg', value: 'avg'},\n      {text: 'Min', value: 'min'},\n      {text: 'Max', value: 'max'},\n      {text: 'Total', value: 'total'},\n      {text: 'Count', value: 'count'},\n      {text: 'Current', value: 'current'},\n    ];\n\n    if (this.panel.xaxis.mode === 'custom') {\n      if (!this.panel.xaxis.name) {\n        this.panel.xaxis.name = 'specify field';\n      }\n    }\n  }\n\n  setUnitFormat(axis, subItem) {\n    axis.format = subItem.value;\n    this.panelCtrl.render();\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  xAxisModeChanged()  {\n    this.panelCtrl.processor.setPanelDefaultsForNewXAxisMode();\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\n  }\n\n  xAxisValueChanged() {\n    this.panelCtrl.onDataReceived(this.panelCtrl.dataList);\n  }\n\n  getDataFieldNames(onlyNumbers) {\n    var props = this.panelCtrl.processor.getDataFieldNames(this.panelCtrl.dataList, onlyNumbers);\n    var items = props.map(prop => {\n      return {text: prop, value: prop};\n    });\n\n    return this.$q.when(items);\n  }\n\n}\n\n/** @ngInject **/\nexport function axesEditorComponent() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/graph/axes_editor.html',\n    controller: AxesEditorCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/graph/axes_editor.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {PanelCtrl} from 'app/plugins/sdk';\nimport {impressions} from 'app/features/dashboard/impression_store';\n\nclass DashListCtrl extends PanelCtrl {\n  static templateUrl = 'module.html';\n\n  groups: any[];\n  modes: any[];\n\n  panelDefaults = {\n    query: '',\n    limit: 10,\n    tags: [],\n    recent: false,\n    search: false,\n    starred: true,\n    headings: true,\n  };\n\n  /** @ngInject */\n  constructor($scope, $injector, private backendSrv, private dashboardSrv) {\n    super($scope, $injector);\n    _.defaults(this.panel, this.panelDefaults);\n\n    if (this.panel.tag) {\n      this.panel.tags = [this.panel.tag];\n      delete this.panel.tag;\n    }\n\n    this.events.on('refresh', this.onRefresh.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n\n    this.groups = [\n      {list: [], show: false, header: \"Starred dashboards\",},\n      {list: [], show: false, header: \"Recently viewed dashboards\"},\n      {list: [], show: false, header: \"Search\"},\n    ];\n\n    // update capability\n    if (this.panel.mode) {\n      if (this.panel.mode === 'starred') {\n        this.panel.starred = true;\n        this.panel.headings = false;\n      }\n      if (this.panel.mode === 'recently viewed') {\n        this.panel.recent = true;\n        this.panel.starred = false;\n        this.panel.headings = false;\n      }\n      if (this.panel.mode === 'search') {\n        this.panel.search = true;\n        this.panel.starred = false;\n        this.panel.headings = false;\n      }\n      delete this.panel.mode;\n    }\n  }\n\n  onInitEditMode() {\n    this.editorTabIndex = 1;\n    this.modes = ['starred', 'search', 'recently viewed'];\n    this.addEditorTab('Options', 'public/app/plugins/panel/dashlist/editor.html');\n  }\n\n  onRefresh() {\n    var promises = [];\n\n    promises.push(this.getRecentDashboards());\n    promises.push(this.getStarred());\n    promises.push(this.getSearch());\n\n    return Promise.all(promises)\n      .then(this.renderingCompleted.bind(this));\n  }\n\n  getSearch() {\n    this.groups[2].show = this.panel.search;\n    if (!this.panel.search) {\n      return Promise.resolve();\n    }\n\n    var params = {\n      limit: this.panel.limit,\n      query: this.panel.query,\n      tag: this.panel.tags,\n    };\n\n    return this.backendSrv.search(params).then(result => {\n      this.groups[2].list = result;\n    });\n  }\n\n  getStarred() {\n    this.groups[0].show = this.panel.starred;\n    if (!this.panel.starred) {\n      return Promise.resolve();\n    }\n\n    var params = {limit: this.panel.limit, starred: \"true\"};\n    return this.backendSrv.search(params).then(result => {\n      this.groups[0].list = result;\n    });\n  }\n\n  starDashboard(dash, evt) {\n    this.dashboardSrv.starDashboard(dash.id, dash.isStarred).then(newState => {\n      dash.isStarred = newState;\n    });\n\n    if (evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n    }\n  }\n\n  getRecentDashboards() {\n    this.groups[1].show = this.panel.recent;\n    if (!this.panel.recent) {\n      return Promise.resolve();\n    }\n\n    var dashIds = _.take(impressions.getDashboardOpened(), this.panel.limit);\n    return this.backendSrv.search({dashboardIds: dashIds, limit: this.panel.limit}).then(result => {\n      this.groups[1].list = dashIds.map(orderId => {\n        return _.find(result, dashboard => {\n          return dashboard.id === orderId;\n        });\n      }).filter(el => {\n        return el !== undefined;\n      });\n    });\n  }\n}\n\nexport {DashListCtrl, DashListCtrl as PanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/dashlist/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport {PanelCtrl} from '../../../features/panel/panel_ctrl';\n\nclass PluginListCtrl extends PanelCtrl {\n  static templateUrl = 'module.html';\n\n  pluginList: any[];\n  viewModel: any;\n\n  // Set and populate defaults\n  panelDefaults = {};\n\n  /** @ngInject */\n  constructor($scope, $injector, private backendSrv, private $location) {\n    super($scope, $injector);\n    _.defaults(this.panel, this.panelDefaults);\n\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.pluginList = [];\n    this.viewModel = [\n      {header: \"Installed Apps\", list: [], type: 'app'},\n      {header: \"Installed Panels\", list: [], type: 'panel'},\n      {header: \"Installed Datasources\", list: [], type: 'datasource'},\n    ];\n\n    this.update();\n  }\n\n  onInitEditMode() {\n    this.editorTabIndex = 1;\n    this.addEditorTab('Options', 'public/app/plugins/panel/pluginlist/editor.html');\n  }\n\n  gotoPlugin(plugin, evt) {\n    if (evt) { evt.stopPropagation(); }\n    this.$location.url(`plugins/${plugin.id}/edit`);\n  }\n\n  updateAvailable(plugin, $event) {\n    $event.stopPropagation();\n    $event.preventDefault();\n\n    var modalScope = this.$scope.$new(true);\n    modalScope.plugin = plugin;\n\n    this.publishAppEvent('show-modal', {\n      src: 'public/app/features/plugins/partials/update_instructions.html',\n      scope: modalScope\n    });\n  }\n\n  update() {\n    this.backendSrv.get('api/plugins', {embedded: 0, core: 0}).then(plugins => {\n      this.pluginList = plugins;\n      this.viewModel[0].list = _.filter(plugins, {type: 'app'});\n      this.viewModel[1].list = _.filter(plugins, {type: 'panel'});\n      this.viewModel[2].list = _.filter(plugins, {type: 'datasource'});\n\n      for (let plugin of this.pluginList) {\n        if (plugin.hasUpdate) {\n          plugin.state = 'has-update';\n        } else if (!plugin.enabled) {\n          plugin.state = 'not-enabled';\n        }\n      }\n    });\n  }\n}\n\nexport {PluginListCtrl, PluginListCtrl as PanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/pluginlist/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport alertDef from '../../../features/alerting/alert_def';\nimport { PanelCtrl } from 'app/plugins/sdk';\n\nimport * as dateMath from 'app/core/utils/datemath';\n\nclass AlertListPanel extends PanelCtrl {\n  static templateUrl = 'module.html';\n\n  showOptions = [\n    { text: 'Current state', value: 'current' },\n    { text: 'Recent state changes', value: 'changes' }\n  ];\n\n  sortOrderOptions = [\n    { text: 'Alphabetical (asc)', value: 1 },\n    { text: 'Alphabetical (desc)', value: 2 },\n    { text: 'Importance', value: 3 },\n  ];\n\n  stateFilter: any = {};\n  currentAlerts: any = [];\n  alertHistory: any = [];\n  noAlertsMessage: string;\n  // Set and populate defaults\n  panelDefaults = {\n    show: 'current',\n    limit: 10,\n    stateFilter: [],\n    onlyAlertsOnDashboard: false,\n    sortOrder: 1\n  };\n\n  /** @ngInject */\n  constructor($scope, $injector, private backendSrv) {\n    super($scope, $injector);\n    _.defaults(this.panel, this.panelDefaults);\n\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('refresh', this.onRefresh.bind(this));\n\n    for (let key in this.panel.stateFilter) {\n      this.stateFilter[this.panel.stateFilter[key]] = true;\n    }\n  }\n\n  sortResult(alerts) {\n    if (this.panel.sortOrder === 3) {\n      return _.sortBy(alerts, a => { return alertDef.alertStateSortScore[a.state]; });\n    }\n\n    var result = _.sortBy(alerts, a => { return a.name.toLowerCase(); });\n    if (this.panel.sortOrder === 2) {\n      result.reverse();\n    }\n\n    return result;\n  }\n\n  updateStateFilter() {\n    var result = [];\n\n    for (let key in this.stateFilter) {\n      if (this.stateFilter[key]) {\n        result.push(key);\n      }\n    }\n\n    this.panel.stateFilter = result;\n    this.onRefresh();\n  }\n\n  onRefresh() {\n    if (this.panel.show === 'current') {\n      this.getCurrentAlertState();\n    }\n\n    if (this.panel.show === 'changes') {\n      this.getStateChanges();\n    }\n  }\n\n  getStateChanges() {\n    var params: any = {\n      limit: this.panel.limit,\n      type: 'alert',\n      newState: this.panel.stateFilter,\n    };\n\n    if (this.panel.onlyAlertsOnDashboard) {\n      params.dashboardId = this.dashboard.id;\n    }\n\n    params.from = dateMath.parse(this.dashboard.time.from).unix() * 1000;\n    params.to = dateMath.parse(this.dashboard.time.to).unix() * 1000;\n\n    this.backendSrv.get(`/api/annotations`, params)\n      .then(res => {\n        this.alertHistory = _.map(res, al => {\n          al.time = this.dashboard.formatDate(al.time, 'MMM D, YYYY HH:mm:ss');\n          al.stateModel = alertDef.getStateDisplayModel(al.newState);\n          al.info = alertDef.getAlertAnnotationInfo(al);\n          return al;\n        });\n        this.noAlertsMessage = this.alertHistory.length === 0 ? 'No alerts in current time range' : '';\n      });\n  }\n\n  getCurrentAlertState() {\n    var params: any = {\n      state: this.panel.stateFilter\n    };\n\n    if (this.panel.onlyAlertsOnDashboard) {\n      params.dashboardId = this.dashboard.id;\n    }\n\n    this.backendSrv.get(`/api/alerts`, params)\n      .then(res => {\n        this.currentAlerts = this.sortResult(_.map(res, al => {\n          al.stateModel = alertDef.getStateDisplayModel(al.state);\n          al.newStateDateAgo = moment(al.newStateDate).locale('en').fromNow(true);\n          return al;\n        }));\n\n        this.noAlertsMessage = this.currentAlerts.length === 0 ? 'No alerts' : '';\n      });\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', 'public/app/plugins/panel/alertlist/editor.html');\n  }\n}\n\nexport {\n  AlertListPanel,\n  AlertListPanel as PanelCtrl\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/alertlist/module.ts","import './color_legend';\nimport {HeatmapCtrl} from './heatmap_ctrl';\n\nexport {\n  HeatmapCtrl as PanelCtrl\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/module.ts","import angular from 'angular';\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport * as d3 from 'd3';\nimport {contextSrv} from 'app/core/core';\nimport {tickStep} from 'app/core/utils/ticks';\nimport {getColorScale, getOpacityScale} from './color_scale';\n\nlet module = angular.module('grafana.directives');\n\n/**\n * Color legend for heatmap editor.\n */\nmodule.directive('colorLegend', function() {\n  return {\n    restrict: 'E',\n    template: '<div class=\"heatmap-color-legend\"><svg width=\"16.8rem\" height=\"24px\"></svg></div>',\n    link: function(scope, elem, attrs) {\n      let ctrl = scope.ctrl;\n      let panel = scope.ctrl.panel;\n\n      render();\n\n      ctrl.events.on('render', function() {\n        render();\n      });\n\n      function render() {\n        let legendElem = $(elem).find('svg');\n        let legendWidth = Math.floor(legendElem.outerWidth());\n\n        if (panel.color.mode === 'spectrum') {\n          let colorScheme = _.find(ctrl.colorSchemes, {value: panel.color.colorScheme});\n          let colorScale = getColorScale(colorScheme, contextSrv.user.lightTheme, legendWidth);\n          drawSimpleColorLegend(elem, colorScale);\n        } else if (panel.color.mode === 'opacity') {\n          let colorOptions = panel.color;\n          drawSimpleOpacityLegend(elem, colorOptions);\n        }\n      }\n    }\n  };\n});\n\n/**\n * Heatmap legend with scale values.\n */\nmodule.directive('heatmapLegend', function() {\n  return {\n    restrict: 'E',\n    template: '<div class=\"heatmap-color-legend\"><svg width=\"100px\" height=\"14px\"></svg></div>',\n    link: function(scope, elem, attrs) {\n      let ctrl = scope.ctrl;\n      let panel = scope.ctrl.panel;\n\n      render();\n      ctrl.events.on('render', function() {\n        render();\n      });\n\n      function render() {\n        clearLegend(elem);\n        if (!_.isEmpty(ctrl.data) && !_.isEmpty(ctrl.data.cards)) {\n          let rangeFrom = 0;\n          let rangeTo = ctrl.data.cardStats.max;\n          let maxValue = panel.color.max || rangeTo;\n          let minValue = panel.color.min || 0;\n\n          if (panel.color.mode === 'spectrum') {\n            let colorScheme = _.find(ctrl.colorSchemes, {value: panel.color.colorScheme});\n            drawColorLegend(elem, colorScheme, rangeFrom, rangeTo, maxValue, minValue);\n          } else if (panel.color.mode === 'opacity') {\n            let colorOptions = panel.color;\n            drawOpacityLegend(elem, colorOptions, rangeFrom, rangeTo, maxValue, minValue);\n          }\n        }\n      }\n    }\n  };\n});\n\nfunction drawColorLegend(elem, colorScheme, rangeFrom, rangeTo, maxValue, minValue) {\n  let legendElem = $(elem).find('svg');\n  let legend = d3.select(legendElem.get(0));\n  clearLegend(elem);\n\n  let legendWidth = Math.floor(legendElem.outerWidth()) - 30;\n  let legendHeight = legendElem.attr(\"height\");\n\n  let rangeStep = 1;\n  if (rangeTo - rangeFrom > legendWidth) {\n    rangeStep = Math.floor((rangeTo - rangeFrom) / legendWidth);\n  }\n  let widthFactor = legendWidth / (rangeTo - rangeFrom);\n  let valuesRange = d3.range(rangeFrom, rangeTo, rangeStep);\n\n  let colorScale = getColorScale(colorScheme, contextSrv.user.lightTheme, maxValue, minValue);\n  legend.selectAll(\".heatmap-color-legend-rect\")\n    .data(valuesRange)\n    .enter().append(\"rect\")\n    .attr(\"x\", d => d * widthFactor)\n    .attr(\"y\", 0)\n    .attr(\"width\", rangeStep * widthFactor + 1) // Overlap rectangles to prevent gaps\n    .attr(\"height\", legendHeight)\n    .attr(\"stroke-width\", 0)\n    .attr(\"fill\", d => colorScale(d));\n\n  drawLegendValues(elem, colorScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth);\n}\n\nfunction drawOpacityLegend(elem, options, rangeFrom, rangeTo, maxValue, minValue) {\n  let legendElem = $(elem).find('svg');\n  let legend = d3.select(legendElem.get(0));\n  clearLegend(elem);\n\n  let legendWidth = Math.floor(legendElem.outerWidth()) - 30;\n  let legendHeight = legendElem.attr(\"height\");\n\n  let rangeStep = 1;\n  if (rangeTo - rangeFrom > legendWidth) {\n    rangeStep = Math.floor((rangeTo - rangeFrom) / legendWidth);\n  }\n  let widthFactor = legendWidth / (rangeTo - rangeFrom);\n  let valuesRange = d3.range(rangeFrom, rangeTo, rangeStep);\n\n  let opacityScale = getOpacityScale(options, maxValue, minValue);\n  legend.selectAll(\".heatmap-opacity-legend-rect\")\n    .data(valuesRange)\n    .enter().append(\"rect\")\n    .attr(\"x\", d => d * widthFactor)\n    .attr(\"y\", 0)\n    .attr(\"width\", rangeStep * widthFactor)\n    .attr(\"height\", legendHeight)\n    .attr(\"stroke-width\", 0)\n    .attr(\"fill\", options.cardColor)\n    .style(\"opacity\", d => opacityScale(d));\n\n  drawLegendValues(elem, opacityScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth);\n}\n\nfunction drawLegendValues(elem, colorScale, rangeFrom, rangeTo, maxValue, minValue, legendWidth) {\n  let legendElem = $(elem).find('svg');\n  let legend = d3.select(legendElem.get(0));\n\n  if (legendWidth <= 0 || legendElem.get(0).childNodes.length === 0) {\n    return;\n  }\n\n  let legendValueScale = d3.scaleLinear()\n    .domain([0, rangeTo])\n    .range([0, legendWidth]);\n\n  let ticks = buildLegendTicks(0, rangeTo, maxValue, minValue);\n  let xAxis = d3.axisBottom(legendValueScale)\n    .tickValues(ticks)\n    .tickSize(2);\n\n  let colorRect = legendElem.find(\":first-child\");\n  let posY = getSvgElemHeight(legendElem) + 2;\n  let posX = getSvgElemX(colorRect);\n\n  d3.select(legendElem.get(0)).append(\"g\")\n    .attr(\"class\", \"axis\")\n    .attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\")\n    .call(xAxis);\n\n  legend.select(\".axis\").select(\".domain\").remove();\n}\n\nfunction drawSimpleColorLegend(elem, colorScale) {\n  let legendElem = $(elem).find('svg');\n  clearLegend(elem);\n\n  let legendWidth = Math.floor(legendElem.outerWidth());\n  let legendHeight = legendElem.attr(\"height\");\n\n  if (legendWidth) {\n    let valuesNumber = Math.floor(legendWidth / 2);\n    let rangeStep  = Math.floor(legendWidth / valuesNumber);\n    let valuesRange = d3.range(0, legendWidth, rangeStep);\n\n    let legend = d3.select(legendElem.get(0));\n    var legendRects = legend.selectAll(\".heatmap-color-legend-rect\").data(valuesRange);\n\n    legendRects.enter().append(\"rect\")\n      .attr(\"x\", d => d)\n      .attr(\"y\", 0)\n      .attr(\"width\", rangeStep + 1) // Overlap rectangles to prevent gaps\n      .attr(\"height\", legendHeight)\n      .attr(\"stroke-width\", 0)\n      .attr(\"fill\", d => colorScale(d));\n  }\n}\n\nfunction drawSimpleOpacityLegend(elem, options) {\n  let legendElem = $(elem).find('svg');\n  clearLegend(elem);\n\n  let legend = d3.select(legendElem.get(0));\n  let legendWidth = Math.floor(legendElem.outerWidth());\n  let legendHeight = legendElem.attr(\"height\");\n\n  if (legendWidth) {\n    let legendOpacityScale;\n    if (options.colorScale === 'linear') {\n      legendOpacityScale = d3.scaleLinear()\n      .domain([0, legendWidth])\n      .range([0, 1]);\n    } else if (options.colorScale === 'sqrt') {\n      legendOpacityScale = d3.scalePow().exponent(options.exponent)\n      .domain([0, legendWidth])\n      .range([0, 1]);\n    }\n\n    let rangeStep = 10;\n    let valuesRange = d3.range(0, legendWidth, rangeStep);\n    var legendRects = legend.selectAll(\".heatmap-opacity-legend-rect\").data(valuesRange);\n\n    legendRects.enter().append(\"rect\")\n      .attr(\"x\", d => d)\n      .attr(\"y\", 0)\n      .attr(\"width\", rangeStep)\n      .attr(\"height\", legendHeight)\n      .attr(\"stroke-width\", 0)\n      .attr(\"fill\", options.cardColor)\n      .style(\"opacity\", d => legendOpacityScale(d));\n  }\n}\n\nfunction clearLegend(elem) {\n  let legendElem = $(elem).find('svg');\n  legendElem.empty();\n}\n\nfunction getSvgElemX(elem) {\n  let svgElem = elem.get(0);\n  if (svgElem && svgElem.x && svgElem.x.baseVal) {\n    return svgElem.x.baseVal.value;\n  } else {\n    return 0;\n  }\n}\n\nfunction getSvgElemHeight(elem) {\n  let svgElem = elem.get(0);\n  if (svgElem && svgElem.height && svgElem.height.baseVal) {\n    return svgElem.height.baseVal.value;\n  } else {\n    return 0;\n  }\n}\n\nfunction buildLegendTicks(rangeFrom, rangeTo, maxValue, minValue) {\n  let range = rangeTo - rangeFrom;\n  let tickStepSize = tickStep(rangeFrom, rangeTo, 3);\n  let ticksNum = Math.round(range / tickStepSize);\n  let ticks = [];\n\n  for (let i = 0; i < ticksNum; i++) {\n    let current = tickStepSize * i;\n    // Add user-defined min and max if it had been set\n    if (isValueCloseTo(minValue, current, tickStepSize)) {\n      ticks.push(minValue);\n      continue;\n    } else if (minValue < current) {\n      ticks.push(minValue);\n    }\n    if (isValueCloseTo(maxValue, current, tickStepSize)) {\n      ticks.push(maxValue);\n      continue;\n    } else if (maxValue < current) {\n      ticks.push(maxValue);\n    }\n    ticks.push(tickStepSize * i);\n  }\n  if (!isValueCloseTo(maxValue, rangeTo, tickStepSize)) {\n    ticks.push(maxValue);\n  }\n  ticks.push(rangeTo);\n  ticks = _.sortBy(_.uniq(ticks));\n  return ticks;\n}\n\nfunction isValueCloseTo(val, valueTo, step) {\n  let diff = Math.abs(val - valueTo);\n  return diff < step * 0.3;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/color_legend.ts","import {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport TimeSeries from 'app/core/time_series2';\nimport {axesEditor} from './axes_editor';\nimport {heatmapDisplayEditor} from './display_editor';\nimport rendering from './rendering';\nimport {convertToHeatMap, convertToCards, elasticHistogramToHeatmap, calculateBucketSize } from './heatmap_data_converter';\n\nlet X_BUCKET_NUMBER_DEFAULT = 30;\nlet Y_BUCKET_NUMBER_DEFAULT = 10;\n\nlet panelDefaults = {\n  heatmap: {\n  },\n  cards: {\n    cardPadding: null,\n    cardRound: null\n  },\n  color: {\n    mode: 'spectrum',\n    cardColor: '#b4ff00',\n    colorScale: 'sqrt',\n    exponent: 0.5,\n    colorScheme: 'interpolateOranges',\n  },\n  legend: {\n    show: false\n  },\n  dataFormat: 'timeseries',\n  xAxis: {\n    show: true,\n  },\n  yAxis: {\n    show: true,\n    format: 'short',\n    decimals: null,\n    logBase: 1,\n    splitFactor: null,\n    min: null,\n    max: null,\n  },\n  xBucketSize: null,\n  xBucketNumber: null,\n  yBucketSize: null,\n  yBucketNumber: null,\n  tooltip: {\n    show: true,\n    showHistogram: false\n  },\n  highlightCards: true\n};\n\nlet colorModes = ['opacity', 'spectrum'];\nlet opacityScales = ['linear', 'sqrt'];\n\n// Schemes from d3-scale-chromatic\n// https://github.com/d3/d3-scale-chromatic\nlet colorSchemes = [\n  // Diverging\n  {name: 'Spectral',  value: 'interpolateSpectral', invert: 'always'},\n  {name: 'RdYlGn',    value: 'interpolateRdYlGn',   invert: 'always'},\n\n  // Sequential (Single Hue)\n  {name: 'Blues',     value: 'interpolateBlues',    invert: 'dark'},\n  {name: 'Greens',    value: 'interpolateGreens',   invert: 'dark'},\n  {name: 'Greys',     value: 'interpolateGreys',    invert: 'dark'},\n  {name: 'Oranges',   value: 'interpolateOranges',  invert: 'dark'},\n  {name: 'Purples',   value: 'interpolatePurples',  invert: 'dark'},\n  {name: 'Reds',      value: 'interpolateReds',     invert: 'dark'},\n\n  // Sequential (Multi-Hue)\n  {name: 'BuGn',    value: 'interpolateBuGn',       invert: 'dark'},\n  {name: 'BuPu',    value: 'interpolateBuPu',       invert: 'dark'},\n  {name: 'GnBu',    value: 'interpolateGnBu',       invert: 'dark'},\n  {name: 'OrRd',    value: 'interpolateOrRd',       invert: 'dark'},\n  {name: 'PuBuGn',  value: 'interpolatePuBuGn',     invert: 'dark'},\n  {name: 'PuBu',    value: 'interpolatePuBu',       invert: 'dark'},\n  {name: 'PuRd',    value: 'interpolatePuRd',       invert: 'dark'},\n  {name: 'RdPu',    value: 'interpolateRdPu',       invert: 'dark'},\n  {name: 'YlGnBu',  value: 'interpolateYlGnBu',     invert: 'dark'},\n  {name: 'YlGn',    value: 'interpolateYlGn',       invert: 'dark'},\n  {name: 'YlOrBr',  value: 'interpolateYlOrBr',     invert: 'dark'},\n  {name: 'YlOrRd',  value: 'interpolateYlOrRd',     invert: 'darm'}\n];\n\nexport class HeatmapCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'module.html';\n\n  opacityScales: any = [];\n  colorModes: any =  [];\n  colorSchemes: any = [];\n  selectionActivated: boolean;\n  unitFormats: any;\n  data: any;\n  series: any;\n  timeSrv: any;\n  dataWarning: any;\n  decimals: number;\n  scaledDecimals: number;\n\n  /** @ngInject */\n  constructor($scope, $injector, private $rootScope, timeSrv) {\n    super($scope, $injector);\n    this.$rootScope = $rootScope;\n    this.timeSrv = timeSrv;\n    this.selectionActivated = false;\n\n    _.defaultsDeep(this.panel, panelDefaults);\n    this.opacityScales = opacityScales;\n    this.colorModes = colorModes;\n    this.colorSchemes = colorSchemes;\n\n    // Bind grafana panel events\n    this.events.on('render', this.onRender.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n\n    this.onCardColorChange = this.onCardColorChange.bind(this);\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Axes', axesEditor, 2);\n    this.addEditorTab('Display', heatmapDisplayEditor, 3);\n    this.unitFormats = kbn.getUnitFormats();\n  }\n\n  zoomOut(evt) {\n    this.publishAppEvent('zoom-out', 2);\n  }\n\n  onRender() {\n    if (!this.range) { return; }\n\n    let xBucketSize, yBucketSize, heatmapStats, bucketsData;\n    let logBase = this.panel.yAxis.logBase;\n\n    if (this.panel.dataFormat === 'tsbuckets') {\n      heatmapStats = this.parseHistogramSeries(this.series);\n      bucketsData = elasticHistogramToHeatmap(this.series);\n\n      // Calculate bucket size based on ES heatmap data\n      let xBucketBoundSet = _.map(_.keys(bucketsData), key => Number(key));\n      let yBucketBoundSet = _.map(this.series, series => Number(series.alias));\n      xBucketSize = calculateBucketSize(xBucketBoundSet);\n      yBucketSize = calculateBucketSize(yBucketBoundSet, logBase);\n      if (logBase !== 1) {\n        // Use yBucketSize in meaning of \"Split factor\" for log scales\n        yBucketSize = 1 / yBucketSize;\n      }\n    } else {\n      let xBucketNumber = this.panel.xBucketNumber || X_BUCKET_NUMBER_DEFAULT;\n      let xBucketSizeByNumber = Math.floor((this.range.to - this.range.from) / xBucketNumber);\n\n      // Parse X bucket size (number or interval)\n      let isIntervalString = kbn.interval_regex.test(this.panel.xBucketSize);\n      if (isIntervalString) {\n        xBucketSize = kbn.interval_to_ms(this.panel.xBucketSize);\n      } else if (isNaN(Number(this.panel.xBucketSize)) || this.panel.xBucketSize === '' || this.panel.xBucketSize === null) {\n        xBucketSize = xBucketSizeByNumber;\n      } else {\n        xBucketSize = Number(this.panel.xBucketSize);\n      }\n\n      // Calculate Y bucket size\n      heatmapStats = this.parseSeries(this.series);\n      let yBucketNumber = this.panel.yBucketNumber || Y_BUCKET_NUMBER_DEFAULT;\n      if (logBase !== 1) {\n        yBucketSize = this.panel.yAxis.splitFactor;\n      } else {\n        if (heatmapStats.max === heatmapStats.min) {\n          if (heatmapStats.max) {\n            yBucketSize = heatmapStats.max / Y_BUCKET_NUMBER_DEFAULT;\n          } else {\n            yBucketSize = 1;\n          }\n        } else {\n          yBucketSize = (heatmapStats.max - heatmapStats.min) / yBucketNumber;\n        }\n        yBucketSize = this.panel.yBucketSize || yBucketSize;\n      }\n\n      bucketsData = convertToHeatMap(this.series, yBucketSize, xBucketSize, logBase);\n    }\n\n    // Set default Y range if no data\n    if (!heatmapStats.min && !heatmapStats.max) {\n      heatmapStats = {min: -1, max: 1, minLog: 1};\n      yBucketSize = 1;\n    }\n\n    let {cards, cardStats} = convertToCards(bucketsData);\n\n    this.data = {\n      buckets: bucketsData,\n      heatmapStats: heatmapStats,\n      xBucketSize: xBucketSize,\n      yBucketSize: yBucketSize,\n      cards: cards,\n      cardStats: cardStats\n    };\n  }\n\n  onDataReceived(dataList) {\n    this.series = dataList.map(this.seriesHandler.bind(this));\n\n    this.dataWarning = null;\n    const datapointsCount = _.reduce(this.series, (sum, series) => {\n      return sum + series.datapoints.length;\n    }, 0);\n\n    if (datapointsCount === 0) {\n      this.dataWarning = {\n        title: 'No data points',\n        tip: 'No datapoints returned from data query'\n      };\n    } else {\n      for (let series of this.series) {\n        if (series.isOutsideRange) {\n          this.dataWarning = {\n            title: 'Data points outside time range',\n            tip: 'Can be caused by timezone mismatch or missing time filter in query',\n          };\n          break;\n        }\n      }\n    }\n\n    this.render();\n  }\n\n  onDataError() {\n    this.series = [];\n    this.render();\n  }\n\n  onCardColorChange(newColor) {\n    this.panel.color.cardColor = newColor;\n    this.render();\n  }\n\n  seriesHandler(seriesData) {\n    let series = new TimeSeries({\n      datapoints: seriesData.datapoints,\n      alias: seriesData.target\n    });\n\n    series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\n\n    let datapoints = seriesData.datapoints || [];\n    if (datapoints && datapoints.length > 0) {\n      let last = datapoints[datapoints.length - 1][1];\n      let from = this.range.from;\n      if (last - from < -10000) {\n        series.isOutsideRange = true;\n      }\n    }\n\n    return series;\n  }\n\n  parseSeries(series) {\n    let min = _.min(_.map(series, s => s.stats.min));\n    let minLog = _.min(_.map(series, s => s.stats.logmin));\n    let max = _.max(_.map(series, s => s.stats.max));\n\n    return {\n      max: max,\n      min: min,\n      minLog: minLog\n    };\n  }\n\n  parseHistogramSeries(series) {\n    let bounds = _.map(series, s => Number(s.alias));\n    let min = _.min(bounds);\n    let minLog = _.min(bounds);\n    let max = _.max(bounds);\n\n    return {\n      max: max,\n      min: min,\n      minLog: minLog\n    };\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    rendering(scope, elem, attrs, ctrl);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/heatmap_ctrl.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nexport class HeatmapDisplayEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n\n  /** @ngInject */\n  constructor($scope) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n\n    this.panelCtrl.render();\n  }\n}\n\n/** @ngInject */\nexport function heatmapDisplayEditor() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/heatmap/partials/display_editor.html',\n    controller: HeatmapDisplayEditorCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/display_editor.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport kbn from 'app/core/utils/kbn';\n\nexport class AxesEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n  unitFormats: any;\n  logScales: any;\n  dataFormats: any;\n\n  /** @ngInject */\n  constructor($scope, uiSegmentSrv) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.unitFormats = kbn.getUnitFormats();\n\n    this.logScales = {\n      'linear': 1,\n      'log (base 2)': 2,\n      'log (base 10)': 10,\n      'log (base 32)': 32,\n      'log (base 1024)': 1024\n    };\n\n    this.dataFormats = {\n      'Time series': 'timeseries',\n      'Time series buckets': 'tsbuckets'\n    };\n  }\n\n  setUnitFormat(subItem) {\n    this.panel.yAxis.format = subItem.value;\n    this.panelCtrl.render();\n  }\n}\n\n/** @ngInject */\nexport function axesEditor() {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/heatmap/partials/axes_editor.html',\n    controller: AxesEditorCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/axes_editor.ts","import _ from 'lodash';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport * as d3 from 'd3';\nimport kbn from 'app/core/utils/kbn';\nimport {appEvents, contextSrv} from 'app/core/core';\nimport {tickStep, getScaledDecimals, getFlotTickSize} from 'app/core/utils/ticks';\nimport {HeatmapTooltip} from './heatmap_tooltip';\nimport {mergeZeroBuckets} from './heatmap_data_converter';\nimport {getColorScale, getOpacityScale} from './color_scale';\n\nlet MIN_CARD_SIZE = 1,\n    CARD_PADDING = 1,\n    CARD_ROUND = 0,\n    DATA_RANGE_WIDING_FACTOR = 1.2,\n    DEFAULT_X_TICK_SIZE_PX = 100,\n    DEFAULT_Y_TICK_SIZE_PX = 50,\n    X_AXIS_TICK_PADDING = 10,\n    Y_AXIS_TICK_PADDING = 5,\n    MIN_SELECTION_WIDTH = 2;\n\nexport default function link(scope, elem, attrs, ctrl) {\n  let data, timeRange, panel, heatmap;\n\n  // $heatmap is JQuery object, but heatmap is D3\n  let $heatmap = elem.find('.heatmap-panel');\n  let tooltip = new HeatmapTooltip($heatmap, scope);\n\n  let width, height,\n      yScale, xScale,\n      chartWidth, chartHeight,\n      chartTop, chartBottom,\n      yAxisWidth, xAxisHeight,\n      cardPadding, cardRound,\n      cardWidth, cardHeight,\n      colorScale, opacityScale,\n      mouseUpHandler;\n\n  let selection = {\n    active: false,\n    x1: -1,\n    x2: -1\n  };\n\n  let padding = {left: 0, right: 0, top: 0, bottom: 0},\n      margin = {left: 25, right: 15, top: 10, bottom: 20},\n      dataRangeWidingFactor = DATA_RANGE_WIDING_FACTOR;\n\n  ctrl.events.on('render', () => {\n    render();\n    ctrl.renderingCompleted();\n  });\n\n  function setElementHeight() {\n    try {\n      var height = ctrl.height || panel.height || ctrl.row.height;\n      if (_.isString(height)) {\n        height = parseInt(height.replace('px', ''), 10);\n      }\n\n      height -= 5; // padding\n      height -= panel.title ? 24 : 9; // subtract panel title bar\n\n      $heatmap.css('height', height + 'px');\n\n      return true;\n    } catch (e) { // IE throws errors sometimes\n      return false;\n    }\n  }\n\n  function getYAxisWidth(elem) {\n    let axis_text = elem.selectAll(\".axis-y text\").nodes();\n    let max_text_width = _.max(_.map(axis_text, text => {\n      // Use SVG getBBox method\n      return text.getBBox().width;\n    }));\n\n    return max_text_width;\n  }\n\n  function getXAxisHeight(elem) {\n    let axis_line = elem.select(\".axis-x line\");\n    if (!axis_line.empty()) {\n      let axis_line_position = parseFloat(elem.select(\".axis-x line\").attr(\"y2\"));\n      let canvas_width = parseFloat(elem.attr(\"height\"));\n      return canvas_width - axis_line_position;\n    } else {\n      // Default height\n      return 30;\n    }\n  }\n\n  function addXAxis() {\n    scope.xScale = xScale = d3.scaleTime()\n      .domain([timeRange.from, timeRange.to])\n      .range([0, chartWidth]);\n\n    let ticks = chartWidth / DEFAULT_X_TICK_SIZE_PX;\n    let grafanaTimeFormatter = grafanaTimeFormat(ticks, timeRange.from, timeRange.to);\n    let timeFormat;\n    let dashboardTimeZone = ctrl.dashboard.getTimezone();\n    if (dashboardTimeZone === 'utc') {\n      timeFormat = d3.utcFormat(grafanaTimeFormatter);\n    } else {\n      timeFormat = d3.timeFormat(grafanaTimeFormatter);\n    }\n\n    let xAxis = d3.axisBottom(xScale)\n      .ticks(ticks)\n      .tickFormat(timeFormat)\n      .tickPadding(X_AXIS_TICK_PADDING)\n      .tickSize(chartHeight);\n\n    let posY = margin.top;\n    let posX = yAxisWidth;\n    heatmap.append(\"g\")\n      .attr(\"class\", \"axis axis-x\")\n      .attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\")\n      .call(xAxis);\n\n    // Remove horizontal line in the top of axis labels (called domain in d3)\n    heatmap.select(\".axis-x\").select(\".domain\").remove();\n  }\n\n  function addYAxis() {\n    let ticks = Math.ceil(chartHeight / DEFAULT_Y_TICK_SIZE_PX);\n    let tick_interval = tickStep(data.heatmapStats.min, data.heatmapStats.max, ticks);\n    let {y_min, y_max} = wideYAxisRange(data.heatmapStats.min, data.heatmapStats.max, tick_interval);\n\n    // Rewrite min and max if it have been set explicitly\n    y_min = panel.yAxis.min !== null ? panel.yAxis.min : y_min;\n    y_max = panel.yAxis.max !== null ? panel.yAxis.max : y_max;\n\n    // Adjust ticks after Y range widening\n    tick_interval = tickStep(y_min, y_max, ticks);\n    ticks = Math.ceil((y_max - y_min) / tick_interval);\n\n    let decimalsAuto = getPrecision(tick_interval);\n    let decimals = panel.yAxis.decimals === null ? decimalsAuto : panel.yAxis.decimals;\n    // Calculate scaledDecimals for log scales using tick size (as in jquery.flot.js)\n    let flot_tick_size = getFlotTickSize(y_min, y_max, ticks, decimalsAuto);\n    let scaledDecimals = getScaledDecimals(decimals, flot_tick_size);\n    ctrl.decimals = decimals;\n    ctrl.scaledDecimals = scaledDecimals;\n\n    // Set default Y min and max if no data\n    if (_.isEmpty(data.buckets)) {\n      y_max = 1;\n      y_min = -1;\n      ticks = 3;\n      decimals = 1;\n    }\n\n    data.yAxis = {\n      min: y_min,\n      max: y_max,\n      ticks: ticks\n    };\n\n    scope.yScale = yScale = d3.scaleLinear()\n      .domain([y_min, y_max])\n      .range([chartHeight, 0]);\n\n    let yAxis = d3.axisLeft(yScale)\n      .ticks(ticks)\n      .tickFormat(tickValueFormatter(decimals, scaledDecimals))\n      .tickSizeInner(0 - width)\n      .tickSizeOuter(0)\n      .tickPadding(Y_AXIS_TICK_PADDING);\n\n    heatmap.append(\"g\")\n      .attr(\"class\", \"axis axis-y\")\n      .call(yAxis);\n\n    // Calculate Y axis width first, then move axis into visible area\n    let posY = margin.top;\n    let posX = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\n    heatmap.select(\".axis-y\").attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\");\n\n    // Remove vertical line in the right of axis labels (called domain in d3)\n    heatmap.select(\".axis-y\").select(\".domain\").remove();\n  }\n\n  // Wide Y values range and anjust to bucket size\n  function wideYAxisRange(min, max, tickInterval) {\n    let y_widing = (max * (dataRangeWidingFactor - 1) - min * (dataRangeWidingFactor - 1)) / 2;\n    let y_min, y_max;\n\n    if (tickInterval === 0) {\n      y_max = max * dataRangeWidingFactor;\n      y_min = min - min * (dataRangeWidingFactor - 1);\n      tickInterval = (y_max - y_min) / 2;\n    } else {\n      y_max = Math.ceil((max + y_widing) / tickInterval) * tickInterval;\n      y_min = Math.floor((min - y_widing) / tickInterval) * tickInterval;\n    }\n\n    // Don't wide axis below 0 if all values are positive\n    if (min >= 0 && y_min < 0) {\n      y_min = 0;\n    }\n\n    return {y_min, y_max};\n  }\n\n  function addLogYAxis() {\n    let log_base = panel.yAxis.logBase;\n    let {y_min, y_max} = adjustLogRange(data.heatmapStats.minLog, data.heatmapStats.max, log_base);\n\n    y_min = panel.yAxis.min && panel.yAxis.min !== '0' ? adjustLogMin(panel.yAxis.min, log_base) : y_min;\n    y_max = panel.yAxis.max !== null ? adjustLogMax(panel.yAxis.max, log_base) : y_max;\n\n    // Set default Y min and max if no data\n    if (_.isEmpty(data.buckets)) {\n      y_max = Math.pow(log_base, 2);\n      y_min = 1;\n    }\n\n    scope.yScale = yScale = d3.scaleLog()\n      .base(panel.yAxis.logBase)\n      .domain([y_min, y_max])\n      .range([chartHeight, 0]);\n\n    let domain = yScale.domain();\n    let tick_values = logScaleTickValues(domain, log_base);\n\n    let decimalsAuto = getPrecision(y_min);\n    let decimals = panel.yAxis.decimals || decimalsAuto;\n\n    // Calculate scaledDecimals for log scales using tick size (as in jquery.flot.js)\n    let flot_tick_size = getFlotTickSize(y_min, y_max, tick_values.length, decimalsAuto);\n    let scaledDecimals = getScaledDecimals(decimals, flot_tick_size);\n    ctrl.decimals = decimals;\n    ctrl.scaledDecimals = scaledDecimals;\n\n    data.yAxis = {\n      min: y_min,\n      max: y_max,\n      ticks: tick_values.length\n    };\n\n    let yAxis = d3.axisLeft(yScale)\n      .tickValues(tick_values)\n      .tickFormat(tickValueFormatter(decimals, scaledDecimals))\n      .tickSizeInner(0 - width)\n      .tickSizeOuter(0)\n      .tickPadding(Y_AXIS_TICK_PADDING);\n\n    heatmap.append(\"g\")\n      .attr(\"class\", \"axis axis-y\")\n      .call(yAxis);\n\n    // Calculate Y axis width first, then move axis into visible area\n    let posY = margin.top;\n    let posX = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\n    heatmap.select(\".axis-y\").attr(\"transform\", \"translate(\" + posX + \",\" + posY + \")\");\n\n    // Set first tick as pseudo 0\n    if (y_min < 1) {\n      heatmap.select(\".axis-y\").select(\".tick text\").text(\"0\");\n    }\n\n    // Remove vertical line in the right of axis labels (called domain in d3)\n    heatmap.select(\".axis-y\").select(\".domain\").remove();\n  }\n\n  // Adjust data range to log base\n  function adjustLogRange(min, max, logBase) {\n    let y_min, y_max;\n\n    y_min = data.heatmapStats.minLog;\n    if (data.heatmapStats.minLog > 1 || !data.heatmapStats.minLog) {\n      y_min = 1;\n    } else {\n      y_min = adjustLogMin(data.heatmapStats.minLog, logBase);\n    }\n\n    // Adjust max Y value to log base\n    y_max = adjustLogMax(data.heatmapStats.max, logBase);\n\n    return {y_min, y_max};\n  }\n\n  function adjustLogMax(max, base) {\n    return Math.pow(base, Math.ceil(logp(max, base)));\n  }\n\n  function adjustLogMin(min, base) {\n    return Math.pow(base, Math.floor(logp(min, base)));\n  }\n\n  function logScaleTickValues(domain, base) {\n    let domainMin = domain[0];\n    let domainMax = domain[1];\n    let tickValues = [];\n\n    if (domainMin < 1) {\n      let under_one_ticks = Math.floor(logp(domainMin, base));\n      for (let i = under_one_ticks; i < 0; i++) {\n        let tick_value = Math.pow(base, i);\n        tickValues.push(tick_value);\n      }\n    }\n\n    let ticks = Math.ceil(logp(domainMax, base));\n    for (let i = 0; i <= ticks; i++) {\n      let tick_value = Math.pow(base, i);\n      tickValues.push(tick_value);\n    }\n\n    return tickValues;\n  }\n\n  function tickValueFormatter(decimals, scaledDecimals = null) {\n    let format = panel.yAxis.format;\n    return function(value) {\n      return kbn.valueFormats[format](value, decimals, scaledDecimals);\n    };\n  }\n\n  function fixYAxisTickSize() {\n    heatmap.select(\".axis-y\")\n      .selectAll(\".tick line\")\n      .attr(\"x2\", chartWidth);\n  }\n\n  function addAxes() {\n    chartHeight = height - margin.top - margin.bottom;\n    chartTop = margin.top;\n    chartBottom = chartTop + chartHeight;\n\n    if (panel.yAxis.logBase === 1) {\n      addYAxis();\n    } else {\n      addLogYAxis();\n    }\n\n    yAxisWidth = getYAxisWidth(heatmap) + Y_AXIS_TICK_PADDING;\n    chartWidth = width - yAxisWidth - margin.right;\n    fixYAxisTickSize();\n\n    addXAxis();\n    xAxisHeight = getXAxisHeight(heatmap);\n\n    if (!panel.yAxis.show) {\n      heatmap.select(\".axis-y\").selectAll(\"line\").style(\"opacity\", 0);\n    }\n\n    if (!panel.xAxis.show) {\n      heatmap.select(\".axis-x\").selectAll(\"line\").style(\"opacity\", 0);\n    }\n  }\n\n  function addHeatmapCanvas() {\n    let heatmap_elem = $heatmap[0];\n\n    width = Math.floor($heatmap.width()) - padding.right;\n    height = Math.floor($heatmap.height()) - padding.bottom;\n\n    cardPadding = panel.cards.cardPadding !== null ? panel.cards.cardPadding : CARD_PADDING;\n    cardRound = panel.cards.cardRound !== null ? panel.cards.cardRound : CARD_ROUND;\n\n    if (heatmap) {\n      heatmap.remove();\n    }\n\n    heatmap = d3.select(heatmap_elem)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n  }\n\n  function addHeatmap() {\n    addHeatmapCanvas();\n    addAxes();\n\n    if (panel.yAxis.logBase !== 1) {\n      let log_base = panel.yAxis.logBase;\n      let domain = yScale.domain();\n      let tick_values = logScaleTickValues(domain, log_base);\n      data.buckets = mergeZeroBuckets(data.buckets, _.min(tick_values));\n    }\n\n    let cardsData = data.cards;\n    let maxValueAuto = data.cardStats.max;\n    let maxValue = panel.color.max || maxValueAuto;\n    let minValue = panel.color.min || 0;\n\n    let colorScheme = _.find(ctrl.colorSchemes, {value: panel.color.colorScheme});\n    colorScale = getColorScale(colorScheme, contextSrv.user.lightTheme,  maxValue, minValue);\n    opacityScale = getOpacityScale(panel.color, maxValue);\n    setCardSize();\n\n    let cards = heatmap.selectAll(\".heatmap-card\").data(cardsData);\n    cards.append(\"title\");\n    cards = cards.enter().append(\"rect\")\n    .attr(\"x\", getCardX)\n    .attr(\"width\", getCardWidth)\n    .attr(\"y\", getCardY)\n    .attr(\"height\", getCardHeight)\n    .attr(\"rx\", cardRound)\n    .attr(\"ry\", cardRound)\n    .attr(\"class\", \"bordered heatmap-card\")\n    .style(\"fill\", getCardColor)\n    .style(\"stroke\", getCardColor)\n    .style(\"stroke-width\", 0)\n    .style(\"opacity\", getCardOpacity);\n\n    let $cards = $heatmap.find(\".heatmap-card\");\n    $cards.on(\"mouseenter\", (event) => {\n      tooltip.mouseOverBucket = true;\n      highlightCard(event);\n    })\n    .on(\"mouseleave\", (event) => {\n      tooltip.mouseOverBucket = false;\n      resetCardHighLight(event);\n    });\n  }\n\n  function highlightCard(event) {\n    let color = d3.select(event.target).style(\"fill\");\n    let highlightColor = d3.color(color).darker(2);\n    let strokeColor = d3.color(color).brighter(4);\n    let current_card = d3.select(event.target);\n    tooltip.originalFillColor = color;\n    current_card.style(\"fill\", highlightColor.toString())\n    .style(\"stroke\", strokeColor.toString())\n    .style(\"stroke-width\", 1);\n  }\n\n  function resetCardHighLight(event) {\n    d3.select(event.target).style(\"fill\", tooltip.originalFillColor)\n    .style(\"stroke\", tooltip.originalFillColor)\n    .style(\"stroke-width\", 0);\n  }\n\n  function setCardSize() {\n    let xGridSize = Math.floor(xScale(data.xBucketSize) - xScale(0));\n    let yGridSize = Math.floor(yScale(yScale.invert(0) - data.yBucketSize));\n\n    if (panel.yAxis.logBase !== 1) {\n      let base = panel.yAxis.logBase;\n      let splitFactor = data.yBucketSize || 1;\n      yGridSize = Math.floor((yScale(1) - yScale(base)) / splitFactor);\n    }\n\n    cardWidth = xGridSize - cardPadding * 2;\n    cardHeight = yGridSize ? yGridSize - cardPadding * 2 : 0;\n  }\n\n  function getCardX(d) {\n    let x;\n    if (xScale(d.x) < 0) {\n      // Cut card left to prevent overlay\n      x = yAxisWidth + cardPadding;\n    } else {\n      x = xScale(d.x) + yAxisWidth + cardPadding;\n    }\n\n    return x;\n  }\n\n  function getCardWidth(d) {\n    let w;\n    if (xScale(d.x) < 0) {\n      // Cut card left to prevent overlay\n      let cutted_width = xScale(d.x) + cardWidth;\n      w = cutted_width > 0 ? cutted_width : 0;\n    } else if (xScale(d.x) + cardWidth > chartWidth) {\n      // Cut card right to prevent overlay\n      w = chartWidth - xScale(d.x) - cardPadding;\n    } else {\n      w = cardWidth;\n    }\n\n    // Card width should be MIN_CARD_SIZE at least\n    w = Math.max(w, MIN_CARD_SIZE);\n    return w;\n  }\n\n  function getCardY(d) {\n    let y = yScale(d.y) + chartTop - cardHeight - cardPadding;\n    if (panel.yAxis.logBase !== 1 && d.y === 0) {\n      y = chartBottom - cardHeight - cardPadding;\n    } else {\n      if (y < chartTop) {\n        y = chartTop;\n      }\n    }\n\n    return y;\n  }\n\n  function getCardHeight(d) {\n    let y = yScale(d.y) + chartTop - cardHeight - cardPadding;\n    let h = cardHeight;\n\n    if (panel.yAxis.logBase !== 1 && d.y === 0) {\n      return cardHeight;\n    }\n\n    // Cut card height to prevent overlay\n    if (y < chartTop) {\n      h = yScale(d.y) - cardPadding;\n    } else if (yScale(d.y) > chartBottom) {\n      h = chartBottom - y;\n    } else if (y + cardHeight > chartBottom) {\n      h = chartBottom - y;\n    }\n\n    // Height can't be more than chart height\n    h = Math.min(h, chartHeight);\n    // Card height should be MIN_CARD_SIZE at least\n    h = Math.max(h, MIN_CARD_SIZE);\n\n    return h;\n  }\n\n  function getCardColor(d) {\n    if (panel.color.mode === 'opacity') {\n      return panel.color.cardColor;\n    } else {\n      return colorScale(d.count);\n    }\n  }\n\n  function getCardOpacity(d) {\n    if (panel.color.mode === 'opacity') {\n      return opacityScale(d.count);\n    } else {\n      return 1;\n    }\n  }\n\n  /////////////////////////////\n  // Selection and crosshair //\n  /////////////////////////////\n\n  // Shared crosshair and tooltip\n  appEvents.on('graph-hover', event => {\n    drawSharedCrosshair(event.pos);\n  }, scope);\n\n  appEvents.on('graph-hover-clear', () => {\n    clearCrosshair();\n  }, scope);\n\n  function onMouseDown(event) {\n    selection.active = true;\n    selection.x1 = event.offsetX;\n\n    mouseUpHandler = function() {\n      onMouseUp();\n    };\n\n    $(document).one(\"mouseup\", mouseUpHandler);\n  }\n\n  function onMouseUp() {\n    $(document).unbind(\"mouseup\", mouseUpHandler);\n    mouseUpHandler = null;\n    selection.active = false;\n\n    let selectionRange = Math.abs(selection.x2 - selection.x1);\n    if (selection.x2 >= 0 && selectionRange > MIN_SELECTION_WIDTH) {\n      let timeFrom = xScale.invert(Math.min(selection.x1, selection.x2) - yAxisWidth);\n      let timeTo = xScale.invert(Math.max(selection.x1, selection.x2) - yAxisWidth);\n\n      ctrl.timeSrv.setTime({\n        from: moment.utc(timeFrom),\n        to: moment.utc(timeTo)\n      });\n    }\n\n    clearSelection();\n  }\n\n  function onMouseLeave() {\n    appEvents.emit('graph-hover-clear');\n    clearCrosshair();\n  }\n\n  function onMouseMove(event) {\n    if (!heatmap) { return; }\n\n    if (selection.active) {\n      // Clear crosshair and tooltip\n      clearCrosshair();\n      tooltip.destroy();\n\n      selection.x2 = limitSelection(event.offsetX);\n      drawSelection(selection.x1, selection.x2);\n    } else {\n      emitGraphHoverEvet(event);\n      drawCrosshair(event.offsetX);\n      tooltip.show(event, data);\n    }\n  }\n\n  function emitGraphHoverEvet(event) {\n    let x = xScale.invert(event.offsetX - yAxisWidth).valueOf();\n    let y = yScale.invert(event.offsetY);\n    let pos = {\n      pageX: event.pageX,\n      pageY: event.pageY,\n      x: x, x1: x,\n      y: y, y1: y,\n      panelRelY: null\n    };\n\n    // Set minimum offset to prevent showing legend from another panel\n    pos.panelRelY = Math.max(event.offsetY / height, 0.001);\n\n    // broadcast to other graph panels that we are hovering\n    appEvents.emit('graph-hover', {pos: pos, panel: panel});\n  }\n\n  function limitSelection(x2) {\n    x2 = Math.max(x2, yAxisWidth);\n    x2 = Math.min(x2, chartWidth + yAxisWidth);\n    return x2;\n  }\n\n  function drawSelection(posX1, posX2) {\n    if (heatmap) {\n      heatmap.selectAll(\".heatmap-selection\").remove();\n      let selectionX = Math.min(posX1, posX2);\n      let selectionWidth = Math.abs(posX1 - posX2);\n\n      if (selectionWidth > MIN_SELECTION_WIDTH) {\n        heatmap.append(\"rect\")\n        .attr(\"class\", \"heatmap-selection\")\n        .attr(\"x\", selectionX)\n        .attr(\"width\", selectionWidth)\n        .attr(\"y\", chartTop)\n        .attr(\"height\", chartHeight);\n      }\n    }\n  }\n\n  function clearSelection() {\n    selection.x1 = -1;\n    selection.x2 = -1;\n\n    if (heatmap) {\n      heatmap.selectAll(\".heatmap-selection\").remove();\n    }\n  }\n\n  function drawCrosshair(position) {\n    if (heatmap) {\n      heatmap.selectAll(\".heatmap-crosshair\").remove();\n\n      let posX = position;\n      posX = Math.max(posX, yAxisWidth);\n      posX = Math.min(posX, chartWidth + yAxisWidth);\n\n      heatmap.append(\"g\")\n      .attr(\"class\", \"heatmap-crosshair\")\n      .attr(\"transform\", \"translate(\" + posX + \",0)\")\n      .append(\"line\")\n      .attr(\"x1\", 1)\n      .attr(\"y1\", chartTop)\n      .attr(\"x2\", 1)\n      .attr(\"y2\", chartBottom)\n      .attr(\"stroke-width\", 1);\n    }\n  }\n\n  function drawSharedCrosshair(pos) {\n    if (heatmap && ctrl.dashboard.graphTooltip !== 0) {\n      let posX = xScale(pos.x) + yAxisWidth;\n      drawCrosshair(posX);\n    }\n  }\n\n  function clearCrosshair() {\n    if (heatmap) {\n      heatmap.selectAll(\".heatmap-crosshair\").remove();\n    }\n  }\n\n  function render() {\n    data = ctrl.data;\n    panel = ctrl.panel;\n    timeRange = ctrl.range;\n\n    if (!setElementHeight() || !data) {\n      return;\n    }\n\n    // Draw default axes and return if no data\n    if (_.isEmpty(data.buckets)) {\n      addHeatmapCanvas();\n      addAxes();\n      return;\n    }\n\n    addHeatmap();\n    scope.yAxisWidth = yAxisWidth;\n    scope.xAxisHeight = xAxisHeight;\n    scope.chartHeight = chartHeight;\n    scope.chartWidth = chartWidth;\n    scope.chartTop = chartTop;\n  }\n\n  // Register selection listeners\n  $heatmap.on(\"mousedown\", onMouseDown);\n  $heatmap.on(\"mousemove\", onMouseMove);\n  $heatmap.on(\"mouseleave\", onMouseLeave);\n}\n\nfunction grafanaTimeFormat(ticks, min, max) {\n  if (min && max && ticks) {\n    let range = max - min;\n    let secPerTick = (range/ticks) / 1000;\n    let oneDay = 86400000;\n    let oneYear = 31536000000;\n\n    if (secPerTick <= 45) {\n      return \"%H:%M:%S\";\n    }\n    if (secPerTick <= 7200 || range <= oneDay) {\n      return \"%H:%M\";\n    }\n    if (secPerTick <= 80000) {\n      return \"%m/%d %H:%M\";\n    }\n    if (secPerTick <= 2419200 || range <= oneYear) {\n      return \"%m/%d\";\n    }\n    return \"%Y-%m\";\n  }\n\n  return \"%H:%M\";\n}\n\nfunction logp(value, base) {\n  return Math.log(value) / Math.log(base);\n}\n\nfunction getPrecision(num) {\n  let str = num.toString();\n  let dot_index = str.indexOf(\".\");\n  if (dot_index === -1) {\n    return 0;\n  } else {\n    return str.length - dot_index - 1;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/rendering.ts","import * as d3 from 'd3';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\nimport {getValueBucketBound} from './heatmap_data_converter';\n\nlet TOOLTIP_PADDING_X = 30;\nlet TOOLTIP_PADDING_Y = 5;\nlet HISTOGRAM_WIDTH = 160;\nlet HISTOGRAM_HEIGHT = 40;\n\nexport class HeatmapTooltip {\n  tooltip: any;\n  scope: any;\n  dashboard: any;\n  panelCtrl: any;\n  panel: any;\n  heatmapPanel: any;\n  mouseOverBucket: boolean;\n  originalFillColor: any;\n\n  constructor(elem, scope) {\n    this.scope = scope;\n    this.dashboard = scope.ctrl.dashboard;\n    this.panelCtrl = scope.ctrl;\n    this.panel = scope.ctrl.panel;\n    this.heatmapPanel = elem;\n    this.mouseOverBucket = false;\n    this.originalFillColor = null;\n\n    elem.on(\"mouseover\", this.onMouseOver.bind(this));\n    elem.on(\"mouseleave\", this.onMouseLeave.bind(this));\n  }\n\n  onMouseOver(e) {\n    if (!this.panel.tooltip.show || !this.scope.ctrl.data || _.isEmpty(this.scope.ctrl.data.buckets)) { return; }\n\n    if (!this.tooltip) {\n      this.add();\n      this.move(e);\n    }\n  }\n\n  onMouseLeave() {\n    this.destroy();\n  }\n\n  onMouseMove(e) {\n    if (!this.panel.tooltip.show) { return; }\n\n    this.move(e);\n  }\n\n  add() {\n    this.tooltip = d3.select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"heatmap-tooltip graph-tooltip grafana-tooltip\");\n  }\n\n  destroy() {\n    if (this.tooltip) {\n      this.tooltip.remove();\n    }\n\n    this.tooltip = null;\n  }\n\n  show(pos, data) {\n    if (!this.panel.tooltip.show || !data) { return; }\n    // shared tooltip mode\n    if (pos.panelRelY) {\n      return;\n    }\n\n    let {xBucketIndex, yBucketIndex} = this.getBucketIndexes(pos, data);\n\n    if (!data.buckets[xBucketIndex] || !this.tooltip) {\n      this.destroy();\n      return;\n    }\n\n    let boundBottom, boundTop, valuesNumber;\n    let xData = data.buckets[xBucketIndex];\n    // Search in special 'zero' bucket also\n    let yData = _.find(xData.buckets, (bucket, bucketIndex) => {\n      return bucket.bounds.bottom === yBucketIndex || bucketIndex === yBucketIndex;\n    });\n\n    let tooltipTimeFormat = 'YYYY-MM-DD HH:mm:ss';\n    let time = this.dashboard.formatDate(xData.x, tooltipTimeFormat);\n\n    // Decimals override. Code from panel/graph/graph.ts\n    let valueFormatter;\n    if (_.isNumber(this.panel.tooltipDecimals)) {\n      valueFormatter = this.valueFormatter(this.panel.tooltipDecimals, null);\n    } else {\n      // auto decimals\n      // legend and tooltip gets one more decimal precision\n      // than graph legend ticks\n      let decimals = (this.panelCtrl.decimals || -1) + 1;\n      valueFormatter = this.valueFormatter(decimals, this.panelCtrl.scaledDecimals + 2);\n    }\n\n    let tooltipHtml = `<div class=\"graph-tooltip-time\">${time}</div>\n      <div class=\"heatmap-histogram\"></div>`;\n\n    if (yData) {\n      if (yData.bounds) {\n        // Display 0 if bucket is a special 'zero' bucket\n        let bottom = yData.y ? yData.bounds.bottom : 0;\n        boundBottom = valueFormatter(bottom);\n        boundTop = valueFormatter(yData.bounds.top);\n        valuesNumber = yData.count;\n        tooltipHtml += `<div>\n          bucket: <b>${boundBottom} - ${boundTop}</b> <br>\n          count: <b>${valuesNumber}</b> <br>\n        </div>`;\n      } else {\n        // currently no bounds for pre bucketed data\n        tooltipHtml += `<div>count: <b>${yData.count}</b><br></div>`;\n      }\n    } else {\n      if (!this.panel.tooltip.showHistogram) {\n        this.destroy();\n        return;\n      }\n      boundBottom = yBucketIndex;\n      boundTop = '';\n      valuesNumber = 0;\n    }\n\n    this.tooltip.html(tooltipHtml);\n\n    if (this.panel.tooltip.showHistogram) {\n      this.addHistogram(xData);\n    }\n\n    this.move(pos);\n  }\n\n  getBucketIndexes(pos, data) {\n    const xBucketIndex = this.getXBucketIndex(pos.offsetX, data);\n    const yBucketIndex = this.getYBucketIndex(pos.offsetY, data);\n    return {xBucketIndex, yBucketIndex};\n  }\n\n  getXBucketIndex(offsetX, data) {\n    let x = this.scope.xScale.invert(offsetX - this.scope.yAxisWidth).valueOf();\n    let xBucketIndex = getValueBucketBound(x, data.xBucketSize, 1);\n    return xBucketIndex;\n  }\n\n  getYBucketIndex(offsetY, data) {\n    let y = this.scope.yScale.invert(offsetY - this.scope.chartTop);\n    let yBucketIndex = getValueBucketBound(y, data.yBucketSize, this.panel.yAxis.logBase);\n    return yBucketIndex;\n  }\n\n  getSharedTooltipPos(pos) {\n    // get pageX from position on x axis and pageY from relative position in original panel\n    pos.pageX = this.heatmapPanel.offset().left + this.scope.xScale(pos.x);\n    pos.pageY = this.heatmapPanel.offset().top + this.scope.chartHeight * pos.panelRelY;\n    return pos;\n  }\n\n  addHistogram(data) {\n    let xBucket = this.scope.ctrl.data.buckets[data.x];\n    let yBucketSize = this.scope.ctrl.data.yBucketSize;\n    let {min, max, ticks} = this.scope.ctrl.data.yAxis;\n    let histogramData = _.map(xBucket.buckets, bucket => {\n      return [bucket.bounds.bottom, bucket.values.length];\n    });\n    histogramData = _.filter(histogramData, d => {\n      return d[0] >= min && d[0] <= max;\n    });\n\n    let scale = this.scope.yScale.copy();\n    let histXScale = scale\n    .domain([min, max])\n    .range([0, HISTOGRAM_WIDTH]);\n\n    let barWidth;\n    if (this.panel.yAxis.logBase === 1) {\n      barWidth = Math.floor(HISTOGRAM_WIDTH / (max - min) * yBucketSize * 0.9);\n    } else {\n      let barNumberFactor = yBucketSize ? yBucketSize : 1;\n      barWidth = Math.floor(HISTOGRAM_WIDTH / ticks / barNumberFactor * 0.9);\n    }\n    barWidth = Math.max(barWidth, 1);\n\n    // Normalize histogram Y axis\n    let histogramDomain = _.reduce(_.map(histogramData, d => d[1]), (sum, val) => sum + val, 0);\n    let histYScale = d3.scaleLinear()\n      .domain([0, histogramDomain])\n      .range([0, HISTOGRAM_HEIGHT]);\n\n    let histogram = this.tooltip.select(\".heatmap-histogram\")\n    .append(\"svg\")\n    .attr(\"width\", HISTOGRAM_WIDTH)\n    .attr(\"height\", HISTOGRAM_HEIGHT);\n\n    histogram.selectAll(\".bar\").data(histogramData)\n    .enter().append(\"rect\")\n    .attr(\"x\", d => {\n      return histXScale(d[0]);\n    })\n    .attr(\"width\", barWidth)\n    .attr(\"y\", d => {\n        return HISTOGRAM_HEIGHT - histYScale(d[1]);\n      })\n      .attr(\"height\", d => {\n        return histYScale(d[1]);\n      });\n  }\n\n  move(pos) {\n    if (!this.tooltip) { return; }\n\n    let elem = $(this.tooltip.node())[0];\n    let tooltipWidth = elem.clientWidth;\n    let tooltipHeight = elem.clientHeight;\n\n    let left = pos.pageX + TOOLTIP_PADDING_X;\n    let top = pos.pageY + TOOLTIP_PADDING_Y;\n\n    if (pos.pageX + tooltipWidth + 40 > window.innerWidth) {\n      left = pos.pageX - tooltipWidth - TOOLTIP_PADDING_X;\n    }\n\n    if (pos.pageY - window.pageYOffset + tooltipHeight + 20 > window.innerHeight) {\n      top = pos.pageY - tooltipHeight - TOOLTIP_PADDING_Y;\n    }\n\n    return this.tooltip\n      .style(\"left\", left + \"px\")\n      .style(\"top\", top + \"px\");\n  }\n\n  valueFormatter(decimals, scaledDecimals = null) {\n    let format = this.panel.yAxis.format;\n    return function(value) {\n      return kbn.valueFormats[format](value, decimals, scaledDecimals);\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/heatmap/heatmap_tooltip.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport $ from 'jquery';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport {transformDataToTable} from './transformers';\nimport {tablePanelEditor} from './editor';\nimport {columnOptionsTab} from './column_options';\nimport {TableRenderer} from './renderer';\n\nclass TablePanelCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'module.html';\n\n  pageIndex: number;\n  dataRaw: any;\n  table: any;\n  renderer: any;\n\n  panelDefaults = {\n    targets: [{}],\n    transform: 'timeseries_to_columns',\n    pageSize: null,\n    showHeader: true,\n    styles: [\n      {\n        type: 'date',\n        pattern: 'Time',\n        alias: 'Time',\n        dateFormat: 'YYYY-MM-DD HH:mm:ss',\n      },\n      {\n        unit: 'short',\n        type: 'number',\n        alias: '',\n        decimals: 2,\n        colors: [\"rgba(245, 54, 54, 0.9)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(50, 172, 45, 0.97)\"],\n        colorMode: null,\n        pattern: '/.*/',\n        thresholds: [],\n      }\n    ],\n    columns: [],\n    scroll: true,\n    fontSize: '100%',\n    sort: {col: 0, desc: true},\n  };\n\n  /** @ngInject */\n  constructor($scope, $injector, templateSrv, private annotationsSrv, private $sanitize, private variableSrv) {\n    super($scope, $injector);\n\n    this.pageIndex = 0;\n\n    if (this.panel.styles === void 0) {\n      this.panel.styles = this.panel.columns;\n      this.panel.columns = this.panel.fields;\n      delete this.panel.columns;\n      delete this.panel.fields;\n    }\n\n    _.defaults(this.panel, this.panelDefaults);\n\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n    this.events.on('init-panel-actions', this.onInitPanelActions.bind(this));\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', tablePanelEditor, 2);\n    this.addEditorTab('Column Styles', columnOptionsTab, 3);\n  }\n\n  onInitPanelActions(actions) {\n    actions.push({text: 'Export CSV', click: 'ctrl.exportCsv()'});\n  }\n\n  issueQueries(datasource) {\n    this.pageIndex = 0;\n\n    if (this.panel.transform === 'annotations') {\n      this.setTimeQueryStart();\n      return this.annotationsSrv.getAnnotations({dashboard: this.dashboard, panel: this.panel, range: this.range})\n      .then(annotations => {\n        return {data: annotations};\n      });\n    }\n\n    return super.issueQueries(datasource);\n  }\n\n  onDataError(err) {\n    this.dataRaw = [];\n    this.render();\n  }\n\n  onDataReceived(dataList) {\n    this.dataRaw = dataList;\n    this.pageIndex = 0;\n\n    // automatically correct transform mode based on data\n    if (this.dataRaw && this.dataRaw.length) {\n      if (this.dataRaw[0].type === 'table') {\n        this.panel.transform = 'table';\n      } else {\n        if (this.dataRaw[0].type === 'docs') {\n          this.panel.transform = 'json';\n        } else {\n          if (this.panel.transform === 'table' || this.panel.transform === 'json') {\n            this.panel.transform = 'timeseries_to_rows';\n          }\n        }\n      }\n    }\n\n    this.render();\n  }\n\n  render() {\n    this.table = transformDataToTable(this.dataRaw, this.panel);\n    this.table.sort(this.panel.sort);\n\n    this.renderer = new TableRenderer(this.panel, this.table, this.dashboard.isTimezoneUtc(), this.$sanitize, this.templateSrv);\n\n    return super.render(this.table);\n  }\n\n  toggleColumnSort(col, colIndex) {\n    // remove sort flag from current column\n    if (this.table.columns[this.panel.sort.col]) {\n      this.table.columns[this.panel.sort.col].sort = false;\n    }\n\n    if (this.panel.sort.col === colIndex) {\n      if (this.panel.sort.desc) {\n        this.panel.sort.desc = false;\n      } else {\n        this.panel.sort.col = null;\n      }\n    } else {\n      this.panel.sort.col = colIndex;\n      this.panel.sort.desc = true;\n    }\n    this.render();\n  }\n\n  exportCsv() {\n    var scope = this.$scope.$new(true);\n    scope.tableData = this.renderer.render_values();\n    scope.panel = 'table';\n    this.publishAppEvent('show-modal', {\n      templateHtml: '<export-data-modal panel=\"panel\" data=\"tableData\"></export-data-modal>',\n      scope,\n      modalClass: 'modal--narrow'\n    });\n  }\n\n  link(scope, elem, attrs, ctrl: TablePanelCtrl) {\n    var data;\n    var panel = ctrl.panel;\n    var pageCount = 0;\n\n    function getTableHeight() {\n      var panelHeight = ctrl.height;\n\n      if (pageCount > 1) {\n        panelHeight -= 26;\n      }\n\n      return (panelHeight - 31) + 'px';\n    }\n\n    function appendTableRows(tbodyElem) {\n      ctrl.renderer.setTable(data);\n      tbodyElem.empty();\n      tbodyElem.html(ctrl.renderer.render(ctrl.pageIndex));\n    }\n\n    function switchPage(e) {\n      var el = $(e.currentTarget);\n      ctrl.pageIndex = (parseInt(el.text(), 10)-1);\n      renderPanel();\n    }\n\n    function appendPaginationControls(footerElem) {\n      footerElem.empty();\n\n      var pageSize = panel.pageSize || 100;\n      pageCount = Math.ceil(data.rows.length / pageSize);\n      if (pageCount === 1) {\n        return;\n      }\n\n      var startPage = Math.max(ctrl.pageIndex - 3, 0);\n      var endPage = Math.min(pageCount, startPage + 9);\n\n      var paginationList = $('<ul></ul>');\n\n      for (var i = startPage; i < endPage; i++) {\n        var activeClass = i === ctrl.pageIndex ? 'active' : '';\n        var pageLinkElem = $('<li><a class=\"table-panel-page-link pointer ' + activeClass + '\">' + (i+1) + '</a></li>');\n        paginationList.append(pageLinkElem);\n      }\n\n      footerElem.append(paginationList);\n    }\n\n    function renderPanel() {\n      var panelElem = elem.parents('.panel');\n      var rootElem = elem.find('.table-panel-scroll');\n      var tbodyElem = elem.find('tbody');\n      var footerElem = elem.find('.table-panel-footer');\n\n      elem.css({'font-size': panel.fontSize});\n      panelElem.addClass('table-panel-wrapper');\n\n      appendTableRows(tbodyElem);\n      appendPaginationControls(footerElem);\n\n      rootElem.css({'max-height': panel.scroll ? getTableHeight() : '' });\n    }\n\n    // hook up link tooltips\n    elem.tooltip({\n      selector: '[data-link-tooltip]'\n    });\n\n    function addFilterClicked(e) {\n      let filterData = $(e.currentTarget).data();\n      var options = {\n        datasource: panel.datasource,\n        key: data.columns[filterData.column].text,\n        value: data.rows[filterData.row][filterData.column],\n        operator: filterData.operator,\n      };\n\n      ctrl.variableSrv.setAdhocFilter(options);\n    }\n\n    elem.on('click', '.table-panel-page-link', switchPage);\n    elem.on('click', '.table-panel-filter-link', addFilterClicked);\n\n    var unbindDestroy = scope.$on('$destroy', function() {\n      elem.off('click', '.table-panel-page-link');\n      elem.off('click', '.table-panel-filter-link');\n      unbindDestroy();\n    });\n\n    ctrl.events.on('render', function(renderData) {\n      data = renderData || data;\n      if (data) {\n        renderPanel();\n      }\n      ctrl.renderingCompleted();\n    });\n  }\n}\n\nexport {\n  TablePanelCtrl,\n  TablePanelCtrl as PanelCtrl\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/table/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\n\nimport _ from 'lodash';\nimport {transformers} from './transformers';\n\nexport class TablePanelEditorCtrl {\n  panel: any;\n  panelCtrl: any;\n  transformers: any;\n  fontSizes: any;\n  addColumnSegment: any;\n  getColumnNames: any;\n  canSetColumns: boolean;\n  columnsHelpMessage: string;\n\n  /** @ngInject */\n  constructor($scope, private $q, private uiSegmentSrv) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.transformers = transformers;\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.addColumnSegment = uiSegmentSrv.newPlusButton();\n    this.updateTransformHints();\n  }\n\n  updateTransformHints() {\n    this.canSetColumns = false;\n    this.columnsHelpMessage = '';\n\n    switch (this.panel.transform) {\n      case \"timeseries_aggregations\": {\n        this.canSetColumns = true;\n        break;\n      }\n      case \"json\": {\n        this.canSetColumns = true;\n        break;\n      }\n      case \"table\": {\n        this.columnsHelpMessage = \"Columns and their order are determined by the data query\";\n      }\n    }\n  }\n\n  getColumnOptions() {\n    if (!this.panelCtrl.dataRaw) {\n      return this.$q.when([]);\n    }\n    var columns = this.transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw);\n    var segments = _.map(columns, (c: any) => this.uiSegmentSrv.newSegment({value: c.text}));\n    return this.$q.when(segments);\n  }\n\n  addColumn() {\n    var columns = transformers[this.panel.transform].getColumns(this.panelCtrl.dataRaw);\n    var column = _.find(columns, {text: this.addColumnSegment.value});\n\n    if (column) {\n      this.panel.columns.push(column);\n      this.render();\n    }\n\n    var plusButton = this.uiSegmentSrv.newPlusButton();\n    this.addColumnSegment.html = plusButton.html;\n    this.addColumnSegment.value = plusButton.value;\n  }\n\n  transformChanged() {\n    this.panel.columns = [];\n    if (this.panel.transform === 'timeseries_aggregations') {\n      this.panel.columns.push({text: 'Avg', value: 'avg'});\n    }\n\n    this.updateTransformHints();\n    this.render();\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  removeColumn(column) {\n    this.panel.columns = _.without(this.panel.columns, column);\n    this.panelCtrl.render();\n  }\n}\n\n/** @ngInject */\nexport function tablePanelEditor($q, uiSegmentSrv) {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/table/editor.html',\n    controller: TablePanelEditorCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/table/editor.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\n\nimport _ from 'lodash';\nimport kbn from 'app/core/utils/kbn';\n\nexport class ColumnOptionsCtrl {\n  panel: any;\n  panelCtrl: any;\n  colorModes: any;\n  columnStyles: any;\n  columnTypes: any;\n  fontSizes: any;\n  dateFormats: any;\n  addColumnSegment: any;\n  unitFormats: any;\n  getColumnNames: any;\n  activeStyleIndex: number;\n\n  /** @ngInject */\n  constructor($scope) {\n    $scope.editor = this;\n\n    this.activeStyleIndex = 0;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n    this.unitFormats = kbn.getUnitFormats();\n    this.colorModes = [\n      {text: 'Disabled', value: null},\n      {text: 'Cell', value: 'cell'},\n      {text: 'Value', value: 'value'},\n      {text: 'Row', value: 'row'},\n    ];\n    this.columnTypes = [\n      {text: 'Number', value: 'number'},\n      {text: 'String', value: 'string'},\n      {text: 'Date', value: 'date'},\n      {text: 'Hidden', value: 'hidden'}\n    ];\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.dateFormats = [\n      {text: 'YYYY-MM-DD HH:mm:ss', value: 'YYYY-MM-DD HH:mm:ss'},\n      {text: 'YYYY-MM-DD HH:mm:ss.SSS', value: 'YYYY-MM-DD HH:mm:ss.SSS'},\n      {text: 'MM/DD/YY h:mm:ss a', value: 'MM/DD/YY h:mm:ss a'},\n      {text: 'MMMM D, YYYY LT',  value: 'MMMM D, YYYY LT'},\n    ];\n\n    this.getColumnNames = () => {\n      if (!this.panelCtrl.table) {\n        return [];\n      }\n      return _.map(this.panelCtrl.table.columns, function(col: any) {\n        return col.text;\n      });\n    };\n\n    this.onColorChange = this.onColorChange.bind(this);\n  }\n\n  render() {\n    this.panelCtrl.render();\n  }\n\n  setUnitFormat(column, subItem) {\n    column.unit = subItem.value;\n    this.panelCtrl.render();\n  }\n\n  addColumnStyle() {\n    var newStyleRule = {\n      unit: 'short',\n      type: 'number',\n      alias: '',\n      decimals: 2,\n      colors: [\"rgba(245, 54, 54, 0.9)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(50, 172, 45, 0.97)\"],\n      colorMode: null,\n      pattern: '',\n      dateFormat: 'YYYY-MM-DD HH:mm:ss',\n      thresholds: [],\n    };\n\n    var styles = this.panel.styles;\n    var stylesCount = styles.length;\n    var indexToInsert = stylesCount;\n\n    // check if last is a catch all rule, then add it before that one\n    if (stylesCount > 0) {\n      var last = styles[stylesCount-1];\n      if (last.pattern === '/.*/') {\n        indexToInsert = stylesCount-1;\n      }\n    }\n\n    styles.splice(indexToInsert, 0, newStyleRule);\n    this.activeStyleIndex = indexToInsert;\n  }\n\n  removeColumnStyle(style) {\n    this.panel.styles = _.without(this.panel.styles, style);\n  }\n\n  invertColorOrder(index) {\n    var ref = this.panel.styles[index].colors;\n    var copy = ref[0];\n    ref[0] = ref[2];\n    ref[2] = copy;\n    this.panelCtrl.render();\n  }\n\n  onColorChange(styleIndex, colorIndex) {\n    return (newColor) => {\n      this.panel.styles[styleIndex].colors[colorIndex] = newColor;\n      this.render();\n    };\n  }\n}\n\n/** @ngInject */\nexport function columnOptionsTab($q, uiSegmentSrv) {\n  'use strict';\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/app/plugins/panel/table/column_options.html',\n    controller: ColumnOptionsCtrl,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/table/column_options.ts","import _ from 'lodash';\nimport moment from 'moment';\nimport kbn from 'app/core/utils/kbn';\n\nexport class TableRenderer {\n  formatters: any[];\n  colorState: any;\n\n  constructor(private panel, private table, private isUtc, private sanitize, private templateSrv) {\n    this.initColumns();\n  }\n\n  setTable(table) {\n    this.table = table;\n\n    this.initColumns();\n  }\n\n  initColumns() {\n    this.formatters = [];\n    this.colorState = {};\n\n    for (let colIndex = 0; colIndex < this.table.columns.length; colIndex++) {\n      let column = this.table.columns[colIndex];\n      column.title = column.text;\n\n      for (let i = 0; i < this.panel.styles.length; i++) {\n        let style = this.panel.styles[i];\n\n        var regex = kbn.stringToJsRegex(style.pattern);\n        if (column.text.match(regex)) {\n          column.style = style;\n\n          if (style.alias) {\n            column.title = column.text.replace(regex, style.alias);\n          }\n\n          break;\n        }\n      }\n\n      this.formatters[colIndex] = this.createColumnFormatter(column);\n    }\n  }\n\n  getColorForValue(value, style) {\n    if (!style.thresholds) { return null; }\n\n    for (var i = style.thresholds.length; i > 0; i--) {\n      if (value >= style.thresholds[i - 1]) {\n        return style.colors[i];\n      }\n    }\n    return _.first(style.colors);\n  }\n\n  defaultCellFormatter(v, style) {\n    if (v === null || v === void 0 || v === undefined) {\n      return '';\n    }\n\n    if (_.isArray(v)) {\n      v = v.join(', ');\n    }\n\n    if (style && style.sanitize) {\n      return this.sanitize(v);\n    } else {\n      return _.escape(v);\n    }\n  }\n\n  createColumnFormatter(column) {\n    if (!column.style) {\n      return this.defaultCellFormatter;\n    }\n\n    if (column.style.type === 'hidden') {\n      return v => {\n        return undefined;\n      };\n    }\n\n    if (column.style.type === 'date') {\n      return v => {\n        if (v === undefined || v === null) {\n          return '-';\n        }\n\n        if (_.isArray(v)) { v = v[0]; }\n        var date = moment(v);\n        if (this.isUtc) {\n          date = date.utc();\n        }\n        return date.format(column.style.dateFormat);\n      };\n    }\n\n    if (column.style.type === 'number') {\n      let valueFormatter = kbn.valueFormats[column.unit || column.style.unit];\n\n      return v =>  {\n        if (v === null || v === void 0) {\n          return '-';\n        }\n\n        if (_.isString(v)) {\n          return this.defaultCellFormatter(v, column.style);\n        }\n\n        if (column.style.colorMode) {\n          this.colorState[column.style.colorMode] = this.getColorForValue(v, column.style);\n        }\n\n        return valueFormatter(v, column.style.decimals, null);\n      };\n    }\n\n    return (value) => {\n      return this.defaultCellFormatter(value, column.style);\n    };\n  }\n\n  renderRowVariables(rowIndex) {\n    let scopedVars = {};\n    let cell_variable;\n    let row = this.table.rows[rowIndex];\n    for (let i = 0; i < row.length; i++) {\n      cell_variable = `__cell_${i}`;\n      scopedVars[cell_variable] = { value: row[i] };\n    }\n    return scopedVars;\n  }\n\n  formatColumnValue(colIndex, value) {\n    return this.formatters[colIndex] ? this.formatters[colIndex](value) : value;\n  }\n\n  renderCell(columnIndex, rowIndex, value, addWidthHack = false) {\n    value = this.formatColumnValue(columnIndex, value);\n\n    var column = this.table.columns[columnIndex];\n    var style = '';\n    var cellClasses = [];\n    var cellClass = '';\n\n    if (this.colorState.cell) {\n      style = ' style=\"background-color:' + this.colorState.cell + ';color: white\"';\n      this.colorState.cell = null;\n    } else if (this.colorState.value) {\n      style = ' style=\"color:' + this.colorState.value + '\"';\n      this.colorState.value = null;\n    }\n\n    // because of the fixed table headers css only solution\n    // there is an issue if header cell is wider the cell\n    // this hack adds header content to cell (not visible)\n    var columnHtml = '';\n    if (addWidthHack) {\n      columnHtml = '<div class=\"table-panel-width-hack\">' + this.table.columns[columnIndex].title + '</div>';\n    }\n\n    if (value === undefined) {\n      style = ' style=\"display:none;\"';\n      column.hidden = true;\n    } else {\n      column.hidden = false;\n    }\n\n    if (column.style && column.style.preserveFormat) {\n      cellClasses.push(\"table-panel-cell-pre\");\n    }\n\n    if (column.style && column.style.link) {\n      // Render cell as link\n      var scopedVars = this.renderRowVariables(rowIndex);\n      scopedVars['__cell'] = { value: value };\n\n      var cellLink = this.templateSrv.replace(column.style.linkUrl, scopedVars);\n      var cellLinkTooltip = this.templateSrv.replace(column.style.linkTooltip, scopedVars);\n      var cellTarget = column.style.linkTargetBlank ? '_blank' : '';\n\n      cellClasses.push(\"table-panel-cell-link\");\n      columnHtml += `\n        <a href=\"${cellLink}\" target=\"${cellTarget}\" data-link-tooltip data-original-title=\"${cellLinkTooltip}\" data-placement=\"right\">\n          ${value}\n        </a>\n      `;\n    } else {\n      columnHtml += value;\n    }\n\n    if (column.filterable) {\n      cellClasses.push(\"table-panel-cell-filterable\");\n      columnHtml += `\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter out value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"!=\">\n          <i class=\"fa fa-search-minus\"></i>\n        </a>\n        <a class=\"table-panel-filter-link\" data-link-tooltip data-original-title=\"Filter for value\" data-placement=\"bottom\"\n           data-row=\"${rowIndex}\" data-column=\"${columnIndex}\" data-operator=\"=\">\n          <i class=\"fa fa-search-plus\"></i>\n        </a>`;\n    }\n\n    if (cellClasses.length) {\n      cellClass = ' class=\"' + cellClasses.join(' ') + '\"';\n    }\n\n    columnHtml = '<td' + cellClass + style + '>' + columnHtml + '</td>';\n    return columnHtml;\n  }\n\n  render(page) {\n    let pageSize = this.panel.pageSize || 100;\n    let startPos = page * pageSize;\n    let endPos = Math.min(startPos + pageSize, this.table.rows.length);\n    var html = \"\";\n\n    for (var y = startPos; y < endPos; y++) {\n      let row = this.table.rows[y];\n      let cellHtml = '';\n      let rowStyle = '';\n      for (var i = 0; i < this.table.columns.length; i++) {\n        cellHtml += this.renderCell(i, y, row[i], y === startPos);\n      }\n\n      if (this.colorState.row) {\n        rowStyle = ' style=\"background-color:' + this.colorState.row + ';color: white\"';\n        this.colorState.row = null;\n      }\n\n      html += '<tr ' + rowStyle + '>' + cellHtml + '</tr>';\n    }\n\n    return html;\n  }\n\n  render_values() {\n    let rows = [];\n\n    for (var y = 0; y < this.table.rows.length; y++) {\n      let row = this.table.rows[y];\n      let new_row = [];\n      for (var i = 0; i < this.table.columns.length; i++) {\n        new_row.push(this.formatColumnValue(i, row[i]));\n      }\n      rows.push(new_row);\n    }\n    return {\n        columns: this.table.columns,\n        rows: rows,\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/table/renderer.ts","import _ from 'lodash';\nimport $ from 'jquery';\nimport 'vendor/flot/jquery.flot';\nimport 'vendor/flot/jquery.flot.gauge';\nimport 'app/features/panellinks/link_srv';\n\nimport kbn from 'app/core/utils/kbn';\nimport config from 'app/core/config';\nimport TimeSeries from 'app/core/time_series2';\nimport {MetricsPanelCtrl} from 'app/plugins/sdk';\n\nclass SingleStatCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'module.html';\n\n  dataType = 'timeseries';\n  series: any[];\n  data: any;\n  fontSizes: any[];\n  unitFormats: any[];\n  invalidGaugeRange: boolean;\n  panel: any;\n  events: any;\n  valueNameOptions: any[] = [\n    {value : 'min', text: 'Min'},\n    {value : 'max', text: 'Max'},\n    {value : 'avg', text: 'Average'},\n    {value : 'current', text: 'Current'},\n    {value : 'total', text: 'Total'},\n    {value : 'name', text: 'Name'},\n    {value : 'first', text: 'First'},\n    {value : 'delta', text: 'Delta'},\n    {value : 'diff', text: 'Difference'},\n    {value : 'range', text: 'Range'},\n    {value : 'last_time', text: 'Time of last point'}\n  ];\n  tableColumnOptions: any;\n\n  // Set and populate defaults\n  panelDefaults = {\n    links: [],\n    datasource: null,\n    maxDataPoints: 100,\n    interval: null,\n    targets: [{}],\n    cacheTimeout: null,\n    format: 'none',\n    prefix: '',\n    postfix: '',\n    nullText: null,\n    valueMaps: [\n      { value: 'null', op: '=', text: 'N/A' }\n    ],\n    mappingTypes: [\n      {name: 'value to text', value: 1},\n      {name: 'range to text', value: 2},\n    ],\n    rangeMaps: [\n      { from: 'null', to: 'null', text: 'N/A' }\n    ],\n    mappingType: 1,\n    nullPointMode: 'connected',\n    valueName: 'avg',\n    prefixFontSize: '50%',\n    valueFontSize: '80%',\n    postfixFontSize: '50%',\n    thresholds: '',\n    colorBackground: false,\n    colorValue: false,\n    colors: [\"#299c46\", \"rgba(237, 129, 40, 0.89)\", \"#d44a3a\"],\n    sparkline: {\n      show: false,\n      full: false,\n      lineColor: 'rgb(31, 120, 193)',\n      fillColor: 'rgba(31, 118, 189, 0.18)',\n    },\n    gauge: {\n      show: false,\n      minValue: 0,\n      maxValue: 100,\n      thresholdMarkers: true,\n      thresholdLabels: false\n    },\n    tableColumn: ''\n  };\n\n  /** @ngInject */\n  constructor($scope, $injector, private $location, private linkSrv) {\n    super($scope, $injector);\n    _.defaults(this.panel, this.panelDefaults);\n\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n\n    this.onSparklineColorChange = this.onSparklineColorChange.bind(this);\n    this.onSparklineFillChange = this.onSparklineFillChange.bind(this);\n  }\n\n  onInitEditMode() {\n    this.fontSizes = ['20%', '30%','50%','70%','80%','100%', '110%', '120%', '150%', '170%', '200%'];\n    this.addEditorTab('Options', 'public/app/plugins/panel/singlestat/editor.html', 2);\n    this.addEditorTab('Value Mappings', 'public/app/plugins/panel/singlestat/mappings.html', 3);\n    this.unitFormats = kbn.getUnitFormats();\n  }\n\n  setUnitFormat(subItem) {\n    this.panel.format = subItem.value;\n    this.refresh();\n  }\n\n  onDataError(err) {\n    this.onDataReceived([]);\n  }\n\n  onDataReceived(dataList) {\n    const data: any = {};\n    if (dataList.length > 0 && dataList[0].type === 'table') {\n      this.dataType = 'table';\n      const tableData = dataList.map(this.tableHandler.bind(this));\n      this.setTableValues(tableData, data);\n    } else {\n      this.dataType = 'timeseries';\n      this.series = dataList.map(this.seriesHandler.bind(this));\n      this.setValues(data);\n    }\n    this.data = data;\n    this.render();\n  }\n\n  seriesHandler(seriesData) {\n    var series = new TimeSeries({\n      datapoints: seriesData.datapoints || [],\n      alias: seriesData.target,\n    });\n\n    series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\n    return series;\n  }\n\n  tableHandler(tableData) {\n    const datapoints = [];\n    const columnNames = {};\n\n    tableData.columns.forEach((column, columnIndex) => {\n      columnNames[columnIndex] = column.text;\n    });\n\n    this.tableColumnOptions = columnNames;\n    if (!_.find(tableData.columns, ['text', this.panel.tableColumn])) {\n      this.setTableColumnToSensibleDefault(tableData);\n    }\n\n    tableData.rows.forEach((row) => {\n      const datapoint = {};\n\n      row.forEach((value, columnIndex) => {\n        const key = columnNames[columnIndex];\n        datapoint[key] = value;\n      });\n\n      datapoints.push(datapoint);\n    });\n\n    return datapoints;\n  }\n\n  setTableColumnToSensibleDefault(tableData) {\n    if (this.tableColumnOptions.length === 1) {\n      this.panel.tableColumn = this.tableColumnOptions[0];\n    } else {\n      this.panel.tableColumn = _.find(tableData.columns, (col) => { return col.type !== 'time'; }).text;\n    }\n  }\n\n  setTableValues(tableData, data) {\n    if (!tableData || tableData.length === 0) {\n      return;\n    }\n\n    if (tableData[0].length === 0 || tableData[0][0][this.panel.tableColumn] === undefined) {\n      return;\n    }\n\n    const datapoint = tableData[0][0];\n    data.value = datapoint[this.panel.tableColumn];\n\n    if (_.isString(data.value)) {\n      data.valueFormatted = _.escape(data.value);\n      data.value = 0;\n      data.valueRounded = 0;\n    } else {\n      const decimalInfo = this.getDecimalsForValue(data.value);\n      const formatFunc = kbn.valueFormats[this.panel.format];\n      data.valueFormatted = formatFunc(datapoint[this.panel.tableColumn], decimalInfo.decimals, decimalInfo.scaledDecimals);\n      data.valueRounded = kbn.roundValue(data.value, this.panel.decimals || 0);\n    }\n\n    this.setValueMapping(data);\n  }\n\n  setColoring(options) {\n    if (options.background) {\n      this.panel.colorValue = false;\n      this.panel.colors = ['rgba(71, 212, 59, 0.4)', 'rgba(245, 150, 40, 0.73)', 'rgba(225, 40, 40, 0.59)'];\n    } else {\n      this.panel.colorBackground = false;\n      this.panel.colors = ['rgba(50, 172, 45, 0.97)', 'rgba(237, 129, 40, 0.89)', 'rgba(245, 54, 54, 0.9)'];\n    }\n    this.render();\n  }\n\n  invertColorOrder() {\n    var tmp = this.panel.colors[0];\n    this.panel.colors[0] = this.panel.colors[2];\n    this.panel.colors[2] = tmp;\n    this.render();\n  }\n\n  onColorChange(panelColorIndex) {\n    return (color) => {\n      this.panel.colors[panelColorIndex] = color;\n      this.render();\n    };\n  }\n\n  onSparklineColorChange(newColor) {\n    this.panel.sparkline.lineColor = newColor;\n    this.render();\n  }\n\n  onSparklineFillChange(newColor) {\n    this.panel.sparkline.fillColor = newColor;\n    this.render();\n  }\n\n  getDecimalsForValue(value) {\n    if (_.isNumber(this.panel.decimals)) {\n      return {decimals: this.panel.decimals, scaledDecimals: null};\n    }\n\n    var delta = value / 2;\n    var dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n    var magn = Math.pow(10, -dec),\n      norm = delta / magn, // norm is between 1.0 and 10.0\n      size;\n\n    if (norm < 1.5) {\n      size = 1;\n    } else if (norm < 3) {\n      size = 2;\n      // special case for 2.5, requires an extra decimal\n      if (norm > 2.25) {\n        size = 2.5;\n        ++dec;\n      }\n    } else if (norm < 7.5) {\n      size = 5;\n    } else {\n      size = 10;\n    }\n\n    size *= magn;\n\n    // reduce starting decimals if not needed\n    if (Math.floor(value) === value) { dec = 0; }\n\n    var result: any = {};\n    result.decimals = Math.max(0, dec);\n    result.scaledDecimals = result.decimals - Math.floor(Math.log(size) / Math.LN10) + 2;\n\n    return result;\n  }\n\n  setValues(data) {\n    data.flotpairs = [];\n\n    if (this.series.length > 1) {\n      var error: any = new Error();\n      error.message = 'Multiple Series Error';\n      error.data = 'Metric query returns ' + this.series.length +\n        ' series. Single Stat Panel expects a single series.\\n\\nResponse:\\n'+JSON.stringify(this.series);\n      throw error;\n    }\n\n    if (this.series && this.series.length > 0) {\n      let lastPoint = _.last(this.series[0].datapoints);\n      let lastValue = _.isArray(lastPoint) ? lastPoint[0] : null;\n\n      if (this.panel.valueName === 'name') {\n        data.value = 0;\n        data.valueRounded = 0;\n        data.valueFormatted = this.series[0].alias;\n      } else if (_.isString(lastValue)) {\n        data.value = 0;\n        data.valueFormatted = _.escape(lastValue);\n        data.valueRounded = 0;\n      } else if (this.panel.valueName === 'last_time') {\n        let formatFunc = kbn.valueFormats[this.panel.format];\n        data.value = lastPoint[1];\n        data.valueRounded = data.value;\n        data.valueFormatted = formatFunc(data.value, 0, 0);\n      } else {\n        data.value = this.series[0].stats[this.panel.valueName];\n        data.flotpairs = this.series[0].flotpairs;\n\n        let decimalInfo = this.getDecimalsForValue(data.value);\n        let formatFunc = kbn.valueFormats[this.panel.format];\n        data.valueFormatted = formatFunc(data.value, decimalInfo.decimals, decimalInfo.scaledDecimals);\n        data.valueRounded = kbn.roundValue(data.value, decimalInfo.decimals);\n      }\n\n      // Add $__name variable for using in prefix or postfix\n      data.scopedVars = _.extend({}, this.panel.scopedVars);\n      data.scopedVars[\"__name\"] = {value: this.series[0].label};\n    }\n    this.setValueMapping(data);\n  }\n\n  setValueMapping(data) {\n    // check value to text mappings if its enabled\n    if (this.panel.mappingType === 1) {\n      for (let i = 0; i < this.panel.valueMaps.length; i++) {\n        let map = this.panel.valueMaps[i];\n        // special null case\n        if (map.value === 'null') {\n          if (data.value === null || data.value === void 0) {\n            data.valueFormatted = map.text;\n            return;\n          }\n          continue;\n        }\n\n        // value/number to text mapping\n        var value = parseFloat(map.value);\n        if (value === data.valueRounded) {\n          data.valueFormatted = map.text;\n          return;\n        }\n      }\n    } else if (this.panel.mappingType === 2) {\n      for (let i = 0; i < this.panel.rangeMaps.length; i++) {\n        let map = this.panel.rangeMaps[i];\n        // special null case\n        if (map.from === 'null' && map.to === 'null') {\n          if (data.value === null || data.value === void 0) {\n            data.valueFormatted = map.text;\n            return;\n          }\n          continue;\n        }\n\n        // value/number to range mapping\n        var from = parseFloat(map.from);\n        var to = parseFloat(map.to);\n        if (to >= data.valueRounded && from <= data.valueRounded) {\n          data.valueFormatted = map.text;\n          return;\n        }\n      }\n    }\n\n    if (data.value === null || data.value === void 0) {\n      data.valueFormatted = \"no value\";\n    }\n  }\n\n  removeValueMap(map) {\n    var index = _.indexOf(this.panel.valueMaps, map);\n    this.panel.valueMaps.splice(index, 1);\n    this.render();\n  }\n\n  addValueMap() {\n    this.panel.valueMaps.push({value: '', op: '=', text: '' });\n  }\n\n  removeRangeMap(rangeMap) {\n    var index = _.indexOf(this.panel.rangeMaps, rangeMap);\n    this.panel.rangeMaps.splice(index, 1);\n    this.render();\n  }\n\n  addRangeMap() {\n    this.panel.rangeMaps.push({from: '', to: '', text: ''});\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    var $location = this.$location;\n    var linkSrv = this.linkSrv;\n    var $timeout = this.$timeout;\n    var panel = ctrl.panel;\n    var templateSrv = this.templateSrv;\n    var data, linkInfo;\n    var $panelContainer = elem.find('.panel-container');\n    elem = elem.find('.singlestat-panel');\n\n    function setElementHeight() {\n      elem.css('height', ctrl.height + 'px');\n    }\n\n    function applyColoringThresholds(value, valueString) {\n      if (!panel.colorValue) {\n        return valueString;\n      }\n\n      var color = getColorForValue(data, value);\n      if (color) {\n        return '<span style=\"color:' + color + '\">'+ valueString + '</span>';\n      }\n\n      return valueString;\n    }\n\n    function getSpan(className, fontSize, value)  {\n      value = templateSrv.replace(value, data.scopedVars);\n      return '<span class=\"' + className + '\" style=\"font-size:' + fontSize + '\">' +\n        value + '</span>';\n    }\n\n    function getBigValueHtml() {\n      var body = '<div class=\"singlestat-panel-value-container\">';\n\n      if (panel.prefix) { body += getSpan('singlestat-panel-prefix', panel.prefixFontSize, panel.prefix); }\n\n      var value = applyColoringThresholds(data.value, data.valueFormatted);\n      body += getSpan('singlestat-panel-value', panel.valueFontSize, value);\n\n      if (panel.postfix) { body += getSpan('singlestat-panel-postfix', panel.postfixFontSize, panel.postfix); }\n\n      body += '</div>';\n\n      return body;\n    }\n\n    function getValueText() {\n      var result = panel.prefix ? templateSrv.replace(panel.prefix, data.scopedVars) : '';\n      result += data.valueFormatted;\n      result += panel.postfix ? templateSrv.replace(panel.postfix, data.scopedVars) : '';\n\n      return result;\n    }\n\n    function addGauge() {\n      var width = elem.width();\n      var height = elem.height();\n      // Allow to use a bit more space for wide gauges\n      var dimension = Math.min(width, height * 1.3);\n\n      ctrl.invalidGaugeRange = false;\n      if (panel.gauge.minValue > panel.gauge.maxValue) {\n        ctrl.invalidGaugeRange = true;\n        return;\n      }\n\n      var plotCanvas = $('<div></div>');\n      var plotCss = {\n        top: '10px',\n        margin: 'auto',\n        position: 'relative',\n        height: (height * 0.9) + 'px',\n        width:  dimension + 'px'\n      };\n\n      plotCanvas.css(plotCss);\n\n      var thresholds = [];\n      for (var i = 0; i < data.thresholds.length; i++) {\n        thresholds.push({\n          value: data.thresholds[i],\n          color: data.colorMap[i]\n        });\n      }\n      thresholds.push({\n        value: panel.gauge.maxValue,\n        color: data.colorMap[data.colorMap.length  - 1]\n      });\n\n      var bgColor = config.bootData.user.lightTheme\n        ? 'rgb(230,230,230)'\n        : 'rgb(38,38,38)';\n\n      var fontScale = parseInt(panel.valueFontSize) / 100;\n      var fontSize = Math.min(dimension/5, 100) * fontScale;\n      // Reduce gauge width if threshold labels enabled\n      var gaugeWidthReduceRatio = panel.gauge.thresholdLabels ? 1.5 : 1;\n      var gaugeWidth = Math.min(dimension/6, 60) / gaugeWidthReduceRatio;\n      var thresholdMarkersWidth = gaugeWidth/5;\n      var thresholdLabelFontSize = fontSize / 2.5;\n\n      var options = {\n        series: {\n          gauges: {\n            gauge: {\n              min: panel.gauge.minValue,\n              max: panel.gauge.maxValue,\n              background: { color: bgColor },\n              border: { color: null },\n              shadow: { show: false },\n              width: gaugeWidth,\n            },\n            frame: { show: false },\n            label: { show: false },\n            layout: { margin: 0, thresholdWidth: 0 },\n            cell: { border: { width: 0 } },\n            threshold: {\n              values: thresholds,\n              label: {\n                show: panel.gauge.thresholdLabels,\n                margin: thresholdMarkersWidth + 1,\n                font: { size: thresholdLabelFontSize }\n              },\n              show: panel.gauge.thresholdMarkers,\n              width: thresholdMarkersWidth,\n            },\n            value: {\n              color: panel.colorValue ? getColorForValue(data, data.valueRounded) : null,\n              formatter: function() { return getValueText(); },\n              font: { size: fontSize, family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif' }\n            },\n            show: true\n          }\n        }\n      };\n\n      elem.append(plotCanvas);\n\n      var plotSeries = {\n        data: [[0, data.valueRounded]]\n      };\n\n      $.plot(plotCanvas, [plotSeries], options);\n    }\n\n    function addSparkline() {\n      var width = elem.width() + 20;\n      if (width < 30) {\n        // element has not gotten it's width yet\n        // delay sparkline render\n        setTimeout(addSparkline, 30);\n        return;\n      }\n\n      var height = ctrl.height;\n      var plotCanvas = $('<div></div>');\n      var plotCss: any = {};\n      plotCss.position = 'absolute';\n\n      if (panel.sparkline.full) {\n        plotCss.bottom = '5px';\n        plotCss.left = '-5px';\n        plotCss.width = (width - 10) + 'px';\n        var dynamicHeightMargin = height <= 100 ? 5 : (Math.round((height/100)) * 15) + 5;\n        plotCss.height = (height - dynamicHeightMargin) + 'px';\n      } else {\n        plotCss.bottom = \"0px\";\n        plotCss.left = \"-5px\";\n        plotCss.width = (width - 10) + 'px';\n        plotCss.height = Math.floor(height * 0.25) + \"px\";\n      }\n\n      plotCanvas.css(plotCss);\n\n      var options = {\n        legend: { show: false },\n        series: {\n          lines:  {\n            show: true,\n            fill: 1,\n            lineWidth: 1,\n            fillColor: panel.sparkline.fillColor,\n          },\n        },\n        yaxes: { show: false },\n        xaxis: {\n          show: false,\n          mode: \"time\",\n          min: ctrl.range.from.valueOf(),\n          max: ctrl.range.to.valueOf(),\n        },\n        grid: { hoverable: false, show: false },\n      };\n\n      elem.append(plotCanvas);\n\n      var plotSeries = {\n        data: data.flotpairs,\n        color: panel.sparkline.lineColor\n      };\n\n      $.plot(plotCanvas, [plotSeries], options);\n    }\n\n    function render() {\n      if (!ctrl.data) { return; }\n      data = ctrl.data;\n\n      // get thresholds\n      data.thresholds = panel.thresholds.split(',').map(function(strVale) {\n        return Number(strVale.trim());\n      });\n      data.colorMap = panel.colors;\n\n      setElementHeight();\n\n      var body = panel.gauge.show ? '' : getBigValueHtml();\n\n      if (panel.colorBackground) {\n        var color = getColorForValue(data, data.value);\n        if (color) {\n          $panelContainer.css('background-color', color);\n          if (scope.fullscreen) {\n            elem.css('background-color', color);\n          } else {\n            elem.css('background-color', '');\n          }\n        }\n      } else {\n        $panelContainer.css('background-color', '');\n        elem.css('background-color', '');\n      }\n\n      elem.html(body);\n\n      if (panel.sparkline.show) {\n        addSparkline();\n      }\n\n      if (panel.gauge.show) {\n        addGauge();\n      }\n\n      elem.toggleClass('pointer', panel.links.length > 0);\n\n      if (panel.links.length > 0) {\n        linkInfo = linkSrv.getPanelLinkAnchorInfo(panel.links[0], data.scopedVars);\n      } else {\n        linkInfo = null;\n      }\n    }\n\n    function hookupDrilldownLinkTooltip() {\n      // drilldown link tooltip\n      var drilldownTooltip = $('<div id=\"tooltip\" class=\"\">hello</div>\"');\n\n      elem.mouseleave(function() {\n        if (panel.links.length === 0) { return;}\n        $timeout(function() {\n          drilldownTooltip.detach();\n        });\n      });\n\n      elem.click(function(evt) {\n        if (!linkInfo) { return; }\n        // ignore title clicks in title\n        if ($(evt).parents('.panel-header').length > 0) { return; }\n\n        if (linkInfo.target === '_blank') {\n          window.open(linkInfo.href, '_blank');\n          return;\n        }\n\n        if (linkInfo.href.indexOf('http') === 0) {\n          window.location.href = linkInfo.href;\n        } else {\n          $timeout(function() {\n            $location.url(linkInfo.href);\n          });\n        }\n\n        drilldownTooltip.detach();\n      });\n\n      elem.mousemove(function(e) {\n        if (!linkInfo) { return;}\n\n        drilldownTooltip.text('click to go to: ' + linkInfo.title);\n        drilldownTooltip.place_tt(e.pageX, e.pageY-50);\n      });\n    }\n\n    hookupDrilldownLinkTooltip();\n\n    this.events.on('render', function() {\n      render();\n      ctrl.renderingCompleted();\n    });\n  }\n}\n\nfunction getColorForValue(data, value) {\n  if (!_.isFinite(value)) {\n    return null;\n  }\n  for (var i = data.thresholds.length; i > 0; i--) {\n    if (value >= data.thresholds[i-1]) {\n      return data.colorMap[i];\n    }\n  }\n  return _.first(data.colorMap);\n}\n\nexport {\n  SingleStatCtrl,\n  SingleStatCtrl as PanelCtrl,\n  getColorForValue\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/singlestat/module.ts","/*!\n * jquery.flot.gauge v1.1.0 *\n *\n * Flot plugin for rendering gauge charts.\n *\n * Copyright (c) 2015 @toyoty99.\n * Licensed under the MIT license.\n */\n\n/**\n * @module flot.gauge\n */\n(function($) {\n\n\n    /**\n     * Gauge class\n     *\n     * @class Gauge\n     */\n    var Gauge = (function() {\n        /**\n         * context of canvas\n         *\n         * @property context\n         * @type Object\n         */\n        var context;\n        /**\n         * placeholder of canvas\n         *\n         * @property placeholder\n         * @type Object\n         */\n        var placeholder;\n        /**\n         * options of plot\n         *\n         * @property options\n         * @type Object\n         */\n        var options;\n        /**\n         * options of gauge\n         *\n         * @property gaugeOptions\n         * @type Object\n         */\n        var gaugeOptions;\n        /**\n         * data series\n         *\n         * @property series\n         * @type Array\n         */\n        var series;\n        /**\n         * logger\n         *\n         * @property logger\n         * @type Object\n         */\n        var logger;\n\n        /**\n         * constructor\n         *\n         * @class Gauge\n         * @constructor\n         * @param  {Object} gaugeOptions gauge options\n         */\n        var Gauge = function(plot, ctx) {\n            context = ctx;\n            placeholder = plot.getPlaceholder();\n            options = plot.getOptions();\n            gaugeOptions = options.series.gauges;\n            series = plot.getData();\n            logger = getLogger(gaugeOptions.debug);\n        }\n\n        /**\n         * calculate layout\n         *\n         * @method calculateLayout\n         * @return the calculated layout properties\n         */\n        Gauge.prototype.calculateLayout = function() {\n\n            var canvasWidth = placeholder.width();\n            var canvasHeight = placeholder.height();\n\n\n\n            // calculate cell size\n            var columns = Math.min(series.length, gaugeOptions.layout.columns);\n            var rows = Math.ceil(series.length / columns);\n\n\n\n            var margin = gaugeOptions.layout.margin;\n            var hMargin = gaugeOptions.layout.hMargin;\n            var vMargin = gaugeOptions.layout.vMargin;\n            var cellWidth = (canvasWidth - (margin * 2) - (hMargin * (columns - 1))) / columns;\n            var cellHeight = (canvasHeight - (margin * 2) - (vMargin * (rows - 1))) / rows;\n            if (gaugeOptions.layout.square) {\n                var cell = Math.min(cellWidth, cellHeight);\n                cellWidth = cell;\n                cellHeight = cell;\n            }\n\n\n\n            // calculate 'auto' values\n            calculateAutoValues(gaugeOptions, cellWidth);\n\n            // calculate maximum radius\n            var cellMargin = gaugeOptions.cell.margin;\n            var labelMargin = 0;\n            var labelFontSize = 0;\n            if (gaugeOptions.label.show) {\n                labelMargin = gaugeOptions.label.margin;\n                labelFontSize = gaugeOptions.label.font.size;\n            }\n            var valueMargin = 0;\n            var valueFontSize = 0;\n            if (gaugeOptions.value.show) {\n                valueMargin = gaugeOptions.value.margin;\n                valueFontSize = gaugeOptions.value.font.size;\n            }\n            var thresholdWidth = 0;\n            if (gaugeOptions.threshold.show) {\n                thresholdWidth = gaugeOptions.threshold.width;\n            }\n            var thresholdLabelMargin = 0;\n            var thresholdLabelFontSize = 0;\n            if (gaugeOptions.threshold.label.show) {\n                thresholdLabelMargin = gaugeOptions.threshold.label.margin;\n                thresholdLabelFontSize = gaugeOptions.threshold.label.font.size;\n            }\n\n            var maxRadiusH = (cellWidth / 2) - cellMargin - thresholdWidth - (thresholdLabelMargin * 2) - thresholdLabelFontSize;\n\n            var startAngle = gaugeOptions.gauge.startAngle;\n            var endAngle = gaugeOptions.gauge.endAngle;\n            var dAngle = (endAngle - startAngle) / 100;\n            var heightRatioV = -1;\n            for (var a = startAngle; a < endAngle; a += dAngle) {\n                heightRatioV = Math.max(heightRatioV, Math.sin(toRad(a)));\n            }\n            heightRatioV = Math.max(heightRatioV, Math.sin(toRad(endAngle)));\n            var outerRadiusV = (cellHeight - (cellMargin * 2) - (labelMargin * 2) - labelFontSize) / (1 + heightRatioV);\n            if (outerRadiusV * heightRatioV < valueMargin + (valueFontSize / 2)) {\n                outerRadiusV = cellHeight - (cellMargin * 2) - (labelMargin * 2) - labelFontSize - valueMargin - (valueFontSize / 2);\n            }\n            var maxRadiusV = outerRadiusV - (thresholdLabelMargin * 2) - thresholdLabelFontSize - thresholdWidth;\n\n            var radius = Math.min(maxRadiusH, maxRadiusV);\n\n\n            var width = gaugeOptions.gauge.width;\n            if (width >= radius) {\n                width = Math.max(3, radius / 3);\n            }\n\n\n            var outerRadius = (thresholdLabelMargin * 2) + thresholdLabelFontSize + thresholdWidth + radius;\n            var gaugeOuterHeight = Math.max(outerRadius * (1 + heightRatioV), outerRadius + valueMargin + (valueFontSize / 2));\n\n            return {\n                canvasWidth: canvasWidth,\n                canvasHeight: canvasHeight,\n                margin: margin,\n                hMargin: hMargin,\n                vMargin: vMargin,\n                columns: columns,\n                rows: rows,\n                cellWidth: cellWidth,\n                cellHeight: cellHeight,\n                cellMargin: cellMargin,\n                labelMargin: labelMargin,\n                labelFontSize: labelFontSize,\n                valueMargin: valueMargin,\n                valueFontSize: valueFontSize,\n                width: width,\n                radius: radius,\n                thresholdWidth: thresholdWidth,\n                thresholdLabelMargin: thresholdLabelMargin,\n                thresholdLabelFontSize: thresholdLabelFontSize,\n                gaugeOuterHeight: gaugeOuterHeight\n            };\n        }\n\n        /**\n         * calculate the values which are set as 'auto'\n         *\n         * @method calculateAutoValues\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} cellWidth the width of cell\n         */\n        function calculateAutoValues(gaugeOptionsi, cellWidth) {\n\n            if (gaugeOptionsi.gauge.width === \"auto\") {\n                gaugeOptionsi.gauge.width = Math.max(5, cellWidth / 8);\n            }\n            if (gaugeOptionsi.label.margin === \"auto\") {\n                gaugeOptionsi.label.margin = Math.max(1, cellWidth / 20);\n            }\n            if (gaugeOptionsi.label.font.size === \"auto\") {\n                gaugeOptionsi.label.font.size = Math.max(5, cellWidth / 8);\n            }\n            if (gaugeOptionsi.value.margin === \"auto\") {\n                gaugeOptionsi.value.margin = Math.max(1, cellWidth / 30);\n            }\n            if (gaugeOptionsi.value.font.size === \"auto\") {\n                gaugeOptionsi.value.font.size = Math.max(5, cellWidth / 9);\n            }\n            if (gaugeOptionsi.threshold.width === \"auto\") {\n                gaugeOptionsi.threshold.width = Math.max(3, cellWidth / 100);\n            }\n            if (gaugeOptionsi.threshold.label.margin === \"auto\") {\n                gaugeOptionsi.threshold.label.margin = Math.max(3, cellWidth / 40);\n            }\n            if (gaugeOptionsi.threshold.label.font.size === \"auto\") {\n                gaugeOptionsi.threshold.label.font.size = Math.max(5, cellWidth / 15);\n            }\n\n        }\n        Gauge.prototype.calculateAutoValues = calculateAutoValues;\n\n        /**\n         * calculate the layout of the cell inside\n         *\n         * @method calculateCellLayout\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} cellWidth the width of cell\n         * @param  {Number} i the index of the series\n         * @return the calculated cell layout properties\n         */\n        Gauge.prototype.calculateCellLayout = function(gaugeOptionsi, layout, i) {\n\n            // calculate top, left and center\n            var c = col(layout.columns, i);\n            var r = row(layout.columns, i);\n            var x = layout.margin + (layout.cellWidth + layout.hMargin) * c;\n            var y = layout.margin + (layout.cellHeight + layout.vMargin) * r;\n            var cx = x + (layout.cellWidth / 2);\n            var cy = y + layout.cellMargin + (layout.labelMargin * 2) + layout.labelFontSize + layout.thresholdWidth\n                        + layout.thresholdLabelFontSize + (layout.thresholdLabelMargin * 2) + layout.radius;\n            var blank = layout.cellHeight - (layout.cellMargin * 2) - (layout.labelMargin * 2) - layout.labelFontSize - layout.gaugeOuterHeight;\n            var offsetY = 0;\n            if (gaugeOptionsi.cell.vAlign === \"middle\") {\n                offsetY = (blank / 2);\n            } else if (gaugeOptionsi.cell.vAlign === \"bottom\") {\n                offsetY = blank;\n            }\n            cy += offsetY;\n\n            return {\n                col: c,\n                row: r,\n                x: x,\n                y: y,\n                offsetY: offsetY,\n                cellWidth: layout.cellWidth,\n                cellHeight: layout.cellHeight,\n                cellMargin: layout.cellMargin,\n                cx: cx,\n                cy: cy\n            }\n        }\n\n        /**\n         * draw the background of chart\n         *\n         * @method drawBackground\n         * @param  {Object} layout the layout properties\n         */\n        Gauge.prototype.drawBackground = function(layout) {\n\n            if (!gaugeOptions.frame.show) {\n                return;\n            }\n            context.save();\n            context.strokeStyle = options.grid.borderColor;\n            context.lineWidth = options.grid.borderWidth;\n            context.strokeRect(0, 0, layout.canvasWidth, layout.canvasHeight);\n            if (options.grid.backgroundColor) {\n                context.fillStyle = options.grid.backgroundColor;\n                context.fillRect(0, 0, layout.canvasWidth, layout.canvasHeight);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the background of cell\n         *\n         * @method drawCellBackground\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} cellLayout the cell layout properties\n         */\n        Gauge.prototype.drawCellBackground = function(gaugeOptionsi, cellLayout) {\n\n            context.save();\n            if (gaugeOptionsi.cell.border && gaugeOptionsi.cell.border.show && gaugeOptionsi.cell.border.color && gaugeOptionsi.cell.border.width) {\n                context.strokeStyle = gaugeOptionsi.cell.border.color;\n                context.lineWidth = gaugeOptionsi.cell.border.width;\n                context.strokeRect(cellLayout.x, cellLayout.y, cellLayout.cellWidth, cellLayout.cellHeight);\n            }\n            if (gaugeOptionsi.cell.background && gaugeOptionsi.cell.background.color) {\n                context.fillStyle = gaugeOptionsi.cell.background.color;\n                context.fillRect(cellLayout.x, cellLayout.y, cellLayout.cellWidth, cellLayout.cellHeight);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the gauge\n         *\n         * @method drawGauge\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {String} label the label of data\n         * @param  {Number} data the value of the gauge\n         */\n        Gauge.prototype.drawGauge = function(gaugeOptionsi, layout, cellLayout, label, data) {\n\n\n            var blur = gaugeOptionsi.gauge.shadow.show ? gaugeOptionsi.gauge.shadow.blur : 0;\n\n\n            // draw gauge frame\n            drawArcWithShadow(\n                cellLayout.cx, // center x\n                cellLayout.cy, // center y\n                layout.radius,\n                layout.width,\n                toRad(gaugeOptionsi.gauge.startAngle),\n                toRad(gaugeOptionsi.gauge.endAngle),\n                gaugeOptionsi.gauge.border.color,      // line color\n                gaugeOptionsi.gauge.border.width,      // line width\n                gaugeOptionsi.gauge.background.color,  // fill color\n                blur);\n\n            // draw gauge\n            var c1 = getColor(gaugeOptionsi, data);\n            var a2 = calculateAngle(gaugeOptionsi, layout, data);\n            drawArcWithShadow(\n                cellLayout.cx, // center x\n                cellLayout.cy, // center y\n                layout.radius - 1,\n                layout.width - 2,\n                toRad(gaugeOptionsi.gauge.startAngle),\n                toRad(a2),\n                c1,           // line color\n                1,            // line width\n                c1,           // fill color\n                blur);\n        }\n\n        /**\n         * decide the color of the data from the threshold options\n         *\n         * @method getColor\n         * @private\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Number} data the value of the gauge\n         */\n        function getColor(gaugeOptionsi, data) {\n            var color;\n            for (var i = 0; i < gaugeOptionsi.threshold.values.length; i++) {\n                var threshold = gaugeOptionsi.threshold.values[i];\n                color = threshold.color;\n                if (data < threshold.value) {\n                    break;\n                }\n            }\n            return color;\n        }\n\n        /**\n         * calculate the angle of the data\n         *\n         * @method calculateAngle\n         * @private\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Number} data the value of the gauge\n         */\n        function calculateAngle(gaugeOptionsi, layout, data) {\n            var a =\n                gaugeOptionsi.gauge.startAngle\n                    + (gaugeOptionsi.gauge.endAngle - gaugeOptionsi.gauge.startAngle)\n                        * ((data - gaugeOptionsi.gauge.min) / (gaugeOptionsi.gauge.max - gaugeOptionsi.gauge.min));\n\n            if (a < gaugeOptionsi.gauge.startAngle) {\n                a = gaugeOptionsi.gauge.startAngle;\n            } else if (a > gaugeOptionsi.gauge.endAngle) {\n                a = gaugeOptionsi.gauge.endAngle;\n            }\n            return a;\n        }\n\n        /**\n         * draw the arc of the threshold\n         *\n         * @method drawThreshold\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         */\n        Gauge.prototype.drawThreshold = function(gaugeOptionsi, layout, cellLayout) {\n\n            var a1 = gaugeOptionsi.gauge.startAngle;\n            for (var i = 0; i < gaugeOptionsi.threshold.values.length; i++) {\n                var threshold = gaugeOptionsi.threshold.values[i];\n                c1 = threshold.color;\n                a2 = calculateAngle(gaugeOptionsi, layout, threshold.value);\n                drawArc(\n                    context,\n                    cellLayout.cx, // center x\n                    cellLayout.cy, // center y\n                    layout.radius + layout.thresholdWidth,\n                    layout.thresholdWidth - 2,\n                    toRad(a1),\n                    toRad(a2),\n                    c1,           // line color\n                    1,            // line width\n                    c1);          // fill color\n                a1 = a2;\n            }\n        }\n\n        /**\n         * draw an arc with a shadow\n         *\n         * @method drawArcWithShadow\n         * @private\n         * @param  {Number} cx the x position of the center\n         * @param  {Number} cy the y position of the center\n         * @param  {Number} r the radius of an arc\n         * @param  {Number} w the width of an arc\n         * @param  {Number} rd1 the start angle of an arc in radians\n         * @param  {Number} rd2 the end angle of an arc in radians\n         * @param  {String} lc the color of a line\n         * @param  {Number} lw the widht of a line\n         * @param  {String} fc the fill color  of an arc\n         * @param  {Number} blur the shdow blur\n         */\n        function drawArcWithShadow(cx, cy, r, w, rd1, rd2, lc, lw, fc, blur) {\n            if (rd1 === rd2) {\n                return;\n            }\n            context.save();\n\n            drawArc(context, cx, cy, r, w, rd1, rd2, lc, lw, fc);\n\n            if (blur) {\n                drawArc(context, cx, cy, r, w, rd1, rd2);\n                context.clip();\n                context.shadowOffsetX = 0;\n                context.shadowOffsetY = 0;\n                context.shadowBlur = 10;\n                context.shadowColor = \"gray\";\n                drawArc(context, cx, cy, r + 1, w + 2, rd1, rd2, lc, 1);\n            }\n            context.restore();\n        }\n\n        /**\n         * draw the label of the gauge\n         *\n         * @method drawLable\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Object} item the item of the series\n         */\n        Gauge.prototype.drawLable = function(gaugeOptionsi, layout, cellLayout, i, item) {\n\n            drawText(\n                cellLayout.cx,\n                cellLayout.y + cellLayout.cellMargin + layout.labelMargin + cellLayout.offsetY,\n                \"flotGagueLabel\" + i,\n                gaugeOptionsi.label.formatter ? gaugeOptionsi.label.formatter(item.label, item.data[0][1]) : text,\n                gaugeOptionsi.label);\n        }\n\n        /**\n         * draw the value of the gauge\n         *\n         * @method drawValue\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Object} item the item of the series\n         */\n        Gauge.prototype.drawValue = function(gaugeOptionsi, layout, cellLayout, i, item) {\n\n            drawText(\n                cellLayout.cx,\n                cellLayout.cy - (gaugeOptionsi.value.font.size / 2),\n                \"flotGagueValue\" + i,\n                gaugeOptionsi.value.formatter ? gaugeOptionsi.value.formatter(item.label, item.data[0][1]) : text,\n                gaugeOptionsi.value);\n        }\n\n        /**\n         * draw the values of the threshold\n         *\n         * @method drawThresholdValues\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         */\n        Gauge.prototype.drawThresholdValues = function(gaugeOptionsi, layout, cellLayout, i) {\n\n            // min, max\n            drawThresholdValue(gaugeOptionsi, layout, cellLayout, \"Min\" + i, gaugeOptionsi.gauge.min, gaugeOptionsi.gauge.startAngle);\n            drawThresholdValue(gaugeOptionsi, layout, cellLayout, \"Max\" + i, gaugeOptionsi.gauge.max, gaugeOptionsi.gauge.endAngle);\n            // threshold values\n            for (var j = 0; j < gaugeOptionsi.threshold.values.length; j++) {\n                var threshold = gaugeOptionsi.threshold.values[j];\n                if (threshold.value > gaugeOptionsi.gauge.min && threshold.value < gaugeOptionsi.gauge.max) {\n                    var a = calculateAngle(gaugeOptionsi, layout, threshold.value);\n                    drawThresholdValue(gaugeOptionsi, layout, cellLayout, i + \"_\" + j, threshold.value, a);\n                }\n            }\n        }\n\n        /**\n         * draw the value of the threshold\n         *\n         * @method drawThresholdValue\n         * @param  {Object} gaugeOptionsi the options of the gauge\n         * @param  {Object} layout the layout properties\n         * @param  {Object} cellLayout the cell layout properties\n         * @param  {Number} i the index of the series\n         * @param  {Number} value the value of the threshold\n         * @param  {Number} a the angle of the value drawn\n         */\n        function drawThresholdValue(gaugeOptionsi, layout, cellLayout, i, value, a) {\n            drawText(\n                cellLayout.cx\n                    + ((layout.thresholdLabelMargin + (layout.thresholdLabelFontSize / 2) + layout.radius)\n                        * Math.cos(toRad(a))),\n                cellLayout.cy\n                    + ((layout.thresholdLabelMargin + (layout.thresholdLabelFontSize / 2) + layout.radius)\n                        * Math.sin(toRad(a))),\n                \"flotGagueThresholdValue\" + i,\n                gaugeOptionsi.threshold.label.formatter ? gaugeOptionsi.threshold.label.formatter(value) : value,\n                gaugeOptionsi.threshold.label,\n                a);\n        }\n\n        /**\n         * draw a text\n         *\n         * the textOptions is assumed as follows:\n         *\n         *   textOptions: {\n         *       background: {\n         *           color: null,\n         *           opacity: 0\n         *       },\n         *       font: {\n         *           size: \"auto\"\n         *           family: \"\\\"ＭＳ ゴシック\\\",sans-serif\"\n         *       },\n         *       color: null\n         *   }\n         *\n         * @method drawText\n         * @private\n         * @param  {Number} x the x position of the text drawn (left top)\n         * @param  {Number} y the y position of the text drawn (left top)\n         * @param  {String} id the id of the dom element\n         * @param  {String} text the text drawn\n         * @param  {Object} textOptions the option of the text\n         * @param  {Number} [a] the angle of the value drawn\n         */\n        function drawText(x, y, id, text, textOptions, a) {\n            var span = $(\".\" + id, placeholder);\n            var exists = span.length;\n            if (!exists) {\n                span = $(\"<span></span>\")\n                span.attr(\"id\", id);\n                span.css(\"position\", \"absolute\");\n                span.css(\"top\", y + \"px\");\n                if (textOptions.font.size) {\n                    span.css(\"font-size\", textOptions.font.size + \"px\");\n                }\n                if (textOptions.font.family) {\n                    span.css(\"font-family\", textOptions.font.family);\n                }\n                if (textOptions.color) {\n                    span.css(\"color\", textOptions.color);\n                }\n                if (textOptions.background.color) {\n                    span.css(\"background-color\", textOptions.background.color);\n                }\n                if (textOptions.background.opacity) {\n                    span.css(\"opacity\", textOptions.background.opacity);\n                }\n                placeholder.append(span);\n            }\n            span.text(text);\n            // after append, readjust the left position\n            span.css(\"left\", x + \"px\"); // for redraw, resetting the left position is needed here\n            span.css(\"left\", (parseInt(span.css(\"left\")) - (span.width()/ 2)) + \"px\");\n\n            // at last, set angle\n            if (!exists && a) {\n                span.css(\"top\", (parseInt(span.css(\"top\")) - (span.height()/ 2)) + \"px\");\n                span.css(\"transform\", \"rotate(\" + ((180 * a) + 90) + \"deg)\"); // not supported for ie8\n            }\n        }\n\n        return Gauge;\n    })();\n    /**\n     * get a instance of Logger\n     *\n     * @method  getLogger\n     * @for flot.gauge\n     * @private\n     * @param  {Object} debugOptions the options of debug\n     */\n    function getLogger(debugOptions) {\n        return typeof Logger !== \"undefined\" ? new Logger(debugOptions) : null;\n    }\n\n    /**\n     * calculate the index of columns for the specified data\n     *\n     * @method col\n     * @for flot.gauge\n     * @param  {Number} columns the number of columns\n     * @param  {Number} i       the index of the series\n     * @return the index of columns\n     */\n    function col(columns, i) {\n        return i % columns;\n    }\n\n    /**\n     * calculate the index of rows for the specified data\n     *\n     * @method row\n     * @for flot.gauge\n     * @param  {Number} columns the number of rows\n     * @param  {Number} i       the index of the series\n     * @return the index of rows\n     */\n    function row(columns, i) {\n        return Math.floor(i / columns);\n    }\n\n    /**\n     * calculate the angle in radians\n     *\n     * internally, use a number without PI (0 - 2).\n     * so, in this function, multiply PI\n     *\n     * @method toRad\n     * @for flot.gauge\n     * @param  {Number} a the number of angle without PI\n     * @return the angle in radians\n     */\n    function toRad(a) {\n        return a * Math.PI;\n    }\n\n    /**\n     * draw an arc\n     *\n     * @method drawArc\n     * @for flot.gauge\n     * @param  {Object} context the context of canvas\n     * @param  {Number} cx the x position of the center\n     * @param  {Number} cy the y position of the center\n     * @param  {Number} r the radius of an arc\n     * @param  {Number} w the width of an arc\n     * @param  {Number} rd1 the start angle of an arc in radians\n     * @param  {Number} rd2 the end angle of an arc in radians\n     * @param  {String} lc the color of a line\n     * @param  {Number} lw the widht of a line\n     * @param  {String} fc the fill color  of an arc\n     */\n    function drawArc(context, cx, cy, r, w, rd1, rd2, lc, lw, fc) {\n        if (rd1 === rd2) {\n            return;\n        }\n        var counterClockwise = false;\n        context.save();\n        context.beginPath();\n        context.arc(cx, cy, r, rd1, rd2, counterClockwise);\n        context.lineTo(cx + (r - w) * Math.cos(rd2),\n                       cy + (r - w) * Math.sin(rd2));\n        context.arc(cx, cy, r - w, rd2, rd1, !counterClockwise);\n        context.closePath();\n        if (lw) {\n            context.lineWidth = lw;\n        }\n        if (lc) {\n            context.strokeStyle = lc;\n            context.stroke();\n        }\n        if (fc) {\n            context.fillStyle = fc;\n            context.fill();\n        }\n        context.restore();\n    }\n\n    /**\n     * initialize plugin\n     *\n     * @method init\n     * @for flot.gauge\n     * @private\n     * @param  {Object} plot a instance of plot\n     */\n    function init (plot) {\n        // add processOptions hook\n        plot.hooks.processOptions.push(function(plot, options) {\n            var logger = getLogger(options.series.gauges.debug);\n\n\n\n\n            // turn 'grid' and 'legend' off\n            if (options.series.gauges.show) {\n                options.grid.show = false;\n                options.legend.show = false;\n            }\n\n            // sort threshold\n            var thresholds = options.series.gauges.threshold.values;\n\n            thresholds.sort(function(a, b) {\n                if (a.value < b.value) {\n                    return -1;\n                } else if (a.value > b.value) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            });\n\n\n\n        });\n\n        // add draw hook\n        plot.hooks.draw.push(function(plot, context) {\n            var options = plot.getOptions();\n            var gaugeOptions = options.series.gauges;\n\n            var logger = getLogger(gaugeOptions.debug);\n\n\n            if (!gaugeOptions.show) {\n                return;\n            }\n\n            var series = plot.getData();\n\n            if (!series || !series.length) {\n                return; // if no series were passed\n            }\n\n            var gauge = new Gauge(plot, context);\n\n            // calculate layout\n            var layout = gauge.calculateLayout();\n\n            // debug layout\n            if (gaugeOptions.debug.layout) {\n\n            }\n\n            // draw background\n            gauge.drawBackground(layout)\n\n            // draw cells (label, gauge, value, threshold)\n            for (var i = 0; i < series.length; i++) {\n                var item = series[i];\n\n                var gaugeOptionsi = $.extend({}, gaugeOptions, item.gauges);\n                if (item.gauges) {\n                    // re-calculate 'auto' values\n                    gauge.calculateAutoValues(gaugeOptionsi, layout.cellWidth);\n                }\n\n                // calculate cell layout\n                var cellLayout = gauge.calculateCellLayout(gaugeOptionsi, layout, i);\n\n                // draw cell background\n                gauge.drawCellBackground(gaugeOptionsi, cellLayout)\n                // debug layout\n                if (gaugeOptionsi.debug.layout) {\n\n                }\n                // draw label\n                if (gaugeOptionsi.label.show) {\n                    gauge.drawLable(gaugeOptionsi, layout, cellLayout, i, item);\n                }\n                // draw gauge\n                gauge.drawGauge(gaugeOptionsi, layout, cellLayout, item.label, item.data[0][1]);\n                // draw threshold\n                if (gaugeOptionsi.threshold.show) {\n                    gauge.drawThreshold(gaugeOptionsi, layout, cellLayout);\n                }\n                if (gaugeOptionsi.threshold.label.show) {\n                    gauge.drawThresholdValues(gaugeOptionsi, layout, cellLayout, i)\n                }\n                // draw value\n                if (gaugeOptionsi.value.show) {\n                    gauge.drawValue(gaugeOptionsi, layout, cellLayout, i, item);\n                }\n            }\n        });\n    }\n\n    /**\n     * [defaults description]\n     *\n     * @property defaults\n     * @type {Object}\n     */\n    var defaults = {\n        series: {\n            gauges: {\n                debug: {\n                    log: false,\n                    layout: false,\n                    alert: false\n                },\n                show: false,\n                layout: {\n                    margin: 5,\n                    columns: 3,\n                    hMargin: 5,\n                    vMargin: 5,\n                    square: false\n                },\n                frame: {\n                    show: true\n                },\n                cell: {\n                    background: {\n                        color: null\n                    },\n                    border: {\n                        show: true,\n                        color: \"black\",\n                        width: 1\n                    },\n                    margin: 5,\n                    vAlign: \"middle\" // 'top' or 'middle' or 'bottom'\n                },\n                gauge: {\n                    width: \"auto\", // a specified number, or 'auto'\n                    startAngle: 0.9, // 0 - 2 factor of the radians\n                    endAngle: 2.1, // 0 - 2 factor of the radians\n                    min: 0,\n                    max: 100,\n                    background: {\n                        color: \"white\"\n                    },\n                    border: {\n                        color: \"lightgray\",\n                        width: 2\n                    },\n                    shadow: {\n                        show: true,\n                        blur: 5\n                    }\n                },\n                label: {\n                    show: true,\n                    margin: \"auto\", // a specified number, or 'auto'\n                    background: {\n                        color: null,\n                        opacity: 0\n                    },\n                    font: {\n                        size: \"auto\", // a specified number, or 'auto'\n                        family: \"sans-serif\"\n                    },\n                    color: null,\n                    formatter: function(label, value) {\n                        return label;\n                    }\n                },\n                value: {\n                    show: true,\n                    margin: \"auto\", // a specified number, or 'auto'\n                    background: {\n                        color: null,\n                        opacity: 0\n                    },\n                    font: {\n                        size: \"auto\", // a specified number, or 'auto'\n                        family: \"sans-serif\"\n                    },\n                    color: null,\n                    formatter: function(label, value) {\n                        return parseInt(value);\n                    }\n                },\n                threshold: {\n                    show: true,\n                    width: \"auto\", // a specified number, or 'auto'\n                    label: {\n                        show: true,\n                        margin: \"auto\", // a specified number, or 'auto'\n                        background: {\n                            color: null,\n                            opacity: 0\n                        },\n                        font: {\n                            size: \"auto\", // a specified number, or 'auto'\n                            family: \",sans-serif\"\n                        },\n                        color: null,\n                        formatter: function(value) {\n                            return value;\n                        }\n                    },\n                    values: [\n                        {\n                            value: 50,\n                            color: \"lightgreen\"\n                        }, {\n                            value: 80,\n                            color: \"yellow\"\n                        }, {\n                            value: 100,\n                            color: \"red\"\n                        }\n                    ]\n                }\n            }\n        }\n    };\n\n    // register the gauge plugin\n    $.plot.plugins.push({\n        init: init,\n        options: defaults,\n        name: \"gauge\",\n        version: \"1.1.0\"\n    });\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.gauge.js\n// module id = 1509\n// module chunks = 0","///<reference path=\"../../../headers/common.d.ts\" />\n\nimport {PanelCtrl} from 'app/plugins/sdk';\n\nimport {contextSrv} from 'app/core/core';\n\nclass GettingStartedPanelCtrl extends PanelCtrl {\n  static templateUrl = 'public/app/plugins/panel/gettingstarted/module.html';\n  checksDone: boolean;\n  stepIndex: number;\n  steps: any;\n\n  /** @ngInject **/\n  constructor($scope, $injector, private backendSrv, datasourceSrv, private $q) {\n    super($scope, $injector);\n\n    this.stepIndex = 0;\n    this.steps = [];\n\n    this.steps.push({\n      title: 'Install Grafana',\n      icon: 'icon-gf icon-gf-check',\n      href: 'http://docs.grafana.org/',\n      target: '_blank',\n      note: 'Review the installation docs',\n      check: () => $q.when(true),\n    });\n\n    this.steps.push({\n      title: 'Create your first data source',\n      cta: 'Add data source',\n      icon: 'icon-gf icon-gf-datasources',\n      href: 'datasources/new?gettingstarted',\n      check: () => {\n        return $q.when(\n          datasourceSrv.getMetricSources().filter(item => {\n            return item.meta.builtIn !== true;\n          }).length > 0\n        );\n      }\n    });\n\n    this.steps.push({\n      title: 'Create your first dashboard',\n      cta: 'New dashboard',\n      icon: 'icon-gf icon-gf-dashboard',\n      href: 'dashboard/new?gettingstarted',\n      check: () => {\n        return this.backendSrv.search({limit: 1}).then(result => {\n          return result.length > 0;\n        });\n      }\n    });\n\n    this.steps.push({\n      title: 'Invite your team',\n      cta: 'Add Users',\n      icon: 'icon-gf icon-gf-users',\n      href: 'org/users?gettingstarted',\n      check: () => {\n        return  this.backendSrv.get('/api/org/users').then(res => {\n          return res.length > 1;\n        });\n      }\n    });\n\n\n    this.steps.push({\n      title: 'Install apps & plugins',\n      cta: 'Explore plugin repository',\n      icon: 'icon-gf icon-gf-apps',\n      href: 'https://grafana.com/plugins?utm_source=grafana_getting_started',\n      check: () => {\n        return this.backendSrv.get('/api/plugins', {embedded: 0, core: 0}).then(plugins => {\n          return plugins.length > 0;\n        });\n      }\n    });\n  }\n\n  $onInit() {\n    this.stepIndex = -1;\n    return this.nextStep().then(res => {\n      this.checksDone = true;\n    });\n  }\n\n  nextStep() {\n    if (this.stepIndex === this.steps.length - 1) {\n      return this.$q.when();\n    }\n\n    this.stepIndex += 1;\n    var currentStep = this.steps[this.stepIndex];\n    return currentStep.check().then(passed => {\n      if (passed) {\n        currentStep.cssClass = 'completed';\n        return this.nextStep();\n      }\n\n      currentStep.cssClass = 'active';\n      return this.$q.when();\n    });\n  }\n\n  dismiss() {\n    this.row.removePanel(this.panel, false);\n\n    this.backendSrv.request({\n      method: 'PUT',\n      url: '/api/user/helpflags/1',\n      showSuccessAlert: false,\n    }).then(res => {\n      contextSrv.user.helpFlags1 = res.helpFlags1;\n    });\n  }\n}\n\nexport {GettingStartedPanelCtrl, GettingStartedPanelCtrl as PanelCtrl};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/gettingstarted/module.ts","///<reference path=\"../../../headers/common.d.ts\" />\n\nexport class ConfigCtrl {\n  static template = '';\n\n  appEditCtrl: any;\n\n  /** @ngInject **/\n  constructor(private backendSrv) {\n    this.appEditCtrl.setPreUpdateHook(this.initDatasource.bind(this));\n  }\n\n  initDatasource() {\n    return this.backendSrv.get('/api/datasources').then(res => {\n      var found = false;\n      for (let ds of res) {\n        if (ds.type === \"grafana-testdata-datasource\") {\n          found = true;\n        }\n      }\n\n      if (!found) {\n        var dsInstance = {\n          name: 'Grafana TestData',\n          type: 'grafana-testdata-datasource',\n          access: 'direct',\n          jsonData: {}\n        };\n\n        return this.backendSrv.post('/api/datasources', dsInstance);\n      }\n\n      return Promise.resolve();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/app/testdata/module.ts","import {TestDataDatasource} from './datasource';\nimport {TestDataQueryCtrl} from './query_ctrl';\n\nclass TestDataAnnotationsQueryCtrl {\n  annotation: any;\n\n  constructor() {\n  }\n\n  static template = '<h2>test data</h2>';\n}\n\n\nexport {\n  TestDataDatasource,\n  TestDataDatasource as Datasource,\n  TestDataQueryCtrl as QueryCtrl,\n  TestDataAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/app/testdata/datasource/module.ts","import _ from 'lodash';\n\nclass TestDataDatasource {\n  id: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, private backendSrv, private $q) {\n    this.id = instanceSettings.id;\n  }\n\n  query(options) {\n    var queries = _.filter(options.targets, item => {\n      return item.hide !== true;\n    }).map(item => {\n      return {\n        refId: item.refId,\n        scenarioId: item.scenarioId,\n        intervalMs: options.intervalMs,\n        maxDataPoints: options.maxDataPoints,\n        stringInput: item.stringInput,\n        points: item.points,\n        alias: item.alias,\n        datasourceId: this.id,\n      };\n    });\n\n    if (queries.length === 0) {\n      return this.$q.when({data: []});\n    }\n\n    return this.backendSrv.post('/api/tsdb/query', {\n      from: options.range.from.valueOf().toString(),\n      to: options.range.to.valueOf().toString(),\n      queries: queries,\n    }).then(res => {\n      var data = [];\n\n      if (res.results) {\n        _.forEach(res.results, queryRes => {\n          for (let series of queryRes.series) {\n            data.push({\n              target: series.name,\n              datapoints: series.points\n            });\n          }\n        });\n      }\n\n      return {data: data};\n    });\n  }\n\n  annotationQuery(options) {\n    return this.backendSrv.get('/api/annotations', {\n      from: options.range.from.valueOf(),\n      to: options.range.to.valueOf(),\n      limit: options.limit,\n      type: options.type,\n    });\n  }\n\n}\n\nexport {TestDataDatasource};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/app/testdata/datasource/datasource.ts","import _ from 'lodash';\n\nimport { QueryCtrl } from 'app/plugins/sdk';\nimport moment from 'moment';\n\nexport class TestDataQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  scenarioList: any;\n  scenario: any;\n  newPointValue: number;\n  newPointTime: any;\n  selectedPoint: any;\n\n  /** @ngInject **/\n  constructor($scope, $injector, private backendSrv) {\n    super($scope, $injector);\n\n    this.target.scenarioId = this.target.scenarioId || 'random_walk';\n    this.scenarioList = [];\n    this.newPointTime = moment();\n    this.selectedPoint = { text: 'Select point', value: null };\n  }\n\n  getPoints() {\n    return _.map(this.target.points, (point, index) => {\n      return {\n        text: moment(point[1]).format('MMMM Do YYYY, H:mm:ss') + ' : ' + point[0],\n        value: index,\n      };\n    });\n  }\n\n  pointSelected(option) {\n    this.selectedPoint = option;\n  }\n\n  deletePoint() {\n    this.target.points.splice(this.selectedPoint.value, 1);\n    this.selectedPoint = { text: 'Select point', value: null };\n    this.refresh();\n  }\n\n  addPoint() {\n    this.target.points = this.target.points || [];\n    this.target.points.push([this.newPointValue, this.newPointTime.valueOf()]);\n    this.target.points = _.sortBy(this.target.points, p => p[1]);\n    this.refresh();\n  }\n\n  $onInit() {\n    return this.backendSrv.get('/api/tsdb/testdata/scenarios').then(res => {\n      this.scenarioList = res;\n      this.scenario = _.find(this.scenarioList, { id: this.target.scenarioId });\n    });\n  }\n\n  scenarioChanged() {\n    this.scenario = _.find(this.scenarioList, { id: this.target.scenarioId });\n    this.target.stringInput = this.scenario.stringInput;\n\n    if (this.target.scenarioId === 'manual_entry') {\n      this.target.points = this.target.points || [];\n    } else {\n      delete this.target.points;\n    }\n\n    this.refresh();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/app/testdata/datasource/query_ctrl.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/Subject.js\n// module id = 1515\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/SubjectSubscription.js\n// module id = 1517\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/ObjectUnsubscribedError.js\n// module id = 1516\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar empty_1 = require('../../observable/empty');\nObservable_1.Observable.empty = empty_1.empty;\n//# sourceMappingURL=empty.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/observable/empty.js\n// module id = 1518\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar from_1 = require('../../observable/from');\nObservable_1.Observable.from = from_1.from;\n//# sourceMappingURL=from.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/observable/from.js\n// module id = 1520\n// module chunks = 0","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/from.js\n// module id = 1521\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isArrayLike_1 = require('../util/isArrayLike');\nvar isPromise_1 = require('../util/isPromise');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operators/observeOn');\nvar observable_1 = require('../symbol/observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/FromObservable.js\n// module id = 1522\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/PromiseObservable.js\n// module id = 1523\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/IteratorObservable.js\n// module id = 1524\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/observable/ArrayLikeObservable.js\n// module id = 1526\n// module chunks = 0","\"use strict\";\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/isScheduler.js\n// module id = 1525\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operators/observeOn.js\n// module id = 1527\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/Notification.js\n// module id = 1528\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operators/map.js\n// module id = 1531\n// module chunks = 0","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/map.js\n// module id = 1529\n// module chunks = 0","\"use strict\";\nvar map_1 = require('../operators/map');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operator/map.js\n// module id = 1530\n// module chunks = 0","\"use strict\";\nvar combineAll_1 = require('../operators/combineAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by waiting\n * for the outer Observable to complete, then applying {@link combineLatest}.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by applying\n * {@link combineLatest} when the Observable-of-Observables completes.</span>\n *\n * <img src=\"./img/combineAll.png\" width=\"100%\">\n *\n * Takes an Observable of Observables, and collects all Observables from it.\n * Once the outer Observable completes, it subscribes to all collected\n * Observables and combines their values using the {@link combineLatest}\n * strategy, such that:\n * - Every time an inner Observable emits, the output Observable emits.\n * - When the returned observable emits, it emits all of the latest values by:\n *   - If a `project` function is provided, it is called with each recent value\n *     from each inner Observable in whatever order they arrived, and the result\n *     of the `project` function is what is emitted by the output Observable.\n *   - If there is no `project` function, an array of all of the most recent\n *     values is emitted by the output Observable.\n *\n * @example <caption>Map two click events to a finite interval Observable, then apply combineAll</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev =>\n *   Rx.Observable.interval(Math.random()*2000).take(3)\n * ).take(2);\n * var result = higherOrder.combineAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n * @see {@link mergeAll}\n *\n * @param {function} [project] An optional function to map the most recent\n * values from each inner Observable into a new result. Takes each of the most\n * recent values from each collected inner Observable as arguments, in order.\n * @return {Observable} An Observable of projected results or arrays of recent\n * values.\n * @method combineAll\n * @owner Observable\n */\nfunction combineAll(project) {\n    return combineAll_1.combineAll(project)(this);\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operator/combineAll.js\n// module id = 1533\n// module chunks = 0","\"use strict\";\nvar combineLatest_1 = require('../operators/combineLatest');\nfunction combineAll(project) {\n    return function (source) { return source.lift(new combineLatest_1.CombineLatestOperator(project)); };\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operators/combineAll.js\n// module id = 1534\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar isArray_1 = require('../util/isArray');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar none = {};\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from this Observable with values from\n * Observables passed as arguments. This is done by subscribing to each\n * Observable, in order, and collecting an array of each of the most recent\n * values any time any of the input Observables emits, then either taking that\n * array and passing it as arguments to an optional `project` function and\n * emitting the return value of that, or just emitting the array of recent\n * values directly if there is no `project` function.\n *\n * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return function (source) { return source.lift.call(new ArrayObservable_1.ArrayObservable([source].concat(observables)), new CombineLatestOperator(project)); };\n}\nexports.combineLatest = combineLatest;\nvar CombineLatestOperator = (function () {\n    function CombineLatestOperator(project) {\n        this.project = project;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n    };\n    return CombineLatestOperator;\n}());\nexports.CombineLatestOperator = CombineLatestOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CombineLatestSubscriber = (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, project) {\n        _super.call(this, destination);\n        this.project = project;\n        this.active = 0;\n        this.values = [];\n        this.observables = [];\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(none);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === none ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.project) {\n                this._tryProject(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryProject = function (values) {\n        var result;\n        try {\n            result = this.project.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.CombineLatestSubscriber = CombineLatestSubscriber;\n//# sourceMappingURL=combineLatest.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operators/combineLatest.js\n// module id = 1535\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/OuterSubscriber.js\n// module id = 1536\n// module chunks = 0","\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/util/subscribeToResult.js\n// module id = 1537\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/InnerSubscriber.js\n// module id = 1538\n// module chunks = 0","/* Flot plugin for rendering pie charts.\n\nCopyright (c) 2007-2013 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes that each series has a single data value, and that each\nvalue is a positive integer or zero.  Negative numbers don't make sense for a\npie chart, and have unpredictable results.  The values do NOT need to be\npassed in as percentages; the plugin will calculate the total and per-slice\npercentages internally.\n\n* Created by Brian Medendorp\n\n* Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars\n\nThe plugin supports these options:\n\n\tseries: {\n\t\tpie: {\n\t\t\tshow: true/false\n\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length, or 'auto'\n\t\t\tinnerRadius: 0-1 for percentage of fullsize or a specified pixel length, for creating a donut effect\n\t\t\tstartAngle: 0-2 factor of PI used for starting angle (in radians) i.e 3/2 starts at the top, 0 and 2 have the same result\n\t\t\ttilt: 0-1 for percentage to tilt the pie, where 1 is no tilt, and 0 is completely flat (nothing will show)\n\t\t\toffset: {\n\t\t\t\ttop: integer value to move the pie up or down\n\t\t\t\tleft: integer value to move the pie left or right, or 'auto'\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#FFF')\n\t\t\t\twidth: integer pixel width of the stroke\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tshow: true/false, or 'auto'\n\t\t\t\tformatter:  a user-defined function that modifies the text/style of the label text\n\t\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length\n\t\t\t\tbackground: {\n\t\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#000')\n\t\t\t\t\topacity: 0-1\n\t\t\t\t},\n\t\t\t\tthreshold: 0-1 for the percentage value at which to hide labels (if they're too small)\n\t\t\t},\n\t\t\tcombine: {\n\t\t\t\tthreshold: 0-1 for the percentage value at which to combine slices (if they're too small)\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#CCC'), if null, the plugin will automatically use the color of the first slice to be combined\n\t\t\t\tlabel: any text value of what the combined slice should be labeled\n\t\t\t}\n\t\t\thighlight: {\n\t\t\t\topacity: 0-1\n\t\t\t}\n\t\t}\n\t}\n\nMore detail and specific examples can be found in the included HTML file.\n\n*/\n\n(function($) {\n\n\t// Maximum redraw attempts when fitting labels within the plot\n\n\tvar REDRAW_ATTEMPTS = 10;\n\n\t// Factor by which to shrink the pie when fitting labels within the plot\n\n\tvar REDRAW_SHRINK = 0.95;\n\n\tfunction init(plot) {\n\n\t\tvar canvas = null,\n\t\t\ttarget = null,\n\t\t\tmaxRadius = null,\n\t\t\tcenterLeft = null,\n\t\t\tcenterTop = null,\n\t\t\tprocessed = false,\n\t\t\tctx = null;\n\n\t\t// interactive variables\n\n\t\tvar highlights = [];\n\n\t\t// add hook to determine if pie plugin in enabled, and then perform necessary operations\n\n\t\tplot.hooks.processOptions.push(function(plot, options) {\n\t\t\tif (options.series.pie.show) {\n\n\t\t\t\toptions.grid.show = false;\n\n\t\t\t\t// set labels.show\n\n\t\t\t\tif (options.series.pie.label.show == \"auto\") {\n\t\t\t\t\tif (options.legend.show) {\n\t\t\t\t\t\toptions.series.pie.label.show = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.label.show = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set radius\n\n\t\t\t\tif (options.series.pie.radius == \"auto\") {\n\t\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\t\toptions.series.pie.radius = 3/4;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.radius = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// ensure sane tilt\n\n\t\t\t\tif (options.series.pie.tilt > 1) {\n\t\t\t\t\toptions.series.pie.tilt = 1;\n\t\t\t\t} else if (options.series.pie.tilt < 0) {\n\t\t\t\t\toptions.series.pie.tilt = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.bindEvents.push(function(plot, eventHolder) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tif (options.grid.hoverable) {\n\t\t\t\t\teventHolder.unbind(\"mousemove\").mousemove(onMouseMove);\n\t\t\t\t}\n\t\t\t\tif (options.grid.clickable) {\n\t\t\t\t\teventHolder.unbind(\"click\").click(onClick);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.processDatapoints.push(function(plot, series, data, datapoints) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tprocessDatapoints(plot, series, data, datapoints);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.drawOverlay.push(function(plot, octx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdrawOverlay(plot, octx);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.draw.push(function(plot, newCtx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdraw(plot, newCtx);\n\t\t\t}\n\t\t});\n\n\t\tfunction processDatapoints(plot, series, datapoints) {\n\t\t\tif (!processed)\t{\n\t\t\t\tprocessed = true;\n\t\t\t\tcanvas = plot.getCanvas();\n\t\t\t\ttarget = $(canvas).parent();\n\t\t\t\toptions = plot.getOptions();\n\t\t\t\tplot.setData(combine(plot.getData()));\n\t\t\t}\n\t\t}\n\n\t\tfunction combine(data) {\n\n\t\t\tvar total = 0,\n\t\t\t\tcombined = 0,\n\t\t\t\tnumCombined = 0,\n\t\t\t\tcolor = options.series.pie.combine.color,\n\t\t\t\tnewdata = [];\n\n\t\t\t// Fix up the raw data from Flot, ensuring the data is numeric\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\n\t\t\t\tvar value = data[i].data;\n\n\t\t\t\t// If the data is an array, we'll assume that it's a standard\n\t\t\t\t// Flot x-y pair, and are concerned only with the second value.\n\n\t\t\t\t// Note how we use the original array, rather than creating a\n\t\t\t\t// new one; this is more efficient and preserves any extra data\n\t\t\t\t// that the user may have stored in higher indexes.\n\n\t\t\t\tif ($.isArray(value) && value.length == 1) {\n    \t\t\t\tvalue = value[0];\n\t\t\t\t}\n\n\t\t\t\tif ($.isArray(value)) {\n\t\t\t\t\t// Equivalent to $.isNumeric() but compatible with jQuery < 1.7\n\t\t\t\t\tif (!isNaN(parseFloat(value[1])) && isFinite(value[1])) {\n\t\t\t\t\t\tvalue[1] = +value[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue[1] = 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n\t\t\t\t\tvalue = [1, +value];\n\t\t\t\t} else {\n\t\t\t\t\tvalue = [1, 0];\n\t\t\t\t}\n\n\t\t\t\tdata[i].data = [value];\n\t\t\t}\n\n\t\t\t// Sum up all the slices, so we can calculate percentages for each\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\ttotal += data[i].data[0][1];\n\t\t\t}\n\n\t\t\t// Count the number of slices with percentages below the combine\n\t\t\t// threshold; if it turns out to be just one, we won't combine.\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (value / total <= options.series.pie.combine.threshold) {\n\t\t\t\t\tcombined += value;\n\t\t\t\t\tnumCombined++;\n\t\t\t\t\tif (!color) {\n\t\t\t\t\t\tcolor = data[i].color;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (numCombined < 2 || value / total > options.series.pie.combine.threshold) {\n\t\t\t\t\tnewdata.push({\n\t\t\t\t\t\tdata: [[1, value]],\n\t\t\t\t\t\tcolor: data[i].color,\n\t\t\t\t\t\tlabel: data[i].label,\n\t\t\t\t\t\tangle: value * Math.PI * 2 / total,\n\t\t\t\t\t\tpercent: value / (total / 100)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (numCombined > 1) {\n\t\t\t\tnewdata.push({\n\t\t\t\t\tdata: [[1, combined]],\n\t\t\t\t\tcolor: color,\n\t\t\t\t\tlabel: options.series.pie.combine.label,\n\t\t\t\t\tangle: combined * Math.PI * 2 / total,\n\t\t\t\t\tpercent: combined / (total / 100)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn newdata;\n\t\t}\n\n\t\tfunction draw(plot, newCtx) {\n\n\t\t\tif (!target) {\n\t\t\t\treturn; // if no series were passed\n\t\t\t}\n\n\t\t\tvar canvasWidth = plot.getPlaceholder().width(),\n\t\t\t\tcanvasHeight = plot.getPlaceholder().height(),\n\t\t\t\tlegendWidth = target.children().filter(\".legend\").children().width() || 0;\n\n\t\t\tctx = newCtx;\n\n\t\t\t// WARNING: HACK! REWRITE THIS CODE AS SOON AS POSSIBLE!\n\n\t\t\t// When combining smaller slices into an 'other' slice, we need to\n\t\t\t// add a new series.  Since Flot gives plugins no way to modify the\n\t\t\t// list of series, the pie plugin uses a hack where the first call\n\t\t\t// to processDatapoints results in a call to setData with the new\n\t\t\t// list of series, then subsequent processDatapoints do nothing.\n\n\t\t\t// The plugin-global 'processed' flag is used to control this hack;\n\t\t\t// it starts out false, and is set to true after the first call to\n\t\t\t// processDatapoints.\n\n\t\t\t// Unfortunately this turns future setData calls into no-ops; they\n\t\t\t// call processDatapoints, the flag is true, and nothing happens.\n\n\t\t\t// To fix this we'll set the flag back to false here in draw, when\n\t\t\t// all series have been processed, so the next sequence of calls to\n\t\t\t// processDatapoints once again starts out with a slice-combine.\n\t\t\t// This is really a hack; in 0.9 we need to give plugins a proper\n\t\t\t// way to modify series before any processing begins.\n\n\t\t\tprocessed = false;\n\n\t\t\t// calculate maximum radius and center point\n\n\t\t\tmaxRadius =  Math.min(canvasWidth, canvasHeight / options.series.pie.tilt) / 2;\n\t\t\tcenterTop = canvasHeight / 2 + options.series.pie.offset.top;\n\t\t\tcenterLeft = canvasWidth / 2;\n\n\t\t\tif (options.series.pie.offset.left == \"auto\") {\n\t\t\t\tif (options.legend.position.match(\"w\")) {\n\t\t\t\t\tcenterLeft += legendWidth / 2;\n\t\t\t\t} else {\n\t\t\t\t\tcenterLeft -= legendWidth / 2;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcenterLeft += options.series.pie.offset.left;\n\t\t\t}\n\n\t\t\tif (centerLeft < maxRadius) {\n\t\t\t\tcenterLeft = maxRadius;\n\t\t\t} else if (centerLeft > canvasWidth - maxRadius) {\n\t\t\t\tcenterLeft = canvasWidth - maxRadius;\n\t\t\t}\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\tattempts = 0;\n\n\t\t\t// Keep shrinking the pie's radius until drawPie returns true,\n\t\t\t// indicating that all the labels fit, or we try too many times.\n\n\t\t\tdo {\n\t\t\t\tif (attempts > 0) {\n\t\t\t\t\tmaxRadius *= REDRAW_SHRINK;\n\t\t\t\t}\n\t\t\t\tattempts += 1;\n\t\t\t\tclear();\n\t\t\t\tif (options.series.pie.tilt <= 0.8) {\n\t\t\t\t\tdrawShadow();\n\t\t\t\t}\n\t\t\t} while (!drawPie() && attempts < REDRAW_ATTEMPTS)\n\n\t\t\tif (attempts >= REDRAW_ATTEMPTS) {\n\t\t\t\tclear();\n\t\t\t\ttarget.prepend(\"<div class='error'>Could not draw pie with labels contained inside canvas</div>\");\n\t\t\t}\n\n\t\t\tif (plot.setSeries && plot.insertLegend) {\n\t\t\t\tplot.setSeries(slices);\n\t\t\t\tplot.insertLegend();\n\t\t\t}\n\n\t\t\t// we're actually done at this point, just defining internal functions at this point\n\n\t\t\tfunction clear() {\n\t\t\t\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\t\t\t\ttarget.children().filter(\".pieLabel, .pieLabelBackground\").remove();\n\t\t\t}\n\n\t\t\tfunction drawShadow() {\n\n\t\t\t\tvar shadowLeft = options.series.pie.shadow.left;\n\t\t\t\tvar shadowTop = options.series.pie.shadow.top;\n\t\t\t\tvar edge = 10;\n\t\t\t\tvar alpha = options.series.pie.shadow.alpha;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\tif (radius >= canvasWidth / 2 - shadowLeft || radius * options.series.pie.tilt >= canvasHeight / 2 - shadowTop || radius <= edge) {\n\t\t\t\t\treturn;\t// shadow would be outside canvas, so don't draw it\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(shadowLeft,shadowTop);\n\t\t\t\tctx.globalAlpha = alpha;\n\t\t\t\tctx.fillStyle = \"#000\";\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\n\t\t\t\t//radius -= edge;\n\n\t\t\t\tfor (var i = 1; i <= edge; i++) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, false);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tradius -= i;\n\t\t\t\t}\n\n\t\t\t\tctx.restore();\n\t\t\t}\n\n\t\t\tfunction drawPie() {\n\n\t\t\t\tvar startAngle = Math.PI * options.series.pie.startAngle;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\t\t\t\t//ctx.rotate(startAngle); // start at top; -- This doesn't work properly in Opera\n\n\t\t\t\t// draw slices\n\n\t\t\t\tctx.save();\n\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\tslices[i].startAngle = currentAngle;\n\t\t\t\t\tdrawSlice(slices[i].angle, slices[i].color, true);\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\n\t\t\t\t// draw slice outlines\n\n\t\t\t\tif (options.series.pie.stroke.width > 0) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.lineWidth = options.series.pie.stroke.width;\n\t\t\t\t\tcurrentAngle = startAngle;\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tdrawSlice(slices[i].angle, options.series.pie.stroke.color, false);\n\t\t\t\t\t}\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\n\t\t\t\t// draw donut hole\n\n\t\t\t\tdrawDonutHole(ctx);\n\n\t\t\t\tctx.restore();\n\n\t\t\t\t// Draw the labels, returning true if they fit within the plot\n\n\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\treturn drawLabels();\n\t\t\t\t} else return true;\n\n\t\t\t\tfunction drawSlice(angle, color, fill) {\n\n\t\t\t\t\tif (angle <= 0 || isNaN(angle)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fillStyle = color;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.strokeStyle = color;\n\t\t\t\t\t\tctx.lineJoin = \"round\";\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tif (Math.abs(angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t}\n\n\t\t\t\t\t//ctx.arc(0, 0, radius, 0, angle, false); // This doesn't work properly in Opera\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle, currentAngle + angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle + angle / 2, currentAngle + angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\t//ctx.rotate(angle); // This doesn't work properly in Opera\n\t\t\t\t\tcurrentAngle += angle;\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fill();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction drawLabels() {\n\n\t\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\t\tvar radius = options.series.pie.label.radius > 1 ? options.series.pie.label.radius : maxRadius * options.series.pie.label.radius;\n\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tif (slices[i].percent >= options.series.pie.label.threshold * 100) {\n\t\t\t\t\t\t\tif (!drawLabel(slices[i], currentAngle, i)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentAngle += slices[i].angle;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t\tfunction drawLabel(slice, startAngle, index) {\n\n\t\t\t\t\t\tif (slice.data[0][1] == 0) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// format label text\n\n\t\t\t\t\t\tvar lf = options.legend.labelFormatter, text, plf = options.series.pie.label.formatter;\n\n\t\t\t\t\t\tif (lf) {\n\t\t\t\t\t\t\ttext = lf(slice.label, slice);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttext = slice.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (plf) {\n\t\t\t\t\t\t\ttext = plf(text, slice);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar halfAngle = ((startAngle + slice.angle) + startAngle) / 2;\n\t\t\t\t\t\tvar x = centerLeft + Math.round(Math.cos(halfAngle) * radius);\n\t\t\t\t\t\tvar y = centerTop + Math.round(Math.sin(halfAngle) * radius) * options.series.pie.tilt;\n\n\t\t\t\t\t\tvar html = \"<span class='pieLabel' id='pieLabel\" + index + \"' style='position:absolute;top:\" + y + \"px;left:\" + x + \"px;'>\" + text + \"</span>\";\n\t\t\t\t\t\ttarget.append(html);\n\n\t\t\t\t\t\tvar label = target.children(\"#pieLabel\" + index);\n\t\t\t\t\t\tvar labelTop = (y - label.height() / 2);\n\t\t\t\t\t\tvar labelLeft = (x - label.width() / 2);\n\n\t\t\t\t\t\tlabel.css(\"top\", labelTop);\n\t\t\t\t\t\tlabel.css(\"left\", labelLeft);\n\n\t\t\t\t\t\t// check to make sure that the label is not outside the canvas\n\n\t\t\t\t\t\tif (0 - labelTop > 0 || 0 - labelLeft > 0 || canvasHeight - (labelTop + label.height()) < 0 || canvasWidth - (labelLeft + label.width()) < 0) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (options.series.pie.label.background.opacity != 0) {\n\n\t\t\t\t\t\t\t// put in the transparent background separately to avoid blended labels and label boxes\n\n\t\t\t\t\t\t\tvar c = options.series.pie.label.background.color;\n\n\t\t\t\t\t\t\tif (c == null) {\n\t\t\t\t\t\t\t\tc = slice.color;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar pos = \"top:\" + labelTop + \"px;left:\" + labelLeft + \"px;\";\n\t\t\t\t\t\t\t$(\"<div class='pieLabelBackground' style='position:absolute;width:\" + label.width() + \"px;height:\" + label.height() + \"px;\" + pos + \"background-color:\" + c + \";'></div>\")\n\t\t\t\t\t\t\t\t.css(\"opacity\", options.series.pie.label.background.opacity)\n\t\t\t\t\t\t\t\t.insertBefore(label);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} // end individual label function\n\t\t\t\t} // end drawLabels function\n\t\t\t} // end drawPie function\n\t\t} // end draw function\n\n\t\t// Placed here because it needs to be accessed from multiple locations\n\n\t\tfunction drawDonutHole(layer) {\n\t\t\tif (options.series.pie.innerRadius > 0) {\n\n\t\t\t\t// subtract the center\n\n\t\t\t\tlayer.save();\n\t\t\t\tvar innerRadius = options.series.pie.innerRadius > 1 ? options.series.pie.innerRadius : maxRadius * options.series.pie.innerRadius;\n\t\t\t\tlayer.globalCompositeOperation = \"destination-out\"; // this does not work with excanvas, but it will fall back to using the stroke color\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.fillStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.fill();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// add inner stroke\n\n\t\t\t\tlayer.save();\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.strokeStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.stroke();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// TODO: add extra shadow inside hole (with a mask) if the pie is tilted.\n\t\t\t}\n\t\t}\n\n\t\t//-- Additional Interactive related functions --\n\n\t\tfunction isPointInPoly(poly, pt) {\n\t\t\tfor(var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)\n\t\t\t\t((poly[i][1] <= pt[1] && pt[1] < poly[j][1]) || (poly[j][1] <= pt[1] && pt[1]< poly[i][1]))\n\t\t\t\t&& (pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0])\n\t\t\t\t&& (c = !c);\n\t\t\treturn c;\n\t\t}\n\n\t\tfunction findNearbySlice(mouseX, mouseY) {\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\toptions = plot.getOptions(),\n\t\t\t\tradius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,\n\t\t\t\tx, y;\n\n\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\n\t\t\t\tvar s = slices[i];\n\n\t\t\t\tif (s.pie.show) {\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t//ctx.scale(1, options.series.pie.tilt);\t// this actually seems to break everything when here.\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle, s.startAngle + s.angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle + s.angle / 2, s.startAngle + s.angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tx = mouseX - centerLeft;\n\t\t\t\t\ty = mouseY - centerTop;\n\n\t\t\t\t\tif (ctx.isPointInPath) {\n\t\t\t\t\t\tif (ctx.isPointInPath(mouseX - centerLeft, mouseY - centerTop)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// excanvas for IE doesn;t support isPointInPath, this is a workaround.\n\n\t\t\t\t\t\tvar p1X = radius * Math.cos(s.startAngle),\n\t\t\t\t\t\t\tp1Y = radius * Math.sin(s.startAngle),\n\t\t\t\t\t\t\tp2X = radius * Math.cos(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp2Y = radius * Math.sin(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp3X = radius * Math.cos(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp3Y = radius * Math.sin(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp4X = radius * Math.cos(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp4Y = radius * Math.sin(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp5X = radius * Math.cos(s.startAngle + s.angle),\n\t\t\t\t\t\t\tp5Y = radius * Math.sin(s.startAngle + s.angle),\n\t\t\t\t\t\t\tarrPoly = [[0, 0], [p1X, p1Y], [p2X, p2Y], [p3X, p3Y], [p4X, p4Y], [p5X, p5Y]],\n\t\t\t\t\t\t\tarrPoint = [x, y];\n\n\t\t\t\t\t\t// TODO: perhaps do some mathmatical trickery here with the Y-coordinate to compensate for pie tilt?\n\n\t\t\t\t\t\tif (isPointInPoly(arrPoly, arrPoint)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\ttriggerClickHoverEvent(\"plothover\", e);\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\ttriggerClickHoverEvent(\"plotclick\", e);\n\t\t}\n\n\t\t// trigger click or hover event (they send the same parameters so we share their code)\n\n\t\tfunction triggerClickHoverEvent(eventname, e) {\n\n\t\t\tvar offset = plot.offset();\n\t\t\tvar canvasX = parseInt(e.pageX - offset.left);\n\t\t\tvar canvasY =  parseInt(e.pageY - offset.top);\n\t\t\tvar item = findNearbySlice(canvasX, canvasY);\n\n\t\t\tif (options.grid.autoHighlight) {\n\n\t\t\t\t// clear auto-highlights\n\n\t\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\t\tvar h = highlights[i];\n\t\t\t\t\tif (h.auto == eventname && !(item && h.series == item.series)) {\n\t\t\t\t\t\tunhighlight(h.series);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// highlight the slice\n\n\t\t\tif (item) {\n\t\t\t\thighlight(item.series, eventname);\n\t\t\t}\n\n\t\t\t// trigger any hover bind events\n\n\t\t\tvar pos = { pageX: e.pageX, pageY: e.pageY };\n\t\t\ttarget.trigger(eventname, [pos, item]);\n\t\t}\n\n\t\tfunction highlight(s, auto) {\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i == -1) {\n\t\t\t\thighlights.push({ series: s, auto: auto });\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t} else if (!auto) {\n\t\t\t\thighlights[i].auto = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction unhighlight(s) {\n\t\t\tif (s == null) {\n\t\t\t\thighlights = [];\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i != -1) {\n\t\t\t\thighlights.splice(i, 1);\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\t\t}\n\n\t\tfunction indexOfHighlight(s) {\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tvar h = highlights[i];\n\t\t\t\tif (h.series == s)\n\t\t\t\t\treturn i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tfunction drawOverlay(plot, octx) {\n\n\t\t\tvar options = plot.getOptions();\n\n\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\toctx.save();\n\t\t\toctx.translate(centerLeft, centerTop);\n\t\t\toctx.scale(1, options.series.pie.tilt);\n\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tdrawHighlight(highlights[i].series);\n\t\t\t}\n\n\t\t\tdrawDonutHole(octx);\n\n\t\t\toctx.restore();\n\n\t\t\tfunction drawHighlight(series) {\n\n\t\t\t\tif (series.angle <= 0 || isNaN(series.angle)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//octx.fillStyle = parseColor(options.series.pie.highlight.color).scale(null, null, null, options.series.pie.highlight.opacity).toString();\n\t\t\t\toctx.fillStyle = \"rgba(255, 255, 255, \" + options.series.pie.highlight.opacity + \")\"; // this is temporary until we have access to parseColor\n\t\t\t\toctx.beginPath();\n\t\t\t\tif (Math.abs(series.angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\toctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t}\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle, series.startAngle + series.angle / 2, false);\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle + series.angle / 2, series.startAngle + series.angle, false);\n\t\t\t\toctx.closePath();\n\t\t\t\toctx.fill();\n\t\t\t}\n\t\t}\n\t} // end init (plugin body)\n\n\t// define pie specific options and their default values\n\n\tvar options = {\n\t\tseries: {\n\t\t\tpie: {\n\t\t\t\tshow: false,\n\t\t\t\tradius: \"auto\",\t// actual radius of the visible pie (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\tinnerRadius: 0, /* for donut */\n\t\t\t\tstartAngle: 3/2,\n\t\t\t\ttilt: 1,\n\t\t\t\tshadow: {\n\t\t\t\t\tleft: 5,\t// shadow left offset\n\t\t\t\t\ttop: 15,\t// shadow top offset\n\t\t\t\t\talpha: 0.02\t// shadow alpha\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: \"auto\"\n\t\t\t\t},\n\t\t\t\tstroke: {\n\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\twidth: 1\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tshow: \"auto\",\n\t\t\t\t\tformatter: function(label, slice) {\n\t\t\t\t\t\treturn \"<div style='font-size:x-small;text-align:center;padding:2px;color:\" + slice.color + \";'>\" + label + \"<br/>\" + Math.round(slice.percent) + \"%</div>\";\n\t\t\t\t\t},\t// formatter function\n\t\t\t\t\tradius: 1,\t// radius at which to place the labels (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\t\tbackground: {\n\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t},\n\t\t\t\t\tthreshold: 0\t// percentage at which to hide the label (i.e. the slice is too narrow)\n\t\t\t\t},\n\t\t\t\tcombine: {\n\t\t\t\t\tthreshold: -1,\t// percentage at which to combine little slices into one larger slice\n\t\t\t\t\tcolor: null,\t// color to give the new slice (auto-generated if null)\n\t\t\t\t\tlabel: \"Other\"\t// label to give the new slice\n\t\t\t\t},\n\t\t\t\thighlight: {\n\t\t\t\t\t//color: \"#fff\",\t\t// will add this functionality once parseColor is available\n\t\t\t\t\topacity: 0.5\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: \"pie\",\n\t\tversion: \"1.1\"\n\t});\n\n})(jQuery);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/vendor/flot/jquery.flot.pie.js\n// module id = 1539\n// module chunks = 0","import angular from 'angular';\nimport _ from 'lodash';\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\nimport {importPluginModule}  from './plugin_loader';\n\nimport {UnknownPanelCtrl} from 'app/plugins/panel/unknown/module';\n\n/** @ngInject **/\nfunction pluginDirectiveLoader($compile, datasourceSrv, $rootScope, $q, $http, $templateCache) {\n\n  function getTemplate(component) {\n    if (component.template) {\n      return $q.when(component.template);\n    }\n    var cached = $templateCache.get(component.templateUrl);\n    if (cached) {\n      return $q.when(cached);\n    }\n    return $http.get(component.templateUrl).then(res => {\n      return res.data;\n    });\n  }\n\n  function relativeTemplateUrlToAbs(templateUrl, baseUrl) {\n    if (!templateUrl) { return undefined; }\n    if (templateUrl.indexOf('public') === 0) { return templateUrl; }\n    return baseUrl + '/' + templateUrl;\n  }\n\n  function getPluginComponentDirective(options) {\n    // handle relative template urls for plugin templates\n    options.Component.templateUrl = relativeTemplateUrlToAbs(options.Component.templateUrl, options.baseUrl);\n\n    return function() {\n      return {\n        templateUrl: options.Component.templateUrl,\n        template: options.Component.template,\n        restrict: 'E',\n        controller: options.Component,\n        controllerAs: 'ctrl',\n        bindToController: true,\n        scope: options.bindings,\n        link: (scope, elem, attrs, ctrl) => {\n          if (ctrl.link) {\n            ctrl.link(scope, elem, attrs, ctrl);\n          }\n          if (ctrl.init) {\n            ctrl.init();\n          }\n        }\n      };\n    };\n  }\n\n  function loadPanelComponentInfo(scope, attrs) {\n    var componentInfo: any = {\n      name: 'panel-plugin-' + scope.panel.type,\n      bindings: {dashboard: \"=\", panel: \"=\", row: \"=\"},\n      attrs: {dashboard: \"ctrl.dashboard\", panel: \"panel\", row: \"ctrl.row\"},\n    };\n\n    let panelInfo = config.panels[scope.panel.type];\n    var panelCtrlPromise = Promise.resolve(UnknownPanelCtrl);\n    if (panelInfo) {\n      panelCtrlPromise = importPluginModule(panelInfo.module).then(function(panelModule) {\n        return panelModule.PanelCtrl;\n      });\n    }\n\n    return panelCtrlPromise.then(function(PanelCtrl: any) {\n      componentInfo.Component = PanelCtrl;\n\n      if (!PanelCtrl || PanelCtrl.registered) {\n        return componentInfo;\n      }\n\n      if (PanelCtrl.templatePromise) {\n        return PanelCtrl.templatePromise.then(res => {\n          return componentInfo;\n        });\n      }\n\n      if (panelInfo) {\n        PanelCtrl.templateUrl = relativeTemplateUrlToAbs(PanelCtrl.templateUrl, panelInfo.baseUrl);\n      }\n\n      PanelCtrl.templatePromise = getTemplate(PanelCtrl).then(template => {\n        PanelCtrl.templateUrl = null;\n        PanelCtrl.template = `<grafana-panel ctrl=\"ctrl\">${template}</grafana-panel>`;\n        return componentInfo;\n      });\n\n      return PanelCtrl.templatePromise;\n    });\n  }\n\n  function getModule(scope, attrs) {\n    switch (attrs.type) {\n      // QueryCtrl\n      case \"query-ctrl\": {\n        let datasource = scope.target.datasource || scope.ctrl.panel.datasource;\n        return datasourceSrv.get(datasource).then(ds => {\n          scope.datasource = ds;\n\n          return importPluginModule(ds.meta.module).then(dsModule => {\n            return {\n              baseUrl: ds.meta.baseUrl,\n              name: 'query-ctrl-' + ds.meta.id,\n              bindings: {target: \"=\", panelCtrl: \"=\", datasource: \"=\"},\n              attrs: {\"target\": \"target\", \"panel-ctrl\": \"ctrl.panelCtrl\", datasource: \"datasource\"},\n              Component: dsModule.QueryCtrl\n            };\n          });\n        });\n      }\n      // QueryOptionsCtrl\n      case \"query-options-ctrl\": {\n        return datasourceSrv.get(scope.ctrl.panel.datasource).then(ds => {\n          return importPluginModule(ds.meta.module).then((dsModule): any => {\n            if (!dsModule.QueryOptionsCtrl) {\n              return {notFound: true};\n            }\n\n            return {\n              baseUrl: ds.meta.baseUrl,\n              name: 'query-options-ctrl-' + ds.meta.id,\n              bindings: {panelCtrl: \"=\"},\n              attrs: {\"panel-ctrl\": \"ctrl.panelCtrl\"},\n              Component: dsModule.QueryOptionsCtrl\n            };\n          });\n        });\n      }\n      // Annotations\n      case \"annotations-query-ctrl\": {\n        return importPluginModule(scope.ctrl.currentDatasource.meta.module).then(function(dsModule) {\n          return {\n            baseUrl: scope.ctrl.currentDatasource.meta.baseUrl,\n            name: 'annotations-query-ctrl-' + scope.ctrl.currentDatasource.meta.id,\n            bindings: {annotation: \"=\", datasource: \"=\"},\n            attrs: {\"annotation\": \"ctrl.currentAnnotation\", datasource: \"ctrl.currentDatasource\"},\n            Component: dsModule.AnnotationsQueryCtrl,\n          };\n        });\n      }\n      // Datasource ConfigCtrl\n      case 'datasource-config-ctrl': {\n        var dsMeta = scope.ctrl.datasourceMeta;\n        return importPluginModule(dsMeta.module).then(function(dsModule): any {\n          if (!dsModule.ConfigCtrl) {\n            return {notFound: true};\n          }\n\n          return {\n            baseUrl: dsMeta.baseUrl,\n            name: 'ds-config-' + dsMeta.id,\n            bindings: {meta: \"=\", current: \"=\"},\n            attrs: {meta: \"ctrl.datasourceMeta\", current: \"ctrl.current\"},\n            Component: dsModule.ConfigCtrl,\n          };\n        });\n      }\n      // AppConfigCtrl\n      case 'app-config-ctrl': {\n        let model = scope.ctrl.model;\n        return importPluginModule(model.module).then(function(appModule) {\n          return {\n            baseUrl: model.baseUrl,\n            name: 'app-config-' + model.id,\n            bindings: {appModel: \"=\", appEditCtrl: \"=\"},\n            attrs: {\"app-model\": \"ctrl.model\", \"app-edit-ctrl\": \"ctrl\"},\n            Component: appModule.ConfigCtrl,\n          };\n        });\n      }\n      // App Page\n      case 'app-page': {\n        let appModel = scope.ctrl.appModel;\n        return importPluginModule(appModel.module).then(function(appModule) {\n          return {\n            baseUrl: appModel.baseUrl,\n            name: 'app-page-' + appModel.id + '-' + scope.ctrl.page.slug,\n            bindings: {appModel: \"=\"},\n            attrs: {\"app-model\": \"ctrl.appModel\"},\n            Component: appModule[scope.ctrl.page.component],\n          };\n        });\n      }\n      // Panel\n      case 'panel': {\n        return loadPanelComponentInfo(scope, attrs);\n      }\n      default: {\n        return $q.reject({message: \"Could not find component type: \" + attrs.type });\n      }\n    }\n  }\n\n  function appendAndCompile(scope, elem, componentInfo) {\n    var child = angular.element(document.createElement(componentInfo.name));\n    _.each(componentInfo.attrs, (value, key) => {\n      child.attr(key, value);\n    });\n\n    $compile(child)(scope);\n    elem.empty();\n\n    // let a binding digest cycle complete before adding to dom\n    setTimeout(function() {\n      elem.append(child);\n      scope.$applyAsync(function() {\n        scope.$broadcast('refresh');\n      });\n    });\n  }\n\n  function registerPluginComponent(scope, elem, attrs, componentInfo) {\n    if (componentInfo.notFound) {\n      elem.empty();\n      return;\n    }\n\n    if (!componentInfo.Component) {\n      throw {message: 'Failed to find exported plugin component for ' + componentInfo.name};\n    }\n\n    if (!componentInfo.Component.registered) {\n      var directiveName = attrs.$normalize(componentInfo.name);\n      var directiveFn = getPluginComponentDirective(componentInfo);\n      coreModule.directive(directiveName, directiveFn);\n      componentInfo.Component.registered = true;\n    }\n\n    appendAndCompile(scope, elem, componentInfo);\n  }\n\n  return {\n    restrict: 'E',\n    link: function(scope, elem, attrs) {\n      getModule(scope, attrs).then(function (componentInfo) {\n        registerPluginComponent(scope, elem, attrs, componentInfo);\n      }).catch(err => {\n        $rootScope.appEvent('alert-error', ['Plugin Error', err.message || err]);\n        console.log('Plugin component error', err);\n      });\n    }\n  };\n}\n\ncoreModule.directive('pluginComponent', pluginDirectiveLoader);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/plugins/plugin_component.ts","\nimport {PanelCtrl} from 'app/features/panel/panel_ctrl';\n\nexport class UnknownPanelCtrl extends PanelCtrl {\n  static templateUrl = 'public/app/plugins/panel/unknown/module.html';\n\n  /** @ngInject */\n  constructor($scope, $injector) {\n    super($scope, $injector);\n  }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/plugins/panel/unknown/module.ts","define([\n  'angular',\n  'lodash',\n],\nfunction (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.directives');\n\n  var iconMap = {\n    \"external link\": \"fa-external-link\",\n    \"dashboard\": \"fa-th-large\",\n    \"question\": \"fa-question\",\n    \"info\": \"fa-info\",\n    \"bolt\": \"fa-bolt\",\n    \"doc\": \"fa-file-text-o\",\n    \"cloud\": \"fa-cloud\",\n  };\n\n  module.directive('dashLinksEditor', function() {\n    return {\n      restrict: 'E',\n      controller: 'DashLinkEditorCtrl',\n      templateUrl: 'public/app/features/dashlinks/editor.html',\n      link: function() {\n      }\n    };\n  });\n\n  module.directive('dashLinksContainer', function() {\n    return {\n      scope: {\n        links: \"=\"\n      },\n      restrict: 'E',\n      controller: 'DashLinksContainerCtrl',\n      template: '<dash-link ng-repeat=\"link in generatedLinks\" link=\"link\"></dash-link>',\n      link: function() { }\n    };\n  });\n\n  module.directive('dashLink', function($compile, linkSrv) {\n    return {\n      restrict: 'E',\n      link: function(scope, elem) {\n        var link = scope.link;\n        var template = '<div class=\"gf-form\">' +\n          '<a class=\"pointer gf-form-label\" data-placement=\"bottom\"' +\n          (link.asDropdown ? ' ng-click=\"fillDropdown(link)\" data-toggle=\"dropdown\"'  : \"\") + '>' +\n          '<i></i> <span></span></a>';\n\n        if (link.asDropdown) {\n          template += '<ul class=\"dropdown-menu\" role=\"menu\">' +\n            '<li ng-repeat=\"dash in link.searchHits\"><a href=\"{{dash.url}}\">{{dash.title}}</a></li>' +\n            '</ul>';\n        }\n\n        template += '</div>';\n\n        elem.html(template);\n        $compile(elem.contents())(scope);\n\n        var anchor = elem.find('a');\n        var icon = elem.find('i');\n        var span = elem.find('span');\n\n        function update() {\n          var linkInfo = linkSrv.getAnchorInfo(link);\n          span.text(linkInfo.title);\n          anchor.attr(\"href\", linkInfo.href);\n        }\n\n        // tooltip\n        elem.find('a').tooltip({ title: scope.link.tooltip, html: true, container: 'body' });\n        icon.attr('class', 'fa fa-fw ' + scope.link.icon);\n        anchor.attr('target', scope.link.target);\n\n        // fix for menus on the far right\n        if (link.asDropdown && scope.$last) {\n          elem.find('.dropdown-menu').addClass('pull-right');\n        }\n\n        update();\n        scope.$on('refresh', update);\n      }\n    };\n  });\n\n  module.controller(\"DashLinksContainerCtrl\", function($scope, $rootScope, $q, backendSrv, dashboardSrv, linkSrv) {\n    var currentDashId = dashboardSrv.getCurrent().id;\n\n    function buildLinks(linkDef) {\n      if (linkDef.type === 'dashboards') {\n        if (!linkDef.tags) {\n          console.log('Dashboard link missing tag');\n          return $q.when([]);\n        }\n\n        if (linkDef.asDropdown) {\n          return $q.when([{\n            title: linkDef.title,\n            tags: linkDef.tags,\n            keepTime: linkDef.keepTime,\n            includeVars: linkDef.includeVars,\n            icon: \"fa fa-bars\",\n            asDropdown: true\n          }]);\n        }\n\n        return $scope.searchDashboards(linkDef, 7);\n      }\n\n      if (linkDef.type === 'link') {\n        return $q.when([{\n          url: linkDef.url,\n          title: linkDef.title,\n          icon: iconMap[linkDef.icon],\n          tooltip: linkDef.tooltip,\n          target: linkDef.targetBlank ? \"_blank\" : \"_self\",\n          keepTime: linkDef.keepTime,\n          includeVars: linkDef.includeVars,\n        }]);\n      }\n\n      return $q.when([]);\n    }\n\n    function updateDashLinks() {\n      var promises = _.map($scope.links, buildLinks);\n\n      $q.all(promises).then(function(results) {\n        $scope.generatedLinks = _.flatten(results);\n      });\n    }\n\n    $scope.searchDashboards = function(link, limit) {\n      return backendSrv.search({tag: link.tags, limit: limit}).then(function(results) {\n        return _.reduce(results, function(memo, dash) {\n          // do not add current dashboard\n          if (dash.id !== currentDashId) {\n            memo.push({\n              title: dash.title,\n              url: 'dashboard/' + dash.uri,\n              icon: 'fa fa-th-large',\n              keepTime: link.keepTime,\n              includeVars: link.includeVars\n            });\n          }\n          return memo;\n        }, []);\n      });\n    };\n\n    $scope.fillDropdown = function(link) {\n      $scope.searchDashboards(link, 100).then(function(results) {\n        _.each(results, function(hit) {\n          hit.url = linkSrv.getLinkUrl(hit);\n        });\n        link.searchHits = results;\n      });\n    };\n\n    updateDashLinks();\n    $rootScope.onAppEvent('dash-links-updated', updateDashLinks, $scope);\n  });\n\n  module.controller('DashLinkEditorCtrl', function($scope, $rootScope) {\n\n    $scope.iconMap = iconMap;\n    $scope.dashboard.links = $scope.dashboard.links || [];\n\n    $scope.addLink = function() {\n      $scope.dashboard.links.push({ type: 'dashboards', icon: 'external link' });\n      $scope.dashboard.updateSubmenuVisibility();\n      $scope.updated();\n    };\n\n    $scope.moveLink = function(index, dir) {\n      _.move($scope.dashboard.links, index, index+dir);\n      $scope.updated();\n    };\n\n    $scope.updated = function() {\n      $rootScope.appEvent('dash-links-updated');\n    };\n\n    $scope.deleteLink = function(index) {\n      $scope.dashboard.links.splice(index, 1);\n      $scope.dashboard.updateSubmenuVisibility();\n      $scope.updated();\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/dashlinks/module.js\n// module id = 1542\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from '../../core/core_module';\n\nexport class PlaylistSearchCtrl {\n  query: any;\n  tagsMode: boolean;\n\n  searchStarted: any;\n\n  /** @ngInject */\n  constructor($timeout, private backendSrv) {\n    this.query = {query: '', tag: [], starred: false, limit: 30};\n\n    $timeout(() => {\n      this.query.query = '';\n      this.searchDashboards();\n    }, 100);\n  }\n\n  searchDashboards() {\n    this.tagsMode = false;\n    var prom: any = {};\n\n    prom.promise = this.backendSrv.search(this.query).then((result) => {\n      return {\n        dashboardResult: result,\n        tagResult: []\n      };\n    });\n\n    this.searchStarted(prom);\n  }\n\n  showStarred() {\n    this.query.starred = !this.query.starred;\n    this.searchDashboards();\n  }\n\n  queryHasNoFilters() {\n    return this.query.query === '' && this.query.starred === false && this.query.tag.length === 0;\n  }\n\n  filterByTag(tag, evt) {\n    this.query.tag.push(tag);\n    this.searchDashboards();\n    if (evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n    }\n  }\n\n  getTags() {\n    var prom: any = {};\n    prom.promise = this.backendSrv.get('/api/dashboards/tags').then((result) => {\n      return {\n        dashboardResult: [],\n        tagResult: result\n      };\n    });\n\n    this.searchStarted(prom);\n  }\n}\n\nexport function playlistSearchDirective() {\n  return {\n    restrict: 'E',\n    templateUrl: 'public/app/features/playlist/partials/playlist_search.html',\n    controller: PlaylistSearchCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      searchStarted: '&'\n    },\n  };\n}\n\ncoreModule.directive('playlistSearch', playlistSearchDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/playlist/playlist_search.ts","define([\n  './playlists_ctrl',\n  './playlist_search',\n  './playlist_srv',\n  './playlist_edit_ctrl',\n  './playlist_routes'\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/playlist/all.js\n// module id = 1543\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from '../../core/core_module';\n\nexport class PlaylistsCtrl {\n  playlists: any;\n  navModel: any;\n\n  /** @ngInject */\n  constructor(private $scope, private backendSrv, navModelSrv) {\n    this.navModel = navModelSrv.getPlaylistsNav(0);\n\n    backendSrv.get('/api/playlists').then(result => {\n      this.playlists = result;\n    });\n  }\n\n  removePlaylistConfirmed(playlist) {\n    _.remove(this.playlists, { id: playlist.id });\n\n    this.backendSrv.delete('/api/playlists/' + playlist.id)\n    .then(() => {\n        this.$scope.appEvent('alert-success', ['Playlist deleted', '']);\n      }, () => {\n        this.$scope.appEvent('alert-error', ['Unable to delete playlist', '']);\n        this.playlists.push(playlist);\n      });\n  }\n\n  removePlaylist(playlist) {\n\n    this.$scope.appEvent('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete playlist ' + playlist.name + '?',\n      yesText: \"Delete\",\n      icon: \"fa-trash\",\n      onConfirm: () => {\n        this.removePlaylistConfirmed(playlist);\n      }\n    });\n  }\n}\n\ncoreModule.controller('PlaylistsCtrl', PlaylistsCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/playlist/playlists_ctrl.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport coreModule from '../../core/core_module';\nimport kbn from 'app/core/utils/kbn';\nimport appEvents from 'app/core/app_events';\n\nclass PlaylistSrv {\n  private cancelPromise: any;\n  private dashboards: any;\n  private index: number;\n  private interval: any;\n  private playlistId: number;\n  private startUrl: string;\n  public isPlaying: boolean;\n\n  /** @ngInject */\n  constructor(\n    private $location: any,\n    private $timeout: any,\n    private backendSrv: any,\n    private $routeParams: any\n    ) { }\n\n  next() {\n    this.$timeout.cancel(this.cancelPromise);\n\n    var playedAllDashboards = this.index > this.dashboards.length - 1;\n\n    if (playedAllDashboards) {\n      window.location.href = this.getUrlWithKioskMode();\n      return;\n    }\n\n    var dash = this.dashboards[this.index];\n    this.$location.url('dashboard/' + dash.uri);\n\n    this.index++;\n    this.cancelPromise = this.$timeout(() => this.next(), this.interval);\n  }\n\n  getUrlWithKioskMode() {\n    const inKioskMode = document.body.classList.contains('page-kiosk-mode');\n\n    // check if should add kiosk query param\n    if (inKioskMode && this.startUrl.indexOf('kiosk') === -1) {\n      return this.startUrl + '?kiosk=true';\n    }\n\n    // check if should remove kiosk query param\n    if (!inKioskMode) {\n      return this.startUrl.split(\"?\")[0];\n    }\n\n    // already has kiosk query param, just return startUrl\n    return this.startUrl;\n  }\n\n  prev() {\n    this.index = Math.max(this.index - 2, 0);\n    this.next();\n  }\n\n  start(playlistId) {\n    this.stop();\n\n    this.startUrl = window.location.href;\n    this.index = 0;\n    this.playlistId = playlistId;\n    this.isPlaying = true;\n\n    if (this.$routeParams.kiosk) {\n      appEvents.emit('toggle-kiosk-mode');\n    }\n\n    this.backendSrv.get(`/api/playlists/${playlistId}`).then(playlist => {\n      this.backendSrv.get(`/api/playlists/${playlistId}/dashboards`).then(dashboards => {\n        this.dashboards = dashboards;\n        this.interval = kbn.interval_to_ms(playlist.interval);\n        this.next();\n      });\n    });\n  }\n\n  stop() {\n    this.index = 0;\n    this.isPlaying = false;\n    this.playlistId = 0;\n\n    if (this.cancelPromise) {\n      this.$timeout.cancel(this.cancelPromise);\n    }\n  }\n}\n\ncoreModule.service('playlistSrv', PlaylistSrv);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/playlist/playlist_srv.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport coreModule from '../../core/core_module';\n\nexport class PlaylistEditCtrl {\n  filteredDashboards: any = [];\n  filteredTags: any = [];\n  searchQuery = '';\n  loading = false;\n  playlist: any = {\n    interval: '5m',\n  };\n  playlistItems: any = [];\n  dashboardresult: any = [];\n  tagresult: any = [];\n  navModel: any;\n\n  /** @ngInject */\n  constructor(\n    private $scope,\n    private backendSrv,\n    private $location,\n    $route,\n    navModelSrv\n  ) {\n\n    this.navModel = navModelSrv.getPlaylistsNav(0);\n\n    if ($route.current.params.id) {\n      var playlistId = $route.current.params.id;\n\n      backendSrv.get('/api/playlists/' + playlistId).then(result => {\n        this.playlist = result;\n      });\n\n      backendSrv.get('/api/playlists/' + playlistId + '/items').then(result => {\n        this.playlistItems = result;\n      });\n    }\n  }\n\n  filterFoundPlaylistItems() {\n    this.filteredDashboards = _.reject(this.dashboardresult, (playlistItem) => {\n      return _.find(this.playlistItems, (listPlaylistItem) => {\n        return parseInt(listPlaylistItem.value) === playlistItem.id;\n      });\n    });\n\n    this.filteredTags = _.reject(this.tagresult, (tag) => {\n      return _.find(this.playlistItems, (listPlaylistItem) => {\n        return listPlaylistItem.value === tag.term;\n      });\n    });\n  }\n\n  addPlaylistItem(playlistItem) {\n    playlistItem.value = playlistItem.id.toString();\n    playlistItem.type = 'dashboard_by_id';\n    playlistItem.order = this.playlistItems.length + 1;\n\n    this.playlistItems.push(playlistItem);\n    this.filterFoundPlaylistItems();\n  }\n\n  addTagPlaylistItem(tag) {\n    var playlistItem: any = {\n      value: tag.term,\n      type: 'dashboard_by_tag',\n      order: this.playlistItems.length + 1,\n      title: tag.term\n    };\n\n    this.playlistItems.push(playlistItem);\n    this.filterFoundPlaylistItems();\n  }\n\n  removePlaylistItem(playlistItem) {\n    _.remove(this.playlistItems, (listedPlaylistItem) => {\n      return playlistItem === listedPlaylistItem;\n    });\n    this.filterFoundPlaylistItems();\n  }\n\n  savePlaylist(playlist, playlistItems) {\n    var savePromise;\n\n    playlist.items = playlistItems;\n\n    savePromise = playlist.id\n      ? this.backendSrv.put('/api/playlists/' + playlist.id, playlist)\n      : this.backendSrv.post('/api/playlists', playlist);\n\n      savePromise\n      .then(() => {\n        this.$scope.appEvent('alert-success', ['Playlist saved', '']);\n        this.$location.path('/playlists');\n      }, () => {\n        this.$scope.appEvent('alert-error', ['Unable to save playlist', '']);\n      });\n  }\n\n  isNew() {\n    return !this.playlist.id;\n  }\n\n  isPlaylistEmpty() {\n    return !this.playlistItems.length;\n  }\n\n  backToList() {\n    this.$location.path('/playlists');\n  }\n\n  searchStarted(promise) {\n    promise.then((data) => {\n      this.dashboardresult = data.dashboardResult;\n      this.tagresult = data.tagResult;\n      this.filterFoundPlaylistItems();\n    });\n  }\n\n  movePlaylistItem(playlistItem, offset) {\n    var currentPosition = this.playlistItems.indexOf(playlistItem);\n    var newPosition = currentPosition + offset;\n\n    if (newPosition >= 0 && newPosition < this.playlistItems.length) {\n      this.playlistItems.splice(currentPosition, 1);\n      this.playlistItems.splice(newPosition, 0, playlistItem);\n    }\n  }\n\n  movePlaylistItemUp(playlistItem) {\n    this.movePlaylistItem(playlistItem, -1);\n  }\n\n  movePlaylistItemDown(playlistItem) {\n    this.movePlaylistItem(playlistItem, 1);\n  }\n}\n\ncoreModule.controller('PlaylistEditCtrl', PlaylistEditCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/playlist/playlist_edit_ctrl.ts","define([\n  'angular',\n  'lodash'\n],\nfunction (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.routes');\n\n  module.config(function($routeProvider) {\n    $routeProvider\n      .when('/playlists', {\n        templateUrl: 'public/app/features/playlist/partials/playlists.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistsCtrl'\n      })\n      .when('/playlists/create', {\n        templateUrl: 'public/app/features/playlist/partials/playlist.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistEditCtrl'\n      })\n      .when('/playlists/edit/:id', {\n        templateUrl: 'public/app/features/playlist/partials/playlist.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistEditCtrl'\n      })\n      .when('/playlists/play/:id', {\n        templateUrl: 'public/app/features/playlist/partials/playlists.html',\n        controllerAs: 'ctrl',\n        controller : 'PlaylistsCtrl',\n        resolve: {\n          init: function(playlistSrv, $route) {\n            var playlistId = $route.current.params.id;\n            playlistSrv.start(playlistId);\n          }\n        }\n      });\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/playlist/playlist_routes.js\n// module id = 1548\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport _ from 'lodash';\n\nexport class SnapshotsCtrl {\n  navModel: any;\n  snapshots: any;\n\n  /** @ngInject */\n  constructor(private $rootScope, private backendSrv) {\n    this.navModel = {\n      section: {\n        title: 'Snapshots',\n        icon:  'icon-gf icon-gf-snapshot',\n        url: 'dashboard/snapshots',\n      },\n      menu: [],\n    };\n\n    this.backendSrv.get('/api/dashboard/snapshots').then(result => {\n      this.snapshots = result;\n    });\n  }\n\n  removeSnapshotConfirmed(snapshot) {\n    _.remove(this.snapshots, {key: snapshot.key});\n    this.backendSrv.get('/api/snapshots-delete/' + snapshot.deleteKey)\n    .then(() => {\n      this.$rootScope.appEvent('alert-success', ['Snapshot deleted', '']);\n    }, () => {\n      this.$rootScope.appEvent('alert-error', ['Unable to delete snapshot', '']);\n      this.snapshots.push(snapshot);\n    });\n  }\n\n  removeSnapshot(snapshot) {\n    this.$rootScope.appEvent('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete snapshot ' + snapshot.name + '?',\n      yesText: \"Delete\",\n      icon: \"fa-trash\",\n      onConfirm: () => {\n        this.removeSnapshotConfirmed(snapshot);\n      }\n    });\n  }\n\n}\n\nangular.module('grafana.controllers').controller('SnapshotsCtrl', SnapshotsCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/snapshot/snapshot_ctrl.ts","define([\n  './panel_menu',\n  './panel_directive',\n  './solo_panel_ctrl',\n  './query_ctrl',\n  './panel_editor_tab',\n  './query_editor_row',\n  './query_troubleshooter',\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/panel/all.js\n// module id = 1551\n// module chunks = 0","define([\n  'angular',\n  'jquery',\n  'lodash',\n  'tether',\n],\nfunction (angular, $, _, Tether) {\n  'use strict';\n\n  angular\n    .module('grafana.directives')\n    .directive('panelMenu', function($compile) {\n      var linkTemplate =\n          '<span class=\"panel-title drag-handle pointer\">' +\n            '<span class=\"icon-gf panel-alert-icon\"></span>' +\n            '<span class=\"panel-title-text drag-handle\">{{ctrl.panel.title | interpolateTemplateVars:this}}</span>' +\n            '<span class=\"panel-time-info\" ng-show=\"ctrl.timeInfo\"><i class=\"fa fa-clock-o\"></i> {{ctrl.timeInfo}}</span>' +\n          '</span>';\n\n      function createMenuTemplate(ctrl) {\n        var template = '<div class=\"panel-menu small\">';\n\n        if (ctrl.dashboard.meta.canEdit) {\n          template += '<div class=\"panel-menu-inner\">';\n          template += '<div class=\"panel-menu-row\">';\n          if (!ctrl.dashboard.meta.fullscreen) {\n            template += '<a class=\"panel-menu-icon pull-left\" ng-click=\"ctrl.updateColumnSpan(-1)\"><i class=\"fa fa-minus\"></i></a>';\n            template += '<a class=\"panel-menu-icon pull-left\" ng-click=\"ctrl.updateColumnSpan(1)\"><i class=\"fa fa-plus\"></i></a>';\n          }\n          template += '<a class=\"panel-menu-icon pull-right\" ng-click=\"ctrl.removePanel()\"><i class=\"fa fa-trash\"></i></a>';\n          template += '<div class=\"clearfix\"></div>';\n          template += '</div>';\n        }\n\n        template += '<div class=\"panel-menu-row\">';\n        template += '<a class=\"panel-menu-link\" gf-dropdown=\"extendedMenu\"><i class=\"fa fa-bars\"></i></a>';\n\n        _.each(ctrl.getMenu(), function(item) {\n          // skip edit actions if not editor\n          if (item.role === 'Editor' && !ctrl.dashboard.meta.canEdit) {\n            return;\n          }\n\n          template += '<a class=\"panel-menu-link\" ';\n          if (item.click) { template += ' ng-click=\"' + item.click + '\"'; }\n          if (item.href) { template += ' href=\"' + item.href + '\"'; }\n          template += '>';\n          template += item.text + '</a>';\n        });\n\n        template += '</div>';\n        template += '</div>';\n        template += '</div>';\n        return template;\n      }\n\n      function getExtendedMenu(ctrl) {\n        return ctrl.getExtendedMenu();\n      }\n\n      return {\n        restrict: 'A',\n        link: function($scope, elem) {\n          var $link = $(linkTemplate);\n          var $panelContainer = elem.parents(\".panel-container\");\n          var menuScope = null;\n          var ctrl = $scope.ctrl;\n          var timeout = null;\n          var $menu = null;\n          var teather;\n\n          elem.append($link);\n\n          function dismiss(time, force) {\n            clearTimeout(timeout);\n            timeout = null;\n\n            if (time) {\n              timeout = setTimeout(dismiss, time);\n              return;\n            }\n\n            // if hovering or draging pospone close\n            if (force !== true) {\n              if ($menu.is(':hover') || $scope.ctrl.dashboard.$$panelDragging) {\n                dismiss(2200);\n                return;\n              }\n            }\n\n            if (menuScope) {\n              teather.destroy();\n              $menu.unbind();\n              $menu.remove();\n              menuScope.$destroy();\n              menuScope = null;\n              $menu = null;\n              $panelContainer.removeClass('panel-highlight');\n            }\n          }\n\n          var showMenu = function(e) {\n            // if menu item is clicked and menu was just removed from dom ignore this event\n            if (!$.contains(document, e.target)) {\n              return;\n            }\n\n            if ($menu) {\n              dismiss();\n              return;\n            }\n\n            var menuTemplate;\n            menuTemplate = createMenuTemplate(ctrl);\n\n            $menu = $(menuTemplate);\n            $menu.mouseleave(function() {\n              dismiss(1000);\n            });\n\n            menuScope = $scope.$new();\n            menuScope.extendedMenu = getExtendedMenu(ctrl);\n            menuScope.dismiss = function() {\n              dismiss(null, true);\n            };\n\n            $(\".panel-container\").removeClass('panel-highlight');\n            $panelContainer.toggleClass('panel-highlight');\n\n            $('.panel-menu').remove();\n\n            elem.append($menu);\n\n            $scope.$apply(function() {\n              $compile($menu.contents())(menuScope);\n\n              teather = new Tether({\n                element: $menu,\n                target: $panelContainer,\n                attachment: 'bottom center',\n                targetAttachment: 'top center',\n                constraints: [\n                  {\n                    to: 'window',\n                    attachment: 'together',\n                    pin: true\n                  }\n                ]\n              });\n            });\n\n            dismiss(2200);\n          };\n\n          elem.click(showMenu);\n          $compile(elem.contents())($scope);\n        }\n      };\n    });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/panel/panel_menu.js\n// module id = 1552\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\nimport $ from 'jquery';\nimport Drop from 'tether-drop';\n\nvar module = angular.module('grafana.directives');\n\nvar panelTemplate = `\n  <div class=\"panel-container\">\n    <div class=\"panel-header\">\n      <span class=\"panel-info-corner\">\n        <i class=\"fa\"></i>\n        <span class=\"panel-info-corner-inner\"></span>\n      </span>\n\n      <span class=\"panel-loading\" ng-show=\"ctrl.loading\">\n        <i class=\"fa fa-spinner fa-spin\"></i>\n      </span>\n\n      <div class=\"panel-title-container drag-handle\" panel-menu></div>\n    </div>\n\n    <div class=\"panel-content\">\n      <ng-transclude></ng-transclude>\n    </div>\n    <panel-resizer></panel-resizer>\n  </div>\n\n  <div class=\"panel-full-edit\" ng-if=\"ctrl.editMode\">\n    <div class=\"tabbed-view tabbed-view--panel-edit\">\n      <div class=\"tabbed-view-header\">\n        <h2 class=\"tabbed-view-title\">\n          {{ctrl.pluginName}}\n        </h2>\n\n        <ul class=\"gf-tabs\">\n          <li class=\"gf-tabs-item\" ng-repeat=\"tab in ::ctrl.editorTabs\">\n            <a class=\"gf-tabs-link\" ng-click=\"ctrl.changeTab($index)\" ng-class=\"{active: ctrl.editorTabIndex === $index}\">\n              {{::tab.title}}\n            </a>\n          </li>\n        </ul>\n\n        <button class=\"tabbed-view-close-btn\" ng-click=\"ctrl.exitFullscreen();\">\n          <i class=\"fa fa-remove\"></i>\n        </button>\n      </div>\n\n      <div class=\"tabbed-view-body\">\n        <div ng-repeat=\"tab in ctrl.editorTabs\" ng-if=\"ctrl.editorTabIndex === $index\">\n          <panel-editor-tab editor-tab=\"tab\" ctrl=\"ctrl\" index=\"$index\"></panel-editor-tab>\n        </div>\n      </div>\n    </div>\n  </div>\n`;\n\nmodule.directive('grafanaPanel', function($rootScope, $document) {\n  return {\n    restrict: 'E',\n    template: panelTemplate,\n    transclude: true,\n    scope: { ctrl: \"=\" },\n    link: function(scope, elem) {\n      var panelContainer = elem.find('.panel-container');\n      var cornerInfoElem = elem.find('.panel-info-corner');\n      var ctrl = scope.ctrl;\n      var infoDrop;\n\n      // the reason for handling these classes this way is for performance\n      // limit the watchers on panels etc\n      var transparentLastState = false;\n      var lastHasAlertRule = false;\n      var lastAlertState;\n      var hasAlertRule;\n      var lastHeight = 0;\n\n      function mouseEnter() {\n        panelContainer.toggleClass('panel-hover-highlight', true);\n        ctrl.dashboard.setPanelFocus(ctrl.panel.id);\n      }\n\n      function mouseLeave() {\n        panelContainer.toggleClass('panel-hover-highlight', false);\n        ctrl.dashboard.setPanelFocus(0);\n      }\n\n      // set initial height\n      if (!ctrl.containerHeight) {\n        ctrl.calculatePanelHeight();\n        panelContainer.css({minHeight: ctrl.containerHeight});\n        lastHeight = ctrl.containerHeight;\n      }\n\n      // set initial transparency\n      if (ctrl.panel.transparent) {\n        transparentLastState = true;\n        panelContainer.addClass('panel-transparent', true);\n      }\n\n      ctrl.events.on('render', () => {\n        if (lastHeight !== ctrl.containerHeight) {\n          panelContainer.css({minHeight: ctrl.containerHeight});\n          lastHeight = ctrl.containerHeight;\n        }\n\n        if (transparentLastState !== ctrl.panel.transparent) {\n          panelContainer.toggleClass('panel-transparent', ctrl.panel.transparent === true);\n          transparentLastState = ctrl.panel.transparent;\n        }\n\n        hasAlertRule = ctrl.panel.alert !== undefined;\n        if (lastHasAlertRule !== hasAlertRule) {\n          panelContainer.toggleClass('panel-has-alert', hasAlertRule);\n\n          lastHasAlertRule = hasAlertRule;\n        }\n\n        if (ctrl.alertState) {\n          if (lastAlertState) {\n            panelContainer.removeClass('panel-alert-state--' + lastAlertState);\n          }\n\n          if (ctrl.alertState.state === 'ok' || ctrl.alertState.state === 'alerting') {\n            panelContainer.addClass('panel-alert-state--' + ctrl.alertState.state);\n          }\n\n          lastAlertState = ctrl.alertState.state;\n        } else if (lastAlertState) {\n          panelContainer.removeClass('panel-alert-state--' + lastAlertState);\n          lastAlertState = null;\n        }\n      });\n\n      var lastFullscreen;\n      $rootScope.onAppEvent('panel-change-view', function(evt, payload) {\n        if (lastFullscreen !== ctrl.fullscreen) {\n          elem.toggleClass('panel-fullscreen', ctrl.fullscreen ? true : false);\n          lastFullscreen = ctrl.fullscreen;\n        }\n      }, scope);\n\n      function updatePanelCornerInfo() {\n        var cornerMode = ctrl.getInfoMode();\n        cornerInfoElem[0].className = 'panel-info-corner panel-info-corner--' + cornerMode;\n\n        if (cornerMode) {\n          if (infoDrop) {\n            infoDrop.destroy();\n          }\n\n          infoDrop = new Drop({\n            target: cornerInfoElem[0],\n            content: function() {\n              return ctrl.getInfoContent({mode: 'tooltip'});\n            },\n            classes: ctrl.error ? 'drop-error' : 'drop-help',\n            openOn: 'hover',\n            hoverOpenDelay: 100,\n            tetherOptions: {\n              attachment: 'bottom left',\n              targetAttachment: 'top left',\n              constraints: [\n                {\n                  to: 'window',\n                  attachment: 'together',\n                  pin: true\n                }\n              ],\n            }\n          });\n        }\n      }\n\n      scope.$watchGroup(['ctrl.error', 'ctrl.panel.description'], updatePanelCornerInfo);\n      scope.$watchCollection('ctrl.panel.links', updatePanelCornerInfo);\n\n      cornerInfoElem.on('click', function() {\n        infoDrop.close();\n        scope.$apply(ctrl.openInspector.bind(ctrl));\n      });\n\n      elem.on('mouseenter', mouseEnter);\n      elem.on('mouseleave', mouseLeave);\n\n      scope.$on('$destroy', function() {\n        elem.off();\n        cornerInfoElem.off();\n\n        if (infoDrop) {\n          infoDrop.destroy();\n        }\n      });\n    }\n  };\n});\n\nmodule.directive('panelResizer', function($rootScope) {\n  return {\n    restrict: 'E',\n    template: '<span class=\"resize-panel-handle icon-gf icon-gf-grabber\"></span>',\n    link: function(scope, elem) {\n      var resizing = false;\n      var lastPanel;\n      var ctrl = scope.ctrl;\n      var handleOffset;\n      var originalHeight;\n      var originalWidth;\n      var maxWidth;\n\n      function dragStartHandler(e) {\n        e.preventDefault();\n        resizing = true;\n\n        handleOffset = $(e.target).offset();\n        originalHeight = parseInt(ctrl.row.height);\n        originalWidth = ctrl.panel.span;\n        maxWidth = $(document).width();\n\n        lastPanel = ctrl.row.panels[ctrl.row.panels.length - 1];\n\n        $('body').on('mousemove', moveHandler);\n        $('body').on('mouseup', dragEndHandler);\n      }\n\n      function moveHandler(e) {\n        ctrl.row.height = Math.round(originalHeight + (e.pageY - handleOffset.top));\n        ctrl.panel.span = originalWidth + (((e.pageX - handleOffset.left) / maxWidth) * 12);\n        ctrl.panel.span = Math.min(Math.max(ctrl.panel.span, 1), 12);\n\n        ctrl.row.updateRowSpan();\n        var rowSpan = ctrl.row.span;\n\n        // auto adjust other panels\n        if (Math.floor(rowSpan) < 14) {\n          // last panel should not push row down\n          if (lastPanel === ctrl.panel && rowSpan > 12) {\n            lastPanel.span -= rowSpan - 12;\n          } else if (lastPanel !== ctrl.panel) {\n            // reduce width of last panel so total in row is 12\n            lastPanel.span = lastPanel.span - (rowSpan - 12);\n            lastPanel.span = Math.min(Math.max(lastPanel.span, 1), 12);\n          }\n        }\n\n        ctrl.row.panelSpanChanged(true);\n\n        scope.$apply(function() {\n          ctrl.render();\n        });\n      }\n\n      function dragEndHandler() {\n        ctrl.panel.span = Math.round(ctrl.panel.span);\n        if (lastPanel) {\n          lastPanel.span = Math.round(lastPanel.span);\n        }\n\n        // first digest to propagate panel width change\n        // then render\n        $rootScope.$apply(function() {\n          ctrl.row.panelSpanChanged();\n          setTimeout(function() {\n            $rootScope.$broadcast('render');\n          });\n        });\n\n        $('body').off('mousemove', moveHandler);\n        $('body').off('mouseup', dragEndHandler);\n      }\n\n      elem.on('mousedown', dragStartHandler);\n\n      var unbind = scope.$on(\"$destroy\", function() {\n        elem.off('mousedown', dragStartHandler);\n        unbind();\n      });\n    }\n  };\n});\n\nmodule.directive('panelHelpCorner', function($rootScope) {\n  return {\n    restrict: 'E',\n    template: `\n      <span class=\"alert-error panel-error small pointer\" ng-if=\"ctrl.error\" ng-click=\"ctrl.openInspector()\">\n        <span data-placement=\"top\" bs-tooltip=\"ctrl.error\">\n          <i class=\"fa fa-exclamation\"></i><span class=\"panel-error-arrow\"></span>\n        </span>\n      </span>\n    `,\n    link: function(scope, elem) {\n    }\n  };\n});\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/panel_directive.ts","define([\n  'angular',\n  'jquery',\n],\nfunction (angular, $) {\n  \"use strict\";\n\n  var module = angular.module('grafana.routes');\n\n  module.controller('SoloPanelCtrl', function($scope, $routeParams, $location, dashboardLoaderSrv, contextSrv) {\n\n    var panelId;\n\n    $scope.init = function() {\n      contextSrv.sidemenu = false;\n\n      var params = $location.search();\n      panelId = parseInt(params.panelId);\n\n      $scope.onAppEvent(\"dashboard-initialized\", $scope.initPanelScope);\n\n      dashboardLoaderSrv.loadDashboard($routeParams.type, $routeParams.slug).then(function(result) {\n        result.meta.soloMode = true;\n        $scope.initDashboard(result, $scope);\n      });\n    };\n\n    $scope.initPanelScope = function() {\n      var panelInfo = $scope.dashboard.getPanelInfoById(panelId);\n\n      // fake row ctrl scope\n      $scope.ctrl = {\n        row: panelInfo.row,\n        dashboard: $scope.dashboard,\n      };\n\n      $scope.ctrl.row.height = $(window).height();\n      $scope.panel = panelInfo.panel;\n      $scope.$index = 0;\n\n      if (!$scope.panel) {\n        $scope.appEvent('alert-error', ['Panel not found', '']);\n        return;\n      }\n\n      $scope.panel.span = 12;\n    };\n\n    $scope.init();\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/panel/solo_panel_ctrl.js\n// module id = 1554\n// module chunks = 0","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\n\nvar directiveModule = angular.module('grafana.directives');\n\n/** @ngInject */\nfunction panelEditorTab(dynamicDirectiveSrv) {\n  return dynamicDirectiveSrv.create({\n    scope: {\n      ctrl: \"=\",\n      editorTab: \"=\",\n      index: \"=\",\n    },\n    directive: scope => {\n      var pluginId = scope.ctrl.pluginId;\n      var tabIndex = scope.index;\n      // create a wrapper for directiveFn\n      // required for metrics tab directive\n      // that is the same for many panels but\n      // given different names in this function\n      var fn = () => scope.editorTab.directiveFn();\n\n      return Promise.resolve({\n        name: `panel-editor-tab-${pluginId}${tabIndex}`,\n        fn: fn,\n      });\n    }\n  });\n}\n\ndirectiveModule.directive('panelEditorTab', panelEditorTab);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/panel_editor_tab.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport angular from 'angular';\n\nvar module = angular.module('grafana.directives');\n\nexport class QueryRowCtrl {\n  collapsedText: string;\n  canCollapse: boolean;\n  getCollapsedText: any;\n  target: any;\n  queryCtrl: any;\n  panelCtrl: any;\n  panel: any;\n  collapsed: any;\n\n  constructor() {\n    this.panelCtrl = this.queryCtrl.panelCtrl;\n    this.target = this.queryCtrl.target;\n    this.panel = this.panelCtrl.panel;\n\n    if (!this.target.refId) {\n      this.target.refId = this.panelCtrl.dashboard.getNextQueryLetter(this.panel);\n    }\n\n    this.toggleCollapse(true);\n    if (this.target.isNew) {\n      delete this.target.isNew;\n      this.toggleCollapse(false);\n    }\n\n    if (this.panel.targets.length < 4) {\n      this.collapsed = false;\n    }\n  }\n\n  toggleHideQuery() {\n    this.target.hide = !this.target.hide;\n    this.panelCtrl.refresh();\n  }\n\n  toggleCollapse(init) {\n    if (!this.canCollapse) {\n      return;\n    }\n\n    if (!this.panelCtrl.__collapsedQueryCache) {\n      this.panelCtrl.__collapsedQueryCache = {};\n    }\n\n    if (init) {\n      this.collapsed = this.panelCtrl.__collapsedQueryCache[this.target.refId] !== false;\n    } else {\n      this.collapsed = !this.collapsed;\n      this.panelCtrl.__collapsedQueryCache[this.target.refId] = this.collapsed;\n    }\n\n    try {\n      this.collapsedText = this.queryCtrl.getCollapsedText();\n    } catch (e) {\n      var err = e.message || e.toString();\n      this.collapsedText = 'Error: ' + err;\n    }\n  }\n\n  toggleEditorMode() {\n    if (this.canCollapse && this.collapsed) {\n      this.collapsed = false;\n    }\n\n    this.queryCtrl.toggleEditorMode();\n  }\n\n  removeQuery() {\n    if (this.panelCtrl.__collapsedQueryCache) {\n      delete this.panelCtrl.__collapsedQueryCache[this.target.refId];\n    }\n\n    this.panelCtrl.removeQuery(this.target);\n  }\n\n  duplicateQuery() {\n    var clone = angular.copy(this.target);\n    this.panelCtrl.addQuery(clone);\n  }\n\n  moveQuery(direction) {\n    this.panelCtrl.moveQuery(this.target, direction);\n  }\n}\n\n/** @ngInject **/\nfunction queryEditorRowDirective() {\n  return {\n    restrict: 'E',\n    controller: QueryRowCtrl,\n    bindToController: true,\n    controllerAs: \"ctrl\",\n    templateUrl: 'public/app/features/panel/partials/query_editor_row.html',\n    transclude: true,\n    scope: {\n      queryCtrl: \"=\",\n      canCollapse: \"=\",\n      hasTextEditMode: \"=\",\n    },\n  };\n}\n\nmodule.directive('queryEditorRow', queryEditorRowDirective);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/query_editor_row.ts","///<reference path=\"../../headers/common.d.ts\" />\n\nimport _ from 'lodash';\nimport appEvents  from 'app/core/app_events';\nimport {coreModule, JsonExplorer} from 'app/core/core';\n\nconst template = `\n<div class=\"query-troubleshooter\" ng-if=\"ctrl.isOpen\">\n  <div class=\"query-troubleshooter__header\">\n    <a class=\"pointer\" ng-click=\"ctrl.toggleMocking()\">Mock Response</a>\n    <a class=\"pointer\" ng-click=\"ctrl.toggleExpand()\" ng-hide=\"ctrl.allNodesExpanded\">\n      <i class=\"fa fa-plus-square-o\"></i> Expand All\n    </a>\n    <a class=\"pointer\" ng-click=\"ctrl.toggleExpand()\" ng-show=\"ctrl.allNodesExpanded\">\n      <i class=\"fa fa-minus-square-o\"></i> Collapse All\n    </a>\n    <a class=\"pointer\" clipboard-button=\"ctrl.getClipboardText()\"><i class=\"fa fa-clipboard\"></i> Copy to Clipboard</a>\n  </div>\n  <div class=\"query-troubleshooter__body\" ng-hide=\"ctrl.isMocking\">\n    <i class=\"fa fa-spinner fa-spin\" ng-show=\"ctrl.isLoading\"></i>\n    <div class=\"query-troubleshooter-json\"></div>\n  </div>\n  <div class=\"query-troubleshooter__body\" ng-show=\"ctrl.isMocking\">\n    <div class=\"gf-form p-l-1 gf-form--v-stretch\">\n\t\t\t<textarea class=\"gf-form-input\" style=\"width: 95%\" rows=\"10\" ng-model=\"ctrl.mockedResponse\"  placeholder=\"JSON\"></textarea>\n    </div>\n  </div>\n</div>\n`;\n\nexport class QueryTroubleshooterCtrl {\n  isOpen: any;\n  isLoading: boolean;\n  showResponse: boolean;\n  panelCtrl: any;\n  renderJsonExplorer: (data) => void;\n  onRequestErrorEventListener: any;\n  onRequestResponseEventListener: any;\n  hasError: boolean;\n  allNodesExpanded: boolean;\n  isMocking: boolean;\n  mockedResponse: string;\n  jsonExplorer: JsonExplorer;\n\n  /** @ngInject **/\n  constructor($scope, private $timeout) {\n    this.onRequestErrorEventListener = this.onRequestError.bind(this);\n    this.onRequestResponseEventListener = this.onRequestResponse.bind(this);\n\n    appEvents.on('ds-request-response', this.onRequestResponseEventListener);\n    appEvents.on('ds-request-error', this.onRequestErrorEventListener);\n\n    $scope.$on('$destroy',  this.removeEventsListeners.bind(this));\n    $scope.$watch('ctrl.isOpen',  this.stateChanged.bind(this));\n  }\n\n  removeEventsListeners() {\n    appEvents.off('ds-request-response', this.onRequestResponseEventListener);\n    appEvents.off('ds-request-error', this.onRequestErrorEventListener);\n  }\n\n  toggleMocking() {\n    this.isMocking = !this.isMocking;\n  }\n\n  onRequestError(err) {\n    // ignore if closed\n    if (!this.isOpen) {\n      return;\n    }\n\n    this.isOpen = true;\n    this.hasError = true;\n    this.onRequestResponse(err);\n  }\n\n  stateChanged() {\n    if (this.isOpen) {\n      this.panelCtrl.refresh();\n      this.isLoading = true;\n    }\n  }\n\n  getClipboardText(): string {\n    if (this.jsonExplorer) {\n      return JSON.stringify(this.jsonExplorer.json, null, 2);\n    }\n    return '';\n  }\n\n  handleMocking(data) {\n    var mockedData;\n    try {\n      mockedData = JSON.parse(this.mockedResponse);\n    } catch (err) {\n      appEvents.emit('alert-error', ['Failed to parse mocked response']);\n      return;\n    }\n\n    data.data = mockedData;\n  }\n\n  onRequestResponse(data) {\n    // ignore if closed\n    if (!this.isOpen) {\n      return;\n    }\n\n    if (this.isMocking) {\n      this.handleMocking(data);\n      return;\n    }\n\n    this.isLoading = false;\n    data = _.cloneDeep(data);\n\n    if (data.headers) {\n      delete data.headers;\n    }\n\n    if (data.config) {\n      data.request = data.config;\n      delete data.config;\n      delete data.request.transformRequest;\n      delete data.request.transformResponse;\n      delete data.request.paramSerializer;\n      delete data.request.jsonpCallbackParam;\n      delete data.request.headers;\n      delete data.request.requestId;\n      delete data.request.inspect;\n      delete data.request.retry;\n      delete data.request.timeout;\n    }\n\n    if (data.data) {\n      data.response = data.data;\n\n      if (data.status === 200) {\n        // if we are in error state, assume we automatically opened\n        // and auto close it again\n        if (this.hasError) {\n          this.hasError = false;\n          this.isOpen = false;\n        }\n      }\n\n      delete data.data;\n      delete data.status;\n      delete data.statusText;\n      delete data.$$config;\n    }\n\n    this.$timeout(_.partial(this.renderJsonExplorer, data));\n  }\n\n  toggleExpand(depth) {\n    if (this.jsonExplorer) {\n      this.allNodesExpanded = !this.allNodesExpanded;\n      this.jsonExplorer.openAtDepth(this.allNodesExpanded ? 20 : 1);\n    }\n  }\n}\n\nexport function queryTroubleshooter() {\n  return {\n    restrict: 'E',\n    template: template,\n    controller: QueryTroubleshooterCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    scope: {\n      panelCtrl: \"=\",\n      isOpen: \"=\",\n    },\n    link: function(scope, elem, attrs, ctrl) {\n\n      ctrl.renderJsonExplorer = function(data) {\n        var jsonElem = elem.find('.query-troubleshooter-json');\n\n        ctrl.jsonExplorer =  new JsonExplorer(data, 3, {\n          animateOpen: true,\n        });\n\n        const html = ctrl.jsonExplorer.render(true);\n        jsonElem.html(html);\n      };\n    }\n  };\n}\n\ncoreModule.directive('queryTroubleshooter', queryTroubleshooter);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/panel/query_troubleshooter.ts","\nimport coreModule from 'app/core/core_module';\nimport config from 'app/core/config';\nimport _ from 'lodash';\n\nclass StyleGuideCtrl {\n  colors: any = [];\n  theme: string;\n  buttonNames = ['primary', 'secondary', 'inverse', 'success', 'warning', 'danger'];\n  buttonSizes = ['btn-small', '', 'btn-large'];\n  buttonVariants = ['-', '-outline-'];\n  icons: any = [];\n  page: any;\n  pages = ['colors', 'buttons', 'icons', 'plugins'];\n  navModel: any;\n\n  /** @ngInject **/\n  constructor(private $http, private $routeParams, private backendSrv, navModelSrv) {\n    this.navModel = navModelSrv.getAdminNav();\n    this.theme = config.bootData.user.lightTheme ? 'light': 'dark';\n    this.page = {};\n\n    if ($routeParams.page) {\n      this.page[$routeParams.page] = 1;\n    } else {\n      this.page.colors = true;\n    }\n\n    if (this.page.colors) {\n      this.loadColors();\n    }\n\n    if (this.page.icons) {\n      this.loadIcons();\n    }\n   }\n\n  loadColors() {\n   this.$http.get('public/build/styleguide.json').then(res => {\n      this.colors = _.map(res.data[this.theme], (value, key) => {\n        return {name: key, value: value};\n      });\n    });\n  }\n\n  loadIcons() {\n   this.$http.get('public/sass/icons.json').then(res => {\n      this.icons = res.data;\n    });\n  }\n\n  switchTheme() {\n    this.$routeParams.theme = this.theme === 'dark' ? 'light' : 'dark';\n\n    var cmd = {\n      theme: this.$routeParams.theme\n    };\n\n    this.backendSrv.put('/api/user/preferences', cmd).then(() => {\n      window.location.href = window.location.href;\n    });\n  }\n\n}\n\ncoreModule.controller('StyleGuideCtrl', StyleGuideCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/styleguide/styleguide.ts"],"sourceRoot":""}