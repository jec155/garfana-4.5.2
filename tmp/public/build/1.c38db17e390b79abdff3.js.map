{"version":3,"sources":["webpack:///1.c38db17e390b79abdff3.js","webpack:///./public/app/features/org/all.js","webpack:///./public/app/features/org/org_users_ctrl.ts","webpack:///./public/app/features/org/newOrgCtrl.js","webpack:///./public/app/features/org/select_org_ctrl.js","webpack:///./public/app/features/org/change_password_ctrl.js","webpack:///./public/app/features/org/profile_ctrl.ts","webpack:///./public/app/features/org/userInviteCtrl.js","webpack:///./public/app/features/org/orgApiKeysCtrl.js","webpack:///./public/app/features/org/orgDetailsCtrl.js","webpack:///./public/app/features/org/prefs_control.ts"],"names":["webpackJsonp","1301","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","apply","1322","__webpack_exports__","Object","defineProperty","value","d","OrgUsersCtrl","__WEBPACK_IMPORTED_MODULE_0_app_core_config__","__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__","__WEBPACK_IMPORTED_MODULE_2_remarkable__","__WEBPACK_IMPORTED_MODULE_2_remarkable___default","n","$scope","backendSrv","navModelSrv","$sce","this","user","loginOrEmail","role","navModel","getOrgNav","get","editor","index","externalUserMngLinkUrl","externalUserMngLinkName","externalUserMngInfo","a","linkTarget","render","addUsersBtnName","getAddUserBtnName","$inject","prototype","disableLoginForm","_this","then","users","pendingInvites","updateOrgUser","patch","userId","removeUser","appEvent","title","text","login","yesText","icon","onConfirm","removeUserConfirmed","delete","bind","revokeInvite","invite","evt","stopPropagation","code","copyInviteToClipboard","getInviteUrl","url","openAddUsersView","modalScope","$new","invitesSent","src","modalClass","scope","controller","1348","angular","config","default","$http","newOrg","name","createOrg","post","result","orgId","window","location","href","appSubUrl","call","1349","contextSrv","sidemenu","init","getUserOrgs","orgs","setUsingOrg","org","1350","$location","command","authProxyEnabled","ldapEnabled","getProfileNav","changePassword","userForm","$valid","newPassword","confirmNew","put","path","1351","ProfileCtrl","__WEBPACK_IMPORTED_MODULE_1_app_core_core__","showOrgsList","readonlyLoginFields","getUser","theme","length","update","old_theme","1352","_","invites","email","options","skipEmails","addInvite","push","removeInvite","without","sendInvites","inviteForm","sendSingleInvite","finally","dismiss","1353","roleTypes","token","getTokens","tokens","removeToken","id","addToken","key","rootPath","origin","$root","1354","getOrgInfo","address","orgName","orgForm","data","updateAddress","addressForm","1355","prefsControlDirective","restrict","PrefsControlCtrl","bindToController","controllerAs","template","mode","timezones","themes","$onInit","prefs","oldTheme","updatePrefs","prefsForm","cmd","timezone","homeDashboardId","directive"],"mappings":"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","file":"1.c38db17e390b79abdff3.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 1301:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(1322),\n  __webpack_require__(1351),\n  __webpack_require__(1322),\n  __webpack_require__(1349),\n  __webpack_require__(1350),\n  __webpack_require__(1348),\n  __webpack_require__(1352),\n  __webpack_require__(1353),\n  __webpack_require__(1354),\n  __webpack_require__(1355),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function () {}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n\n/***/ 1322:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OrgUsersCtrl\", function() { return OrgUsersCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable__ = __webpack_require__(469);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_remarkable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_remarkable__);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\n\r\nvar OrgUsersCtrl = /** @class */ (function () {\r\n    /** @ngInject */\n    OrgUsersCtrl.$inject = [\"$scope\", \"backendSrv\", \"navModelSrv\", \"$sce\"];\r\n    function OrgUsersCtrl($scope, backendSrv, navModelSrv, $sce) {\r\n        this.$scope = $scope;\r\n        this.backendSrv = backendSrv;\r\n        this.user = {\r\n            loginOrEmail: '',\r\n            role: 'Viewer',\r\n        };\r\n        this.navModel = navModelSrv.getOrgNav(0);\r\n        this.get();\r\n        this.editor = { index: 0 };\r\n        this.externalUserMngLinkUrl = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].externalUserMngLinkUrl;\r\n        this.externalUserMngLinkName = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].externalUserMngLinkName;\r\n        // render external user management info markdown\r\n        if (__WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].externalUserMngInfo) {\r\n            this.externalUserMngInfo = new __WEBPACK_IMPORTED_MODULE_2_remarkable___default.a({\r\n                linkTarget: '__blank',\r\n            }).render(__WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].externalUserMngInfo);\r\n        }\r\n        this.addUsersBtnName = this.getAddUserBtnName();\r\n    }\r\n    OrgUsersCtrl.prototype.getAddUserBtnName = function () {\r\n        if (this.externalUserMngLinkName) {\r\n            return this.externalUserMngLinkName;\r\n        }\r\n        else if (__WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].disableLoginForm) {\r\n            return \"添加用户\";\r\n        }\r\n        else {\r\n            return \"添加或邀请\";\r\n        }\r\n    };\r\n    OrgUsersCtrl.prototype.get = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/org/users')\r\n            .then(function (users) {\r\n            _this.users = users;\r\n        });\r\n        this.backendSrv.get('/api/org/invites')\r\n            .then(function (pendingInvites) {\r\n            _this.pendingInvites = pendingInvites;\r\n        });\r\n    };\r\n    OrgUsersCtrl.prototype.updateOrgUser = function (user) {\r\n        this.backendSrv.patch('/api/org/users/' + user.userId, user);\r\n    };\r\n    OrgUsersCtrl.prototype.removeUser = function (user) {\r\n        var _this = this;\r\n        this.$scope.appEvent('confirm-modal', {\r\n            title: 'Delete',\r\n            text: 'Are you sure you want to delete user ' + user.login + '?',\r\n            yesText: \"Delete\",\r\n            icon: \"fa-warning\",\r\n            onConfirm: function () {\r\n                _this.removeUserConfirmed(user);\r\n            }\r\n        });\r\n    };\r\n    OrgUsersCtrl.prototype.removeUserConfirmed = function (user) {\r\n        this.backendSrv.delete('/api/org/users/' + user.userId)\r\n            .then(this.get.bind(this));\r\n    };\r\n    OrgUsersCtrl.prototype.revokeInvite = function (invite, evt) {\r\n        evt.stopPropagation();\r\n        this.backendSrv.patch('/api/org/invites/' + invite.code + '/revoke')\r\n            .then(this.get.bind(this));\r\n    };\r\n    OrgUsersCtrl.prototype.copyInviteToClipboard = function (evt) {\r\n        evt.stopPropagation();\r\n    };\r\n    OrgUsersCtrl.prototype.getInviteUrl = function (invite) {\r\n        return invite.url;\r\n    };\r\n    OrgUsersCtrl.prototype.openAddUsersView = function () {\r\n        var modalScope = this.$scope.$new();\r\n        modalScope.invitesSent = this.get.bind(this);\r\n        var src = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].disableLoginForm\r\n            ? 'public/app/features/org/partials/add_user.html'\r\n            : 'public/app/features/org/partials/invite.html';\r\n        this.$scope.appEvent('show-modal', {\r\n            src: src,\r\n            modalClass: 'invite-modal',\r\n            scope: modalScope\r\n        });\r\n    };\r\n    return OrgUsersCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].controller('OrgUsersCtrl', OrgUsersCtrl);\r\n\n\n/***/ }),\n\n/***/ 1348:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(27),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('NewOrgCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"navModelSrv\", function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.newOrg = {name: ''};\n\n    $scope.createOrg = function() {\n      backendSrv.post('/api/orgs/', $scope.newOrg).then(function(result) {\n        backendSrv.post('/api/user/using/' + result.orgId).then(function() {\n          window.location.href = config.appSubUrl + '/org';\n        });\n      });\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1349:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(27),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SelectOrgCtrl', [\"$scope\", \"backendSrv\", \"contextSrv\", function($scope, backendSrv, contextSrv) {\n\n    contextSrv.sidemenu = false;\n\n    $scope.init = function() {\n      $scope.getUserOrgs();\n    };\n\n    $scope.getUserOrgs = function() {\n      backendSrv.get('/api/user/orgs').then(function(orgs) {\n        $scope.orgs = orgs;\n      });\n    };\n\n    $scope.setUsingOrg = function(org) {\n      backendSrv.post('/api/user/using/' + org.orgId).then(function() {\n        window.location.href = config.appSubUrl + '/';\n      });\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1350:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(27),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ChangePasswordCtrl', [\"$scope\", \"backendSrv\", \"$location\", \"navModelSrv\", function($scope, backendSrv, $location, navModelSrv) {\n\n    $scope.command = {};\n    $scope.authProxyEnabled = config.authProxyEnabled;\n    $scope.ldapEnabled = config.ldapEnabled;\n    $scope.navModel = navModelSrv.getProfileNav();\n\n    $scope.changePassword = function() {\n      if (!$scope.userForm.$valid) { return; }\n\n      if ($scope.command.newPassword !== $scope.command.confirmNew) {\n        $scope.appEvent('alert-warning', ['New passwords do not match', '']);\n        return;\n      }\n\n      backendSrv.put('/api/user/password', $scope.command).then(function() {\n        $location.path(\"profile\");\n      });\n    };\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1351:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProfileCtrl\", function() { return ProfileCtrl; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core__ = __webpack_require__(465);\n\r\n\r\nvar ProfileCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    ProfileCtrl.$inject = [\"backendSrv\", \"contextSrv\", \"$location\", \"navModelSrv\"];\r\n    function ProfileCtrl(backendSrv, contextSrv, $location, navModelSrv) {\r\n        this.backendSrv = backendSrv;\r\n        this.contextSrv = contextSrv;\r\n        this.$location = $location;\r\n        this.orgs = [];\r\n        this.showOrgsList = false;\r\n        this.readonlyLoginFields = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].disableLoginForm;\r\n        this.getUser();\r\n        this.getUserOrgs();\r\n        this.navModel = navModelSrv.getProfileNav();\r\n    }\r\n    ProfileCtrl.prototype.getUser = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/user').then(function (user) {\r\n            _this.user = user;\r\n            _this.user.theme = user.theme || 'dark';\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.getUserOrgs = function () {\r\n        var _this = this;\r\n        this.backendSrv.get('/api/user/orgs').then(function (orgs) {\r\n            _this.orgs = orgs;\r\n            _this.showOrgsList = orgs.length > 1;\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.setUsingOrg = function (org) {\r\n        this.backendSrv.post('/api/user/using/' + org.orgId).then(function () {\r\n            window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].appSubUrl + '/profile';\r\n        });\r\n    };\r\n    ProfileCtrl.prototype.update = function () {\r\n        var _this = this;\r\n        if (!this.userForm.$valid) {\r\n            return;\r\n        }\r\n        this.backendSrv.put('/api/user/', this.user).then(function () {\r\n            _this.contextSrv.user.name = _this.user.name || _this.user.login;\r\n            if (_this.old_theme !== _this.user.theme) {\r\n                window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].appSubUrl + _this.$location.path();\r\n            }\r\n        });\r\n    };\r\n    return ProfileCtrl;\r\n}());\r\n\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core__[\"coreModule\"].controller('ProfileCtrl', ProfileCtrl);\r\n\n\n/***/ }),\n\n/***/ 1352:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n  __webpack_require__(7),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('UserInviteCtrl', [\"$scope\", \"backendSrv\", function($scope, backendSrv) {\n\n    $scope.invites = [\n      {name: '', email: '', role: 'Editor'},\n    ];\n\n    $scope.options = {skipEmails: false};\n    $scope.init = function() { };\n\n    $scope.addInvite = function() {\n      $scope.invites.push({name: '', email: '', role: 'Editor'});\n    };\n\n    $scope.removeInvite = function(invite) {\n      $scope.invites = _.without($scope.invites, invite);\n    };\n\n    $scope.sendInvites = function() {\n      if (!$scope.inviteForm.$valid) { return; }\n      $scope.sendSingleInvite(0);\n    };\n\n    $scope.sendSingleInvite = function(index) {\n      var invite = $scope.invites[index];\n      invite.skipEmails = $scope.options.skipEmails;\n\n      return backendSrv.post('/api/org/invites', invite).finally(function() {\n        index += 1;\n\n        if (index === $scope.invites.length) {\n          $scope.invitesSent();\n          $scope.dismiss();\n        } else {\n          $scope.sendSingleInvite(index);\n        }\n      });\n    };\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1353:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgApiKeysCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"navModelSrv\", function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.roleTypes = ['Viewer', 'Editor', 'Admin'];\n    $scope.token = { role: 'Viewer' };\n\n    $scope.init = function() {\n      $scope.getTokens();\n    };\n\n    $scope.getTokens = function() {\n      backendSrv.get('/api/auth/keys').then(function(tokens) {\n        $scope.tokens = tokens;\n      });\n    };\n\n    $scope.removeToken = function(id) {\n      backendSrv.delete('/api/auth/keys/'+id).then($scope.getTokens);\n    };\n\n    $scope.addToken = function() {\n      backendSrv.post('/api/auth/keys', $scope.token).then(function(result) {\n\n        var modalScope = $scope.$new(true);\n        modalScope.key = result.key;\n        modalScope.rootPath = window.location.origin + $scope.$root.appSubUrl;\n\n        $scope.appEvent('show-modal', {\n          src: 'public/app/features/org/partials/apikeyModal.html',\n          scope: modalScope\n        });\n\n        $scope.getTokens();\n      });\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1354:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n  __webpack_require__(12),\n], __WEBPACK_AMD_DEFINE_RESULT__ = function (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgDetailsCtrl', [\"$scope\", \"$http\", \"backendSrv\", \"contextSrv\", \"navModelSrv\", function($scope, $http, backendSrv, contextSrv, navModelSrv) {\n\n    $scope.init = function() {\n      $scope.getOrgInfo();\n      $scope.navModel = navModelSrv.getOrgNav(0);\n    };\n\n    $scope.getOrgInfo = function() {\n      backendSrv.get('/api/org').then(function(org) {\n        $scope.org = org;\n        $scope.address = org.address;\n        contextSrv.user.orgName = org.name;\n      });\n    };\n\n    $scope.update = function() {\n      if (!$scope.orgForm.$valid) { return; }\n      var data = {name: $scope.org.name};\n      backendSrv.put('/api/org', data).then($scope.getOrgInfo);\n    };\n\n    $scope.updateAddress = function() {\n      if (!$scope.addressForm.$valid) { return; }\n      backendSrv.put('/api/org/address', $scope.address).then($scope.getOrgInfo);\n    };\n\n    $scope.init();\n\n  }]);\n}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(201)(module)))\n\n/***/ }),\n\n/***/ 1355:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrefsControlCtrl\", function() { return PrefsControlCtrl; });\n/* harmony export (immutable) */ __webpack_exports__[\"prefsControlDirective\"] = prefsControlDirective;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_app_core_config__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_app_core_core_module__ = __webpack_require__(2);\n///<reference path=\"../../headers/common.d.ts\" />\r\n\r\n\r\nvar PrefsControlCtrl = /** @class */ (function () {\r\n    /** @ngInject **/\n    PrefsControlCtrl.$inject = [\"backendSrv\", \"$location\"];\r\n    function PrefsControlCtrl(backendSrv, $location) {\r\n        this.backendSrv = backendSrv;\r\n        this.$location = $location;\r\n        this.timezones = [\r\n            { value: '', text: 'Default' },\r\n            { value: 'browser', text: 'Local browser time' },\r\n            { value: 'utc', text: 'UTC' },\r\n        ];\r\n        this.themes = [\r\n            { value: '', text: 'Default' },\r\n            { value: 'dark', text: 'Dark' },\r\n            { value: 'light', text: 'Light' },\r\n        ];\r\n    }\r\n    PrefsControlCtrl.prototype.$onInit = function () {\r\n        var _this = this;\r\n        return this.backendSrv.get(\"/api/\" + this.mode + \"/preferences\").then(function (prefs) {\r\n            _this.prefs = prefs;\r\n            _this.oldTheme = prefs.theme;\r\n        });\r\n    };\r\n    PrefsControlCtrl.prototype.updatePrefs = function () {\r\n        var _this = this;\r\n        if (!this.prefsForm.$valid) {\r\n            return;\r\n        }\r\n        var cmd = {\r\n            theme: this.prefs.theme,\r\n            timezone: this.prefs.timezone,\r\n            homeDashboardId: this.prefs.homeDashboardId\r\n        };\r\n        this.backendSrv.put(\"/api/\" + this.mode + \"/preferences\", cmd).then(function () {\r\n            window.location.href = __WEBPACK_IMPORTED_MODULE_0_app_core_config__[\"default\"].appSubUrl + _this.$location.path();\r\n        });\r\n    };\r\n    return PrefsControlCtrl;\r\n}());\r\n\r\nvar template = \"\\n<form name=\\\"ctrl.prefsForm\\\" class=\\\"section gf-form-group\\\">\\n  <h3 class=\\\"page-heading\\\">Preferences</h3>\\n\\n  <div class=\\\"gf-form\\\">\\n    <span class=\\\"gf-form-label width-11\\\">UI \\u4E3B\\u9898</span>\\n    <div class=\\\"gf-form-select-wrapper max-width-20\\\">\\n      <select class=\\\"gf-form-input\\\" ng-model=\\\"ctrl.prefs.theme\\\" ng-options=\\\"f.value as f.text for f in ctrl.themes\\\"></select>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form\\\">\\n    <span class=\\\"gf-form-label width-11\\\">\\n      \\u9996\\u9875\\u9762\\u677F\\n      <info-popover mode=\\\"right-normal\\\">\\n        Not finding dashboard you want? Star it first, then it should appear in this select box.\\n      </info-popover>\\n    </span>\\n    <dashboard-selector class=\\\"gf-form-select-wrapper max-width-20\\\" model=\\\"ctrl.prefs.homeDashboardId\\\">\\n    </dashboard-selector>\\n  </div>\\n\\n  <div class=\\\"gf-form\\\">\\n    <label class=\\\"gf-form-label width-11\\\">\\u65F6\\u533A</label>\\n    <div class=\\\"gf-form-select-wrapper max-width-20\\\">\\n      <select class=\\\"gf-form-input\\\" ng-model=\\\"ctrl.prefs.timezone\\\" ng-options=\\\"f.value as f.text for f in ctrl.timezones\\\"></select>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-button-row\\\">\\n    <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" ng-click=\\\"ctrl.updatePrefs()\\\">\\u66F4\\u65B0</button>\\n  </div>\\n</form>\\n\";\r\nfunction prefsControlDirective() {\r\n    return {\r\n        restrict: 'E',\r\n        controller: PrefsControlCtrl,\r\n        bindToController: true,\r\n        controllerAs: 'ctrl',\r\n        template: template,\r\n        scope: {\r\n            mode: \"@\"\r\n        }\r\n    };\r\n}\r\n__WEBPACK_IMPORTED_MODULE_1_app_core_core_module__[\"default\"].directive('prefsControl', prefsControlDirective);\r\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.c38db17e390b79abdff3.js","define([\n  './org_users_ctrl',\n  './profile_ctrl',\n  './org_users_ctrl',\n  './select_org_ctrl',\n  './change_password_ctrl',\n  './newOrgCtrl',\n  './userInviteCtrl',\n  './orgApiKeysCtrl',\n  './orgDetailsCtrl',\n  './prefs_control',\n], function () {});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/all.js\n// module id = 1301\n// module chunks = 1","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\nimport Remarkable from 'remarkable';\n\nexport class OrgUsersCtrl {\n\n  user: any;\n  users: any;\n  pendingInvites: any;\n  editor: any;\n  navModel: any;\n  externalUserMngLinkUrl: string;\n  externalUserMngLinkName: string;\n  externalUserMngInfo: string;\n  addUsersBtnName: string;\n\n  /** @ngInject */\n  constructor(private $scope, private backendSrv, navModelSrv, $sce) {\n    this.user = {\n      loginOrEmail: '',\n      role: 'Viewer',\n    };\n    this.navModel = navModelSrv.getOrgNav(0);\n\n    this.get();\n    this.editor = { index: 0 };\n    this.externalUserMngLinkUrl = config.externalUserMngLinkUrl;\n    this.externalUserMngLinkName = config.externalUserMngLinkName;\n\n    // render external user management info markdown\n    if (config.externalUserMngInfo) {\n      this.externalUserMngInfo = new Remarkable({\n        linkTarget: '__blank',\n      }).render(config.externalUserMngInfo);\n    }\n\n    this.addUsersBtnName = this.getAddUserBtnName();\n  }\n\n  getAddUserBtnName(): string {\n    if (this.externalUserMngLinkName) {\n      return this.externalUserMngLinkName;\n    } else if (config.disableLoginForm) {\n      return \"添加用户\";\n    } else {\n      return \"添加或邀请\";\n    }\n  }\n\n  get() {\n    this.backendSrv.get('/api/org/users')\n      .then((users) => {\n        this.users = users;\n      });\n    this.backendSrv.get('/api/org/invites')\n      .then((pendingInvites) => {\n        this.pendingInvites = pendingInvites;\n      });\n  }\n\n  updateOrgUser(user) {\n    this.backendSrv.patch('/api/org/users/' + user.userId, user);\n  }\n\n  removeUser(user) {\n    this.$scope.appEvent('confirm-modal', {\n      title: 'Delete',\n      text: 'Are you sure you want to delete user ' + user.login + '?',\n      yesText: \"Delete\",\n      icon: \"fa-warning\",\n      onConfirm: () => {\n        this.removeUserConfirmed(user);\n      }\n    });\n  }\n\n  removeUserConfirmed(user) {\n    this.backendSrv.delete('/api/org/users/' + user.userId)\n      .then(this.get.bind(this));\n  }\n\n  revokeInvite(invite, evt) {\n    evt.stopPropagation();\n    this.backendSrv.patch('/api/org/invites/' + invite.code + '/revoke')\n      .then(this.get.bind(this));\n  }\n\n  copyInviteToClipboard(evt) {\n    evt.stopPropagation();\n  }\n\n getInviteUrl(invite) {\n   return invite.url;\n }\n\n openAddUsersView() {\n   var modalScope = this.$scope.$new();\n   modalScope.invitesSent = this.get.bind(this);\n\n   var src = config.disableLoginForm\n     ? 'public/app/features/org/partials/add_user.html'\n     : 'public/app/features/org/partials/invite.html';\n\n     this.$scope.appEvent('show-modal', {\n       src: src,\n       modalClass: 'invite-modal',\n       scope: modalScope\n     });\n }\n\n}\n\ncoreModule.controller('OrgUsersCtrl', OrgUsersCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/org_users_ctrl.ts","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('NewOrgCtrl', function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.newOrg = {name: ''};\n\n    $scope.createOrg = function() {\n      backendSrv.post('/api/orgs/', $scope.newOrg).then(function(result) {\n        backendSrv.post('/api/user/using/' + result.orgId).then(function() {\n          window.location.href = config.appSubUrl + '/org';\n        });\n      });\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/newOrgCtrl.js\n// module id = 1348\n// module chunks = 1","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('SelectOrgCtrl', function($scope, backendSrv, contextSrv) {\n\n    contextSrv.sidemenu = false;\n\n    $scope.init = function() {\n      $scope.getUserOrgs();\n    };\n\n    $scope.getUserOrgs = function() {\n      backendSrv.get('/api/user/orgs').then(function(orgs) {\n        $scope.orgs = orgs;\n      });\n    };\n\n    $scope.setUsingOrg = function(org) {\n      backendSrv.post('/api/user/using/' + org.orgId).then(function() {\n        window.location.href = config.appSubUrl + '/';\n      });\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/select_org_ctrl.js\n// module id = 1349\n// module chunks = 1","define([\n  'angular',\n  'app/core/config',\n],\nfunction (angular, config) {\n  'use strict';\n\n  config = config.default;\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('ChangePasswordCtrl', function($scope, backendSrv, $location, navModelSrv) {\n\n    $scope.command = {};\n    $scope.authProxyEnabled = config.authProxyEnabled;\n    $scope.ldapEnabled = config.ldapEnabled;\n    $scope.navModel = navModelSrv.getProfileNav();\n\n    $scope.changePassword = function() {\n      if (!$scope.userForm.$valid) { return; }\n\n      if ($scope.command.newPassword !== $scope.command.confirmNew) {\n        $scope.appEvent('alert-warning', ['New passwords do not match', '']);\n        return;\n      }\n\n      backendSrv.put('/api/user/password', $scope.command).then(function() {\n        $location.path(\"profile\");\n      });\n    };\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/change_password_ctrl.js\n// module id = 1350\n// module chunks = 1","import config from 'app/core/config';\nimport {coreModule} from 'app/core/core';\n\nexport class ProfileCtrl {\n  user: any;\n  old_theme: any;\n  orgs: any = [];\n  userForm: any;\n  showOrgsList = false;\n  readonlyLoginFields = config.disableLoginForm;\n  navModel: any;\n\n  /** @ngInject **/\n  constructor(private backendSrv, private contextSrv, private $location, navModelSrv) {\n    this.getUser();\n    this.getUserOrgs();\n    this.navModel = navModelSrv.getProfileNav();\n  }\n\n  getUser() {\n    this.backendSrv.get('/api/user').then(user => {\n      this.user = user;\n      this.user.theme = user.theme || 'dark';\n    });\n  }\n\n  getUserOrgs() {\n    this.backendSrv.get('/api/user/orgs').then(orgs => {\n      this.orgs = orgs;\n      this.showOrgsList = orgs.length > 1;\n    });\n  }\n\n  setUsingOrg(org) {\n    this.backendSrv.post('/api/user/using/' + org.orgId).then(() => {\n      window.location.href = config.appSubUrl + '/profile';\n    });\n  }\n\n  update() {\n    if (!this.userForm.$valid) { return; }\n\n    this.backendSrv.put('/api/user/', this.user).then(() => {\n      this.contextSrv.user.name = this.user.name || this.user.login;\n      if (this.old_theme !== this.user.theme) {\n        window.location.href = config.appSubUrl + this.$location.path();\n      }\n    });\n  }\n\n}\n\ncoreModule.controller('ProfileCtrl', ProfileCtrl);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/profile_ctrl.ts","define([\n  'angular',\n  'lodash',\n],\nfunction (angular, _) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('UserInviteCtrl', function($scope, backendSrv) {\n\n    $scope.invites = [\n      {name: '', email: '', role: 'Editor'},\n    ];\n\n    $scope.options = {skipEmails: false};\n    $scope.init = function() { };\n\n    $scope.addInvite = function() {\n      $scope.invites.push({name: '', email: '', role: 'Editor'});\n    };\n\n    $scope.removeInvite = function(invite) {\n      $scope.invites = _.without($scope.invites, invite);\n    };\n\n    $scope.sendInvites = function() {\n      if (!$scope.inviteForm.$valid) { return; }\n      $scope.sendSingleInvite(0);\n    };\n\n    $scope.sendSingleInvite = function(index) {\n      var invite = $scope.invites[index];\n      invite.skipEmails = $scope.options.skipEmails;\n\n      return backendSrv.post('/api/org/invites', invite).finally(function() {\n        index += 1;\n\n        if (index === $scope.invites.length) {\n          $scope.invitesSent();\n          $scope.dismiss();\n        } else {\n          $scope.sendSingleInvite(index);\n        }\n      });\n    };\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/userInviteCtrl.js\n// module id = 1352\n// module chunks = 1","define([\n  'angular',\n],\nfunction (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgApiKeysCtrl', function($scope, $http, backendSrv, navModelSrv) {\n\n    $scope.navModel = navModelSrv.getOrgNav(0);\n    $scope.roleTypes = ['Viewer', 'Editor', 'Admin'];\n    $scope.token = { role: 'Viewer' };\n\n    $scope.init = function() {\n      $scope.getTokens();\n    };\n\n    $scope.getTokens = function() {\n      backendSrv.get('/api/auth/keys').then(function(tokens) {\n        $scope.tokens = tokens;\n      });\n    };\n\n    $scope.removeToken = function(id) {\n      backendSrv.delete('/api/auth/keys/'+id).then($scope.getTokens);\n    };\n\n    $scope.addToken = function() {\n      backendSrv.post('/api/auth/keys', $scope.token).then(function(result) {\n\n        var modalScope = $scope.$new(true);\n        modalScope.key = result.key;\n        modalScope.rootPath = window.location.origin + $scope.$root.appSubUrl;\n\n        $scope.appEvent('show-modal', {\n          src: 'public/app/features/org/partials/apikeyModal.html',\n          scope: modalScope\n        });\n\n        $scope.getTokens();\n      });\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/orgApiKeysCtrl.js\n// module id = 1353\n// module chunks = 1","define([\n  'angular',\n],\nfunction (angular) {\n  'use strict';\n\n  var module = angular.module('grafana.controllers');\n\n  module.controller('OrgDetailsCtrl', function($scope, $http, backendSrv, contextSrv, navModelSrv) {\n\n    $scope.init = function() {\n      $scope.getOrgInfo();\n      $scope.navModel = navModelSrv.getOrgNav(0);\n    };\n\n    $scope.getOrgInfo = function() {\n      backendSrv.get('/api/org').then(function(org) {\n        $scope.org = org;\n        $scope.address = org.address;\n        contextSrv.user.orgName = org.name;\n      });\n    };\n\n    $scope.update = function() {\n      if (!$scope.orgForm.$valid) { return; }\n      var data = {name: $scope.org.name};\n      backendSrv.put('/api/org', data).then($scope.getOrgInfo);\n    };\n\n    $scope.updateAddress = function() {\n      if (!$scope.addressForm.$valid) { return; }\n      backendSrv.put('/api/org/address', $scope.address).then($scope.getOrgInfo);\n    };\n\n    $scope.init();\n\n  });\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/app/features/org/orgDetailsCtrl.js\n// module id = 1354\n// module chunks = 1","///<reference path=\"../../headers/common.d.ts\" />\n\nimport config from 'app/core/config';\nimport coreModule from 'app/core/core_module';\n\nexport class PrefsControlCtrl {\n  prefs: any;\n  oldTheme: any;\n  prefsForm: any;\n  mode: string;\n\n  timezones: any = [\n    {value: '', text: 'Default'},\n    {value: 'browser', text: 'Local browser time'},\n    {value: 'utc', text: 'UTC'},\n  ];\n  themes: any = [\n    {value: '', text: 'Default'},\n    {value: 'dark', text: 'Dark'},\n    {value: 'light', text: 'Light'},\n  ];\n\n  /** @ngInject **/\n  constructor(private backendSrv, private $location) {\n  }\n\n  $onInit() {\n    return this.backendSrv.get(`/api/${this.mode}/preferences`).then(prefs => {\n      this.prefs = prefs;\n      this.oldTheme = prefs.theme;\n    });\n  }\n\n  updatePrefs() {\n    if (!this.prefsForm.$valid) { return; }\n\n    var cmd = {\n      theme: this.prefs.theme,\n      timezone: this.prefs.timezone,\n      homeDashboardId: this.prefs.homeDashboardId\n    };\n\n    this.backendSrv.put(`/api/${this.mode}/preferences`, cmd).then(() => {\n      window.location.href = config.appSubUrl + this.$location.path();\n    });\n  }\n\n}\n\nvar template = `\n<form name=\"ctrl.prefsForm\" class=\"section gf-form-group\">\n  <h3 class=\"page-heading\">Preferences</h3>\n\n  <div class=\"gf-form\">\n    <span class=\"gf-form-label width-11\">UI 主题</span>\n    <div class=\"gf-form-select-wrapper max-width-20\">\n      <select class=\"gf-form-input\" ng-model=\"ctrl.prefs.theme\" ng-options=\"f.value as f.text for f in ctrl.themes\"></select>\n    </div>\n  </div>\n\n  <div class=\"gf-form\">\n    <span class=\"gf-form-label width-11\">\n      首页面板\n      <info-popover mode=\"right-normal\">\n        Not finding dashboard you want? Star it first, then it should appear in this select box.\n      </info-popover>\n    </span>\n    <dashboard-selector class=\"gf-form-select-wrapper max-width-20\" model=\"ctrl.prefs.homeDashboardId\">\n    </dashboard-selector>\n  </div>\n\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-11\">时区</label>\n    <div class=\"gf-form-select-wrapper max-width-20\">\n      <select class=\"gf-form-input\" ng-model=\"ctrl.prefs.timezone\" ng-options=\"f.value as f.text for f in ctrl.timezones\"></select>\n    </div>\n  </div>\n\n  <div class=\"gf-form-button-row\">\n    <button type=\"submit\" class=\"btn btn-success\" ng-click=\"ctrl.updatePrefs()\">更新</button>\n  </div>\n</form>\n`;\n\nexport function prefsControlDirective() {\n  return {\n    restrict: 'E',\n    controller: PrefsControlCtrl,\n    bindToController: true,\n    controllerAs: 'ctrl',\n    template: template,\n    scope: {\n      mode: \"@\"\n    }\n  };\n}\n\ncoreModule.directive('prefsControl', prefsControlDirective);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0!./public/app/features/org/prefs_control.ts"],"sourceRoot":""}