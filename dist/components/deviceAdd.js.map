{"version":3,"sources":["../../src/components/deviceAdd.js"],"names":["moment","baseURL","DeviceAddCtrl","$scope","$http","$location","scope","deviceTip","siteName","siteId","name","monType","seqno","firmware","status","statusModel","productDate1","productDate2","useDate1","useDate2","lastCheckDate1","lastCheckDate2","monTypeModel","comment","http","URL","pageParams","dismiss","siteShow","choose","item","id","absoluteFromChangedproductDate1","time","absoluteFromChangeduseDate1","absoluteFromChangedlastCheckDate1","document","getElementById","value","$","ajax","type","url","data","dataType","success","da","history","go","alert","error","re","console","info","templateUrl"],"mappings":"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","file":"deviceAdd.js","sourcesContent":["import moment from 'moment';\r\nimport {baseURL} from \"./common/constVal\";\r\nexport class DeviceAddCtrl\r\n{\r\n  constructor($scope,$http,$location)\r\n  {\r\n      this.scope=$scope;\r\n      this.scope.deviceTip={\r\n          siteName:'',siteId:'-1',name:'',monType:'',seqno:'',firmware:'',status:'',statusModel:{},productDate1:'',productDate2:'',\r\n          useDate1:'',useDate2:'',lastCheckDate1:'',lastCheckDate2:'',monTypeModel:{},comment:''\r\n      };//提交的参数\r\n\r\n      $scope.http=$http;\r\n      $scope.URL=baseURL+'siteListByPage';\r\n      $scope.pageParams={};\r\n\r\n      $scope.dismiss=function () {\r\n          $scope.siteShow=!$scope.siteShow;\r\n\r\n      };\r\n      $scope.choose=function (item) {\r\n          //console.info(item);\r\n          $scope.deviceTip.siteId=item.id;\r\n          $scope.deviceTip.siteName=item.siteName;\r\n          $scope.siteShow=!$scope.siteShow;\r\n      };\r\n      //选择日期\r\n      $scope.absoluteFromChangedproductDate1=function absoluteFromChangedproductDate1(time)\r\n      {\r\n          $scope.deviceTip.productDate1=moment(time);\r\n          $scope.productDate1=!$scope.productDate1;\r\n      }\r\n      $scope.absoluteFromChangeduseDate1=function absoluteFromChangeduseDate1(time)\r\n      {\r\n          $scope.deviceTip.useDate1=moment(time);\r\n          $scope.useDate1=!$scope.useDate1;\r\n      }\r\n      $scope.absoluteFromChangedlastCheckDate1=function absoluteFromChangedlastCheckDate1(time)\r\n      {\r\n          $scope.deviceTip.lastCheckDate1=moment(time);\r\n          $scope.lastCheckDate1=!$scope.lastCheckDate1;\r\n      }\r\n  }\r\n  save()\r\n  {\r\n      this.scope.deviceTip.productDate1 = document.getElementById(\"i1\").value;\r\n      this.scope.deviceTip.useDate1= document.getElementById(\"i3\").value;\r\n      this.scope.deviceTip.lastCheckDate1= document.getElementById(\"i5\").value;\r\n      this.scope.deviceTip.status=this.scope.deviceTip.statusModel.id?this.scope.deviceTip.statusModel.id:'';\r\n      this.scope.deviceTip.monType=this.scope.deviceTip.monTypeModel.id?this.scope.deviceTip.monTypeModel.id:'';\r\n\r\n      $.ajax({\r\n          type: 'POST',\r\n          url: baseURL+\r\n              'addDevice',\r\n          data: this.scope.deviceTip,\r\n          dataType:'json',\r\n          success:function (da)\r\n          {\r\n              history.go(-1);\r\n              alert('添加成功');\r\n          },\r\n          error:function (re) {\r\n              console.info(re);\r\n          }\r\n      });\r\n  }\r\n}\r\n\r\nDeviceAddCtrl.templateUrl = 'public/plugins/grafana-management/components/deviceAdd.html';\r\n\r\n\r\n\r\n\r\n"]}