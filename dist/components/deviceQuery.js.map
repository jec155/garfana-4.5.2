{"version":3,"sources":["../../src/components/deviceQuery.js"],"names":["angular","moment","inputDateDirective","DeviceQueryCtrl","$scope","$http","$rootScope","http","scope","root","deviceTip","siteName","siteId","name","monType","seqno","firmware","status","productDate1","productDate2","useDate1","useDate2","lastCheckDate1","lastCheckDate2","dismiss","siteShow","choose","item","id","absoluteFromChangedproductDate1","time","absoluteFromChangedproductDate2","absoluteFromChangeduseDate1","absoluteFromChangeduseDate2","absoluteFromChangedlastCheckDate1","absoluteFromChangedlastCheckDate2","siteListURL","myPage","currentPage","totalItems","itemsPerPage","pagesLength","perPageOptions","pageNub","getPageNub","setPageNub","n","parseInt","changeCurrentPage","p","getPagination","prevPage","nextPage","numberOfPages","jumpToPage","jumpPageNum","showError","changeItemsPerPage","url","get","params","then","response","names","data","Math","ceil","pageList","i","push","offset","document","getElementById","value","searchDeviceURL","history","go","templateUrl","module","directive"],"mappings":"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","file":"deviceQuery.js","sourcesContent":["import angular from 'angular';\nimport moment from 'moment';\nexport class DeviceQueryCtrl\n{\n  constructor($scope,$http,$rootScope)\n  {\n      this.http = $http;\n      this.scope = $scope;\n      this.root=$rootScope;\n\n      $scope.deviceTip={\n          siteName:'',siteId:'',name:'',monType:'',seqno:'',firmware:'',status:'',productDate1:'',productDate2:'',\n          useDate1:'',useDate2:'',lastCheckDate1:'',lastCheckDate2:''\n      };//参数\n      //选择站点\n      $scope.dismiss=function () {\n          $scope.siteShow=!$scope.siteShow;\n\n      };\n      $scope.choose=function (item) {\n          //console.info(item);\n          $scope.deviceTip.siteId=item.id;\n          $scope.deviceTip.siteName=item.siteName;\n          $scope.siteShow=!$scope.siteShow;\n      };\n      //选择日期\n      $scope.absoluteFromChangedproductDate1=function absoluteFromChangedproductDate1(time)\n      {\n          $scope.deviceTip.productDate1=moment(time);\n          $scope.productDate1=!$scope.productDate1;\n      }\n      $scope.absoluteFromChangedproductDate2=function absoluteFromChangedproductDate2(time)\n      {\n          $scope.deviceTip.productDate2=moment(time);\n          $scope.productDate2=!$scope.productDate2;\n      }\n      $scope.absoluteFromChangeduseDate1=function absoluteFromChangeduseDate1(time)\n      {\n          $scope.deviceTip.useDate1=moment(time);\n          $scope.useDate1=!$scope.useDate1;\n      }\n      $scope.absoluteFromChangeduseDate2=function absoluteFromChangeduseDate2(time)\n      {\n          $scope.deviceTip.useDate2=moment(time);\n          $scope.useDate2=!$scope.useDate2;\n      }\n      $scope.absoluteFromChangedlastCheckDate1=function absoluteFromChangedlastCheckDate1(time)\n      {\n          $scope.deviceTip.lastCheckDate1=moment(time);\n          $scope.lastCheckDate1=!$scope.lastCheckDate1;\n      }\n      $scope.absoluteFromChangedlastCheckDate2=function absoluteFromChangedlastCheckDate2(time)\n      {\n          $scope.deviceTip.lastCheckDate2=moment(time);\n          $scope.lastCheckDate2=!$scope.lastCheckDate2;\n      }\n\n\n      var scope=$scope;\n      $scope.siteListURL='http://61.164.218.158:8080/AirServer/grafana/siteListByPage';\n      //分页\n      $scope.myPage={\n          currentPage:1,//访问第几页数据，从1开始\n          totalItems:0,//数据库中总共有多少条数据\n          itemsPerPage: 10,//默认每页展示多少条数据，可更改\n          pagesLength: 15,\n          perPageOptions: [10,15,25]//可选择的每页展示多少条数据\n      };\n      var myPage={};\n      myPage.pageNub=1;\n      myPage.getPageNub=function () {\n          return myPage.pageNub;\n      };\n      myPage.setPageNub=function (n) {\n          myPage.pageNub=n;\n      };\n      $scope.myPage.currentPage=myPage.pageNub;\n      // 定义分页的长度必须为奇数 (default:9)\n      $scope.myPage.pagesLength = parseInt(scope.myPage.pagesLength) ? parseInt(scope.myPage.pagesLength) : 9 ;\n      if($scope.myPage.pagesLength % 2 === 0){\n          // 如果不是奇数的时候处理一下\n          scope.myPage.pagesLength = scope.myPage.pagesLength -1;\n      }\n      if(!scope.myPage.perPageOptions){\n          scope.myPage.perPageOptions = [10, 15, 20];\n      }\n      scope.changeCurrentPage = function(p){\n          if(p == '...'){\n              return;\n          }else{\n              scope.myPage.currentPage = p;\n              myPage.setPageNub(scope.myPage.currentPage);\n          }\n          getPagination(scope.siteListURL);\n      };\n      scope.prevPage = function(){\n          if(scope.myPage.currentPage > 1){\n              scope.myPage.currentPage -= 1;\n          }else {\n              scope.myPage.currentPage=1;\n          }\n          myPage.setPageNub(scope.myPage.currentPage);\n          getPagination(scope.siteListURL);\n      };\n      // nextPage\n      scope.nextPage = function(){\n          if(scope.myPage.currentPage < scope.myPage.numberOfPages){\n              scope.myPage.currentPage += 1;\n          }else {\n              scope.myPage.currentPage=scope.myPage.numberOfPages;\n          }\n          myPage.setPageNub(scope.myPage.currentPage);\n          getPagination(scope.siteListURL)\n      };\n\n      // 跳转页\n      scope.jumpToPage = function(){\n          if(scope.myPage.jumpPageNum>0 || scope.myPage.jumpPageNum<=scope.myPage.numberOfPages){\n              scope.myPage.currentPage=scope.myPage.jumpPageNum;\n              myPage.setPageNub(scope.myPage.currentPage);\n              getPagination(scope.siteListURL);\n              //scope.myPage.jumpPageNum='';\n          }else {\n              scope.myPage.showError=true;\n          }\n      };\n      // 修改每页显示的条数\n      scope.changeItemsPerPage = function(){\n          getPagination(scope.siteListURL);\n      };\n      getPagination(scope.siteListURL);\n\n      function getPagination(url){\n          $http.get(url\n              ,{params:{\"page\":1,\"limit\":20}}).then(\n              function (response)\n              {\n                  scope.names=response.data.data;\n\n                  scope.myPage.totalItems=response.data.totalItems;//当获取总数据后，修改默认值\n                  scope.myPage.currentPage = parseInt(myPage.pageNub);\n                  // pg.totalItems\n                  scope.myPage.totalItems = parseInt(scope.myPage.totalItems);\n\n                  // numberOfPages,总共分多少页\n                  scope.myPage.numberOfPages = Math.ceil(scope.myPage.totalItems/scope.myPage.itemsPerPage);\n                  //console.info(scope.myPage.totalItems);\n                  // judge currentPage > scope.numberOfPages\n                  if(scope.myPage.currentPage < 1){\n                      scope.myPage.currentPage = 1;\n                  }\n\n                  if(scope.myPage.currentPage > scope.myPage.numberOfPages){\n                      scope.myPage.currentPage = scope.myPage.numberOfPages;\n                  }\n\n                  scope.pageList = [];\n                  var i;\n                  if(scope.myPage.numberOfPages <= scope.myPage.pagesLength){\n                      // 判断总页数如果小于等于分页的长度，若小于则直接显示\n                      for(i =1; i <= scope.myPage.numberOfPages; i++){\n                          scope.pageList.push(i);\n                      }\n                  }else{\n                      // 总页数大于分页长度（此时分为三种情况：1.左边没有...2.右边没有...3.左右都有...）\n                      // 计算中心偏移量\n                      var offset = (scope.myPage.pagesLength - 1)/2;\n                      if(scope.myPage.currentPage <= offset){\n                          // 左边没有...\n                          for(i =1; i <= offset +1; i++){\n                              scope.pageList.push(i);\n                          }\n                          scope.pageList.push('...');\n                          scope.pageList.push(scope.myPage.numberOfPages);\n                          //    >实际总页数-每页的一半\n                      }else if(scope.myPage.currentPage > scope.myPage.numberOfPages - offset){\n                          scope.pageList.push(1);\n                          scope.pageList.push('...');\n                          for(i = offset + 1; i >= 1; i--){\n                              scope.pageList.push(scope.myPage.numberOfPages - i);\n                          }\n                          scope.pageList.push(scope.myPage.numberOfPages);\n                      }else{\n                          // 最后一种情况，两边都有...\n                          scope.pageList.push(1);\n                          scope.pageList.push('...');\n\n                          for(i = Math.ceil(offset/2) ; i >= 1; i--){\n                              scope.pageList.push(scope.myPage.currentPage - i);\n                          }\n                          scope.pageList.push(scope.myPage.currentPage);\n                          for(i = 1; i <= offset/2; i++){\n                              scope.pageList.push(scope.myPage.currentPage + i);\n                          }\n\n                          scope.pageList.push('...');\n                          scope.pageList.push(scope.myPage.numberOfPages);\n                      }\n                  }\n              }\n          )\n      }\n\n  }\n\n  query()\n  {\n      this.scope.deviceTip.productDate1 = document.getElementById(\"i1\").value;\n      this.scope.deviceTip.productDate2 = document.getElementById(\"i2\").value;\n      this.scope.deviceTip.useDate1= document.getElementById(\"i3\").value;\n      this.scope.deviceTip.useDate2= document.getElementById(\"i4\").value;\n      this.scope.deviceTip.lastCheckDate1= document.getElementById(\"i5\").value;\n      this.scope.deviceTip.lastCheckDate2= document.getElementById(\"i6\").value;\n      this.root.deviceTip=this.scope.deviceTip;\n      this.root.searchDeviceURL=//'http://61.164.218.158:8080/AirServer/grafana/searchDevices';\n          'http://127.0.0.1:8080/grafana/searchDevices';\n\n      history.go(-1);\n  }\n}\nDeviceQueryCtrl.templateUrl = 'public/plugins/grafana-example-app/components/deviceQuery.html';\nimport {inputDateDirective} from './input_date';\nangular.module(\"grafana.directives\").directive('inputDatetime', inputDateDirective);\n\n\n"]}