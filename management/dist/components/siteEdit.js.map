{"version":3,"sources":["../../src/components/siteEdit.js"],"names":["baseURL","SiteEditCtrl","$scope","$http","$location","$rootScope","http","scope","location","siteModel","siteMonTypeMap","siteTypeMap","statusMap","areaTypeMap","pageParams","URL","dismiss","showCityList","choose","item","cityId","id","cityName","$","ajax","type","url","data","dataType","success","da","history","go","alert","error","re","console","info","templateUrl"],"mappings":";;;;;;;;;;;;;;;AAAQA,mB,mBAAAA,O;;;;;;;;;;;;;;;;;;;;;oCACKC,Y;AAEX,sCAAYC,MAAZ,EAAmBC,KAAnB,EAAyBC,SAAzB,EAAmCC,UAAnC,EACA;AAAA;;AACI,yBAAKC,IAAL,GAAUH,KAAV;AACA,yBAAKI,KAAL,GAAWL,MAAX;AACA,yBAAKM,QAAL,GAAcJ,SAAd;AACAF,2BAAOO,SAAP,GAAiBJ,WAAWI,SAA5B;AACA;AACAP,2BAAOQ,cAAP,GAAwB;AAClB,6BAAM,MADY;AAElB,6BAAM,UAFY;AAGlB,6BAAM,OAHY;AAIlB,6BAAM,MAJY;AAKlB,6BAAM,SALY;AAMlB,6BAAM;AANY,qBAAxB;AAQER,2BAAOS,WAAP,GAAqB;AACjB,kCAAW,MADM;AAEjB,mCAAY;AAFK,qBAArB;AAIAT,2BAAOU,SAAP,GAAmB;AACf,uCAAgB,IADD;AAEf,wCAAiB,IAFF;AAGf,sCAAe;AAHA,qBAAnB;AAKAV,2BAAOW,WAAP,GAAqB;AACjB,+BAAQ;AADS,qBAArB;;AAIFX,2BAAOY,UAAP,GAAkB,EAAlB;AACAZ,2BAAOI,IAAP,GAAYH,KAAZ;AACAD,2BAAOa,GAAP,GAAW,6DAAX;;AAEAb,2BAAOc,OAAP,GAAe,YAAY;AACvBd,+BAAOe,YAAP,GAAoB,CAACf,OAAOe,YAA5B;AAEH,qBAHD;AAIAf,2BAAOgB,MAAP,GAAc,UAAUC,IAAV,EAAgB;AAC1B;AACAjB,+BAAOO,SAAP,CAAiBW,MAAjB,GAAwBD,KAAKE,EAA7B;AACAnB,+BAAOO,SAAP,CAAiBa,QAAjB,GAA0BH,KAAKG,QAA/B;AACApB,+BAAOe,YAAP,GAAoB,CAACf,OAAOe,YAA5B;AACH,qBALD;AAOH;;;;6CAED;AACI;AACAM,0BAAEC,IAAF,CAAO;AACHC,kCAAM,KADH;AAEHC,iCAAK1B,UAAQ,UAFV;AAGC;AACJ2B,kCAAM,KAAKpB,KAAL,CAAWE,SAJd;AAKHmB,sCAAS,MALN;AAMHC,qCAAQ,iBAAUC,EAAV,EACR;AACI;AACAC,wCAAQC,EAAR,CAAW,CAAC,CAAZ;AACAC,sCAAM,MAAN;AACH,6BAXE;AAYHC,mCAAM,eAAUC,EAAV,EAAc;AAChBC,wCAAQC,IAAR,CAAaF,EAAb;AACH;AAdE,yBAAP;AAgBH;;;;;;;;AAEHlC,yBAAaqC,WAAb,GAA2B,4DAA3B","file":"siteEdit.js","sourcesContent":["import {baseURL} from \"./common/constVal\";\nexport class SiteEditCtrl\n{\n  constructor($scope,$http,$location,$rootScope)\n  {\n      this.http=$http;\n      this.scope=$scope;\n      this.location=$location;\n      $scope.siteModel=$rootScope.siteModel;\n      //$scope.siteModel.autoUpd=0;\n      $scope.siteMonTypeMap = {\n            \"1\" : \"空气质量\",\n            \"2\" : \"空气污染重点企业\",\n            \"3\" : \"饮用水水质\",\n            \"4\" : \"污水水质\",\n            \"5\" : \"水污染重点企业\",\n            \"6\" : \"主要流域重点断面水质\"\n        }\n        $scope.siteTypeMap = {\n            \"PUBLIC\" : \"公有站点\",\n            \"PRIVATE\" : \"私有站点\"\n        }\n        $scope.statusMap = {\n            \"SITE_NORMAL\" : \"正常\",\n            \"SITE_DISABLE\" : \"停用\",\n            \"SITE_ERROR\" : \"异常\"\n        }\n        $scope.areaTypeMap = {\n            \"TWO\" : \"适用于居住、商业、工业混杂区\"\n        }\n\n      $scope.pageParams={};\n      $scope.http=$http;\n      $scope.URL='http://61.164.218.158:8080/AirServer/grafana/cityListByPage';\n\n      $scope.dismiss=function () {\n          $scope.showCityList=!$scope.showCityList;\n\n      };\n      $scope.choose=function (item) {\n          //console.info(item);\n          $scope.siteModel.cityId=item.id;\n          $scope.siteModel.cityName=item.cityName;\n          $scope.showCityList=!$scope.showCityList;\n      };\n\n  }\n  update()\n  {\n      //console.info(this.scope.siteModel)\n      $.ajax({\n          type: 'GET',\n          url: baseURL+'editSite',\n              //'http://127.0.0.1:8080/grafana/editCity',\n          data: this.scope.siteModel,\n          dataType:'json',\n          success:function (da)\n          {\n              //loc.path('plugins/grafana-example-app/page/live-stream');\n              history.go(-1);\n              alert('编辑成功');\n          },\n          error:function (re) {\n              console.info(re);\n          }\n      });\n  }\n}\nSiteEditCtrl.templateUrl = 'public/plugins/grafana-management/components/siteEdit.html';\n\n\n"]}