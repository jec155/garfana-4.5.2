
<div class="page-header">
	<h1>编辑设备</h1>
</div>
<form nam="form" class="gf-form-group" novalidate>
	<div class="gf-form">
		<span class="gf-form-label width-10">名称*</span>
		<input name="deviceName" type="text" ng-model="deviceTip.name" class="gf-form-input max-width-20" >
		<span class="gf-form-label width-10" ng-show=" !deviceTip.name" style="color: red">设备名必填</span>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">设备监测类型*</span>
		<select id="monType" type="text" ng-model="deviceTip.monType" class="gf-form-input width-10"
				ng-options="f.id as f.name for f in [{id:'MULTI',name:'多功能'},{id:'AIR',name: '空气质量'},{id:'SOUND',name: '噪声'},{id:'WATER',name: '水环境'}]">

		</select>
		<span class="gf-form-label width-10" ng-show=" !deviceTip.monType" style="color: red">类型必选</span>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">状态*</span>
		<select type="text" ng-model="deviceTip.status" class="gf-form-input width-10"
				ng-options="f.id as f.name for f in [{id:'NORMAL',name:'正常'}, {id:'STOP',name:'停用'},{id:'EXCEPTION',name: '异常'}]"></select>
		<span class="gf-form-label width-10" ng-show=" !deviceTip.status" style="color: red">状态必选</span>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">经度*</span>
		<input name="deviceName" type="number" ng-model="deviceTip.longitude" class="gf-form-input max-width-20" >
		<span class="gf-form-label width-10" ng-show=" !deviceTip.longitude" style="color: red">必填</span>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">纬度*</span>
		<input name="deviceName" type="number" ng-model="deviceTip.latitude" class="gf-form-input max-width-20" >
		<span class="gf-form-label width-10" ng-show=" !deviceTip.latitude" style="color: red">必填</span>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">所属站点</span>
		<input type="text" required ng-model="deviceTip.siteName" ng-focus="siteShow=!siteShow"
			   class="gf-form-input max-width-20" >
	</div>
	<div ng-if="siteShow"  name="sitelist" style="border: solid;border-width: 1px; border-color: #333;width: 55%;height:250px;
		overflow-x: scroll;overflow-y: scroll;padding: 10px">
		<div class="modal-header">
			<h2 class="modal-header-title">
				<span class="p-l-1">选择站点</span>
			</h2>
			<a class="modal-header-close" ng-click="dismiss()">
				<i class="fa fa-remove"></i>
			</a>
		</div>
		<div class="gf-form-inline">
			<div class="gf-form"><input class="gf-form-input width-20"></div>
			<div class="gf-form"><img src="public/plugins/grafana-management/components/img/search.png" ></div>
		</div>
		<table >
			<tr>
				<th  class="pointer" data-stat="min">代码</th>
				<th  class="pointer" data-stat="max">名称</th>
				<th  class="pointer" data-stat="max">类型</th>
				<th  class="pointer" data-stat="max">站点监测类型</th>
				<th  class="pointer" data-stat="max">省(直辖市)</th>
				<th  class="pointer" data-stat="max">城市</th>
				<th  class="pointer" data-stat="max">管理机构</th>
				<th  class="pointer" data-stat="max">责任人</th>
				<th  class="pointer" data-stat="max">状态</th>
				<th  class="pointer" data-stat="max">设立时间</th>
			</tr>
			<tr ng-repeat="x in names" style="cursor: pointer;" ng-click="choose(x)" onmouseover="this.style.color='#999'"
				onmouseout="this.style.color='#333'">
				<td>{{ $index + 1 }}</td>
				<td>{{ x.siteCode }}</td>
				<td>{{ x.siteName }}</td>
				<td>{{ siteTypeMap[x.siteType] }}</td>
				<td>{{ siteMonTypeMap[x.siteMonType] }}</td>
				<td>{{ x.province }}</td>
				<td>{{ x.cityName }}</td>
				<td>{{ x.managerment }}</td>
				<td>{{ x.realName }}</td>
				<td>{{ statusMap[x.status] }}</td>
				<td>{{ x.siteCreateTime }}</td>
			</tr>
		</table>
		<pager></pager>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">序列号</span>
		<input type="text" required ng-model="deviceTip.seqno" class="gf-form-input max-width-20" >
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">固件版本</span>
		<input type="text" required ng-model="deviceTip.firmware" class="gf-form-input max-width-20" >
	</div>

	<div class="gf-form">
		<span class="gf-form-label width-10">生产日期</span>
		<input id="i1"  type="text" required ng-model="deviceTip.productDate1"
			   ng-focus="productDate1=!productDate1" class="gf-form-input max-width-20" input-datetime>
	</div>
	<div class="gf-form" ng-if="productDate1">
		<datepicker ng-model="deviceTip.productDate1" class="gf-timepicker-component"
					show-weeks="false"  ng-change="absoluteFromChangedproductDate1(deviceTip.productDate1)">
		</datepicker>
	</div>

	<div class="gf-form">
		<span class="gf-form-label width-10">启用日期</span>
		<input id="i3"  type="text" required ng-model="deviceTip.useDate1"
			   ng-focus="useDate1=!useDate1" class="gf-form-input max-width-20" input-datetime>
	</div>
	<div class="gf-form" ng-if="useDate1">
		<datepicker ng-model="deviceTip.useDate1" class="gf-timepicker-component"
					show-weeks="false" starting-day="ctrl.firstDayOfWeek"
					ng-change="absoluteFromChangeduseDate1(deviceTip.useDate1)">
		</datepicker>
	</div>

	<div class="gf-form">
		<span class="gf-form-label width-10">上次检测时间</span>
		<input id="i5"  type="text" required ng-model="deviceTip.lastCheckDate1"
			   ng-focus="lastCheckDate1=!lastCheckDate1" class="gf-form-input max-width-20" input-datetime>
	</div>
	<div class="gf-form" ng-if="lastCheckDate1">
		<datepicker ng-model="deviceTip.lastCheckDate1" class="gf-timepicker-component"
					show-weeks="false" starting-day="ctrl.firstDayOfWeek"
					ng-change="absoluteFromChangedlastCheckDate1(deviceTip.lastCheckDate1)">
		</datepicker>
	</div>
	<div class="gf-form">
		<span class="gf-form-label width-10">备注</span>
		<input   type="text" required ng-model="deviceTip.comment"  class="gf-form-input max-width-20" >
	</div>
	<div class="gf-form-button-row">
		<button type="submit" class="btn btn-success" ng-disabled="!deviceTip.name||!deviceTip.monType||!deviceTip.status
		||!deviceTip.longitude||!deviceTip.latitude" ng-click="ctrl.save()">提交</button>
	</div>
</form>





